try{window.performance.mark("@atlaskit-media-client.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-media-client"],{"./node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("./node_modules/rxjs/ReplaySubject.js"),i=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class u{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new o.ReplaySubject(1),i=s({id:e},t),a=Object(r.h)({data:i});return n.next(a),n}populateCache(e){e.forEach((e=>{const t=this.createFileStateObserver(e.id,e.details);Object(i.b)().set(e.id,t)}))}removeFromCache(e,t){const n=l[t].items.findIndex((t=>t.id===e));-1!==n&&(Object(i.b)().remove(e),l[t].items.splice(n,1))}getItems(e,t){l[e]||(l[e]=(()=>({items:[],subject:new o.ReplaySubject(1),isLoadingNextPage:!1}))());const n=l[e],i=n.subject;return this.mediaStore.getCollectionItems(e,s(s({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:o}=e.data
;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=o,i.next(n.items)})).catch((e=>i.error(e))),i}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const o=l[t];o.subject.next(o.items)}async loadNextPage(e,t){const n=l[e],o=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||o)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:i,items:r,subject:a}=l[e],c=await this.mediaStore.getCollectionItems(e,s(s({},t),{},{inclusiveStartKey:i,details:"full"})),{contents:u,nextInclusiveStartKey:d}=c.data;this.populateCache(u);const p=[...r,...c.data.contents];a.next(p),l[e]={items:p,nextInclusiveStartKey:d,subject:a,isLoadingNextPage:!1}}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(o),r=n("./node_modules/rxjs/Subscription.js"),a=n("./node_modules/rxjs/observable/of.js"),s=n("./node_modules/rxjs/operators/map.js"),c=n("./node_modules/rxjs/operators/concatMap.js"),l=n("./node_modules/uuid/v4.js"),u=n.n(l),d=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),p=n("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js"),m=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),f=n("./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),h=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js"),b=n("./node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),y=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),g=n("./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),v=n("./node_modules/uuid-validate/index.js"),j=n.n(v),w=n("./node_modules/dataloader/index.js"),x=n.n(w)
;const O=(e,t)=>t?`${e}-${t}`:e,_=(e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:o}=t;return e[O(n,o)]=(e=>e.error instanceof Error)(t)?t.error:t.details,e}),{});return e.map((e=>{const{id:t,collectionName:o}=e,i=O(t,o);return n[i]||null}))};function S(e){return new x.a(function(e){return async t=>{const n="__media-single-file-collection__",o=t.reduce(((e,t)=>{const o=t.collectionName||n,i=e[o]||[];return-1===i.indexOf(t.id)&&i.push(t.id),e[o]=i,e}),{}),i=[];return await Promise.all(Object.keys(o).map((async t=>{const r=o[t],a=t===n?void 0:t;try{const t=await e.getItems(r,a);i.push(...t.data.items)}catch(s){r.forEach((e=>{i.push({id:e,collection:a,error:s})}))}}))),_(t,i)}}(e),{maxBatchSize:100})}var P=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js");const k=(e,t)=>Object(f.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}
;var I=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js"),F=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js"),E=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js"),T=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),A=n("./node_modules/rxjs/observable/from.js"),C=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js"),U=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js");async function M(e,t,n){if(("doc"===e||!Object(T.d)(t)||!n)&&Object(C.d)(t))return!0;if("video"===e&&n){const e=(await n).value;if(!(e instanceof Blob))return!1;const{width:t,height:o}=await Object(U.a)(e);return!t&&!o}return!1}var R=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/index.js"),L=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js")
;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N{constructor(e){i()(this,"createDownloadFileStream",((e,t,n)=>{const o=Object(E.a)(),{featureFlags:i}=this.mediaStore,r={poll_intervalMs:Object(L.a)("poll_intervalMs",i),poll_maxAttempts:Object(L.a)("poll_maxAttempts",i),poll_backoffFactor:Object(L.a)("poll_backoffFactor",i),
poll_maxIntervalMs:Object(L.a)("poll_maxIntervalMs",i),poll_maxGlobalFailures:Object(L.a)("poll_maxGlobalFailures",i)},a=new R.a(r);return a.onError=e=>o.error(e),a.execute((async()=>{const i=await this.dataloader.load({id:e,collectionName:t});if(!i)throw new h.b("invalidFileId",e,{collectionName:t,occurrenceKey:n});const r=Object(f.i)(e,i);switch(o.next(r),r.status){case"processing":a.next();break;case"processed":o.complete()}})),o})),this.mediaStore=e,this.dataloader=S(e)}getFileState(e,t={}){const{collectionName:n,occurrenceKey:o}=t;if(!j()(e)){const t=Object(E.a)();return t.error(new h.b("invalidFileId",e,{collectionName:n,occurrenceKey:o})),t}return Object(y.b)().getOrInsert(e,(()=>this.createDownloadFileStream(e,n)))}getCurrentState(e,t){return Object(I.a)(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){return this.mediaStore.touchFiles({descriptors:e},{
collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){const t=u()(),n=u()(),o={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([o],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:o,occurrenceKey:i}=n,r=Object(E.a)(),a=fetch(e).then((e=>e.blob())).catch((()=>{})),s=new Promise((async(e,t)=>{const n=await a;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:i,preview:s};return r.next(l),Object(y.b)().set(o,r),new Promise((async(e,l)=>{const u=await a;if(!u)return l("Could not download remote file");const{type:d,size:p}=u,m={content:u,mimeType:d,collection:t,name:c},f=Object(P.a)(d);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:d,id:o,occurrenceKey:i,preview:s}),this.upload(m,void 0,n);e({
dimensions:await Object(F.a)(f,u),uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),o=[];for(let i=0;i<n.length;i+=512){const e=n.slice(i,i+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);o.push(r)}return new Blob(o,{type:"image/jpeg"})})(e.content));const{content:o,name:i="",collection:l}=e;n||(n=this.generateUploadableFileUpfrontIds(l));const u=n.id,d=n.occurrenceKey;let p,m="",f=0;const h=(e=>{if(e.content instanceof Blob){const t=e.content.type;return Object(P.a)(t)}return"unknown"})(e),g=Object(E.a)(),v=new r.Subscription;o instanceof Blob&&(f=o.size,m=o.type,Object(T.d)(o.type)&&(p={value:o,origin:"local"}));const j={id:u,occurrenceKey:d,name:i,size:f,mediaType:h,mimeType:m,preview:p},w=e=>{g.next(z(z({status:"uploading"},j),{},{progress:e}))},{cancel:x}=Object(b.a)(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;return g.next({
id:u,status:"error",message:t})}return g.error(e)}v.add(function(e,t,n){return Object(A.from)(M(e,t,n))}(h,m,p).pipe(Object(c.concatMap)((e=>e?this.createDownloadFileStream(u,l,d).pipe(Object(s.map)((e=>z(z(z({},j),e),k(e,h))))):Object(a.of)(z({status:"processing",representations:{}},j))))).subscribe(g))},onProgress:w});return Object(y.b)().set(u,g),setTimeout((()=>{w(0)}),0),t&&t.setAbort((()=>{x(),v.unsubscribe()})),g}async downloadBinary(e,t="download",n){const o=await this.mediaStore.getFileBinaryURL(e,n);Object(p.a)(o,{name:t}),g.a.emit("media-viewed",{fileId:e,isUserCollection:"recents"===n,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:o,collection:i,id:r}=e,{authProvider:a,collection:s,replaceFileId:c,occurrenceKey:l}=t,{preview:u,mimeType:p}=n,h=t.mediaStore||new m.a({authProvider:a}),b={sourceFile:{id:r,collection:i,owner:Object(d.authToOwner)(await o({collectionName:i}))}},g={collection:s,replaceFileId:c,occurrenceKey:l},v=Object(y.b)();let j;try{
const{data:e}=await h.copyFileWithToken(b,g),t=z(z({},e),p?{mimeType:p}:void 0),{id:n,mimeType:o}=t,i=o?Object(P.a)(o):"unknown",r=Object(f.h)({data:t}),a=v.get(n)||Object(E.a)(),c=!Object(f.a)(r)&&u?{preview:u}:{};return!Object(f.b)(r)&&o&&await M(i,o,u)?(a.next(z(z(z({},r),k(r,i)),c)),j=this.createDownloadFileStream(n,s,l).subscribe({next:e=>a.next(z(z(z({},e),k(e,i)),!Object(f.a)(e)&&c)),error:e=>a.error(e),complete:()=>a.complete()})):Object(f.f)(r)||a.next(z(z({},r),!Object(f.a)(r)&&c)),v.has(n)||Object(y.b)().set(n,a),e}catch(w){if(j&&j.unsubscribe(),c){const e={id:r,status:"error",message:`error copying file to ${s}`},t=v.get(c);t?t.next(e):v.set(r,Object(E.a)(e))}throw w}}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}))
;var o=n("./node_modules/eventemitter2/lib/eventemitter2.js"),i=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js");class c{constructor(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new i.a({authProvider:e.authProvider},t),this.config=e,this.collection=new r.a(this.mediaStore),this.file=new a.a(this.mediaStore),this.eventEmitter=new o.EventEmitter2,this.stargate=new s.a(e.stargateBaseUrl)}getImage(e,t,n,o){return this.mediaStore.getImage(e,t,n,o)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){
return this.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/constants.js"),i=n("./node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/index.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={"max-age":o.a,allowAnimated:!0,mode:"crop"},p={limit:30,sortDirection:"desc"},m=(e,t=!1)=>l(l(l({},d),e),t?{width:4096,height:4096}:{}),f={Accept:"application/json","Content-Type":"application/json"};class h{constructor(e,t){this.config=e,this.featureFlags=t}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:l(l({},p),t),headers:{Accept:"application/json"}}),{data:{contents:o,nextInclusiveStartKey:i}}=await Object(a.e)(n);return{data:{contents:o.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:i}}}async removeCollectionFile(e,t,n){const o={actions:[{action:"remove",
item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(a.e)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(a.f)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:f}).then(a.e)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:f}).then(a.e)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:f,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(a.e)}
getFile(e,t={}){return this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(a.e)}async getFileImageURL(e,t){const n=await this.config.authProvider();return Object(a.a)(`${n.baseUrl}/file/${e}/image`,{params:m(t),auth:n})}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return Object(a.a)(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":o.a},auth:n})}async getArtifactURL(e,t,n){const r=Object(i.a)(e,t);if(!r)throw new Error(`artifact ${t} not found`);const s=await this.config.authProvider({collectionName:n});return Object(a.a)(`${s.baseUrl}${r}`,{params:{collection:n,"max-age":o.a},auth:s})}async getImage(e,t,n,o){let i;return this.request(`/file/${e}/image`,{headers:i,params:m(t,o),authContext:{collectionName:t&&t.collection}},n).then(a.d)}async getItems(e,t){const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),
headers:f,authContext:{collectionName:t}}).then(a.e)}async getImageMetadata(e,t){return this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(a.e)}appendChunksToUpload(e,t,n){return this.request(`/upload/${e}/chunks`,{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:f}).then(a.f)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:f,params:t}).then(a.e)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:o}=this.config,{method:i,authContext:a,params:c,headers:l,body:u,clientOptions:d}=t;let p;try{p=await o(a)}catch(f){throw new s.c("failedAuthProvider",f)}const m=await Object(r.a)(`${p.baseUrl}${e}`,{method:i,auth:p,params:c,headers:l,body:u,clientOptions:d},n);return function(e){if(!e||!window||!window.sessionStorage)return
;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(m.headers.get("x-media-region")),m}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}},"./node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const o="recents",i=2592e3,r=4096},"./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));class o{constructor(e){
this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let i;const r=()=>{if(!i){const e=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;i=new o(e.streams)}return i}},"./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");const i={on(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.on(e,t)},off(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.off(e,t)},emit(e,t){if(o.mediaState.eventEmitter)return o.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/es2019/identifier.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),
n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("./node_modules/deep-equal/index.js"),i=n.n(o);const r=e=>"file"===e.mediaItemType,a=e=>"external-image"===e.mediaItemType,s=(e,t)=>r(e)&&r(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!i()(e,t)},"./node_modules/@atlaskit/media-client/dist/es2019/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MediaStore",(function(){return o.a})),n.d(t,"UploadController",(function(){return i.a})),n.d(t,"isPreviewableType",(function(){return r.b})),n.d(t,"isMediaCollectionItemFullDetails",(function(){return r.a})),n.d(t,"getArtifactUrl",(function(){return a.a})),n.d(t,"BaseMediaClientError",(function(){return s.a})),n.d(t,"FileFetcherError",(function(){return s.b})),n.d(t,"isFileFetcherError",(function(){return s.d})),n.d(t,"MediaStoreError",(function(){return s.c})),n.d(t,"isMediaStoreError",(function(){return s.e})),n.d(t,"isUploadingFileState",(function(){return c.g})),
n.d(t,"isProcessingFileState",(function(){return c.f})),n.d(t,"isProcessedFileState",(function(){return c.e})),n.d(t,"isErrorFileState",(function(){return c.a})),n.d(t,"isPreviewableFileState",(function(){return c.d})),n.d(t,"isFinalFileState",(function(){return c.b})),n.d(t,"isImageRepresentationReady",(function(){return c.c})),n.d(t,"mapMediaFileToFileState",(function(){return c.h})),n.d(t,"mapMediaItemToFileState",(function(){return c.i})),n.d(t,"getFileStreamsCache",(function(){return l.b})),n.d(t,"StreamsCache",(function(){return l.a})),n.d(t,"uploadFile",(function(){return u.a})),n.d(t,"request",(function(){return d.a})),n.d(t,"isRequestError",(function(){return p.d})),n.d(t,"RequestError",(function(){return p.a})),n.d(t,"isRateLimitedError",(function(){return p.c})),n.d(t,"getErrorName",(function(){return p.b})),n.d(t,"isAbortedRequestError",(function(){return m.c})),n.d(t,"mapResponseToJson",(function(){return m.e})),n.d(t,"mapResponseToBlob",(function(){return m.d})),
n.d(t,"mapResponseToVoid",(function(){return m.f})),n.d(t,"createUrl",(function(){return m.a})),n.d(t,"PollingFunction",(function(){return f.a})),n.d(t,"isPollingError",(function(){return h.b})),n.d(t,"PollingError",(function(){return h.a})),n.d(t,"FileFetcherImpl",(function(){return b.a})),n.d(t,"CollectionFetcher",(function(){return y.a})),n.d(t,"MediaClient",(function(){return g.a})),n.d(t,"StargateClient",(function(){return v.a})),n.d(t,"isImageRemote",(function(){return j})),n.d(t,"checkWebpSupport",(function(){return x})),n.d(t,"observableToPromise",(function(){return O.a})),n.d(t,"getMediaTypeFromMimeType",(function(){return _.a})),n.d(t,"getDimensionsFromBlob",(function(){return S.a})),n.d(t,"isImageMimeTypeSupportedByBrowser",(function(){return P.c})),n.d(t,"isDocumentMimeTypeSupportedByBrowser",(function(){return P.b})),n.d(t,"isMimeTypeSupportedByBrowser",(function(){return P.d})),n.d(t,"isImageMimeTypeSupportedByServer",(function(){return k.c})),
n.d(t,"isDocumentMimeTypeSupportedByServer",(function(){return k.b})),n.d(t,"isAudioMimeTypeSupportedByServer",(function(){return k.a})),n.d(t,"isVideoMimeTypeSupportedByServer",(function(){return k.f})),n.d(t,"isUnknownMimeTypeSupportedByServer",(function(){return k.e})),n.d(t,"isMimeTypeSupportedByServer",(function(){return k.d})),n.d(t,"createFileStateSubject",(function(){return I.a})),n.d(t,"safeUnsubscribe",(function(){return F})),n.d(t,"isFileIdentifier",(function(){return E.c})),n.d(t,"isExternalImageIdentifier",(function(){return E.b})),n.d(t,"isDifferentIdentifier",(function(){return E.a})),n.d(t,"withMediaClient",(function(){return T.b})),n.d(t,"getMediaClient",(function(){return T.a})),n.d(t,"globalMediaEventEmitter",(function(){return A.a})),n.d(t,"isMediaBlobUrl",(function(){return C.c})),n.d(t,"getAttrsFromUrl",(function(){return C.b})),n.d(t,"addFileAttrsToUrl",(function(){return C.a})),n.d(t,"objectToQueryString",(function(){return C.d})),
n.d(t,"RECENTS_COLLECTION",(function(){return U.c})),n.d(t,"MAX_RESOLUTION",(function(){return U.b}))
;var o=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),i=n("./node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/models/media.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js"),c=n("./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),l=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),u=n("./node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),d=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/index.js"),p=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/errors.js"),m=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js"),f=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/index.js"),h=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/errors.js"),b=n("./node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),y=n("./node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),g=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js"),v=n("./node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js")
;const j=(e,t=window.location.origin)=>{if(URL&&URL.prototype){const n=new URL(e);return!!n.host&&n.origin!==t}return!0};let w;const x=()=>void 0!==w?Promise.resolve(w):new Promise((e=>{const t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=()=>{w=2===t.height,e(w)}}));var O=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js"),_=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js"),S=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js"),P=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),k=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js"),I=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js");const F=e=>{
console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((()=>e&&e.unsubscribe()),0)};var E=n("./node_modules/@atlaskit/media-client/dist/es2019/identifier.js"),T=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/with-media-client-hoc.js"),A=n("./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),C=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js"),U=n("./node_modules/@atlaskit/media-client/dist/es2019/constants.js")},"./node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>{const n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s}))
;class o extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}class i extends o{constructor(e,t,n){super(e),this.reason=e,this.id=t,this.metadata=n}get attributes(){const{reason:e,id:t,metadata:{collectionName:n,occurrenceKey:o}={}}=this;return{reason:e,id:t,collectionName:n,occurrenceKey:o}}}function r(e){return e instanceof i}class a extends o{constructor(e,t){super(e),this.reason=e,this.innerError=t}get attributes(){const{reason:e,innerError:t}=this;return{reason:e,innerError:t}}}function s(e){return e instanceof a}},"./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f}));const a=e=>"uploading"===e.status,s=e=>"processing"===e.status,c=e=>"processed"===e.status,l=e=>"error"===e.status,u=e=>!l(e)&&!!e.preview,d=e=>["processed","failed-processing","error"].includes(e.status),p=e=>{switch(e.status){
case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},m=e=>{const{id:t,name:n,size:o,processingStatus:r,artifacts:a,mediaType:s,mimeType:c,representations:l,createdAt:u}=e.data,d={id:t,name:n,size:o,mediaType:s,mimeType:c,artifacts:a,representations:l,createdAt:u};switch(r){case"pending":case void 0:return i(i({},d),{},{status:"processing"});case"succeeded":return i(i({},d),{},{status:"processed"});case"failed":return i(i({},d),{},{status:"failed-processing"})}},f=(e,t)=>m({data:i({id:e},t)})},"./node_modules/@atlaskit/media-client/dist/es2019/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js");const i=(e,t)=>{const n=["audio","video","image"];return Object(o.a)("newCardExperience",t)?[...n,"doc"].indexOf(e)>-1:n.indexOf(e)>-1
},r=e=>!!e.mediaType&&!!e.mimeType&&!!e.processingStatus},"./node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}},"./node_modules/@atlaskit/media-client/dist/es2019/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var o=n("./node_modules/rxjs/operators/tap.js"),i=n("./node_modules/rxjs/operators/concatMap.js"),r=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js");var l=n("./node_modules/rxjs-async-map/out/index.js");function u(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const d=e=>function(e){const t=new FileReader;return new Promise(((n,o)=>{t.onload=function(){n(this.result)},t.onerror=o,
t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(u);var p=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=(e,t,n)=>Object(r.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e
}(e)).pipe(Object(i.concatMap)((e=>{const{chunkSize:r}=t,{onProgress:a}=n,u=Math.ceil(e.size/r),f=function(e,{batchSize:t,prober:n}){return e.pipe(Object(p.bufferCount)(t),Object(i.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>h(h({},e),{},{exists:t[n]}))))))),Object(i.concatMap)((e=>Object(m.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object(l.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`}))))(t||d),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(s.range)(0,n).pipe(Object(c.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:r}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction});let b=0,y=((e,t)=>e.pipe(Object(l.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(f,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(y=y.pipe(Object(o.tap)((()=>{b+=1,a(b/u)})))),
((e,t)=>e.pipe(Object(p.bufferCount)(t.batchSize)).pipe(Object(i.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(y,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),g=(e,t,n)=>function(e){const t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(y(e,t,n));let v=null;const j=async e=>(await(async()=>{if(!v)try{const{WorkerHasher:e}=await n.e("3d11798d60").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));v=new e(3)}catch(e){const{SimpleHasher:t}=await n.e("cb7763cce7").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));v=new t}return v})()).hash(e),w=(e,t)=>async n=>{const o=(await e.probeChunks(S(n),t)).data.results;return Object.values(o).map((e=>e.exists))},x=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),O=(e,t,n)=>{let o=0;return async i=>{await e.appendChunksToUpload(await t,{
chunks:S(i),offset:o},n),o+=i.length}},_=(e,t,n,o)=>{const{content:i,collection:r,name:a,mimeType:s}=e,{id:c,occurrenceKey:l,deferredUploadId:u}=n,{response:d,cancel:p}=g(i,{hashingFunction:j,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:x(t,r),probingFunction:w(t,r),processingBatchSize:1e3,processingFunction:O(t,u,r)},{onProgress(e){o&&o.onProgress(e)}}),m=o&&o.onUploadFinish||(()=>{});return Promise.all([u,d]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:a,mimeType:s},{occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},S=e=>e.map((e=>e.hash))},"./node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/rxjs/ReplaySubject.js");const i=e=>{const t=new o.ReplaySubject(1);return e&&t.next(e),t}},
"./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js");const i=async(e,t)=>{switch(e){case"image":{const e=URL.createObjectURL(t);try{return await(e=>new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=()=>t({width:o.width,height:o.height}),o.onerror=n})))(e)}finally{URL.revokeObjectURL(e)}}case"video":return Object(o.a)(t);default:throw new Error(`Can't extract dimensions from ${e}`)}}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),i=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js")
;const r=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":Object(o.c)(e)||Object(i.c)(e)?"image":Object(o.b)(e)||Object(i.b)(e)?"doc":Object(o.a)(e)||Object(i.a)(e)?"audio":Object(o.e)(e)||Object(i.f)(e)?"video":"unknown"
},"./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/video-snapshot/dist/es2015/index.js");const i=async(e,t=new o.a(e))=>{try{return await t.getDimensions()}finally{t.end()}}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));const o=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,i=e=>"application/pdf"===e.toLowerCase(),r=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,a=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,s=e=>i(e)||o(e)||r(e)||a(e)},
"./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}))
;const o=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,i=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,r=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,a=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,s=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,c=e=>o(e)||i(e)||r(e)||a(e)||s(e)
},"./node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/rxjs/Subscription.js");const i=(e,t=new o.Subscription)=>new Promise(((n,o)=>t.add(e.subscribe({next:e=>{n(e),t.unsubscribe()},error:e=>{o(e),t.unsubscribe()}}))))},"./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");class i extends o.a{constructor(e,t){super(e),this.reason=e,this.attempts=t}get attributes(){const{reason:e,attempts:t}=this;return{reason:e,attempts:t}}}function r(e){return e instanceof i}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(o),r=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/errors.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={poll_intervalMs:Object(r.a)("poll_intervalMs"),
poll_maxAttempts:Object(r.a)("poll_maxAttempts"),poll_backoffFactor:Object(r.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(r.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(r.a)("poll_maxGlobalFailures")};class d{constructor(e){i()(this,"poll_intervalMs",0),i()(this,"attempt",1),i()(this,"shouldIterate",!0),i()(this,"timeoutId",0),this.options=c(c({},u),e),this.poll_intervalMs=this.options.poll_intervalMs}async execute(e){const{poll_maxAttempts:t,poll_maxGlobalFailures:n}=this.options;if(d.failures>=n)return this.fail(new a.a("maxFailuresExceeded",this.attempt));if(0===t)return this.fail(new a.a("maxAttemptsExceeded",this.attempt));try{if(this.shouldIterate=!1,await e(),!this.shouldIterate)return;if(this.attempt>=t)return this.fail(new a.a("maxAttemptsExceeded",this.attempt));this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((()=>this.execute(e)),this.poll_intervalMs)}catch(o){this.fail(o)}}fail(e){
const{onError:t}=this;d.failures+=1,this.cancel(),t&&t(e)}getIntervalMsForIteration(e){let t=this.options.poll_intervalMs;if(1===e)return t;for(let n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}next(){this.shouldIterate=!0}cancel(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}i()(d,"failures",0)},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");class i extends o.a{constructor(e,t){super(e),this.reason=e,this.metadata=t}get attributes(){const{reason:e,metadata:{attempts:t,statusCode:n,bodyAsText:o,innerError:i}={}}=this;return{reason:e,attempts:t,statusCode:n,bodyAsText:o,innerError:i}}}function r(e){return e instanceof i}function a(e){
return!!e&&r(e)&&429===e.attributes.statusCode||!!e&&!!e.message&&e.message.includes("429")}function s(e,t){return a(e)?"rateLimited":t}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return g}));var o=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),i=n("./node_modules/query-string/index.js");var r=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/errors.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return e instanceof Error&&"request_cancelled"===e.message||!!e&&"AbortError"===e.name}function u(e){return e instanceof TypeError}function d(e,{params:t,auth:n}){const{baseUrl:r,queryParams:a}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(i.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(i.stringify)(s(s(s({},a),t),c));return`${r}${l.length>0?`?${l}`:""}`}function p(e){
return t=>e?s(s({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,Authorization:`Bearer ${e.token}`}}(e)):t}async function m(e){try{return await e.json()}catch(t){throw new r.a("serverInvalidBody",{statusCode:e.status,innerError:t})}}async function f(e){try{return await e.blob()}catch(t){throw new r.a("serverInvalidBody",{statusCode:e.status,innerError:t})}}function h(){return Promise.resolve()}const b={startTimeoutInMs:1e3,maxAttempts:5,factor:2};async function y(e,t={}){const n=s(s({},b),t),{startTimeoutInMs:o,maxAttempts:i,factor:a}=n;let c,d=0,p=o;const m=async()=>{await function(e){return new Promise((t=>setTimeout(t,e)))}(p),p*=a,d+=1};for(;d<i;)try{return await e()}catch(f){if(c=f,l(f))throw new r.a("clientAbortedRequest");if(!u(f)&&!Object(r.d)(f)||Object(r.d)(f)&&(!f.metadata||!f.metadata.statusCode||f.metadata.statusCode<500))throw f;await m()}
throw new r.a("clientExhaustedRetries",{attempts:d,innerError:c})}async function g(e){if(e.ok||e.status<400)return e;const t=await e.text();throw new r.a("serverError",{statusCode:e.status,bodyAsText:t})}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js");async function i(e,t={},n){const{method:i="GET",auth:r,params:a,headers:s,body:c,clientOptions:l={}}=t,{retryOptions:u}=l;return Object(o.b)((()=>fetch(Object(o.a)(e,{params:a}),{method:i,body:c,headers:Object(o.h)(r)(s),signal:n&&n.signal}).then(o.g)),u)}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f}))
;var o=n("./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js"),i=n.n(o);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="media-blob-url",l=e=>e.indexOf("media-blob-url=true")>-1,u=(e,t)=>{const n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},d=(e,t)=>{
const n=e.get(t);if(n)return decodeURIComponent(n)},p=e=>{const t=new URL(e).hash.replace("#",""),n=new i.a(t),o=n.get("id"),r=n.get("contextId");if(o&&r)return{id:o,contextId:r,collection:d(n,"collection"),alt:d(n,"alt"),height:u(n,"height"),width:u(n,"width"),size:u(n,"size"),name:d(n,"name"),mimeType:d(n,"mimeType")}},m=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const n=e[t];if(null!=n)return`${encodeURIComponent(t)}=${encodeURIComponent(n.toString())}`})).join("&"),f=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const n=a(a({},{[c]:"true"}),t);return`${e}#${m(n)}`}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/with-media-client-hoc.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}))
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(o),r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js");function c(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const l=new Map,u=(e,t)=>{let n=l.get(e);return n||(n=new s.a(e,t),l.set(e,n)),n},d=(e,t)=>class extends a.a.Component{render(){const n=this.props,{mediaClientConfig:o}=n,r=c(n,["mediaClientConfig"]),l=o?u(o,t):(e=>{const t={authProvider:()=>Promise.resolve({clientId:"",token:"",baseUrl:""})};return new s.a(t,e)})(t);return a.a.createElement(e,i()({},r,{mediaClient:l}))}}},
"./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,i,r,a,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(r=e.split("&")).length;a<s;a++)-1<(t=(i=r[a]).indexOf("="))?u(c,d(i.slice(0,t)),d(i.slice(t+1))):i.length&&u(c,d(i),"");else if(o(e))for(a=0,s=e.length;a<s;a++)u(c,(i=e[a])[0],i[1]);else for(n in e)u(c,n,e[n])}var o=Array.isArray,i=n.prototype,r=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=o(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(r,c)}i.append=function(e,t){u(this[l],e,t)},i.delete=function(e){delete this[l][e]},i.get=function(e){var t=this[l];return e in t?t[e][0]:null},i.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},i.has=function(e){return e in this[l]},i.set=function(e,t){
this[l][e]=[""+t]},i.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(o){n[o].forEach((function(n){e.call(t,n,o,this)}),this)}),this)},i.toJSON=function(){return{}},i.toString=function(){var e,t,n,o,i=this[l],r=[];for(t in i)for(n=p(t),e=0,o=i[t];e<o.length;e++)r.push(n+"="+p(o[e]));return r.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(o){o.length&&!(o in n)&&(n[o]=this.getAll(o)).forEach((function(n){e.call(t,n,o,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift()
;return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,o=this.entries(),i=o.next(),r=i.done,a=[],s=Object.create(null);!r;)t=(n=i.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),r=(i=o.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>{
const n=!!window.MSInputMethodContext&&!!document.documentMode,o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i="media-download-iframe",r=document.createElement("a");let a=document.getElementById(i);a||(a=document.createElement("iframe"),a.style.display="none",a.id=i,a.name=i,document.body.appendChild(a)),r.href=e,t&&t.name&&(r.download=t.name),r.target=n||o?"_blank":i,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return a}));const i=e=>"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null,r={newCardExperience:!1,zipPreviews:!1,captions:!1,folderUploads:!1,codeViewer:!1,poll_intervalMs:3e3,poll_maxAttempts:30,poll_backoffFactor:1.25,poll_maxIntervalMs:2e5,poll_maxGlobalFailures:10};function a(t,n){const o=i(t);if(null!==o)try{return JSON.parse(o)}catch(e){}return n&&t in n?n[t]:r[t]}
Object.keys(r).forEach((e=>{const t=i(e);null!==t&&console.info(`%c* LOCAL * MediaFeatureFlag.${e} = ${t}`,"font-weight:bold;color:cyan")}))},"./node_modules/@atlaskit/media-core/dist/es2019/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return i})),n.d(t,"isClientBasedAuth",(function(){return r})),n.d(t,"isAsapBasedAuth",(function(){return a})),n.d(t,"authToOwner",(function(){return s}));var o=n("./node_modules/eventemitter2/lib/eventemitter2.js");const i={streams:new(n("./node_modules/lru-fast/lru.js").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new o.EventEmitter2};function r(e){return!!e.clientId}function a(e){return!!e.asapIssuer}const s=e=>{if(a(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}))
;var o=n("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js"),i=n("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),r=n("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/constants.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}const l={"max-age":r.a,allowAnimated:!0,mode:"crop"},u={limit:30,sortDirection:"desc"},d=(e,t=!1)=>s(s(s({},l),e),t?{width:4096,height:4096}:{}),p={Accept:"application/json","Content-Type":"application/json"};class m{constructor(e,t){this.config=e,this.featureFlags=t,this.getFile=(e,t={})=>this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(o.d),this.getFileImageURL=async(e,t)=>{const n=await this.config.authProvider();return Object(o.a)(`${n.baseUrl}/file/${e}/image`,{params:d(t),auth:n})},this.getArtifactURL=async(e,t,n)=>{const a=Object(i.a)(e,t);if(!a)throw new Error(`artifact ${t} not found`);const s=await this.config.authProvider({collectionName:n});return Object(o.a)(`${s.baseUrl}${a}`,{params:{collection:n,"max-age":r.a},auth:s})},this.getImage=async(e,t,n,i)=>{let r;return this.request(`/file/${e}/image`,{headers:r,params:d(t,i),authContext:{collectionName:t&&t.collection}},n).then(o.c)},
this.getItems=(e,t)=>{const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),headers:p,authContext:{collectionName:t}}).then(o.d)},this.getImageMetadata=(e,t)=>this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(o.d)}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:s(s({},u),t),headers:{Accept:"application/json"}}),{data:{contents:i,nextInclusiveStartKey:r}}=await Object(o.d)(n);return{data:{contents:i.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:r}}}async removeCollectionFile(e,t,n){const o={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){
return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(o.d)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(o.e)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:p}).then(o.d)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:p}).then(o.d)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:p,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(o.d)}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return Object(o.a)(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":r.a},auth:n})}appendChunksToUpload(e,t,n){
return this.request(`/upload/${e}/chunks`,{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:p}).then(o.e)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:p,params:t}).then(o.d)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:i}=this.config,{method:r,authContext:a,params:s,headers:c,body:l}=t,u=await i(a),d=await Object(o.f)(`${u.baseUrl}${e}`,{method:r,auth:u,params:s,headers:c,body:l},n);return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(d.headers.get("x-media-region")),d}}},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))
;const o="recents",i=2592e3,r=4096},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/index.js":function(t,n,o){"use strict";o.r(n),o.d(n,"MediaStore",(function(){return i.a})),o.d(n,"UploadController",(function(){return r})),o.d(n,"isPreviewableType",(function(){return s})),o.d(n,"isMediaCollectionItemFullDetails",(function(){return c})),o.d(n,"getArtifactUrl",(function(){return l.a})),o.d(n,"isUploadingFileState",(function(){return m})),o.d(n,"isProcessingFileState",(function(){return f})),o.d(n,"isProcessedFileState",(function(){return h})),o.d(n,"isErrorFileState",(function(){return b})),o.d(n,"isPreviewableFileState",(function(){return y})),o.d(n,"isFinalFileState",(function(){return g})),o.d(n,"isImageRepresentationReady",(function(){return v})),o.d(n,"mapMediaFileToFileState",(function(){return j})),o.d(n,"mapMediaItemToFileState",(function(){return w})),o.d(n,"getFileStreamsCache",(function(){return _})),o.d(n,"StreamsCache",(function(){
return x})),o.d(n,"uploadFile",(function(){return W})),o.d(n,"isAbortedRequestError",(function(){return H.b})),o.d(n,"request",(function(){return H.f})),o.d(n,"mapResponseToJson",(function(){return H.d})),o.d(n,"mapResponseToBlob",(function(){return H.c})),o.d(n,"mapResponseToVoid",(function(){return H.e})),o.d(n,"createUrl",(function(){return H.a})),o.d(n,"FileFetcherImpl",(function(){return Ce})),o.d(n,"CollectionFetcher",(function(){return Be})),o.d(n,"MediaClient",(function(){return Ne})),o.d(n,"StargateClient",(function(){return De})),o.d(n,"isImageRemote",(function(){return $e.a})),o.d(n,"checkWebpSupport",(function(){return Ke})),o.d(n,"observableToPromise",(function(){return ge})),o.d(n,"getMediaTypeFromMimeType",(function(){return be})),o.d(n,"isImageMimeTypeSupportedByBrowser",(function(){return re})),o.d(n,"isDocumentMimeTypeSupportedByBrowser",(function(){return ae})),o.d(n,"isMimeTypeSupportedByBrowser",(function(){return le})),
o.d(n,"isImageMimeTypeSupportedByServer",(function(){return ue})),o.d(n,"isDocumentMimeTypeSupportedByServer",(function(){return de})),o.d(n,"isAudioMimeTypeSupportedByServer",(function(){return pe})),o.d(n,"isVideoMimeTypeSupportedByServer",(function(){return me})),o.d(n,"isUnknownMimeTypeSupportedByServer",(function(){return fe})),o.d(n,"isMimeTypeSupportedByServer",(function(){return he})),o.d(n,"createFileStateSubject",(function(){return je})),o.d(n,"safeUnsubscribe",(function(){return Je})),o.d(n,"isFileIdentifier",(function(){return He})),o.d(n,"isExternalImageIdentifier",(function(){return Ve})),o.d(n,"isDifferentIdentifier",(function(){return Xe})),o.d(n,"withMediaClient",(function(){return nt})),o.d(n,"getMediaClient",(function(){return tt})),o.d(n,"globalMediaEventEmitter",(function(){return te})),o.d(n,"isMediaBlobUrl",(function(){return lt})),o.d(n,"getAttrsFromUrl",(function(){return pt})),o.d(n,"addFileAttrsToUrl",(function(){return ft})),
o.d(n,"objectToQueryString",(function(){return mt})),o.d(n,"RECENTS_COLLECTION",(function(){return ne.c})),o.d(n,"MAX_RESOLUTION",(function(){return ne.b}));var i=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js");class r{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}var a=o("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js");const s=(e,t)=>{const n=["audio","video","image"];return Object(a.a)("newCardExperience",t)?[...n,"doc"].indexOf(e)>-1:n.indexOf(e)>-1},c=e=>!!e.mediaType&&!!e.mimeType&&!!e.processingStatus;var l=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}
function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>"uploading"===e.status,f=e=>"processing"===e.status,h=e=>"processed"===e.status,b=e=>"error"===e.status,y=e=>!b(e)&&!!e.preview,g=e=>["processed","failed-processing","error"].includes(e.status),v=e=>{switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},j=e=>{const{id:t,name:n,size:o,processingStatus:i,artifacts:r,mediaType:a,mimeType:s,representations:c,createdAt:l}=e.data,u={id:t,name:n,size:o,mediaType:a,mimeType:s,
artifacts:r,representations:c,createdAt:l};switch(i){case"pending":case void 0:return d(d({},u),{},{status:"processing"});case"succeeded":return d(d({},u),{},{status:"processed"});case"failed":return d(d({},u),{},{status:"failed-processing"})}},w=(e,t)=>j({data:d({id:e},t)});class x{constructor(e){this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let O;const _=()=>{if(!O){const e=o("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;O=new x(e.streams)}return O}
;var S=o("./node_modules/rxjs/operators/tap.js"),P=o("./node_modules/rxjs/operators/concatMap.js"),k=o("./node_modules/rxjs/observable/fromPromise.js"),I=o("./node_modules/rxjs/Subject.js"),F=o("./node_modules/rxjs/observable/range.js"),E=o("./node_modules/rxjs/operators/map.js");var T=o("./node_modules/rxjs-async-map/out/index.js");function A(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const C=e=>function(e){const t=new FileReader;return new Promise(((n,o)=>{t.onload=function(){n(this.result)},t.onerror=o,t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(A);var U=o("./node_modules/rxjs/operators/bufferCount.js"),M=o("./node_modules/rxjs/observable/from.js");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=(e,t,n)=>Object(k.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e}(e)).pipe(Object(P.concatMap)((e=>{const{chunkSize:o}=t,{onProgress:i}=n,r=Math.ceil(e.size/o),a=function(e,{batchSize:t,prober:n}){return e.pipe(Object(U.bufferCount)(t),Object(P.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>L(L({},e),{},{exists:t[n]}))))))),Object(P.concatMap)((e=>Object(M.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object(T.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`
}))))(t||C),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(F.range)(0,n).pipe(Object(E.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction});let s=0,c=((e,t)=>e.pipe(Object(T.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(a,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return i&&(c=c.pipe(Object(S.tap)((()=>{s+=1,i(s/r)})))),((e,t)=>e.pipe(Object(U.bufferCount)(t.batchSize)).pipe(Object(P.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(c,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),D=(e,t,n)=>function(e){const t=new I.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(z(e,t,n));let N=null;const $=async e=>(await(async()=>{if(!N)try{
const{WorkerHasher:e}=await o.e("820971bdf7").then(o.bind(null,"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));N=new e(3)}catch(e){const{SimpleHasher:t}=await o.e("03580586a1").then(o.bind(null,"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));N=new t}return N})()).hash(e),q=(e,t)=>async n=>{const o=(await e.probeChunks(G(n),t)).data.results;return Object.values(o).map((e=>e.exists))},K=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),J=(e,t,n)=>{let o=0;return async i=>{await e.appendChunksToUpload(await t,{chunks:G(i),offset:o},n),o+=i.length}},W=(e,t,n,o)=>{const{content:i,collection:r,name:a,mimeType:s}=e,{id:c,occurrenceKey:l,deferredUploadId:u}=n,{response:d,cancel:p}=D(i,{hashingFunction:$,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:K(t,r),probingFunction:q(t,r),processingBatchSize:1e3,
processingFunction:J(t,u,r)},{onProgress(e){o&&o.onProgress(e)}}),m=o&&o.onUploadFinish||(()=>{});return Promise.all([u,d]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:a,mimeType:s},{occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},G=e=>e.map((e=>e.hash));var H=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js"),V=o("./node_modules/uuid/v4.js"),X=o.n(V),Q=o("./node_modules/dataloader/index.js"),Y=o.n(Q),Z=o("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),ee=o("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js");const te={on(e,t){Z.mediaState.eventEmitter&&Z.mediaState.eventEmitter.on(e,t)},off(e,t){Z.mediaState.eventEmitter&&Z.mediaState.eventEmitter.off(e,t)},emit(e,t){if(Z.mediaState.eventEmitter)return Z.mediaState.eventEmitter.emit(e,t)}}
;var ne=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/constants.js"),oe=o("./node_modules/uuid-validate/index.js"),ie=o.n(oe)
;const re=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,ae=e=>"application/pdf"===e.toLowerCase(),se=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,ce=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,le=e=>ae(e)||re(e)||se(e)||ce(e),ue=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,de=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,pe=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,me=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,fe=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,he=e=>ue(e)||de(e)||pe(e)||me(e)||fe(e),be=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":re(e)||ue(e)?"image":ae(e)||de(e)?"doc":se(e)||pe(e)?"audio":ce(e)||me(e)?"video":"unknown",ye=(e,t)=>b(e)||"unknown"!==e.mediaType?{}:{
mediaType:t},ge=e=>new Promise((t=>e.subscribe({next(e){t(e),this.unsubscribe()}})));var ve=o("./node_modules/rxjs/ReplaySubject.js");const je=e=>{const t=new ve.ReplaySubject(1);return e&&t.next(e),t},we=(e,t,n)=>("doc"===e||!le(t)||!n)&&he(t);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se="Maximum attempts exceeded",Pe={
poll_intervalMs:Object(a.a)("poll_intervalMs"),poll_maxAttempts:Object(a.a)("poll_maxAttempts"),poll_backoffFactor:Object(a.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(a.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(a.a)("poll_maxGlobalFailures")};class ke{constructor(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Oe(Oe({},Pe),e),this.poll_intervalMs=this.options.poll_intervalMs}async execute(t){const{poll_maxAttempts:n,poll_maxGlobalFailures:o}=this.options;if(ke.failures>=o)return this.fail(new Error("Maximum failures exceeded"));if(0===n)return this.fail(new Error(Se));try{this.shouldIterate=!1,await t(),this.shouldIterate&&(this.attempt++,this.attempt<=n?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((()=>this.execute(t)),this.poll_intervalMs)):this.fail(new Error(Se)))}catch(e){this.fail(e)}}fail(e){const{onError:t}=this;ke.failures+=1,this.cancel(),t&&t(e)}
getIntervalMsForIteration(e){let t=this.options.poll_intervalMs;if(1===e)return t;for(let n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}next(){this.shouldIterate=!0}cancel(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
ke.failures=0;const Te=(e,t)=>t?`${e}-${t}`:e,Ae=e=>e.error instanceof Error;class Ce{constructor(e){this.mediaStore=e,this.batchLoadingFunc=async e=>{const t="__media-single-file-collection__",n=e.reduce(((e,n)=>{const o=n.collection||t,i=e[o]||[];return i.push(n.id),e[o]=i,e}),{}),o=[];return await Promise.all(Object.keys(n).map((async e=>{const i=n[e],r=e===t?void 0:e;try{const e=await this.mediaStore.getItems(i,r);o.push(...e.data.items)}catch(a){i.forEach((e=>{o.push({id:e,error:a||new Error("Failed to fetch"),collection:r})}))}}))),((e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:o}=t;return e[Te(n,o)]=Ae(t)?t:t.details,e}),{});return e.map((e=>{const{id:t,collection:o}=e,i=Te(t,o);return n[i]}))})(e,o)},this.createDownloadFileStream=(e,t)=>{const n=je(),o=this.mediaStore.featureFlags,i={poll_intervalMs:Object(a.a)("poll_intervalMs",o),poll_maxAttempts:Object(a.a)("poll_maxAttempts",o),poll_backoffFactor:Object(a.a)("poll_backoffFactor",o),
poll_maxIntervalMs:Object(a.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},r=new ke(i);return r.onError=e=>n.error(e),r.execute((async()=>{const o=await this.dataloader.load({id:e,collection:t});if(!o)return;if(Ae(o))return void n.error(o);const i=w(e,o);switch(n.next(i),i.status){case"processing":r.next();break;case"processed":n.complete()}})),n},this.dataloader=new Y.a(this.batchLoadingFunc,{maxBatchSize:100})}getFileState(e,t){if(!ie()(e)){const e=je();return e.error("invalid id was passed to getFileState"),e}return _().getOrInsert(e,(()=>{const n=t&&t.collectionName;return this.createDownloadFileStream(e,n)}))}getCurrentState(e,t){return ge(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){
const t=X()(),n=X()(),o={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([o],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:o,occurrenceKey:i}=n,r=je(),a=fetch(e).then((e=>e.blob())).catch((()=>{})),s=new Promise((async(e,t)=>{const n=await a;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:i,preview:s};return r.next(l),_().set(o,r),new Promise((async(e,l)=>{const u=await a;if(!u)return l("Could not download remote file");const{type:d,size:p}=u,m={content:u,mimeType:d,collection:t,name:c},f=be(d);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:d,id:o,occurrenceKey:i,preview:s}),this.upload(m,void 0,n);const h=await(e=>new Promise(((t,n)=>{const o=URL.createObjectURL(e),i=new Image;i.src=o,i.onload=()=>{const e={width:i.width,
height:i.height};URL.revokeObjectURL(o),t(e)},i.onerror=n})))(u);e({dimensions:h,uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),o=[];for(let i=0;i<n.length;i+=512){const e=n.slice(i,i+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);o.push(r)}return new Blob(o,{type:"image/jpeg"})})(e.content));const{content:o,name:i="",collection:r}=e;n||(n=this.generateUploadableFileUpfrontIds(r));const a=n.id,s=n.occurrenceKey;let c,l="",u=0;const d=(e=>{if(e.content instanceof Blob){const t=e.content.type;return be(t)}return"unknown"})(e),p=je();let m;o instanceof Blob&&(u=o.size,l=o.type,le(o.type)&&(c={value:o,origin:"local"}));const f={id:a,occurrenceKey:s,name:i,size:u,mediaType:d,mimeType:l,preview:c},h=e=>{p.next(Fe(Fe({status:"uploading"},f),{},{progress:e}))},{cancel:b}=W(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;p.next({id:a,
status:"error",message:t})}return p.error(e)}we(d,l,c)?m=this.createDownloadFileStream(a,r).subscribe({next:e=>p.next(Fe(Fe(Fe({},f),e),ye(e,d))),error:e=>p.error(e),complete:()=>p.complete()}):(p.next(Fe({status:"processing",representations:{}},f)),p.complete())},onProgress:h});return _().set(a,p),setTimeout((()=>{h(0)}),0),t&&t.setAbort((()=>{b(),m&&m.unsubscribe()})),p}async downloadBinary(e,t="download",n){const o=await this.mediaStore.getFileBinaryURL(e,n);Object(ee.a)(o,{name:t}),te.emit("media-viewed",{fileId:e,isUserCollection:n===ne.c,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:o,collection:r,id:a}=e,{authProvider:s,collection:c,replaceFileId:l,occurrenceKey:u}=t,{preview:d,mimeType:p}=n,m=t.mediaStore||new i.a({authProvider:s}),h={sourceFile:{id:a,collection:r,owner:Object(Z.authToOwner)(await o({collectionName:r}))}},y={collection:c,replaceFileId:l,occurrenceKey:u},v=_();let w;try{const{data:e}=await m.copyFileWithToken(h,y),t=Fe(Fe({},e),p?{
mimeType:p}:void 0),{id:n,mimeType:o}=t,i=o?be(o):"unknown",r=j({data:t}),a=v.get(n)||je(),s=!b(r)&&d?{preview:d}:{};return!g(r)&&o&&we(i,o,d)?(a.next(Fe(Fe(Fe({},r),ye(r,i)),s)),w=this.createDownloadFileStream(n,c).subscribe({next:e=>a.next(Fe(Fe(Fe({},e),ye(e,i)),!b(e)&&s)),error:e=>a.error(e),complete:()=>a.complete()})):f(r)||a.next(Fe(Fe({},r),!b(r)&&s)),v.has(n)||_().set(n,a),e}catch(x){if(w&&w.unsubscribe(),l){const e={id:a,status:"error",message:`error copying file to ${c}`},t=v.get(l);t?t.next(e):v.set(a,je(e))}throw x}}}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Re(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Le={};class Be{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new ve.ReplaySubject(1),o=Me({id:e},t),i=j({data:o});return n.next(i),n}populateCache(e){e.forEach((e=>{const t=this.createFileStateObserver(e.id,e.details);_().set(e.id,t)}))}removeFromCache(e,t){const n=Le[t].items.findIndex((t=>t.id===e));-1!==n&&(_().remove(e),Le[t].items.splice(n,1))}getItems(e,t){Le[e]||(Le[e]=(()=>({items:[],subject:new ve.ReplaySubject(1),isLoadingNextPage:!1}))());const n=Le[e],o=n.subject;return this.mediaStore.getCollectionItems(e,Me(Me({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:i}=e.data
;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=i,o.next(n.items)})).catch((e=>o.error(e))),o}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const o=Le[t];o.subject.next(o.items)}async loadNextPage(e,t){const n=Le[e],o=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||o)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:i,items:r,subject:a}=Le[e],s=await this.mediaStore.getCollectionItems(e,Me(Me({},t),{},{inclusiveStartKey:i,details:"full"})),{contents:c,nextInclusiveStartKey:l}=s.data;this.populateCache(c);const u=[...r,...s.data.contents];a.next(u),Le[e]={items:u,nextInclusiveStartKey:l,subject:a,isLoadingNextPage:!1}}}var ze=o("./node_modules/eventemitter2/lib/eventemitter2.js");class De{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){
const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}class Ne{constructor(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new i.a({authProvider:e.authProvider},t),this.config=e,this.collection=new Be(this.mediaStore),this.file=new Ce(this.mediaStore),this.eventEmitter=new ze.EventEmitter2,this.stargate=new De(e.stargateBaseUrl)}getImage(e,t,n,o){return this.mediaStore.getImage(e,t,n,o)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){return this.eventEmitter.emit(e,t)}}var $e=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/isImageRemote.js");let qe;const Ke=()=>void 0!==qe?Promise.resolve(qe):new Promise((e=>{const t=new Image
;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=()=>{qe=2===t.height,e(qe)}})),Je=e=>{console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((()=>e&&e.unsubscribe()),0)};var We=o("./node_modules/deep-equal/index.js"),Ge=o.n(We);const He=e=>"file"===e.mediaItemType,Ve=e=>"external-image"===e.mediaItemType,Xe=(e,t)=>He(e)&&He(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!Ge()(e,t);var Qe=o("./node_modules/react/index.js"),Ye=o.n(Qe);function Ze(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}
const et=new Map,tt=(e,t)=>{let n=et.get(e);return n||(n=new Ne(e,t),et.set(e,n)),n},nt=(e,t)=>class extends Ye.a.Component{render(){const n=this.props,{mediaClientConfig:o}=n,i=Ze(n,["mediaClientConfig"]),r=o?tt(o,t):(e=>new Ne({authProvider:()=>Promise.resolve({clientId:"",token:"",baseUrl:""})},e))(t);return Ye.a.createElement(e,Object.assign({},i,{mediaClient:r}))}};var ot=o("./node_modules/@atlaskit/media-editor/node_modules/url-search-params/build/url-search-params.node.js"),it=o.n(ot);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){st(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ct="media-blob-url",lt=e=>e.indexOf("media-blob-url=true")>-1,ut=(e,t)=>{const n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},dt=(e,t)=>{const n=e.get(t);if(n)return decodeURIComponent(n)},pt=e=>{const t=new URL(e).hash.replace("#",""),n=new it.a(t),o=n.get("id"),i=n.get("contextId");if(o&&i)return{id:o,contextId:i,collection:dt(n,"collection"),alt:dt(n,"alt"),height:ut(n,"height"),width:ut(n,"width"),size:ut(n,"size"),name:dt(n,"name"),mimeType:dt(n,"mimeType")}},mt=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const n=e[t];if(null!=n)return`${encodeURIComponent(t)}=${encodeURIComponent(n.toString())}`
})).join("&"),ft=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const n=at(at({},{[ct]:"true"}),t);return`${e}#${mt(n)}`}},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>{const n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/isImageRemote.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t=window.location.origin)=>{if(URL&&URL.prototype){const n=new URL(e);return!!n.host&&n.origin!==t}return!0}},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return f})),
n.d(t,"b",(function(){return g}));var o=n("./node_modules/query-string/index.js"),i=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(e,t){super(e),this.message=e,this.statusCode=t}}const l=async e=>{if(e.ok||e.redirected)return e;{const t=await e.text()
;throw new c(`Got error code ${e.status}: ${t}`,e.status)}};function u(e,t={},n){const{method:o="GET",auth:i,params:r,headers:s,body:c,retryOptions:u={}}=t;return async function(e,t={}){const n=a(a({},b),t);let o=n.startTimeoutInMs;const i=async()=>{await(e=>new Promise((t=>{setTimeout(t,e)})))(o),o*=n.factor};for(let a=1;a<=n.attempts;a++)try{return await e()}catch(r){if(g(r))return Promise.reject(r);const e=a===n.attempts;if(y(r)&&r.statusCode<500||e)return Promise.reject(new Error(`The call did not succeed after ${a} attempts. Last error is ${r.message}`));await i()}return Promise.reject(new Error("Exhaused all attempts"))}((()=>fetch(f(e,{params:r}),{method:o,body:c,headers:h(i)(s),signal:n&&n.signal}).then(l)),u)}function d(e){return e.json()}function p(e){return e.blob()}function m(){return Promise.resolve()}function f(e,{params:t,auth:n}){const{baseUrl:r,queryParams:s}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),
queryParams:Object(o.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(i.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(o.stringify)(a(a(a({},s),t),c));return`${r}${l.length>0?`?${l}`:""}`}function h(e){return t=>e?a(a({},t||{}),function(e){return Object(i.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,Authorization:`Bearer ${e.token}`}}(e)):t}const b={attempts:5,startTimeoutInMs:1e3,factor:2},y=e=>!(e instanceof TypeError),g=e=>"request_cancelled"===e.message||"AbortError"===e.name},"./node_modules/@atlaskit/media-editor/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,i,r,a,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(r=e.split("&")).length;a<s;a++)-1<(t=(i=r[a]).indexOf("="))?u(c,d(i.slice(0,t)),d(i.slice(t+1))):i.length&&u(c,d(i),"");else if(o(e))for(a=0,s=e.length;a<s;a++)u(c,(i=e[a])[0],i[1]);else for(n in e)u(c,n,e[n])}var o=Array.isArray,i=n.prototype,r=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=o(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(r,c)}i.append=function(e,t){u(this[l],e,t)},i.delete=function(e){delete this[l][e]},i.get=function(e){var t=this[l];return e in t?t[e][0]:null},i.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},i.has=function(e){return e in this[l]},i.set=function(e,t){
this[l][e]=[""+t]},i.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(o){n[o].forEach((function(n){e.call(t,n,o,this)}),this)}),this)},i.toJSON=function(){return{}},i.toString=function(){var e,t,n,o,i=this[l],r=[];for(t in i)for(n=p(t),e=0,o=i[t];e<o.length;e++)r.push(n+"="+p(o[e]));return r.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(o){o.length&&!(o in n)&&(n[o]=this.getAll(o)).forEach((function(n){e.call(t,n,o,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift()
;return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,o=this.entries(),i=o.next(),r=i.done,a=[],s=Object.create(null);!r;)t=(n=i.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),r=(i=o.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){
return i})),n.d(t,"b",(function(){return r}));const o="recents",i=2592e3,r=4096},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");const i={on(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.on(e,t)},off(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.off(e,t)},emit(e,t){if(o.mediaState.eventEmitter)return o.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/identifier.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("./node_modules/deep-equal/index.js"),i=n.n(o)
;const r=e=>"file"===e.mediaItemType,a=e=>"external-image"===e.mediaItemType,s=(e,t)=>r(e)&&r(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!i()(e,t)},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/index.js":function(t,n,o){"use strict";o.r(n),o.d(n,"MediaStore",(function(){return F})),o.d(n,"UploadController",(function(){return E})),o.d(n,"isPreviewableType",(function(){return T.b})),o.d(n,"isMediaCollectionItemFullDetails",(function(){return T.a})),o.d(n,"getArtifactUrl",(function(){return j})),o.d(n,"isUploadingFileState",(function(){return A.g})),o.d(n,"isProcessingFileState",(function(){return A.f})),o.d(n,"isProcessedFileState",(function(){return A.e})),o.d(n,"isErrorFileState",(function(){return A.a})),o.d(n,"isPreviewableFileState",(function(){return A.d})),o.d(n,"isFinalFileState",(function(){return A.b})),o.d(n,"isImageRepresentationReady",(function(){return A.c
})),o.d(n,"mapMediaFileToFileState",(function(){return A.h})),o.d(n,"mapMediaItemToFileState",(function(){return A.i})),o.d(n,"getFileStreamsCache",(function(){return M})),o.d(n,"StreamsCache",(function(){return C})),o.d(n,"uploadFile",(function(){return oe})),o.d(n,"isAbortedRequestError",(function(){return v})),o.d(n,"request",(function(){return d})),o.d(n,"mapResponseToJson",(function(){return p})),o.d(n,"mapResponseToBlob",(function(){return m})),o.d(n,"mapResponseToVoid",(function(){return f})),o.d(n,"createUrl",(function(){return h})),o.d(n,"FileFetcherImpl",(function(){return Ce})),o.d(n,"CollectionFetcher",(function(){return Be})),o.d(n,"MediaClient",(function(){return Ne})),o.d(n,"StargateClient",(function(){return De})),o.d(n,"isImageRemote",(function(){return $e})),o.d(n,"checkWebpSupport",(function(){return Ke})),o.d(n,"observableToPromise",(function(){return he})),o.d(n,"getMediaTypeFromMimeType",(function(){return me.a})),
o.d(n,"isImageMimeTypeSupportedByBrowser",(function(){return ge.c})),o.d(n,"isDocumentMimeTypeSupportedByBrowser",(function(){return ge.b})),o.d(n,"isMimeTypeSupportedByBrowser",(function(){return ge.d})),o.d(n,"isImageMimeTypeSupportedByServer",(function(){return ve.c})),o.d(n,"isDocumentMimeTypeSupportedByServer",(function(){return ve.b})),o.d(n,"isAudioMimeTypeSupportedByServer",(function(){return ve.a})),o.d(n,"isVideoMimeTypeSupportedByServer",(function(){return ve.f})),o.d(n,"isUnknownMimeTypeSupportedByServer",(function(){return ve.e})),o.d(n,"isMimeTypeSupportedByServer",(function(){return ve.d})),o.d(n,"createFileStateSubject",(function(){return ye})),o.d(n,"safeUnsubscribe",(function(){return Je})),o.d(n,"isFileIdentifier",(function(){return We.c})),o.d(n,"isExternalImageIdentifier",(function(){return We.b})),o.d(n,"isDifferentIdentifier",(function(){return We.a})),o.d(n,"withMediaClient",(function(){return Ye})),o.d(n,"getMediaClient",(function(){return Qe})),
o.d(n,"globalMediaEventEmitter",(function(){return ue.a})),o.d(n,"isMediaBlobUrl",(function(){return Ze.c})),o.d(n,"getAttrsFromUrl",(function(){return Ze.b})),o.d(n,"addFileAttrsToUrl",(function(){return Ze.a})),o.d(n,"objectToQueryString",(function(){return Ze.d})),o.d(n,"RECENTS_COLLECTION",(function(){return w.c})),o.d(n,"MAX_RESOLUTION",(function(){return w.b}));var i=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/query-string/index.js"),r=o("./node_modules/@atlaskit/media-core/dist/es2019/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends Error{constructor(e,t){super(e),this.message=e,this.statusCode=t}}const u=async e=>{if(e.ok||e.redirected)return e;{const t=await e.text();throw new l(`Got error code ${e.status}: ${t}`,e.status)}};function d(e,t={},n){const{method:o="GET",auth:i,params:r,headers:a,body:c,retryOptions:l={}}=t;return async function(e,t={}){const n=s(s({},y),t);let o=n.startTimeoutInMs;const i=async()=>{await(e=>new Promise((t=>{setTimeout(t,e)})))(o),o*=n.factor};for(let a=1;a<=n.attempts;a++)try{return await e()}catch(r){if(v(r))return Promise.reject(r);const e=a===n.attempts
;if(g(r)&&r.statusCode<500||e)return Promise.reject(new Error(`The call did not succeed after ${a} attempts. Last error is ${r.message}`));await i()}return Promise.reject(new Error("Exhaused all attempts"))}((()=>fetch(h(e,{params:r}),{method:o,body:c,headers:b(i)(a),signal:n&&n.signal}).then(u)),l)}function p(e){return e.json()}function m(e){return e.blob()}function f(){return Promise.resolve()}function h(e,{params:t,auth:n}){const{baseUrl:o,queryParams:a}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(i.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(r.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(i.stringify)(s(s(s({},a),t),c));return`${o}${l.length>0?`?${l}`:""}`}function b(e){return t=>e?s(s({},t||{}),function(e){return Object(r.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,
Authorization:`Bearer ${e.token}`}}(e)):t}const y={attempts:5,startTimeoutInMs:1e3,factor:2},g=e=>!(e instanceof TypeError),v=e=>"request_cancelled"===e.message||"AbortError"===e.name;const j=(e,t)=>{const n=e[t];if(n&&n.url)return n.url};var w=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/constants.js");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={"max-age":w.a,allowAnimated:!0,mode:"crop"},P={limit:30,sortDirection:"desc"},k=(e,t=!1)=>O(O(O({},S),e),t?{width:4096,height:4096}:{}),I={Accept:"application/json","Content-Type":"application/json"};class F{constructor(e,t){this.config=e,this.featureFlags=t,this.getFile=(e,t={})=>this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(p),this.getFileImageURL=async(e,t)=>{const n=await this.config.authProvider();return h(`${n.baseUrl}/file/${e}/image`,{params:k(t),auth:n})},this.getArtifactURL=async(e,t,n)=>{const o=j(e,t);if(!o)throw new Error(`artifact ${t} not found`);const i=await this.config.authProvider({collectionName:n});return h(`${i.baseUrl}${o}`,{params:{collection:n,"max-age":w.a},auth:i})},this.getImage=async(e,t,n,o)=>{let i;return this.request(`/file/${e}/image`,{headers:i,params:k(t,o),authContext:{collectionName:t&&t.collection}
},n).then(m)},this.getItems=(e,t)=>{const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),headers:I,authContext:{collectionName:t}}).then(p)},this.getImageMetadata=(e,t)=>this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(p)}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:O(O({},P),t),headers:{Accept:"application/json"}}),{data:{contents:o,nextInclusiveStartKey:i}}=await p(n);return{data:{contents:o.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:i}}}async removeCollectionFile(e,t,n){const o={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){
return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(p)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(f)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:I}).then(p)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:I}).then(p)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:I,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(p)}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return h(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":w.a},auth:n})}appendChunksToUpload(e,t,n){return this.request(`/upload/${e}/chunks`,{
method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:I}).then(f)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:I,params:t}).then(p)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:o}=this.config,{method:i,authContext:r,params:a,headers:s,body:c}=t,l=await o(r),u=await d(`${l.baseUrl}${e}`,{method:i,auth:l,params:a,headers:s,body:c},n);return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(u.headers.get("x-media-region")),u}}class E{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}
var T=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/models/media.js"),A=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js");class C{constructor(e){this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let U;const M=()=>{if(!U){const e=o("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;U=new C(e.streams)}return U}
;var R=o("./node_modules/rxjs/operators/tap.js"),L=o("./node_modules/rxjs/operators/concatMap.js"),B=o("./node_modules/rxjs/observable/fromPromise.js"),z=o("./node_modules/rxjs/Subject.js"),D=o("./node_modules/rxjs/observable/range.js"),N=o("./node_modules/rxjs/operators/map.js");var $=o("./node_modules/rxjs-async-map/out/index.js");function q(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const K=e=>function(e){const t=new FileReader;return new Promise(((n,o)=>{t.onload=function(){n(this.result)},t.onerror=o,t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(q);var J=o("./node_modules/rxjs/operators/bufferCount.js"),W=o("./node_modules/rxjs/observable/from.js");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=(e,t,n)=>Object(B.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e}(e)).pipe(Object(L.concatMap)((e=>{const{chunkSize:o}=t,{onProgress:i}=n,r=Math.ceil(e.size/o),a=function(e,{batchSize:t,prober:n}){return e.pipe(Object(J.bufferCount)(t),Object(L.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>H(H({},e),{},{exists:t[n]}))))))),Object(L.concatMap)((e=>Object(W.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object($.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`
}))))(t||K),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(D.range)(0,n).pipe(Object(N.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction});let s=0,c=((e,t)=>e.pipe(Object($.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(a,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return i&&(c=c.pipe(Object(R.tap)((()=>{s+=1,i(s/r)})))),((e,t)=>e.pipe(Object(J.bufferCount)(t.batchSize)).pipe(Object(L.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(c,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),Q=(e,t,n)=>function(e){const t=new z.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(X(e,t,n));let Y=null;const Z=async e=>(await(async()=>{if(!Y)try{
const{WorkerHasher:e}=await o.e("e8e4f795fd").then(o.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));Y=new e(3)}catch(e){const{SimpleHasher:t}=await o.e("42ed03f5c7").then(o.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));Y=new t}return Y})()).hash(e),ee=(e,t)=>async n=>{const o=(await e.probeChunks(ie(n),t)).data.results;return Object.values(o).map((e=>e.exists))},te=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),ne=(e,t,n)=>{let o=0;return async i=>{await e.appendChunksToUpload(await t,{chunks:ie(i),offset:o},n),o+=i.length}},oe=(e,t,n,o)=>{const{content:i,collection:r,name:a,mimeType:s}=e,{id:c,occurrenceKey:l,deferredUploadId:u}=n,{response:d,cancel:p}=Q(i,{hashingFunction:Z,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,
uploadingFunction:te(t,r),probingFunction:ee(t,r),processingBatchSize:1e3,processingFunction:ne(t,u,r)},{onProgress(e){o&&o.onProgress(e)}}),m=o&&o.onUploadFinish||(()=>{});return Promise.all([u,d]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:a,mimeType:s},{occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},ie=e=>e.map((e=>e.hash));var re=o("./node_modules/uuid/v4.js"),ae=o.n(re),se=o("./node_modules/dataloader/index.js"),ce=o.n(se),le=o("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js"),ue=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),de=o("./node_modules/uuid-validate/index.js"),pe=o.n(de),me=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js");const fe=(e,t)=>Object(A.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t
},he=e=>new Promise((t=>e.subscribe({next(e){t(e),this.unsubscribe()}})));var be=o("./node_modules/rxjs/ReplaySubject.js");const ye=e=>{const t=new be.ReplaySubject(1);return e&&t.next(e),t};var ge=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),ve=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js");const je=(e,t,n)=>("doc"===e||!Object(ge.d)(t)||!n)&&Object(ve.d)(t);var we=o("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?xe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se="Maximum attempts exceeded",Pe={poll_intervalMs:Object(we.a)("poll_intervalMs"),poll_maxAttempts:Object(we.a)("poll_maxAttempts"),poll_backoffFactor:Object(we.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(we.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(we.a)("poll_maxGlobalFailures")};class ke{constructor(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Oe(Oe({},Pe),e),this.poll_intervalMs=this.options.poll_intervalMs}async execute(t){const{poll_maxAttempts:n,poll_maxGlobalFailures:o}=this.options
;if(ke.failures>=o)return this.fail(new Error("Maximum failures exceeded"));if(0===n)return this.fail(new Error(Se));try{this.shouldIterate=!1,await t(),this.shouldIterate&&(this.attempt++,this.attempt<=n?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((()=>this.execute(t)),this.poll_intervalMs)):this.fail(new Error(Se)))}catch(e){this.fail(e)}}fail(e){const{onError:t}=this;ke.failures+=1,this.cancel(),t&&t(e)}getIntervalMsForIteration(e){let t=this.options.poll_intervalMs;if(1===e)return t;for(let n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}next(){this.shouldIterate=!0}cancel(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fe(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ke.failures=0;const Te=(e,t)=>t?`${e}-${t}`:e,Ae=e=>e.error instanceof Error;class Ce{constructor(e){this.mediaStore=e,this.batchLoadingFunc=async e=>{const t="__media-single-file-collection__",n=e.reduce(((e,n)=>{const o=n.collection||t,i=e[o]||[];return i.push(n.id),e[o]=i,e}),{}),o=[];return await Promise.all(Object.keys(n).map((async e=>{const i=n[e],r=e===t?void 0:e;try{const e=await this.mediaStore.getItems(i,r);o.push(...e.data.items)}catch(a){i.forEach((e=>{o.push({id:e,error:a||new Error("Failed to fetch"),collection:r})
}))}}))),((e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:o}=t;return e[Te(n,o)]=Ae(t)?t:t.details,e}),{});return e.map((e=>{const{id:t,collection:o}=e,i=Te(t,o);return n[i]}))})(e,o)},this.createDownloadFileStream=(e,t)=>{const n=ye(),o=this.mediaStore.featureFlags,i={poll_intervalMs:Object(we.a)("poll_intervalMs",o),poll_maxAttempts:Object(we.a)("poll_maxAttempts",o),poll_backoffFactor:Object(we.a)("poll_backoffFactor",o),poll_maxIntervalMs:Object(we.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},r=new ke(i);return r.onError=e=>n.error(e),r.execute((async()=>{const o=await this.dataloader.load({id:e,collection:t});if(!o)return;if(Ae(o))return void n.error(o);const i=Object(A.i)(e,o);switch(n.next(i),i.status){case"processing":r.next();break;case"processed":n.complete()}})),n},this.dataloader=new ce.a(this.batchLoadingFunc,{maxBatchSize:100})}getFileState(e,t){if(!pe()(e)){const e=ye();return e.error("invalid id was passed to getFileState"),e}
return M().getOrInsert(e,(()=>{const n=t&&t.collectionName;return this.createDownloadFileStream(e,n)}))}getCurrentState(e,t){return he(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){const t=ae()(),n=ae()(),o={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([o],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:o,occurrenceKey:i}=n,r=ye(),a=fetch(e).then((e=>e.blob())).catch((()=>{})),s=new Promise((async(e,t)=>{const n=await a;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:i,preview:s}
;return r.next(l),M().set(o,r),new Promise((async(e,l)=>{const u=await a;if(!u)return l("Could not download remote file");const{type:d,size:p}=u,m={content:u,mimeType:d,collection:t,name:c},f=Object(me.a)(d);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:d,id:o,occurrenceKey:i,preview:s}),this.upload(m,void 0,n);const h=await(e=>new Promise(((t,n)=>{const o=URL.createObjectURL(e),i=new Image;i.src=o,i.onload=()=>{const e={width:i.width,height:i.height};URL.revokeObjectURL(o),t(e)},i.onerror=n})))(u);e({dimensions:h,uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),o=[];for(let i=0;i<n.length;i+=512){const e=n.slice(i,i+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);o.push(r)}return new Blob(o,{type:"image/jpeg"})})(e.content));const{content:o,name:i="",collection:r}=e;n||(n=this.generateUploadableFileUpfrontIds(r));const a=n.id,s=n.occurrenceKey;let c,l="",u=0;const d=(e=>{
if(e.content instanceof Blob){const t=e.content.type;return Object(me.a)(t)}return"unknown"})(e),p=ye();let m;o instanceof Blob&&(u=o.size,l=o.type,Object(ge.d)(o.type)&&(c={value:o,origin:"local"}));const f={id:a,occurrenceKey:s,name:i,size:u,mediaType:d,mimeType:l,preview:c},h=e=>{p.next(Fe(Fe({status:"uploading"},f),{},{progress:e}))},{cancel:b}=oe(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;p.next({id:a,status:"error",message:t})}return p.error(e)}je(d,l,c)?m=this.createDownloadFileStream(a,r).subscribe({next:e=>p.next(Fe(Fe(Fe({},f),e),fe(e,d))),error:e=>p.error(e),complete:()=>p.complete()}):(p.next(Fe({status:"processing",representations:{}},f)),p.complete())},onProgress:h});return M().set(a,p),setTimeout((()=>{h(0)}),0),t&&t.setAbort((()=>{b(),m&&m.unsubscribe()})),p}async downloadBinary(e,t="download",n){const o=await this.mediaStore.getFileBinaryURL(e,n);Object(le.a)(o,{name:t}),ue.a.emit("media-viewed",{fileId:e,
isUserCollection:n===w.c,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:o,collection:i,id:a}=e,{authProvider:s,collection:c,replaceFileId:l,occurrenceKey:u}=t,{preview:d,mimeType:p}=n,m=t.mediaStore||new F({authProvider:s}),f={sourceFile:{id:a,collection:i,owner:Object(r.authToOwner)(await o({collectionName:i}))}},h={collection:c,replaceFileId:l,occurrenceKey:u},b=M();let y;try{const{data:e}=await m.copyFileWithToken(f,h),t=Fe(Fe({},e),p?{mimeType:p}:void 0),{id:n,mimeType:o}=t,i=o?Object(me.a)(o):"unknown",r=Object(A.h)({data:t}),a=b.get(n)||ye(),s=!Object(A.a)(r)&&d?{preview:d}:{};return!Object(A.b)(r)&&o&&je(i,o,d)?(a.next(Fe(Fe(Fe({},r),fe(r,i)),s)),y=this.createDownloadFileStream(n,c).subscribe({next:e=>a.next(Fe(Fe(Fe({},e),fe(e,i)),!Object(A.a)(e)&&s)),error:e=>a.error(e),complete:()=>a.complete()})):Object(A.f)(r)||a.next(Fe(Fe({},r),!Object(A.a)(r)&&s)),b.has(n)||M().set(n,a),e}catch(g){if(y&&y.unsubscribe(),l){const e={id:a,status:"error",
message:`error copying file to ${c}`},t=b.get(l);t?t.next(e):b.set(a,ye(e))}throw g}}}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Le={};class Be{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new be.ReplaySubject(1),o=Me({id:e},t),i=Object(A.h)({data:o});return n.next(i),n}populateCache(e){e.forEach((e=>{
const t=this.createFileStateObserver(e.id,e.details);M().set(e.id,t)}))}removeFromCache(e,t){const n=Le[t].items.findIndex((t=>t.id===e));-1!==n&&(M().remove(e),Le[t].items.splice(n,1))}getItems(e,t){Le[e]||(Le[e]=(()=>({items:[],subject:new be.ReplaySubject(1),isLoadingNextPage:!1}))());const n=Le[e],o=n.subject;return this.mediaStore.getCollectionItems(e,Me(Me({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:i}=e.data;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=i,o.next(n.items)})).catch((e=>o.error(e))),o}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const o=Le[t];o.subject.next(o.items)}async loadNextPage(e,t){const n=Le[e],o=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||o)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:i,items:r,subject:a}=Le[e],s=await this.mediaStore.getCollectionItems(e,Me(Me({},t),{},{inclusiveStartKey:i,details:"full"
})),{contents:c,nextInclusiveStartKey:l}=s.data;this.populateCache(c);const u=[...r,...s.data.contents];a.next(u),Le[e]={items:u,nextInclusiveStartKey:l,subject:a,isLoadingNextPage:!1}}}var ze=o("./node_modules/eventemitter2/lib/eventemitter2.js");class De{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}class Ne{constructor(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new F({authProvider:e.authProvider},t),this.config=e,this.collection=new Be(this.mediaStore),this.file=new Ce(this.mediaStore),this.eventEmitter=new ze.EventEmitter2,this.stargate=new De(e.stargateBaseUrl)}getImage(e,t,n,o){return this.mediaStore.getImage(e,t,n,o)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){
return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){return this.eventEmitter.emit(e,t)}}const $e=(e,t=window.location.origin)=>{if(URL&&URL.prototype){const n=new URL(e);return!!n.host&&n.origin!==t}return!0};let qe;const Ke=()=>void 0!==qe?Promise.resolve(qe):new Promise((e=>{const t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=()=>{qe=2===t.height,e(qe)}})),Je=e=>{console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((()=>e&&e.unsubscribe()),0)};var We=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/identifier.js"),Ge=o("./node_modules/react/index.js"),He=o.n(Ge);function Ve(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e)
;for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Xe=new Map,Qe=(e,t)=>{let n=Xe.get(e);return n||(n=new Ne(e,t),Xe.set(e,n)),n},Ye=(e,t)=>class extends He.a.Component{render(){const n=this.props,{mediaClientConfig:o}=n,i=Ve(n,["mediaClientConfig"]),r=o?Qe(o,t):(e=>new Ne({authProvider:()=>Promise.resolve({clientId:"",token:"",baseUrl:""})},e))(t);return He.a.createElement(e,Object.assign({},i,{mediaClient:r}))}};var Ze=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/url.js")},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f}))
;const a=e=>"uploading"===e.status,s=e=>"processing"===e.status,c=e=>"processed"===e.status,l=e=>"error"===e.status,u=e=>!l(e)&&!!e.preview,d=e=>["processed","failed-processing","error"].includes(e.status),p=e=>{switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},m=e=>{const{id:t,name:n,size:o,processingStatus:r,artifacts:a,mediaType:s,mimeType:c,representations:l,createdAt:u}=e.data,d={id:t,name:n,size:o,mediaType:s,mimeType:c,artifacts:a,representations:l,createdAt:u};switch(r){case"pending":case void 0:return i(i({},d),{},{status:"processing"});case"succeeded":return i(i({},d),{},{status:"processed"});case"failed":return i(i({},d),{},{status:"failed-processing"})}},f=(e,t)=>m({data:i({id:e},t)})},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i
})),n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js");const i=(e,t)=>{const n=["audio","video","image"];return Object(o.a)("newCardExperience",t)?[...n,"doc"].indexOf(e)>-1:n.indexOf(e)>-1},r=e=>!!e.mediaType&&!!e.mimeType&&!!e.processingStatus},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js")
;const r=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":Object(o.c)(e)||Object(i.c)(e)?"image":Object(o.b)(e)||Object(i.b)(e)?"doc":Object(o.a)(e)||Object(i.a)(e)?"audio":Object(o.e)(e)||Object(i.f)(e)?"video":"unknown"
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));const o=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,i=e=>"application/pdf"===e.toLowerCase(),r=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,a=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,s=e=>i(e)||o(e)||r(e)||a(e)},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),
n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}))
;const o=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,i=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,r=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,a=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,s=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,c=e=>o(e)||i(e)||r(e)||a(e)||s(e)
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/@atlaskit/media-client/dist/es2019/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/url-search-params/build/url-search-params.node.js"),i=n.n(o);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="media-blob-url",l=e=>e.indexOf("media-blob-url=true")>-1,u=(e,t)=>{const n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},d=(e,t)=>{const n=e.get(t);if(n)return decodeURIComponent(n)},p=e=>{const t=new URL(e).hash.replace("#",""),n=new i.a(t),o=n.get("id"),r=n.get("contextId");if(o&&r)return{id:o,contextId:r,collection:d(n,"collection"),alt:d(n,"alt"),height:u(n,"height"),width:u(n,"width"),size:u(n,"size"),name:d(n,"name"),mimeType:d(n,"mimeType")}},m=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const n=e[t];if(null!=n)return`${encodeURIComponent(t)}=${encodeURIComponent(n.toString())}`})).join("&"),f=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const n=a(a({},{[c]:"true"}),t);return`${e}#${m(n)}`}},
"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-card/node_modules/query-string/index.js":function(e,t,n){"use strict";var o=n("./node_modules/strict-uri-encode/index.js"),i=n("./node_modules/object-assign/index.js"),r=n("./node_modules/decode-uri-component/index.js");function a(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return function(e,n,o){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}
}(t=i({arrayFormat:"none"},t)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:r(a),n(r(i),a,o)})),Object.keys(o).sort().reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e}),Object.create(null))):o}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,o){return null===n?[a(t,e),"[",o,"]"].join(""):[a(t,e),"[",a(o,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(o){var i=e[o];if(void 0===i)return""
;if(null===i)return a(o,t);if(Array.isArray(i)){var r=[];return i.slice().forEach((function(e){void 0!==e&&r.push(n(o,e,r.length))})),r.join("&")}return a(o,t)+"="+a(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("./node_modules/rxjs/ReplaySubject.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class u{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new o.ReplaySubject(1),r=s({id:e},t),a=Object(i.h)({data:r});return n.next(a),n}populateCache(e){e.forEach((e=>{const t=this.createFileStateObserver(e.id,e.details);Object(r.b)().set(e.id,t)}))}removeFromCache(e,t){const n=l[t].items.findIndex((t=>t.id===e));-1!==n&&(Object(r.b)().remove(e),l[t].items.splice(n,1))}getItems(e,t){l[e]||(l[e]=(()=>({items:[],subject:new o.ReplaySubject(1),isLoadingNextPage:!1}))());const n=l[e],i=n.subject
;return this.mediaStore.getCollectionItems(e,s(s({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:o}=e.data;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=o,i.next(n.items)})).catch((e=>i.error(e))),i}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const o=l[t];o.subject.next(o.items)}async loadNextPage(e,t){const n=l[e],o=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||o)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:i,items:r,subject:a}=l[e],c=await this.mediaStore.getCollectionItems(e,s(s({},t),{},{inclusiveStartKey:i,details:"full"})),{contents:u,nextInclusiveStartKey:d}=c.data;this.populateCache(u);const p=[...r,...c.data.contents];a.next(p),l[e]={items:p,nextInclusiveStartKey:d,subject:a,isLoadingNextPage:!1}}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js":function(t,n,o){"use strict"
;o.d(n,"a",(function(){return E}))
;var i=o("./node_modules/uuid/v4.js"),r=o.n(i),a=o("./node_modules/dataloader/index.js"),s=o.n(a),c=o("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),l=o("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js"),u=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),d=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),p=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),m=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),f=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js"),h=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),b=o("./node_modules/uuid-validate/index.js"),y=o.n(b),g=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js")
;const v=(e,t)=>Object(u.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t};var j=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js");var w=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js"),x=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),O=o("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js");const _=(e,t,n)=>("doc"===e||!Object(x.d)(t)||!n)&&Object(O.d)(t);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(e,t)=>t?`${e}-${t}`:e,F=e=>e.error instanceof Error;class E{constructor(t){this.mediaStore=t,this.batchLoadingFunc=async e=>{const t="__media-single-file-collection__",n=e.reduce(((e,n)=>{const o=n.collection||t,i=e[o]||[];return i.push(n.id),e[o]=i,e}),{}),o=[];return await Promise.all(Object.keys(n).map((async e=>{const i=n[e],r=e===t?void 0:e;try{const e=await this.mediaStore.getItems(i,r);o.push(...e.data.items)}catch(a){i.forEach((e=>{o.push({id:e,error:a||new Error("Failed to fetch"),collection:r})}))}}))),((e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:o}=t
;return e[I(n,o)]=F(t)?t:t.details,e}),{});return e.map((e=>{const{id:t,collection:o}=e,i=I(t,o);return n[i]}))})(e,o)},this.createDownloadFileStream=(t,n)=>{const o=Object(w.a)();let i;const r=async()=>{try{const e=await this.dataloader.load({id:t,collection:n});if(!e)return;if(F(e))return void o.error(e);const a=Object(u.i)(t,e);o.next(a),"processing"===a.status?i=window.setTimeout(r,6e3):o.complete()}catch(e){window.clearTimeout(i),o.error(e)}};return r(),o},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}getFileState(e,t){if(!y()(e)){const e=Object(w.a)();return e.error("invalid id was passed to getFileState"),e}return Object(d.b)().getOrInsert(e,(()=>{const n=t&&t.collectionName;return this.createDownloadFileStream(e,n)}))}getCurrentState(e,t){return Object(j.a)(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){
return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){const t=r()(),n=r()(),o={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([o],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:o,occurrenceKey:i}=n,r=Object(w.a)(),a=fetch(e).then((e=>e.blob())).catch((()=>{})),s=new Promise((async(e,t)=>{const n=await a;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:i,preview:s};return r.next(l),Object(d.b)().set(o,r),new Promise((async(e,l)=>{const u=await a;if(!u)return l("Could not download remote file");const{type:d,size:p}=u,m={content:u,mimeType:d,collection:t,name:c},f=Object(g.a)(d);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:d,id:o,occurrenceKey:i,preview:s
}),this.upload(m,void 0,n);const h=await(e=>new Promise(((t,n)=>{const o=URL.createObjectURL(e),i=new Image;i.src=o,i.onload=()=>{const e={width:i.width,height:i.height};URL.revokeObjectURL(o),t(e)},i.onerror=n})))(u);e({dimensions:h,uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),o=[];for(let i=0;i<n.length;i+=512){const e=n.slice(i,i+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);o.push(r)}return new Blob(o,{type:"image/jpeg"})})(e.content));const{content:o,name:i="",collection:r}=e;n||(n=this.generateUploadableFileUpfrontIds(r));const a=n.id,s=n.occurrenceKey;let c,l="",u=0;const m=(e=>{if(e.content instanceof Blob){const t=e.content.type;return Object(g.a)(t)}return"unknown"})(e),f=Object(w.a)();let h;o instanceof Blob&&(u=o.size,l=o.type,Object(x.d)(o.type)&&(c={value:o,origin:"local"}));const b={id:a,occurrenceKey:s,name:i,size:u,mediaType:m,mimeType:l,preview:c},y=e=>{f.next(P(P({
status:"uploading"},b),{},{progress:e}))},{cancel:j}=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;f.next({id:a,status:"error",message:t})}return f.error(e)}_(m,l,c)?h=this.createDownloadFileStream(a,r).subscribe({next:e=>f.next(P(P(P({},b),e),v(e,m))),error:e=>f.error(e),complete:()=>f.complete()}):(f.next(P({status:"processing",representations:{}},b)),f.complete())},onProgress:y});return Object(d.b)().set(a,f),setTimeout((()=>{y(0)}),0),t&&t.setAbort((()=>{j(),h&&h.unsubscribe()})),f}async downloadBinary(e,t="download",n){const o=await this.mediaStore.getFileBinaryURL(e,n);Object(l.a)(o,{name:t}),m.a.emit("media-viewed",{fileId:e,isUserCollection:n===f.c,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:o,collection:i,id:r}=e,{authProvider:a,collection:s,replaceFileId:l,occurrenceKey:p}=t,{preview:m,mimeType:f}=n,b=t.mediaStore||new h.a({authProvider:a}),y={sourceFile:{id:r,collection:i,
owner:Object(c.authToOwner)(await o({collectionName:i}))}},j={collection:s,replaceFileId:l,occurrenceKey:p},x=Object(d.b)();let O;try{const{data:e}=await b.copyFileWithToken(y,j),t=P(P({},e),f?{mimeType:f}:void 0),{id:n,mimeType:o}=t,i=o?Object(g.a)(o):"unknown",r=Object(u.h)({data:t}),a=x.get(n)||Object(w.a)(),c=!Object(u.a)(r)&&m?{preview:m}:{};return!Object(u.b)(r)&&o&&_(i,o,m)?(a.next(P(P(P({},r),v(r,i)),c)),O=this.createDownloadFileStream(n,s).subscribe({next:e=>a.next(P(P(P({},e),v(e,i)),!Object(u.a)(e)&&c)),error:e=>a.error(e),complete:()=>a.complete()})):Object(u.f)(r)||a.next(P(P({},r),!Object(u.a)(r)&&c)),x.has(n)||Object(d.b)().set(n,a),e}catch(S){if(O&&O.unsubscribe(),l){const e={id:r,status:"error",message:`error copying file to ${s}`},t=x.get(l);t?t.next(e):x.set(r,Object(w.a)(e))}throw S}}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}))
;var o=n("./node_modules/eventemitter2/lib/eventemitter2.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js");class c{constructor(e){this.mediaClientConfig=e,this.mediaStore=new i.a({authProvider:e.authProvider}),this.config=e,this.collection=new r.a(this.mediaStore),this.file=new a.a(this.mediaStore),this.eventEmitter=new o.EventEmitter2,this.stargate=new s.a(e.stargateBaseUrl)}getImage(e,t,n,o){return this.mediaStore.getImage(e,t,n,o)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){
return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){return this.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={"max-age":r.a,allowAnimated:!0,mode:"crop"},u={limit:30,sortDirection:"desc"},d=(e,t=!1)=>s(s(s({},l),e),t?{width:4096,height:4096}:{}),p={Accept:"application/json","Content-Type":"application/json"};class m{constructor(e){this.config=e,this.getFile=(e,t={})=>this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(o.d),this.getFileImageURL=async(e,t)=>{const n=await this.config.authProvider();return Object(o.a)(`${n.baseUrl}/file/${e}/image`,{params:d(t),auth:n})},this.getArtifactURL=async(e,t,n)=>{const a=Object(i.a)(e,t);if(!a)throw new Error(`artifact ${t} not found`)
;const s=await this.config.authProvider({collectionName:n});return Object(o.a)(`${s.baseUrl}${a}`,{params:{collection:n,"max-age":r.a},auth:s})},this.getImage=async(e,t,n,i)=>{let r;return this.request(`/file/${e}/image`,{headers:r,params:d(t,i),authContext:{collectionName:t&&t.collection}},n).then(o.c)},this.getItems=(e,t)=>{const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),headers:p,authContext:{collectionName:t}}).then(o.d)},this.getImageMetadata=(e,t)=>this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(o.d)}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:s(s({},u),t),headers:{Accept:"application/json"}}),{data:{contents:i,nextInclusiveStartKey:r}}=await Object(o.d)(n);return{data:{contents:i.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:r}}}
async removeCollectionFile(e,t,n){const o={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(o.d)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(o.e)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:p}).then(o.d)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:p}).then(o.d)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:p,
body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(o.d)}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return Object(o.a)(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":r.a},auth:n})}appendChunksToUpload(e,t,n){return this.request(`/upload/${e}/chunks`,{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:p}).then(o.e)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:p,params:t}).then(o.d)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:i}=this.config,{method:r,authContext:a,params:s,headers:c,body:l}=t,u=await i(a),d=await Object(o.f)(`${u.baseUrl}${e}`,{method:r,auth:u,params:s,headers:c,body:l},n);return function(e){if(!e||!window||!window.sessionStorage)return
;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(d.headers.get("x-media-region")),d}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const o="recents",i=2592e3,r=4096},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js":function(e,t,n){
"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));class o{constructor(e){this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let i;const r=()=>{if(!i){const e=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;i=new o(e.streams)}return i}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");const i={on(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.on(e,t)},off(e,t){o.mediaState.eventEmitter&&o.mediaState.eventEmitter.off(e,t)},emit(e,t){
if(o.mediaState.eventEmitter)return o.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MediaStore",(function(){return o.a})),n.d(t,"UploadController",(function(){return i.a})),n.d(t,"isPreviewableType",(function(){return r.b})),n.d(t,"isMediaCollectionItemFullDetails",(function(){return r.a})),n.d(t,"getArtifactUrl",(function(){return a.a})),n.d(t,"isUploadingFileState",(function(){return s.g})),n.d(t,"isProcessingFileState",(function(){return s.f})),n.d(t,"isProcessedFileState",(function(){return s.e})),n.d(t,"isErrorFileState",(function(){return s.a})),n.d(t,"isPreviewableFileState",(function(){return s.d})),n.d(t,"isFinalFileState",(function(){return s.b})),n.d(t,"isImageRepresentationReady",(function(){return s.c})),n.d(t,"mapMediaFileToFileState",(function(){return s.h})),n.d(t,"mapMediaItemToFileState",(function(){return s.i})),
n.d(t,"getFileStreamsCache",(function(){return c.b})),n.d(t,"StreamsCache",(function(){return c.a})),n.d(t,"uploadFile",(function(){return l.a})),n.d(t,"isAbortedRequestError",(function(){return u.b})),n.d(t,"request",(function(){return u.f})),n.d(t,"mapResponseToJson",(function(){return u.d})),n.d(t,"mapResponseToBlob",(function(){return u.c})),n.d(t,"mapResponseToVoid",(function(){return u.e})),n.d(t,"createUrl",(function(){return u.a})),n.d(t,"FileFetcherImpl",(function(){return d.a})),n.d(t,"CollectionFetcher",(function(){return p.a})),n.d(t,"MediaClient",(function(){return m.a})),n.d(t,"StargateClient",(function(){return f.a})),n.d(t,"isImageRemote",(function(){return h})),n.d(t,"checkWebpSupport",(function(){return y})),n.d(t,"observableToPromise",(function(){return g.a})),n.d(t,"getMediaTypeFromMimeType",(function(){return v.a})),n.d(t,"isImageMimeTypeSupportedByBrowser",(function(){return j.c})),n.d(t,"isDocumentMimeTypeSupportedByBrowser",(function(){return j.b})),
n.d(t,"isMimeTypeSupportedByBrowser",(function(){return j.d})),n.d(t,"isImageMimeTypeSupportedByServer",(function(){return w.c})),n.d(t,"isDocumentMimeTypeSupportedByServer",(function(){return w.b})),n.d(t,"isAudioMimeTypeSupportedByServer",(function(){return w.a})),n.d(t,"isVideoMimeTypeSupportedByServer",(function(){return w.f})),n.d(t,"isUnknownMimeTypeSupportedByServer",(function(){return w.e})),n.d(t,"isMimeTypeSupportedByServer",(function(){return w.d})),n.d(t,"createFileStateSubject",(function(){return x.a})),n.d(t,"safeUnsubscribe",(function(){return O})),n.d(t,"isFileIdentifier",(function(){return P})),n.d(t,"isExternalImageIdentifier",(function(){return k})),n.d(t,"isDifferentIdentifier",(function(){return I})),n.d(t,"withMediaClient",(function(){return U})),n.d(t,"getMediaClient",(function(){return C})),n.d(t,"globalMediaEventEmitter",(function(){return M.a})),n.d(t,"isMediaBlobUrl",(function(){return R.c})),n.d(t,"getAttrsFromUrl",(function(){return R.b})),
n.d(t,"addFileAttrsToUrl",(function(){return R.a})),n.d(t,"objectToQueryString",(function(){return R.d})),n.d(t,"RECENTS_COLLECTION",(function(){return L.c})),n.d(t,"MAX_RESOLUTION",(function(){return L.b}))
;var o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/media.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),c=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),l=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),u=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js"),d=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),p=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),m=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js"),f=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js")
;const h=(e,t=window.location.origin)=>{if(URL&&URL.prototype){const n=new URL(e);return!!n.host&&n.origin!==t}return!0};let b;const y=()=>void 0!==b?Promise.resolve(b):new Promise((e=>{const t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=()=>{b=2===t.height,e(b)}}));var g=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js"),v=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js"),j=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),w=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js"),x=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js")
;const O=e=>{console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((()=>e&&e.unsubscribe()),0)};var _=n("./node_modules/deep-equal/index.js"),S=n.n(_);const P=e=>"file"===e.mediaItemType,k=e=>"external-image"===e.mediaItemType,I=(e,t)=>P(e)&&P(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!S()(e,t);var F=n("./node_modules/react/index.js"),E=n.n(F);function T(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const A=new Map,C=e=>{let t=A.get(e);return t||(t=new m.a(e),A.set(e,t)),t},U=e=>class extends E.a.Component{render(){
const t=this.props,{mediaClientConfig:n}=t,o=T(t,["mediaClientConfig"]),i=n?C(n):(()=>{const e={authProvider:()=>Promise.resolve({clientId:"",token:"",baseUrl:""})};return new m.a(e)})();return E.a.createElement(e,Object.assign({},o,{mediaClient:i}))}};var M=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),R=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/url.js"),L=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js")},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>{const n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f}))
;const a=e=>"uploading"===e.status,s=e=>"processing"===e.status,c=e=>"processed"===e.status,l=e=>"error"===e.status,u=e=>!l(e)&&!!e.preview,d=e=>["processed","failed-processing","error"].includes(e.status),p=e=>{switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},m=e=>{const{id:t,name:n,size:o,processingStatus:r,artifacts:a,mediaType:s,mimeType:c,representations:l,createdAt:u}=e.data,d={id:t,name:n,size:o,mediaType:s,mimeType:c,artifacts:a,representations:l,createdAt:u};switch(r){case"pending":case void 0:return i(i({},d),{},{status:"processing"});case"succeeded":return i(i({},d),{},{status:"processed"});case"failed":return i(i({},d),{},{status:"failed-processing"})}},f=(e,t)=>m({data:i({id:e},t)})},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i
}));const o=e=>["audio","video","image","doc"].indexOf(e)>-1,i=e=>!!e.mediaType&&!!e.mimeType&&!!e.processingStatus},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var o=n("./node_modules/rxjs/operators/tap.js"),i=n("./node_modules/rxjs/operators/concatMap.js"),r=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js");var l=n("./node_modules/rxjs-async-map/out/index.js");function u(e){
return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const d=e=>function(e){const t=new FileReader;return new Promise(((n,o)=>{t.onload=function(){n(this.result)},t.onerror=o,t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(u);var p=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=(e,t,n)=>Object(r.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e}(e)).pipe(Object(i.concatMap)((e=>{const{chunkSize:r}=t,{onProgress:a}=n,u=Math.ceil(e.size/r),f=function(e,{batchSize:t,prober:n}){return e.pipe(Object(p.bufferCount)(t),Object(i.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>h(h({},e),{},{exists:t[n]}))))))),Object(i.concatMap)((e=>Object(m.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object(l.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`}))))(t||d),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(s.range)(0,n).pipe(Object(c.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:r}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction})
;let b=0,y=((e,t)=>e.pipe(Object(l.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(f,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(y=y.pipe(Object(o.tap)((()=>{b+=1,a(b/u)})))),((e,t)=>e.pipe(Object(p.bufferCount)(t.batchSize)).pipe(Object(i.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(y,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),g=(e,t,n)=>function(e){const t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(y(e,t,n));let v=null;const j=async e=>(await(async()=>{if(!v)try{const{WorkerHasher:e}=await n.e("a4c3b24d51").then(n.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));v=new e(3)}catch(e){
const{SimpleHasher:t}=await n.e("346053b98c").then(n.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));v=new t}return v})()).hash(e),w=(e,t)=>async n=>{const o=(await e.probeChunks(S(n),t)).data.results;return Object.values(o).map((e=>e.exists))},x=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),O=(e,t,n)=>{let o=0;return async i=>{await e.appendChunksToUpload(await t,{chunks:S(i),offset:o},n),o+=i.length}},_=(e,t,n,o)=>{const{content:i,collection:r,name:a,mimeType:s}=e,{id:c,occurrenceKey:l,deferredUploadId:u}=n,{response:d,cancel:p}=g(i,{hashingFunction:j,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:x(t,r),probingFunction:w(t,r),processingBatchSize:1e3,processingFunction:O(t,u,r)},{onProgress(e){o&&o.onProgress(e)}}),m=o&&o.onUploadFinish||(()=>{});return Promise.all([u,d]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:a,mimeType:s},{
occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},S=e=>e.map((e=>e.hash))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/rxjs/ReplaySubject.js");const i=e=>{const t=new o.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js")
;const r=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":Object(o.c)(e)||Object(i.c)(e)?"image":Object(o.b)(e)||Object(i.b)(e)?"doc":Object(o.a)(e)||Object(i.a)(e)?"audio":Object(o.e)(e)||Object(i.f)(e)?"video":"unknown"
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));const o=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,i=e=>"application/pdf"===e.toLowerCase(),r=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,a=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,s=e=>i(e)||o(e)||r(e)||a(e)},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),
n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}))
;const o=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,i=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,r=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,a=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,s=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,c=e=>o(e)||i(e)||r(e)||a(e)||s(e)
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>new Promise((t=>e.subscribe({next(e){t(e),this.unsubscribe()}})))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/node_modules/query-string/index.js"),i=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n
}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(e,t){super(e),this.message=e,this.statusCode=t}}const l=async e=>{if(e.ok||e.redirected)return e;{const t=await e.text();throw new c(`Got error code ${e.status}: ${t}`,e.status)}};function u(e,t={},n){const{method:o="GET",auth:i,params:r,headers:s,body:c,retryOptions:u={}}=t;return async function(e,t={}){const n=a(a({},b),t);let o=n.startTimeoutInMs;const i=async()=>{await(e=>new Promise((t=>{setTimeout(t,e)})))(o),o*=n.factor};for(let a=1;a<=n.attempts;a++)try{return await e()}catch(r){
if(g(r))return Promise.reject(r);const e=a===n.attempts;if(y(r)&&r.statusCode<500||e)return Promise.reject(new Error(`The call did not succeed after ${a} attempts. Last error is ${r.message}`));await i()}return Promise.reject(new Error("Exhaused all attempts"))}((()=>fetch(f(e,{params:r}),{method:o,body:c,headers:h(i)(s),signal:n&&n.signal}).then(l)),u)}function d(e){return e.json()}function p(e){return e.blob()}function m(){return Promise.resolve()}function f(e,{params:t,auth:n}){const{baseUrl:r,queryParams:s}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(o.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(i.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(o.stringify)(a(a(a({},s),t),c));return`${r}${l.length>0?`?${l}`:""}`}function h(e){return t=>e?a(a({},t||{}),function(e){return Object(i.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,
Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,Authorization:`Bearer ${e.token}`}}(e)):t}const b={attempts:5,startTimeoutInMs:1e3,factor:2},y=e=>!(e instanceof TypeError),g=e=>"request_cancelled"===e.message||"AbortError"===e.name},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f}));var o=n("./node_modules/@atlassian/ptc-common/node_modules/url-search-params/build/url-search-params.node.js"),i=n.n(o);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="media-blob-url",l=e=>e.indexOf("media-blob-url=true")>-1,u=(e,t)=>{const n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},d=(e,t)=>{const n=e.get(t);if(n)return decodeURIComponent(n)},p=e=>{const t=new URL(e).hash.replace("#",""),n=new i.a(t),o=n.get("id"),r=n.get("contextId");if(o&&r)return{id:o,contextId:r,collection:d(n,"collection"),alt:d(n,"alt"),height:u(n,"height"),width:u(n,"width"),size:u(n,"size"),name:d(n,"name"),mimeType:d(n,"mimeType")}},m=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const n=e[t];if(null!=n)return`${encodeURIComponent(t)}=${encodeURIComponent(n.toString())}`
})).join("&"),f=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const n=a(a({},{[c]:"true"}),t);return`${e}#${m(n)}`}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/node_modules/query-string/index.js":function(e,t,n){"use strict";var o=n("./node_modules/strict-uri-encode/index.js"),i=n("./node_modules/object-assign/index.js"),r=n("./node_modules/decode-uri-component/index.js");function a(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return function(e,n,o){t=/(\[\])$/.exec(e),
e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:r(a),n(r(i),a,o)})),Object.keys(o).sort().reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e}),Object.create(null))):o}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,o){return null===n?[a(t,e),"[",o,"]"].join(""):[a(t,e),"[",a(o,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){
return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(o){var i=e[o];if(void 0===i)return"";if(null===i)return a(o,t);if(Array.isArray(i)){var r=[];return i.slice().forEach((function(e){void 0!==e&&r.push(n(o,e,r.length))})),r.join("&")}return a(o,t)+"="+a(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},"./node_modules/@atlassian/ptc-common/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,i,r,a,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(r=e.split("&")).length;a<s;a++)-1<(t=(i=r[a]).indexOf("="))?u(c,d(i.slice(0,t)),d(i.slice(t+1))):i.length&&u(c,d(i),"");else if(o(e))for(a=0,s=e.length;a<s;a++)u(c,(i=e[a])[0],i[1]);else for(n in e)u(c,n,e[n])}var o=Array.isArray,i=n.prototype,r=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=o(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(r,c)}i.append=function(e,t){u(this[l],e,t)},i.delete=function(e){delete this[l][e]},i.get=function(e){var t=this[l];return e in t?t[e][0]:null},i.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},i.has=function(e){return e in this[l]},i.set=function(e,t){
this[l][e]=[""+t]},i.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(o){n[o].forEach((function(n){e.call(t,n,o,this)}),this)}),this)},i.toJSON=function(){return{}},i.toString=function(){var e,t,n,o,i=this[l],r=[];for(t in i)for(n=p(t),e=0,o=i[t];e<o.length;e++)r.push(n+"="+p(o[e]));return r.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(o){o.length&&!(o in n)&&(n[o]=this.getAll(o)).forEach((function(n){e.call(t,n,o,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift()
;return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,o=this.entries(),i=o.next(),r=i.done,a=[],s=Object.create(null);!r;)t=(n=i.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),r=(i=o.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var o,i=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),
"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,o=!n||!1!==n.batch,i=!n||!1!==n.cache,s=n&&n.cacheKeyFn,c=s?s(e):e;if(i){var l=this._promiseCache.get(c);if(l)return l}var u=new Promise((function(n,i){t._queue.push({key:e,resolve:n,reject:i}),1===t._queue.length&&(o?r((function(){return a(t)})):a(t))}));return i&&this._promiseCache.set(c,u),u},e.prototype.loadMany=function(e){
var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,o=n?n(e):e;if(void 0===this._promiseCache.get(o)){var i=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(o,i)}return this},e}(),r="object"==typeof t&&"function"==typeof t.nextTick?function(e){o||(o=Promise.resolve()),o.then((function(){return t.nextTick(e)}))}:n||setTimeout;function a(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize;if(n&&n>0&&n<t.length)for(var o=0;o<t.length/n;o++)s(e,t.slice(o*n,(o+1)*n));else s(e,t)}function s(e,t){var n=t.map((function(e){
return e.key})),o=(0,e._batchLoadFn)(n);if(!o||"function"!=typeof o.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(o)+"."));o.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var o=t.resolve,i=t.reject,r=e[n];r instanceof Error?i(r):o(r)}))})).catch((function(n){return c(e,t,n)}))}function c(e,t,n){t.forEach((function(t){var o=t.key,i=t.reject
;e.clear(o),i(n)}))}e.exports=i}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/deep-equal/index.js":function(t,n,o){var i=o("./node_modules/object-keys/index.js"),r=o("./node_modules/is-arguments/index.js"),a=o("./node_modules/object-is/index.js"),s=o("./node_modules/is-regex/index.js"),c=o("./node_modules/regexp.prototype.flags/index.js"),l=o("./node_modules/is-date-object/index.js"),u=Date.prototype.getTime;function d(t,n,o){var f=o||{};return!!(f.strict?a(t,n):t===n)||(!t||!n||"object"!=typeof t&&"object"!=typeof n?f.strict?a(t,n):t==n:function(t,n,o){var a,f;if(typeof t!=typeof n)return!1;if(p(t)||p(n))return!1;if(t.prototype!==n.prototype)return!1;if(r(t)!==r(n))return!1;var h=s(t),b=s(n);if(h!==b)return!1;if(h||b)return t.source===n.source&&c(t)===c(n);if(l(t)&&l(n))return u.call(t)===u.call(n);var y=m(t),g=m(n);if(y!==g)return!1;if(y||g){if(t.length!==n.length)return!1
;for(a=0;a<t.length;a++)if(t[a]!==n[a])return!1;return!0}if(typeof t!=typeof n)return!1;try{var v=i(t),j=i(n)}catch(e){return!1}if(v.length!==j.length)return!1;for(v.sort(),j.sort(),a=v.length-1;a>=0;a--)if(v[a]!=j[a])return!1;for(a=v.length-1;a>=0;a--)if(!d(t[f=v[a]],n[f],o))return!1;return!0}(t,n,f))}function p(e){return null==e}function m(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}t.exports=d},"./node_modules/define-properties/index.js":function(t,n,o){"use strict";var i=o("./node_modules/object-keys/index.js"),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,s=Array.prototype.concat,c=Object.defineProperty,l=c&&function(){var t={};try{for(var n in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(e){return!1}}(),u=function(e,t,n,o){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===a.call(e)
}(o)&&o())&&(l?c(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);r&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)u(e,o[a],t[o[a]],n[o[a]])};d.supportsDescriptors=!!l,t.exports=d},"./node_modules/es-abstract/GetIntrinsic.js":function(t,n,o){"use strict";var i,r=TypeError,a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var s=function(){throw new r},c=a?function(){try{return s}catch(e){try{return a(arguments,"callee").get}catch(t){return s}}}():s,l=o("./node_modules/has-symbols/index.js")(),u=Object.getPrototypeOf||function(e){return e.__proto__},d=i,p=i,m=i,f=i,h="undefined"==typeof Uint8Array?i:u(Uint8Array),b={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?u([][Symbol.iterator]()):i,"%ArrayPrototype%":Array.prototype,
"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncFunctionPrototype%":i,"%AsyncGenerator%":i,"%AsyncGeneratorFunction%":m,"%AsyncGeneratorPrototype%":i,"%AsyncIteratorPrototype%":f&&l&&Symbol.asyncIterator?f[Symbol.asyncIterator]():i,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?i:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?i:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,
"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?i:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?i:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":i,"%GeneratorFunction%":d,"%GeneratorPrototype%":i,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?i:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?i:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?i:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?u(u([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,
"%JSONParse%":"object"==typeof JSON?JSON.parse:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?u((new Map)[Symbol.iterator]()):i,"%MapPrototype%":"undefined"==typeof Map?i:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%PromisePrototype%":"undefined"==typeof Promise?i:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?i:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?i:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?i:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?i:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,
"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?u((new Set)[Symbol.iterator]()):i,"%SetPrototype%":"undefined"==typeof Set?i:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?u(""[Symbol.iterator]()):i,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:i,"%SymbolPrototype%":l?Symbol.prototype:i,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypedArrayPrototype%":h?h.prototype:i,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,
"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?i:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?i:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?i:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?i:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?i:WeakSet.prototype
},y=o("./node_modules/function-bind/index.js").call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,v=/\\(\\)?/g,j=function(e){var t=[];return y(e,g,(function(e,n,o,i){t[t.length]=o?y(i,v,"$1"):n||e})),t},w=function(e,t){if(!(e in b))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===b[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return b[e]};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=j(e),o=w("%"+(n.length>0?n[0]:"")+"%",t),i=1;i<n.length;i+=1)if(null!=o)if(a&&i+1>=n.length){var s=a(o,n[i]);if(!t&&!(n[i]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[i]]}else o=o[n[i]]
;return o}},"./node_modules/es-abstract/helpers/callBind.js":function(e,t,n){"use strict";var o=n("./node_modules/function-bind/index.js"),i=n("./node_modules/es-abstract/GetIntrinsic.js")("%Function%"),r=i.apply,a=i.call;e.exports=function(){return o.apply(a,arguments)},e.exports.apply=function(){return o.apply(r,arguments)}},"./node_modules/eventemitter2/lib/eventemitter2.js":function(e,t,n){(function(o){var i;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(r){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==r?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==o&&o.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,o.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,
c.call(this,e)}function d(e,t,n,o){if(!n)return[];var i,r,a,s,c,l,u,p=[],m=t.length,f=t[o],h=t[o+1];if(o===m&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,r=n._listeners.length;i<r;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===f||"**"===f||n[f]){if("*"===f){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(d(e,t,n[a],o+1)));return p}if("**"===f){for(a in(u=o+1===m||o+2===m&&"*"===h)&&n._listeners&&(p=p.concat(d(e,t,n,m))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!u&&(p=p.concat(d(e,t,n[a],m))),p=p.concat(d(e,t,n[a],o))):p=a===h?p.concat(d(e,t,n[a],o+2)):p.concat(d(e,t,n[a],o)));return p}p=p.concat(d(e,t,n[f],o+1))}if((s=n["*"])&&d(e,t,s,o+1),c=n["**"])if(o<m)for(a in c._listeners&&d(e,t,c,m),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===h?d(e,t,c[a],o+2):a===f?d(e,t,c[a],o+1):((l={})[a]=c[a],d(e,t,{"**":l},o+1)));else c._listeners?d(e,t,c,m):c["*"]&&c["*"]._listeners&&d(e,t,c["*"],m)
;return p}function p(e,t){for(var n=0,o=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<o;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a!==r;){if(i[a]||(i[a]={}),i=i[a],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,l.call(this,i._listeners.length,a))):i._listeners=t,!0;a=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==r&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},u.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},
u.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},u.prototype._many=function(e,t,n,o){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&i.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,o),i},u.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,o,i,r,a=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(o=0,n=r.length;o<n;o++)switch(this.event=e,a){case 1:r[o].call(this,e);break;case 2:r[o].call(this,e,arguments[1]);break;case 3:r[o].call(this,e,arguments[1],arguments[2]);break;default:r[o].apply(this,t)}}if(this.wildcard){r=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,r,c,this.listenerTree,0)}else{if("function"==typeof(r=this._events[e])){switch(this.event=e,a){case 1:
r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];r.apply(this,t)}return!0}r&&(r=r.slice())}if(r&&r.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(o=0,n=r.length;o<n;o++)switch(this.event=e,a){case 1:r[o].call(this);break;case 2:r[o].call(this,arguments[1]);break;case 3:r[o].call(this,arguments[1],arguments[2]);break;default:r[o].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,o,i,r,a=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),i=1;i<c;i++)t[i]=arguments[i];for(o=0,n=this._all.length;o<n;o++)switch(this.event=e,c){case 1:
a.push(this._all[o].call(this,e));break;case 2:a.push(this._all[o].call(this,e,arguments[1]));break;case 3:a.push(this._all[o].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[o].apply(this,t))}}if(this.wildcard){r=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,r,l,this.listenerTree,0)}else r=this._events[e];if("function"==typeof r)switch(this.event=e,c){case 1:a.push(r.call(this));break;case 2:a.push(r.call(this,arguments[1]));break;case 3:a.push(r.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];a.push(r.apply(this,t))}else if(r&&r.length){if(r=r.slice(),c>3)for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];for(o=0,n=r.length;o<n;o++)switch(this.event=e,c){case 1:a.push(r[o].call(this));break;case 2:a.push(r[o].call(this,arguments[1]));break;case 3:a.push(r[o].call(this,arguments[1],arguments[2]));break;default:a.push(r[o].apply(this,t))}
}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),
this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,o=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();o=d.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],o.push({_listeners:n})}for(var s=0;s<o.length;s++){var c=o[s];if(n=c._listeners,a(n)){for(var l=-1,u=0,p=n.length;u<p;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){l=u;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),
0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==r){var n=Object.keys(t);for(var o in n){var i=n[o],a=t[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,o=0;if(e&&this._all&&this._all.length>0){for(n=0,o=(t=this._all).length;n<o;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,o=(t=this._all).length;n<o;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this
;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),o=0;o<n.length;o++){var i=n[o];i._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return u}.call(t,n,t,e))===r||(e.exports=i)}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/function-bind/implementation.js":function(e,t,n){"use strict"
;var o="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||r.call(t)!==a)throw new TypeError(o+t);for(var n,s=i.call(arguments,1),c=function(){if(this instanceof n){var o=t.apply(this,s.concat(i.call(arguments)));return Object(o)===o?o:this}return t.apply(e,s.concat(i.call(arguments)))},l=Math.max(0,t.length-s.length),u=[],d=0;d<l;d++)u.push("$"+d);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},"./node_modules/function-bind/index.js":function(e,t,n){"use strict";var o=n("./node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||o},"./node_modules/has-symbols/index.js":function(e,t,n){"use strict";(function(t){var o=t.Symbol,i=n("./node_modules/has-symbols/shams.js")
;e.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/has-symbols/shams.js":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1
;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},"./node_modules/is-arguments/index.js":function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.prototype.toString,r=function(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i.call(e)},a=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i.call(e)&&"[object Function]"===i.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=a,e.exports=s?r:a},"./node_modules/is-date-object/index.js":function(t,n,o){"use strict";var i=Date.prototype.getDay,r=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(a?function(t){try{return i.call(t),!0}catch(e){return!1}
}(t):"[object Date]"===r.call(t))}},"./node_modules/is-regex/index.js":function(t,n,o){"use strict";var i,r,a,s,c=o("./node_modules/has-symbols/index.js")()&&"symbol"==typeof Symbol.toStringTag;if(c){i=Function.call.bind(Object.prototype.hasOwnProperty),r=Function.call.bind(RegExp.prototype.exec),a={};var l=function(){throw a};s={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var u=Object.prototype.toString,d=Object.getOwnPropertyDescriptor;t.exports=c?function(t){if(!t||"object"!=typeof t)return!1;var n=d(t,"lastIndex");if(!(n&&i(n,"value")))return!1;try{r(t,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u.call(e)}},"./node_modules/lru-fast/lru.js":function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),
e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,o=this.get(e,!0);return o?(n=o.value,o.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e]
;if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var o;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(o=this.newest;o;)e.call(t,o.key,o.value,this),o=o.older;else for(o=this.oldest;o;)e.call(t,o.key,o.value,this),o=o.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ")
;return e},"object"==typeof this&&(this.LRUCache=n)},"./node_modules/object-is/index.js":function(e,t,n){"use strict";var o=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!o(e)||!o(t))}},"./node_modules/object-keys/implementation.js":function(t,n,o){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=o("./node_modules/object-keys/isArguments.js"),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,
$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!m["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(t){var n=null!==t&&"object"==typeof t,o="[object Function]"===a.call(t),i=s(t),c=n&&"[object String]"===a.call(t),m=[];if(!n&&!o&&!i)throw new TypeError("Object.keys called on a non-object");var h=u&&o;if(c&&t.length>0&&!r.call(t,0))for(var b=0;b<t.length;++b)m.push(String(b));if(i&&t.length>0)for(var y=0;y<t.length;++y)m.push(String(y));else for(var g in t)h&&"prototype"===g||!r.call(t,g)||m.push(String(g));if(l)for(var v=function(t){if("undefined"==typeof window||!f)return p(t);try{return p(t)}catch(e){return!1}}(t),j=0;j<d.length;++j)v&&"constructor"===d[j]||!r.call(t,d[j])||m.push(d[j]);return m}}t.exports=i},
"./node_modules/object-keys/index.js":function(e,t,n){"use strict";var o=Array.prototype.slice,i=n("./node_modules/object-keys/isArguments.js"),r=Object.keys,a=r?function(e){return r(e)}:n("./node_modules/object-keys/implementation.js"),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(o.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},"./node_modules/object-keys/isArguments.js":function(e,t,n){"use strict";var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),n}},"./node_modules/regexp.prototype.flags/implementation.js":function(e,t,n){"use strict";var o=Object,i=TypeError;e.exports=function(){
if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},"./node_modules/regexp.prototype.flags/index.js":function(e,t,n){"use strict";var o=n("./node_modules/define-properties/index.js"),i=n("./node_modules/es-abstract/helpers/callBind.js"),r=n("./node_modules/regexp.prototype.flags/implementation.js"),a=n("./node_modules/regexp.prototype.flags/polyfill.js"),s=n("./node_modules/regexp.prototype.flags/shim.js"),c=i(r);o(c,{getPolyfill:a,implementation:r,shim:s}),e.exports=c},"./node_modules/regexp.prototype.flags/polyfill.js":function(e,t,n){"use strict";var o=n("./node_modules/regexp.prototype.flags/implementation.js"),i=n("./node_modules/define-properties/index.js").supportsDescriptors,r=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){
if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=r(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return o}},"./node_modules/regexp.prototype.flags/shim.js":function(e,t,n){"use strict";var o=n("./node_modules/define-properties/index.js").supportsDescriptors,i=n("./node_modules/regexp.prototype.flags/polyfill.js"),r=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!o||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=c(l),n=r(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},"./node_modules/rxjs-async-map/out/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/rxjs/Observable.js");t.Observable=o.Observable
;var i=n("./node_modules/rxjs/operators/mergeMap.js"),r=n("./node_modules/rxjs-async-map/out/notify.js");t.asyncMap=function(e,t){return i.mergeMap(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(i){return new o.Observable((function(o){t.push(r.notify(e(i),o,n))}))}}(e),t)}},"./node_modules/rxjs-async-map/out/notify.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notify=function(e,t,n){var o={notifyIfReady:function(){return!1}};return e.then((function(e){o.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(o)}),(function(e){o.notifyIfReady=function(){return t.error(e),!0},n(o)})),o}},"./node_modules/rxjs/ReplaySubject.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)
},i=n("./node_modules/rxjs/Subject.js"),r=n("./node_modules/rxjs/scheduler/queue.js"),a=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/operators/observeOn.js"),c=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),l=n("./node_modules/rxjs/SubjectSubscription.js"),u=function(e){function t(t,n,o){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=o,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return o(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),o=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),o&&e.add(e=new s.ObserveOnSubscriber(e,o))
;for(var i=n.length,r=0;r<i&&!e.closed;r++)e.next(n[r].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||r.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,o=this._events,i=o.length,r=0;r<i&&!(e-o[r].time<n);)r++;return i>t&&(r=Math.max(r,i-t)),r>0&&o.splice(0,r),o},t}(i.Subject);t.ReplaySubject=u;var d=function(){return function(e,t){this.time=e,this.value=t}}()},"./node_modules/rxjs/observable/RangeObservable.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=function(e){function t(t,n,o){e.call(this),this.start=t,this._count=n,this.scheduler=o}return o(t,e),t.create=function(e,n,o){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,o)},
t.dispatch=function(e){var t=e.start,n=e.index,o=e.count,i=e.subscriber;n>=o?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,o=this.start,i=this._count,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:n,count:i,start:o,subscriber:e});for(;;){if(n++>=i){e.complete();break}if(e.next(o++),e.closed)break}},t}(n("./node_modules/rxjs/Observable.js").Observable);t.RangeObservable=i},"./node_modules/rxjs/observable/fromPromise.js":function(e,t,n){"use strict";var o=n("./node_modules/rxjs/observable/PromiseObservable.js");t.fromPromise=o.PromiseObservable.create},"./node_modules/rxjs/observable/range.js":function(e,t,n){"use strict";var o=n("./node_modules/rxjs/observable/RangeObservable.js");t.range=o.RangeObservable.create},"./node_modules/rxjs/operators/bufferCount.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){
this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=n("./node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new r(e,t))}};var r=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return o(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),s=function(e){function t(t,n,o){e.call(this,t),this.bufferSize=n,this.startBufferEvery=o,this.buffers=[],this.count=0}return o(t,e),t.prototype._next=function(e){
var t=this,n=t.bufferSize,o=t.startBufferEvery,i=t.buffers,r=t.count;this.count++,r%o==0&&i.push([]);for(var a=i.length;a--;){var s=i[a];s.push(e),s.length===n&&(i.splice(a,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var o=t.shift();o.length>0&&n.next(o)}e.prototype._complete.call(this)},t}(i.Subscriber)},"./node_modules/rxjs/operators/concatMap.js":function(e,t,n){"use strict";var o=n("./node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return o.mergeMap(e,t,1)}},"./node_modules/rxjs/operators/tap.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=n("./node_modules/rxjs/Subscriber.js");t.tap=function(e,t,n){return function(o){return o.lift(new r(e,t,n))}};var r=function(){function e(e,t,n){this.nextOrObserver=e,
this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,o,r){e.call(this,t);var a=new i.Subscriber(n,o,r);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return o(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},"./node_modules/rxjs/scheduler/QueueAction.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){this.constructor=e}
e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return o(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,o):t.flush(this)},t}(n("./node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=i},"./node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=function(e){function t(){
e.apply(this,arguments)}return o(t,e),t}(n("./node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=i},"./node_modules/rxjs/scheduler/queue.js":function(e,t,n){"use strict";var o=n("./node_modules/rxjs/scheduler/QueueAction.js"),i=n("./node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new i.QueueScheduler(o.QueueAction)},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,i=1,r={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?function(){o=function(e){t.nextTick((function(){u(e)}))}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))}
;e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),o=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},o=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;o=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){o=function(e){setTimeout(u,0,e)}}(),c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return r[i]=a,o(i),i++},c.clearImmediate=l}function l(e){delete r[e]}function u(e){if(a)setTimeout(u,0,e);else{var t=r[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:
t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout
;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid-validate/index.js":function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,o=[],i=0;i<256;i++)o[i]=(i+256).toString(16).substr(1);e.exports=function(e,i){var a;if(t.isBuffer(e))a=function(e,t){var n=t||0,i=o;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;a=e}if(a=a.toLowerCase(),
!n.test(a))return!1;if(void 0===i)i=r(a);else if(r(a)!==i)return!1;switch(i){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var r=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/video-snapshot/dist/es2015/index.js":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),i="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(n,o){var r=document.createElement("video");if(r.preload="metadata",r.src=t.videoUrl,r.muted=!0,0===e)r.play();else{if("number"==typeof e)r.currentTime=e;else if("string"==typeof e){var a=r.duration;r.currentTime=t.getSmartTime(e,a)}i&&r.play()}r.addEventListener("timeupdate",(function e(){
r.removeEventListener("timeupdate",e),r.pause(),n(r)})),r.addEventListener("error",(function(){o(new Error("failed to load video"))}))}))},this.getDimensions=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,height:e.videoHeight}]}}))}))};var n=URL.createObjectURL(e);this.videoUrl=n}return e.prototype.takeSnapshot=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=o.sent(),n=document.createElement("canvas"),!t.videoWidth&&!t.videoHeight)throw new Error("error retrieving video dimensions");if(n.width=t.videoWidth,n.height=t.videoHeight,!(i=n.getContext("2d")))throw new Error("error creating canvas context");return i.drawImage(t,0,0,n.width,n.height),[2,n.toDataURL()]}}))}))},
e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();t.a=r}}]);try{window.__jsEvalStop("@atlaskit-media-client.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-media-client.c3929a0f08d5d441bdf6.8.js.map