try{window.performance.mark("async-software-onboarding-quickstart-shouldrender.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-software-onboarding-quickstart-shouldrender"],{"./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return b}));var c=r("./node_modules/react-sweet-state/lib/esm/store/create.js"),s=r("./node_modules/react-sweet-state/lib/esm/components/container.js"),n=r("./node_modules/react-sweet-state/lib/esm/components/hook.js"),a=r("./src/packages/platform/utils/fetch/src/utils/as-json.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{}
;t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=e=>async({setState:t,getState:r})=>{const{isFetching:c}=r();if(!c)try{t(i(i({},await(async e=>{const t=`${e}/rest/internal/2/projectpermissions`;return await Object(a.a)(t)})(e)),{},{isFetching:!1,fetchError:null,hasFetchedOnce:!0,hasSuccessOnce:!0}))}catch(s){t({canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,hasElevatedCreateClassicBusinessProject:!1,isFetching:!1,fetchError:s,hasFetchedOnce:!0})}},l={fetchCreateProjectPermission:e=>async({setState:t,dispatch:r})=>{t({isFetching:!0,promise:r(d(e))})}},p=Object(c.a)({name:"create-project-permissions",initialState:{
canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,hasElevatedCreateClassicBusinessProject:!1,isFetching:!1,fetchError:null,promise:null,hasFetchedOnce:!1,hasSuccessOnce:!1},actions:l}),j=(Object(s.a)(p),Object(n.a)(p)),b=Object(n.a)(p,{selector:null})},"./src/packages/platform/services/providers-container-context/src/common/utils/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const c=e=>{const{product:{links:t,selectedScope:r}}=e;if(r&&r.isAgilityBoard)return"simple";const c=/-(kanban|scrum)/,s=(t&&t[0]&&t[0].links||[]).find((e=>c.test(e.id)));return s&&s.id.includes("kanban")?"kanban":"scrum"},s=e=>{const t={},{product:{avatar:r,selectedScope:s,location:n},sidebarContext:a}=e;var o;(s&&(t.scope={id:s.id,type:c(e),name:s.name}),r&&n&&"user"===n.type)&&(t.user={id:n.id,name:r.name,avatarUrl:r.url,profileUrl:n.url,accountId:null!==(o=n.accountId)&&void 0!==o?o:""},t.contextType="user");return n&&r&&a&&!t.contextType&&(t.project={
key:a.projectKey,type:a.projectType,id:n.id,name:r.name,isSimplified:Boolean(a&&a.isSimplified||s&&s.isAgilityBoard),avatarUrl:r.url,style:a.style},t.contextType="project"),t.contextType?t:null}},"./src/packages/platform/services/providers-container-context/src/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var c=r("./node_modules/react/index.js"),s=r("./node_modules/react-resource-router/build/esm/index.js"),n=r("./src/packages/routes/src/common/ui/resources/navigation-sidebar-project/index.js"),a=r("./src/packages/platform/services/providers-container-context/src/common/utils/index.js");const o=()=>{const{data:e,error:t,loading:r,refresh:o}=Object(s.n)(n.b);return[{data:Object(c.useMemo)((()=>null!=e&&e.response?Object(a.a)(e.response):null),[e]),error:t,loading:r},{fetch:o,refetch:o}]},i=e=>{const[t,r]=o();return e.children(t,r)};i.displayName="ContainerContextSubscriber"},
"./src/packages/platform/services/providers-project-context/src/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var c=r("./node_modules/react/index.js"),s=r("./node_modules/react-resource-router/build/esm/index.js"),n=r("./src/packages/routes/src/common/ui/resources/project-context/index.js");const a=()=>{const{data:e,error:t,loading:r,update:a}=Object(s.n)(n.b);return{data:e,error:t,loading:r,updateCache:Object(c.useCallback)((e=>a((()=>e))),[a])}};t.a=({children:e})=>e(a())},"./src/packages/software/onboarding-quickstart/src/services/actions/should-show-experience/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return b}))
;var c=r("./node_modules/react/index.js"),s=r("./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js"),n=r("./src/packages/platform/services/providers-container-context/src/index.js"),a=r("./src/packages/platform/controllers/spa-state/src/components/page-ready-state/index.js"),o=r("./src/packages/platform/controllers/tenant-context/src/components/tenant-context/index.js"),i=r("./src/packages/software/onboarding-quickstart/src/common/constants.js"),u=r("./src/packages/software/onboarding-quickstart/src/feature-flags.js"),d=r("./node_modules/lodash/get.js"),l=r.n(d),p=r("./src/packages/common-legacy-do-not-add-anything-new/src/rest/api/latest/user-properties/index.js"),j=r("./src/packages/software/onboarding-quickstart/src/utils/analytics/index.js");const b=e=>{const[{data:t}]=Object(n.b)(),r=Object(o.c)(),[{isReady:d}]=Object(a.c)(),b=(()=>{const[e,t]=Object(c.useState)(),{baseUrl:r,atlassianAccountId:s}=Object(o.c)()
;return Object(c.useEffect)((()=>{(async()=>{if(s)try{const e=await Object(p.a)(r,s,"growth-nux"),c=l()(e,"enrolledExperiences.CHECKLIST");t(c)}catch(e){e&&404===e.statusCode?t(i.e.NOT_STARTED):Object(j.a)(e,"getUserProperty")}})()}),[s,r]),e})(),[{canCreateProject:f,isFetching:m,hasFetchedOnce:g},{fetchCreateProjectPermission:O}]=Object(s.a)();if(Object(c.useEffect)((()=>{!d||m||g||O(r.baseUrl)}),[d,m,g,O,r]),"software"!==(null==e?void 0:e.projectType)&&"business"!==(null==e?void 0:e.projectType))return!1;const k=t&&t.scope&&t.scope.type;return Object(u.h)()&&"project"===(null==t?void 0:t.contextType)&&"business"===(null==e?void 0:e.projectType)&&(b===i.e.NOT_STARTED||b===i.e.STARTED)||f&&Boolean(k)&&Object(u.k)(!0)&&(b===i.e.NOT_STARTED||b===i.e.STARTED)}},"./src/packages/software/onboarding-quickstart/src/ui/render-controller/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"QuickstartShouldRender",(function(){return k}))
;var c=r("./node_modules/react/index.js"),s=r.n(c),n=r("./node_modules/react-resource-router/build/esm/index.js"),a=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),o=r("./src/packages/platform/ui/error-boundary/src/main.js"),i=r("./src/packages/platform/observability/errors-handling/src/utils/reporting-error-boundary.js"),u=r("./src/packages/platform/utils/router/src/index.js"),d=r("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsEvents.js"),l=r("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),p=r("./src/packages/platform/services/providers-container-context/src/index.js"),j=r("./src/packages/platform/services/providers-project-context/src/index.js"),b=r("./src/packages/platform/controllers/tenant-context/src/components/tenant-context/index.js"),f=r("./src/packages/software/onboarding-quickstart/src/services/index.js"),m=r("./src/packages/software/onboarding-quickstart/src/feature-flags.js"),g=r("./src/packages/software/onboarding-quickstart/src/services/actions/should-show-experience/index.js")
;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}const k=e=>{const[{match:t,route:r}]=Object(n.o)(),{isProjectSettingsPage:s=!1}=e,{projectContext:a}=e,[{data:o}]=Object(p.b)(),i=a&&a.data,{isEnrolledForProjectSettings:u}=((e,t)=>{const[,{setShouldRenderComponent:r,forceHideNudge:s}]=Object(f.n)(),n=Object(g.a)(e),a=Object(f.c)(e),o=Object(f.d)(e),[{isQuickstartLoaded:i,shouldRenderComponent:u},d]=Object(f.j)(),l=Object(f.e)(e),p=t&&n&&a,j=Object(c.useRef)(!1);return Object(c.useEffect)((()=>{e&&d.setProjectState({canInvitePeopleToProject:a,canRenderVideoCard:o,canRenderPremiumOnboardingCard:l,projectKey:e.projectKey,projectId:e.projectId,projectName:e.projectName,isNextGen:e.simplified,projectType:e.projectType,isProjectSettingsPage:t})}),[d,e,a,t,o,l]),Object(c.useEffect)((()=>{
if(Object(m.i)())return n&&(!t||a&&"experiment"===Object(m.b)(!0))?i||j.current?void(!u&&i&&r(!0)):(j.current=!0,void d.refreshAppState()):void 0}),[d,a,n,p,t,i,e,r,u]),Object(c.useEffect)((()=>{if(!Object(m.i)())if(t){const e=p&&"experiment"===Object(m.b)(!0);r(e)}else r(n);return()=>{s(),r(!1)}}),[r,t,p,n,s,e]),{isEnrolledForProjectSettings:p}})(i,s),j=Object(g.a)(i),{createAnalyticsEvent:b}=Object(d.a)();return Object(c.useEffect)((()=>{if(j){const e=((e,t)=>{const r={};return e&&e.match&&e.route&&e.route.navigation&&(r.path=e.match.path,r.routeName=e.route.name,r.navPath=e.route.path,r.menuItem=e.route.navigation.menuId),t&&t.project&&t.scope&&(r.scopeType=t.scope.type,r.projectStyle=t.project.style,r.type=t.project.type,r.isSimplified=t.project.isSimplified),r})({match:t,route:r},o),c=b({});Object(l.f)(c,"nuxOnboardingQuickstart shouldRender",e),u&&Object(l.f)(c,"invitePeopleToProject shouldRender",{isNextGen:Boolean(i&&i.simplified)})}}),[j,o,b,u,t,i,r]),null},y=e=>{
const t=Object(b.c)(),r=Object(u.a)();return s.a.createElement(o.a,{id:"QuickStartShouldRender",packageName:"jiraSoftwareOnboardingQuickstart"},s.a.createElement(i.a,{id:"internalQuickStartShouldRender",packageName:"jiraSoftwareOnboardingQuickstart",sendToPrivacyUnsafeSplunk:!0,attributes:{isIE11:Object(a.e)()}},s.a.createElement(f.a,{baseUrl:t.baseUrl,accountId:t.atlassianAccountId,route:r,isGlobal:!0},s.a.createElement(j.a,null,(t=>s.a.createElement(k,O({},e,{projectContext:t})))))))};y.displayName="QuickstartShouldRenderWithProjectContext";t.default=y},"./src/packages/software/onboarding-quickstart/src/utils/analytics/index.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return m})),r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return O}))
;var c=r("./node_modules/lodash/isEmpty.js"),s=r.n(c),n=r("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),a=r("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),o=r("./src/packages/software/onboarding-quickstart/src/common/constants.js"),i=r("./src/packages/software/onboarding-quickstart/src/common/utils.js"),u=r("./src/packages/software/onboarding-quickstart/src/feature-flags.js");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=(e,t)=>{Object(a.h)(e,"button closed","nuxOnboardingQuickstart",t)},b=(e,t)=>{const r=e({});Object(a.h)(r,"button dismissed","nuxOnboardingQuickstart",t)},f=(e,t)=>{const r=e({});Object(a.f)(r,"experience completed","nuxOnboardingQuickstart",l({},t))},m=(e,t,r)=>{const{currentTask:c,prevTask:n,renderTaskList:d,projectState:p}=r,j=Object(i.a)(c),b=Object(i.a)(n),f=((e,t,r)=>{const c=e===o.j||t===o.j,s=e===o.j;return c&&r&&r.canInvitePeopleToProject?{invitePeopleToProjectCohort:Object(u.b)(s),isNextGen:r.isNextGen}:{}})(c,n,p),m=Object.keys(d);if(t)s()(n)||Object(a.h)(t,"checklistItem closed",b,l({taskPosition:Object(i.l)(m,n),taskId:n},f)),s()(c)||Object(a.h)(t,"checklistItem opened",j,l({taskPosition:Object(i.l)(m,c),taskId:c},f));else if(Object(u.e)()){const t=e({})
;Object(a.b)(t,"checklistItem autoOpened",j,{taskPosition:Object(i.l)(m,c),taskId:c})}},g=(e,t)=>{const r=e({});Object(a.f)(r,"checklistItem completed",Object(i.a)(t),{taskId:t})},O=(e,t)=>{Object(n.a)({error:e,meta:{id:"quickstartApiError",packageName:"jiraSoftwareOnboardingQuickstart",teamName:"agile-makkuro"},attributes:{error:e.message,endpointSource:t}})}}}]);try{window.__jsEvalStop("async-software-onboarding-quickstart-shouldrender.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-software-onboarding-quickstart-shouldrender.f4c2ab29ce31f77f1c3e.8.js.map