try{window.performance.mark("async-editor-view.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-editor-view","859ee0f114"],{"./node_modules/@atlaskit/adf-schema/dist/es2019/steps/set-attrs.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("./node_modules/prosemirror-transform/dist/index.es.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.f{constructor(e,t){super(),this.pos=e,this.attrs=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return o.h.fail("No node at given position");const n=s(s({},t.attrs||{}),this.attrs||{});let i=t.type.create(n,r.Fragment.empty,t.marks),a=new r.Slice(r.Fragment.from(i),0,t.isLeaf?0:1);return o.h.fromReplace(e,this.pos,this.pos+1,a)}invert(e){let t=e.nodeAt(this.pos);return new l(this.pos,t?t.attrs:{})}map(e){let t=e.mapResult(this.pos,1);return t.deleted?null:new l(t.pos,this.attrs)}toJSON(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}static fromJSON(e,t){if("number"!=typeof t.pos||null!==t.attrs&&"object"!=typeof t.attrs)throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new l(t.pos,t.attrs)}}o.f.jsonID("setAttrs",l)},"./node_modules/@atlaskit/adf-schema/dist/es2019/steps/table/add-column.js":function(t,n,o){"use strict"
;o.d(n,"a",(function(){return F}));var r=o("./node_modules/prosemirror-transform/dist/index.es.js"),i=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/add-column.js"),s=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js");const a=(e,t,n)=>t*e.width+n;function l(e,t,n){const o=a(e,t,n);return n>0&&e.map[o-1]===e.map[o]||n<e.width-1&&e.map[o+1]===e.map[o]}function c(e,t,n){const o=a(e,t,n);return!(t>0)||e.map[o-e.width]!==e.map[o]}function*d(e,t){const{map:n,tableStart:o,table:r}=e;let d=t>0?-1:0;Object(i.b)(n,r,t+d)&&(d=0===t||t===n.width?null:0);for(let i=0;i<n.height;i++){let u=a(e.map,i,t),p=n.map[u];const h=l(e.map,i,t)&&c(e.map,i,t);let m=null==d?Object(s.a)(r.type.schema).cell:r.nodeAt(n.map[u+d]).type;h||(p=n.positionAt(i,t,r));let f=r.nodeAt(p);const b={from:o+p,to:o+p,row:i,col:h?n.colCount(p):t,type:m,hasMergedCells:h};f&&(b.attrs=f.attrs,b.to=o+p+f.nodeSize);const g=yield b;g&&g>0&&(i+=g)}}function u(e,t){let[n,o]=[0,t.map.width-1]
;const r=e.values();let i=r.next();for(let s=0;s<t.map.height&&!i.done;s++)for(let e=n;e<=o;e++){const a=s*t.map.width+e,l=t.map.map[a],c=i.value.from-t.tableStart;if(l===c){n=e;const s=o-n+a;for(let e=a;e<=s&&t.map.map[e]===l;e++)o=n+e-a;if(n===o)return n;i=r.next();break}if(e===t.map.width-1){if(l+t.table.nodeAt(l).nodeSize===c)return t.map.width}}return null}var p=o("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js");function h(e,t){const n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error(`No table at position "${t}".`);const o=p.b.get(n),r=e.resolve(t);return{map:o,table:n,tableStart:r.start(r.depth+1),bottom:0,left:0,right:0,top:0}}var m=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/colspan.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return e&&e.rowspan?e.rowspan-1:0}function v(e,t,n,o,r,i){if(void 0!==o.mergeWith){let n=e.doc.nodeAt(e.mapping.map(o.mergeWith));const s=i-t.map.colCount(o.mergeWith-t.tableStart),a=r?Object(m.c)(n.attrs,s):Object(m.a)(n.attrs,s);if(a.colspan>0)return e.setNodeMarkup(e.mapping.map(o.mergeWith),void 0,a),{tr:e,skipRows:y(a),cellStep:o};o.from=o.mergeWith,o.to=o.from+n.nodeSize,o.mergeWith=void 0}let s=0;if(r){s=y(e.doc.nodeAt(e.mapping.map(o.from)).attrs),e.delete(e.mapping.map(o.from),e.mapping.map(o.to))
}else o.newCell?(e.insert(e.mapping.map(o.from),o.newCell),s=y(o.newCell.attrs)):e.insert(e.mapping.map(o.from),n.type.createAndFill());return{tr:e,skipRows:s,cellStep:o}}function O(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,4]}function j(e,t,n,o,r){const i=function(e,t,n){if(n)return e.map(t.from)-t.from;const[,o,r]=O(t,n);return e.map(t.from)-t.from-(r-o)}(r,n,o),s=b(b({},n),{},{from:n.from+i,to:n.to+i});if(void 0!==n.mergeWith&&(s.mergeWith=n.mergeWith+i),o){const o=e.nodeAt(n.from);s.newCell=o.copy(o.content);const{column:r,rect:i}=t();if(r<i.map.width){const e=i.map.colCount(n.from-i.tableStart)+o.attrs.colspan-1===r;void 0!==n.mergeWith&&e&&(s.mergeWith=s.from,s.from=s.to)}}return s}function w(e,t,n,o){const r={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(r.mergeWith=e.from),o&&(void 0!==o.mergeWith&&(r.mergeWith=o.mergeWith),o.newCell&&(r.newCell=o.newCell)),r}class k{
constructor(e){e&&(this.table=e)}addTableSideEffect(e,t,n){this.table={from:e,to:t,node:n}}handleAddTable(e,t){return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}handleRemoveTable(e,t,n,o,r){return!(!r||1!==n.map.width||0!==o)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}getTableMap(e){if(!this.table)return;const{from:t,to:n}=this.table;return e?new r.g([t,n-t,0]):new r.g([t,0,n-t])}map(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}invert(e){if(!this.table)return;const t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}toJSON(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}static fromJSON(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}var E=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),S=o.n(E);function _(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,o){let r=t.tableStart;for(let a=0;a<n;a++)r+=t.table.child(a).nodeSize;const i=t.table.child(n);let s=r+i.nodeSize;e.delete(e.mapping.map(r),e.mapping.map(s));return{skipRows:function(e,t,n,o){let r=0;const{map:i,table:s,tableStart:a}=t;for(let l=0;l<i.width;l++){let t=n*i.width+l,c=i.map[t]
;if(n>0&&c===i.map[t-i.width]){const t=e.mapping.map(c+a);let n=e.doc.nodeAt(t).attrs;e.setNodeMarkup(t,void 0,C(C({},n),{},{rowspan:n.rowspan-1})),l+=n.colspan-1}else l===o&&(r=s.nodeAt(c).attrs.rowspan-1)}return r}(e,t,n,o),row:{from:r,to:s,rowNode:i.copy(i.content)}}}function P(e,t,n,o){const r=o.rowNode.child(0);return e.insert(e.mapping.map(o.from),o.rowNode),function(e,t,n){const{map:o,tableStart:r}=t;for(let i=0;i<o.width;i++){let t=n*o.width+i,s=o.map[t];const a=e.mapping.map(s+r);let l=e.doc.nodeAt(a).attrs;e.setNodeMarkup(a,void 0,C(C({},l),{},{rowspan:l.rowspan+1})),i+=l.colspan-1}}(e,t,n),r.attrs.rowspan-1}class A{constructor(e){S()(this,"deleteHandler",(()=>{const e=[];return{handle:(t,n,o,r,i)=>{if(!function(e,t,n){const o=e.table.child(t);return!!o&&1===o.childCount&&!l(e.map,t,n)}(n,o,r))return{handled:!1};const{row:s,skipRows:a}=T(t,n,o,r);return e.push(s),{handled:!0,skipRows:a}},end:()=>{e.length>0?this.rows=e:this.rows=void 0}}})),S()(this,"addHandler",(()=>{
let e=0,t=0;return{handle:(n,o,r,i,s)=>{if(!this.rows||t>=this.rows.length)return{handled:!1};let a,l;for(;(l=this.rows[t])&&l.from>e&&l.from<s.from;)a=P(n,o,r-1,l),t++;return e=s.from,a&&0!==a?{handled:!0,skipRows:a-1}:{handled:!1}},end:(e,n,o)=>{if(!this.rows||t>=this.rows.length)return;let r;for(;r=this.rows[t];)P(e,n,n.map.height-1,r),t++}}})),this.rows=e}start(e){return e?this.deleteHandler():this.addHandler()}addRowRanges(e,t){if(!this.rows)return e;const n=[];for(const o of this.rows){const{from:e,to:r}=o;t?n.push(e,r-e,0):n.push(e,0,r-e)}return function(e,t){const n=[],o=e.length,r=t.length;let i=0,s=0;for(;i<o&&s<r;)e[i]<t[s]?(n.push(e[i],e[i+1],e[i+2]),i+=3):(n.push(t[s],t[s+1],t[s+2]),s+=3);return i<o&&n.push(...e.slice(i)),s<r&&n.push(...t.slice(i)),n}(e,n)}map(e){return[]}invert(e,t,n){if(!this.rows)return;const o=[];for(const r of this.rows)if(t){let e=n.map(r.from)-r.from;o.push(C(C({},r),{},{from:r.from+e,to:r.from+e}))}return o}toJSON(){if(!this.rows)return;const e=[]
;for(const t of this.rows)e.push({from:t.from,to:t.to,rowNode:t.rowNode.toJSON()});return e}static fromJSON(e,t){const n=[];for(const o of t)n.push({from:o.from,to:o.to,rowNode:e.nodeFromJSON(o.rowNode)});return n}}class I{constructor(e){this.table=new k(e&&e.table),this.rows=new A(e&&e.rows)}getTableMap(e){return this.table.getTableMap(e)}map(e){const t={},n=this.table.map(e),o=this.rows.map(e);return n&&(t.table=n),o&&(t.rows=o),t}invert(e,t,n){const o={},r=this.table.invert(e);r&&(o.table=r);const i=this.rows.invert(e,t,n);return i&&(o.rows=i),o}toJSON(){const e=this.table.toJSON(),t=this.rows.toJSON();if(!e&&!t)return;const n={};return e&&(n.table=e),t&&(n.rows=t),n}static fromJSON(e,t){const n={};return t.table&&(n.table=k.fromJSON(e,t.table)),t.rows&&(n.rows=A.fromJSON(e,t.rows)),n}}function M(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var D=function(e,t){var n;void 0===t&&(t=M);var o,r=[],i=!1;return function(){
for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return i&&n===this&&t(s,r)||(o=e.apply(this,s),i=!0,n=this,r=s),o}};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B="ak-add-column";class F extends r.f{constructor(e,t,n=!1){super(),this.tablePos=e,this.isDelete=n,this.sideEffectsHandler=new I(t.sideEffects),this.columnInfo=function(e){
return new Map(e.map((e=>[e.from,e])))}(t.cells)}apply(t){const{tablePos:n}=this,o=new r.i(t);if(this.sideEffectsHandler.table.handleAddTable(o,this.isDelete))return r.h.ok(o.doc);let i;try{i=h(t,n)}catch(e){return r.h.fail(e.message)}const s=u(this.columnInfo,i);return null===s?r.h.fail(`No column for this cells "${function(e){let t=[];for(const n of e.values())t.push(n.from);return`[${t.join(",")}]`}(this.columnInfo)}" in table at position "${n}".`):(this.sideEffectsHandler.table.handleRemoveTable(o,this.tablePos,i,s,this.isDelete)||(this.columnInfo=this.applyCellSteps(o,i,s,this.isDelete)),r.h.ok(o.doc))}map(e){const t=e.mapResult(this.tablePos);if(t.deleted)return null;const n=[];for(const r of this.columnInfo.values()){const t=e.mapResult(r.from),o=e.mapResult(r.to);if(t.deleted&&o.deleted)continue;const i=R(R({},r),{},{from:t.pos,to:o.pos});void 0!==r.mergeWith&&(i.mergeWith=e.map(r.mergeWith)),n.push(i)}if(0===n.length)return null;const o=this.sideEffectsHandler.map(e)
;return new F(t.pos,{cells:n,sideEffects:o},this.isDelete)}invert(e){const t=this.getMap(),n=((e,t,n)=>D((()=>{const o=h(e,t),r=u(n,o);if(null===r)throw new Error("no column");return{rect:o,column:r}})))(e,this.tablePos,this.columnInfo),o=Array.from(this.columnInfo.values(),(o=>j(e,n,o,this.isDelete,t))),r=this.sideEffectsHandler.invert(e,this.isDelete,t);return new F(this.tablePos,{cells:o,sideEffects:r},!this.isDelete)}getMap(){const e=this.sideEffectsHandler.getTableMap(this.isDelete);if(e)return e;let t=[];for(const n of this.columnInfo.values())t.push(...O(n,this.isDelete));return t=this.sideEffectsHandler.rows.addRowRanges(t,this.isDelete),new r.g(t)}merge(e){return null}toJSON(){const e={stepType:B,tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(e=>{const t={from:e.from,to:e.to};return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON()
;return t&&(e.sideEffects=t),e}static fromJSON(e,t){const n=t.cells.map((t=>R(R({},t),{},{newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})));let o;return t.sideEffects&&(o=I.fromJSON(e,t.sideEffects)),new F(t.tablePos,{cells:n,sideEffects:o},t.isDelete)}static create(e,t,n,o=!1){const r=[],i=d(h(e,t),n);let s=i.next();for(;!s.done;){const e=s.value;r.push(w(e,n,o));let t=0;e.attrs&&e.attrs.rowspan&&(t=e.attrs.rowspan-1),s=i.next(t)}return new F(t,{cells:r},o)}applyCellSteps(e,t,n,o){const r=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),s=d(t,n);let a=s.next();for(;!a.done;){const l=a.value,c=w(l,n,o,this.columnInfo.get(l.from)),d=i.handle(e,t,l.row,n,l);if(d.handled){a=s.next(d.skipRows);continue}const{skipRows:u,cellStep:p}=v(e,t,l,c,o,n);r.set(c.from,p),a=s.next(u)}return i.end(e,t,n),r}}r.f.jsonID(B,F)},"./node_modules/@atlaskit/adf-schema/dist/es2019/utils/languageList.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){
return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a}));const o=[{name:"ABAP",alias:["abap"]},{name:"ActionScript",alias:["actionscript","actionscript3","as"]},{name:"Ada",alias:["ada","ada95","ada2005"]},{name:"AppleScript",alias:["applescript"]},{name:"Arduino",alias:["arduino"]},{name:"Autoit",alias:["autoit"]},{name:"C",alias:["c"]},{name:"C++",alias:["c++","cpp"]},{name:"Clojure",alias:["clojure","clj"]},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"]},{name:"ColdFusion",alias:["coldfusion"]},{name:"C#",alias:["csharp","c#"]},{name:"CSS",alias:["css"]},{name:"CUDA",alias:["cuda","cu"]},{name:"D",alias:["d"]},{name:"Dart",alias:["dart"]},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"]},{name:"Diff",alias:["diff"]},{name:"Elixir",alias:["elixir","ex","exs"]},{name:"Erlang",alias:["erlang","erl"]},{name:"Fortran",alias:["fortran"]},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"]},{
name:"Go",alias:["go"]},{name:"GraphQL",alias:["graphql"]},{name:"Groovy",alias:["groovy"]},{name:"Haskell",alias:["haskell","hs"]},{name:"Haxe",alias:["haxe","hx","hxsl"]},{name:"HTML",alias:["html"]},{name:"Java",alias:["java"]},{name:"JavaFX",alias:["javafx","jfx"]},{name:"JavaScript",alias:["javascript","js"]},{name:"JSON",alias:["json"]},{name:"Julia",alias:["julia","jl"]},{name:"Kotlin",alias:["kotlin"]},{name:"LiveScript",alias:["livescript","live-script"]},{name:"Lua",alias:["lua"]},{name:"Mathematica",alias:["mathematica","mma","nb"]},{name:"MATLAB",alias:["matlab"]},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"]},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"]},{name:"ObjectPascal",alias:["objectpascal"]},{name:"OCaml",alias:["ocaml"]},{name:"Octave",alias:["octave"]},{name:"Perl",alias:["perl","pl"]},{name:"PHP",alias:["php","php3","php4","php5"]},{name:"PlainText",alias:["plaintext","text"]},{name:"PowerShell",
alias:["powershell","posh","ps1","psm1"]},{name:"Prolog",alias:["prolog"]},{name:"Puppet",alias:["puppet"]},{name:"Python",alias:["python","py"]},{name:"QML",alias:["qbs"]},{name:"R",alias:["r"]},{name:"Racket",alias:["racket","rkt"]},{name:"reStructuredText",alias:["restructuredtext","rst","rest"]},{name:"Ruby",alias:["ruby","rb","duby"]},{name:"Rust",alias:["rust"]},{name:"Sass",alias:["sass"]},{name:"Scala",alias:["scala"]},{name:"Scheme",alias:["scheme","scm"]},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"]},{name:"Smalltalk",alias:["smalltalk","squeak","st"]},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"]},{name:"StandardML",alias:["standardmL","sml"]},{name:"Swift",alias:["swift"]},{name:"Tcl",alias:["tcl"]},{name:"TeX",alias:["tex","latex"]},{name:"TypeScript",alias:["typescript","ts"]},{name:"Vala",alias:["vala","vapi"]},{name:"VbNet",alias:["vbnet","vb.net"]},{name:"Verilog",
alias:["verilog","v"]},{name:"VHDL",alias:["vhdl"]},{name:"VisualBasic",alias:["visualbasic","vb"]},{name:"XML",alias:["xml"]},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"]},{name:"YAML",alias:["yaml","yml"]}];function r(e,t){if(!t)return;const n=e.filter((e=>-1!==e.alias.indexOf(t.toLowerCase())));return n.length>0?n[0]:void 0}function i(e){return e&&e.length?o.filter((t=>{let n=t.alias.length;for(;n--;)if(e.indexOf(t.alias[n])>-1)return!0;return!1})):o}function s(e){return e.alias[0]}function a(e){return e.sort(((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0))}},"./node_modules/@atlaskit/avatar-group/dist/es2019/components/AvatarGroup.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),c=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),d=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),u=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),p=Object.prototype.hasOwnProperty,h=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(c.a)():null),m=Object(i.createContext)({}),f=(h.Provider,function(e){var t=function(t,n){return Object(i.createElement)(h.Consumer,null,(function(o){return e(t,o,n)}))};return Object(i.forwardRef)(t)}),b="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g=function(e,t){var n={};for(var o in t)p.call(t,o)&&(n[o]=t[o]);return n[b]=e,n},y=function(e,t,n,o){var r=null===n?t.css:t.css(n)
;"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[b],a=[r],l="";"string"==typeof t.className?l=Object(d.a)(e.registered,a,t.className):null!=t.className&&(l=t.className+" ");var c=Object(u.a)(a);Object(d.b)(e,c,"string"==typeof s);l+=e.key+"-"+c.name;var h={};for(var m in t)p.call(t,m)&&"css"!==m&&m!==b&&(h[m]=t[m]);return h.ref=o,h.className=l,Object(i.createElement)(s,h)},v=f((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(m.Consumer,null,(function(o){return y(t,e,o,n)})):y(t,e,null,n)}));var O=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),j=function(e,t){var n=arguments;if(null==t||!p.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=v,r[1]=g(e,t);for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},w=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":
if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r});function k(e,t,n){var o=[],r=Object(d.a)(e,o,n);return o.length<2?n:r+t(o)}var E=f((function(e,t){return Object(i.createElement)(m.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=Object(u.a)(n,t.registered);return Object(d.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return k(t.registered,o,w(n))},theme:n},i=e.children(r);return!0,i}))
})),S=n("./node_modules/@atlaskit/avatar/dist/es2019/Avatar.js"),_=n("./node_modules/@atlaskit/menu/dist/es2019/components/section/popup-menu-group.js"),C=n("./node_modules/@atlaskit/menu/dist/es2019/components/section/section.js"),x=n("./node_modules/@atlaskit/popup/dist/es2019/index.js"),T=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),P=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),A=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/link-item.js"),I=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/button-item.js"),M=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/custom-item.js");function D(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],
t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=({avatar:e,onAvatarClick:t,testId:n,index:o})=>{const{href:i,onClick:a}=e,l=D(e,["href","onClick"]),c=s.a.createElement(S.a,r()({},l,{testId:n&&`${n}--avatar`,borderColor:"transparent",size:"small"})),d=a||t;return i?s.a.createElement(A.a,{href:i,target:e.target,rel:"_blank"===e.target?"noopener noreferrer":void 0,iconBefore:c,testId:n,onClick:e=>d&&d(e,void 0,o)},e.name):"function"==typeof d?s.a.createElement(I.a,{onClick:e=>d&&d(e,void 0,o),iconBefore:c,testId:n},e.name):s.a.createElement(M.a,{iconBefore:c,component:e=>{let{children:t}=e,n=D(e,["children"]);return s.a.createElement("span",n,t)},testId:n},e.name)};const R=Object(T.gridSize)()/2;var L=({children:e,testId:t})=>j("div",{"data-testid":t,
css:Object(a.a)("display:flex;flex-wrap:wrap;justify-content:flex-start;line-height:1;margin-left:-",R,"px;margin-right:-",R,"px;> *{margin-bottom:",Object(T.gridSize)(),"px;padding-left:",R,"px;padding-right:",R,"px;}")},e),B=n("./node_modules/@atlaskit/theme/dist/es2019/colors.js");function F(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const z={xsmall:10,small:10,medium:11,large:12,xlarge:16,xxlarge:16},U=Object(i.forwardRef)((({appearance:e="circle",borderColor:t=Object(B.background)(),size:n="medium",count:o=0,testId:s,onClick:a,"aria-controls":l,"aria-expanded":c,"aria-haspopup":d,buttonProps:u={}},p)=>{const h=Object(i.useCallback)(((e,t)=>{u.onClick&&u.onClick(e),
a(e,t)}),[u.onClick,a]);return j(S.a,{appearance:e,size:n,borderColor:t,ref:p,onClick:h},(e=>{let{testId:t,className:i,ref:a}=e,p=F(e,["testId","className","ref"]);return j(E,null,(({css:e,cx:t})=>j("button",r()({},u,p,{ref:a,"data-testid":s,"aria-controls":l,"aria-expanded":c,"aria-haspopup":d,className:t(i,e`
                    color: ${"#42526E"};
                    background-color: ${"#DFE1E6"};
                    font-size: ${z[n]}px;
                  `)}),"+",o>99?99:o)))}))}));U.displayName="MoreIndicator";var H=U;const $=2*n("./node_modules/@atlaskit/avatar/dist/es2019/constants.js").c+Object(T.gridSize)()/2;var W=({children:e,testId:t})=>j("div",{"data-testid":t,css:Object(a.a)("display:flex;line-height:1;margin-right:",$,"px;> *{margin-right:-",$,"px;}")},e);const V=(e,t)=>e.key?e.key:t;function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y={grid:11,stack:5};function X(e){return{AvatarGroupItem:q({render:(e,t,n)=>j(e,r()({},t,{key:V(t.avatar,n)}))},e&&e.AvatarGroupItem),Avatar:q({render:(e,t,n)=>j(e,r()({},t,{key:V(t,n)}))},e&&e.Avatar)}}t.a=({appearance:e="stack",avatar:t=S.a,borderColor:n,boundariesElement:o,data:s,isTooltipDisabled:a,maxCount:l,onAvatarClick:c,onMoreClick:d,overrides:u,showMoreButtonProps:p={},size:h="medium",testId:m})=>{const[f,b]=Object(i.useState)(!1),g=Object(i.useCallback)((()=>b(!1)),[]);const y=void 0===l||0===l?Y[e]:l,v=s.length,O=v>y?y-1:y;return j("stack"===e?W:L,{testId:m&&`${m}--avatar-group`},s.slice(0,O).map(((e,o)=>{const r=e.onClick||c,i=X(u).Avatar.render(t,q(q({},e),{},{size:h,borderColor:n,testId:m&&`${m}--avatar-${o}`,onClick:r?(e,t)=>{r(e,t,o)}:void 0,stackIndex:y-o}),o);return a?i:j(P.a,{key:V(e,o),content:e.name},i)})),function(e,t){if(t<=e)return null;const i=o=>j(H,r()({buttonProps:p,borderColor:n,count:t-e,
size:h,testId:m&&`${m}--overflow-menu--trigger`},o));if("function"==typeof d)return i({onClick:d});const a="scrollParent"===o?"clippingParents":void 0,l=(()=>{if("scrollParent"!==o)return"window"===o?"document":"viewport"})();return j(x.a,{isOpen:f,onClose:g,placement:"bottom-end",boundary:a,rootBoundary:l,shouldFlip:!0,zIndex:T.layers.modal(),content:()=>j(_.a,{onClick:e=>e.stopPropagation(),minWidth:250,maxHeight:300},j(C.a,null,s.slice(e).map(((t,n)=>X(u).AvatarGroupItem.render(N,{avatar:t,onAvatarClick:c,testId:m&&`${m}--avatar-group-item-${n+e}`,index:n+e},n+e))))),trigger:e=>i(q(q({},e),{},{onClick:()=>b(!f)})),testId:m&&`${m}--overflow-menu`})}(+O,v))}},"./node_modules/@atlaskit/blanket/dist/es2019/Blanket.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/analytics-next/dist/es2019/utils/createAndFireEvent.js"),l=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsContext.js"),c=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),p=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js");const h=Object(u.a)({light:"rgba(9, 30, 66, 0.54)",dark:"rgba(13, 20, 36, 0.63)"});var m=d.default.div(["background:",";bottom:0;left:0;opacity:",";pointer-events:",";position:fixed;right:0;top:0;transition:opacity 220ms;z-index:",";"],h,(e=>e.isTinted?1:0),(e=>e.canClickThrough?"none":"initial"),p.layers.blanket),f=n("./node_modules/@atlaskit/blanket/dist/es2019/version.json")
;class b extends s.a.Component{render(){const{canClickThrough:e,isTinted:t,onBlanketClicked:n}=this.props,o={canClickThrough:e,isTinted:t,onClick:e?void 0:n};return s.a.createElement(m,o)}}b.displayName="Blanket",r()(b,"defaultProps",{canClickThrough:!1,isTinted:!1,onBlanketClicked:()=>{}});const g=Object(a.a)("atlaskit");t.a=Object(l.a)({componentName:"blanket",packageName:f.a,packageVersion:f.b})(Object(c.a)({onBlanketClicked:g({action:"clicked",actionSubject:"blanket",attributes:{componentName:"blanket",packageName:f.a,packageVersion:f.b}})})(b))},"./node_modules/@atlaskit/blanket/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/blanket","b":"11.1.0"}')},"./node_modules/@atlaskit/button/dist/es2019/button.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js"),l=n("./node_modules/@atlaskit/button/dist/es2019/shared/button-base.js"),c=n("./node_modules/@atlaskit/button/dist/es2019/shared/css.js"),d=n("./node_modules/@atlaskit/button/dist/es2019/shared/get-is-only-single-icon.js");function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(){}const h="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,m=s.a.forwardRef((function(e,t){
let{mode:n,onMouseDown:o=p,onMouseUp:a=p}=e,m=u(e,["mode","onMouseDown","onMouseUp"]);const f=m.appearance||"default",b=m.spacing||"default",g=Boolean(m.shouldFitContainer),y=Boolean(m.isSelected),v=Object(d.a)(m),[O,j]=Object(i.useState)(!1),w=Object(i.useCallback)((e=>{o(e),h&&j(!0)}),[o,j]),k=Object(i.useCallback)((e=>{a(e),h&&j(!1)}),[a,j]),E=Object(i.useMemo)((()=>Object(c.b)({appearance:f,spacing:b,mode:n,isSelected:y,shouldFitContainer:g,isOnlySingleIcon:v})),[f,b,n,y,g,v]);return s.a.createElement(l.a,r()({},m,{ref:t,buttonCss:E,"data-firefox-is-active":!!O||void 0,onMouseDown:w,onMouseUp:k}))})),f=s.a.memo(s.a.forwardRef((function(e,t){return s.a.createElement(a.a.Consumer,null,(({mode:n})=>s.a.createElement(m,r()({},e,{ref:t,mode:n}))))})));f.displayName="Button",t.a=f},"./node_modules/@atlaskit/date/dist/es2019/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Date",(function(){return en})),n.d(t,"DateLozenge",(function(){return Xt}));var o={};n.r(o),
n.d(o,"R50",(function(){return a})),n.d(o,"R75",(function(){return l})),n.d(o,"R100",(function(){return c})),n.d(o,"R200",(function(){return d})),n.d(o,"R300",(function(){return u})),n.d(o,"R400",(function(){return p})),n.d(o,"R500",(function(){return h})),n.d(o,"Y50",(function(){return m})),n.d(o,"Y75",(function(){return f})),n.d(o,"Y100",(function(){return b})),n.d(o,"Y200",(function(){return g})),n.d(o,"Y300",(function(){return y})),n.d(o,"Y400",(function(){return v})),n.d(o,"Y500",(function(){return O})),n.d(o,"G50",(function(){return j})),n.d(o,"G75",(function(){return w})),n.d(o,"G100",(function(){return k})),n.d(o,"G200",(function(){return E})),n.d(o,"G300",(function(){return S})),n.d(o,"G400",(function(){return _})),n.d(o,"G500",(function(){return C})),n.d(o,"B50",(function(){return x})),n.d(o,"B75",(function(){return T})),n.d(o,"B100",(function(){return P})),n.d(o,"B200",(function(){return A})),n.d(o,"B300",(function(){return I})),n.d(o,"B400",(function(){return M})),
n.d(o,"B500",(function(){return D})),n.d(o,"P50",(function(){return N})),n.d(o,"P75",(function(){return R})),n.d(o,"P100",(function(){return L})),n.d(o,"P200",(function(){return B})),n.d(o,"P300",(function(){return F})),n.d(o,"P400",(function(){return z})),n.d(o,"P500",(function(){return U})),n.d(o,"T50",(function(){return H})),n.d(o,"T75",(function(){return $})),n.d(o,"T100",(function(){return W})),n.d(o,"T200",(function(){return V})),n.d(o,"T300",(function(){return K})),n.d(o,"T400",(function(){return q})),n.d(o,"T500",(function(){return G})),n.d(o,"N0",(function(){return Y})),n.d(o,"N10",(function(){return X})),n.d(o,"N20",(function(){return J})),n.d(o,"N30",(function(){return Z})),n.d(o,"N40",(function(){return Q})),n.d(o,"N50",(function(){return ee})),n.d(o,"N60",(function(){return te})),n.d(o,"N70",(function(){return ne})),n.d(o,"N80",(function(){return oe})),n.d(o,"N90",(function(){return re})),n.d(o,"N100",(function(){return ie})),n.d(o,"N200",(function(){return se})),
n.d(o,"N300",(function(){return ae})),n.d(o,"N400",(function(){return le})),n.d(o,"N500",(function(){return ce})),n.d(o,"N600",(function(){return de})),n.d(o,"N700",(function(){return ue})),n.d(o,"N800",(function(){return pe})),n.d(o,"N900",(function(){return he})),n.d(o,"N10A",(function(){return me})),n.d(o,"N20A",(function(){return fe})),n.d(o,"N30A",(function(){return be})),n.d(o,"N40A",(function(){return ge})),n.d(o,"N50A",(function(){return ye})),n.d(o,"N60A",(function(){return ve})),n.d(o,"N70A",(function(){return Oe})),n.d(o,"N80A",(function(){return je})),n.d(o,"N90A",(function(){return we})),n.d(o,"N100A",(function(){return ke})),n.d(o,"N200A",(function(){return Ee})),n.d(o,"N300A",(function(){return Se})),n.d(o,"N400A",(function(){return _e})),n.d(o,"N500A",(function(){return Ce})),n.d(o,"N600A",(function(){return xe})),n.d(o,"N700A",(function(){return Te})),n.d(o,"N800A",(function(){return Pe})),n.d(o,"DN900",(function(){return Ae})),n.d(o,"DN800",(function(){return Ie})),
n.d(o,"DN700",(function(){return Me})),n.d(o,"DN600",(function(){return De})),n.d(o,"DN500",(function(){return Ne})),n.d(o,"DN400",(function(){return Re})),n.d(o,"DN300",(function(){return Le})),n.d(o,"DN200",(function(){return Be})),n.d(o,"DN100",(function(){return Fe})),n.d(o,"DN90",(function(){return ze})),n.d(o,"DN80",(function(){return Ue})),n.d(o,"DN70",(function(){return He})),n.d(o,"DN60",(function(){return $e})),n.d(o,"DN50",(function(){return We})),n.d(o,"DN40",(function(){return Ve})),n.d(o,"DN30",(function(){return Ke})),n.d(o,"DN20",(function(){return qe})),n.d(o,"DN10",(function(){return Ge})),n.d(o,"DN0",(function(){return Ye})),n.d(o,"DN800A",(function(){return Xe})),n.d(o,"DN700A",(function(){return Je})),n.d(o,"DN600A",(function(){return Ze})),n.d(o,"DN500A",(function(){return Qe})),n.d(o,"DN400A",(function(){return et})),n.d(o,"DN300A",(function(){return tt})),n.d(o,"DN200A",(function(){return nt})),n.d(o,"DN100A",(function(){return ot})),n.d(o,"DN90A",(function(){
return rt})),n.d(o,"DN80A",(function(){return it})),n.d(o,"DN70A",(function(){return st})),n.d(o,"DN60A",(function(){return at})),n.d(o,"DN50A",(function(){return lt})),n.d(o,"DN40A",(function(){return ct})),n.d(o,"DN30A",(function(){return dt})),n.d(o,"DN20A",(function(){return ut})),n.d(o,"DN10A",(function(){return pt})),n.d(o,"background",(function(){return ht})),n.d(o,"backgroundActive",(function(){return mt})),n.d(o,"backgroundHover",(function(){return ft})),n.d(o,"backgroundOnLayer",(function(){return bt})),n.d(o,"text",(function(){return gt})),n.d(o,"textHover",(function(){return yt})),n.d(o,"textActive",(function(){return vt})),n.d(o,"subtleText",(function(){return Ot})),n.d(o,"placeholderText",(function(){return jt})),n.d(o,"heading",(function(){return wt})),n.d(o,"subtleHeading",(function(){return kt})),n.d(o,"codeBlock",(function(){return Et})),n.d(o,"link",(function(){return St})),n.d(o,"linkHover",(function(){return _t})),n.d(o,"linkActive",(function(){return Ct})),
n.d(o,"linkOutline",(function(){return xt})),n.d(o,"primary",(function(){return Tt})),n.d(o,"blue",(function(){return Pt})),n.d(o,"teal",(function(){return At})),n.d(o,"purple",(function(){return It})),n.d(o,"red",(function(){return Mt})),n.d(o,"yellow",(function(){return Dt})),n.d(o,"green",(function(){return Nt})),n.d(o,"skeleton",(function(){return Rt}));const r=["light","dark"];function i(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}function s(e,t){if("string"==typeof e)return function(e,t){return n=>{const o=i(n);if(n&&n[e]&&t){const r=t[n[e]];if(r&&r[o.mode]){const e=r[o.mode];if(e)return e}}return""}}(e,t);const n=e;return e=>{const t=i(e);if(t.mode in n){const e=n[t.mode];if(e)return e}return""}}
const a="#FFEBE6",l="#FFBDAD",c="#FF8F73",d="#FF7452",u="#FF5630",p="#DE350B",h="#BF2600",m="#FFFAE6",f="#FFF0B3",b="#FFE380",g="#FFC400",y="#FFAB00",v="#FF991F",O="#FF8B00",j="#E3FCEF",w="#ABF5D1",k="#79F2C0",E="#57D9A3",S="#36B37E",_="#00875A",C="#006644",x="#DEEBFF",T="#B3D4FF",P="#4C9AFF",A="#2684FF",I="#0065FF",M="#0052CC",D="#0747A6",N="#EAE6FF",R="#C0B6F2",L="#998DD9",B="#8777D9",F="#6554C0",z="#5243AA",U="#403294",H="#E6FCFF",$="#B3F5FF",W="#79E2F2",V="#00C7E6",K="#00B8D9",q="#00A3BF",G="#008DA6",Y="#FFFFFF",X="#FAFBFC",J="#F4F5F7",Z="#EBECF0",Q="#DFE1E6",ee="#C1C7D0",te="#B3BAC5",ne="#A5ADBA",oe="#97A0AF",re="#8993A4",ie="#7A869A",se="#6B778C",ae="#5E6C84",le="#505F79",ce="#42526E",de="#344563",ue="#253858",pe="#172B4D",he="#091E42",me="rgba(9, 30, 66, 0.02)",fe="rgba(9, 30, 66, 0.04)",be="rgba(9, 30, 66, 0.08)",ge="rgba(9, 30, 66, 0.13)",ye="rgba(9, 30, 66, 0.25)",ve="rgba(9, 30, 66, 0.31)",Oe="rgba(9, 30, 66, 0.36)",je="rgba(9, 30, 66, 0.42)",we="rgba(9, 30, 66, 0.48)",ke="rgba(9, 30, 66, 0.54)",Ee="rgba(9, 30, 66, 0.60)",Se="rgba(9, 30, 66, 0.66)",_e="rgba(9, 30, 66, 0.71)",Ce="rgba(9, 30, 66, 0.77)",xe="rgba(9, 30, 66, 0.82)",Te="rgba(9, 30, 66, 0.89)",Pe="rgba(9, 30, 66, 0.95)",Ae="#E6EDFA",Ie="#DCE5F5",Me="#CED9EB",De="#B8C7E0",Ne="#ABBBD6",Re="#9FB0CC",Le="#8C9CB8",Be="#7988A3",Fe="#67758F",ze="#56637A",Ue="#455166",He="#3B475C",$e="#313D52",We="#283447",Ve="#202B3D",Ke="#1B2638",qe="#121A29",Ge="#0E1624",Ye="#0D1424",Xe="rgba(13, 20, 36, 0.06)",Je="rgba(13, 20, 36, 0.14)",Ze="rgba(13, 20, 36, 0.18)",Qe="rgba(13, 20, 36, 0.29)",et="rgba(13, 20, 36, 0.36)",tt="rgba(13, 20, 36, 0.40)",nt="rgba(13, 20, 36, 0.47)",ot="rgba(13, 20, 36, 0.53)",rt="rgba(13, 20, 36, 0.63)",it="rgba(13, 20, 36, 0.73)",st="rgba(13, 20, 36, 0.78)",at="rgba(13, 20, 36, 0.81)",lt="rgba(13, 20, 36, 0.85)",ct="rgba(13, 20, 36, 0.89)",dt="rgba(13, 20, 36, 0.92)",ut="rgba(13, 20, 36, 0.95)",pt="rgba(13, 20, 36, 0.97)",ht=s({
light:Y,dark:Ke}),mt=s({light:x,dark:T}),ft=s({light:Z,dark:He}),bt=s({light:Y,dark:We}),gt=s({light:he,dark:De}),yt=s({light:pe,dark:De}),vt=s({light:M,dark:M}),Ot=s({light:se,dark:Le}),jt=s({light:ie,dark:Be}),wt=s({light:pe,dark:De}),kt=s({light:se,dark:Le}),Et=s({light:J,dark:We}),St=s({light:M,dark:P}),_t=s({light:I,dark:A}),Ct=s({light:D,dark:P}),xt=s({light:P,dark:A}),Tt=s({light:M,dark:P}),Pt=s({light:M,dark:P}),At=s({light:K,dark:V}),It=s({light:F,dark:L}),Mt=s({light:u,dark:u}),Dt=s({light:y,dark:y}),Nt=s({light:S,dark:S}),Rt=()=>fe;var Lt=n("./node_modules/react/index.js"),Bt=n.n(Lt),Ft=n("./node_modules/prop-types/index.js"),zt=n.n(Ft),Ut=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Ht=n("./node_modules/exenv/index.js"),$t=n.n(Ht);function Wt(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Vt=function(e){const t=(e,t)=>e(t),n=Object(Lt.createContext)(e);return{Consumer:function(e){const{children:o}=e,r=Wt(e,["children"]),i=(Object(Lt.useContext)(n)||t)(r);return Bt.a.createElement(Bt.a.Fragment,null,o(i))},Provider:function(e){const o=Object(Lt.useContext)(n),r=e.value||t,i=Object(Lt.useCallback)((e=>r(o,e)),[o,r]);return Bt.a.createElement(n.Provider,{value:i},e.children)}}}((()=>({mode:"light"})));function Kt(e){return`\n    body { background: ${e}; }\n  `}function qt(e){return{theme:{__ATLASKIT_THEME__:{mode:e}}}}
const Gt=Ut.default.div(["background-color:",";color:",";a{color:",";}a:hover{color:",";}a:active{color:",";}a:focus{outline-color:",";}h1{color:",";}h2{color:",";}h3{color:",";}h4{color:",";}h5{color:",";}h6{color:",";}small{color:",";}"],(e=>e.background),gt,St,_t,Ct,xt,wt,wt,wt,wt,wt,kt,Ot);class Yt extends Lt.Component{constructor(e){super(e),this.getThemeMode=()=>({mode:this.state.theme.__ATLASKIT_THEME__.mode}),this.state=qt(e.mode)}getChildContext(){return{hasAtlaskitThemeProvider:!0}}UNSAFE_componentWillMount(){if(!this.context.hasAtlaskitThemeProvider&&$t.a.canUseDOM){const e=Kt(this.props.background(this.state));this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}}UNSAFE_componentWillReceiveProps(e){if(e.mode!==this.props.mode){const t=qt(e.mode);if(this.stylesheet){const n=Kt(e.background(t));this.stylesheet.innerHTML=n}this.setState(t)}}
componentWillUnmount(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}render(){const{children:e}=this.props,{theme:t}=this.state;return Bt.a.createElement(Vt.Provider,{value:this.getThemeMode},Bt.a.createElement(Ut.ThemeProvider,{theme:t},Bt.a.createElement(Gt,{background:this.props.background},e)))}}Yt.displayName="AtlaskitThemeProvider",Yt.defaultProps={mode:"light",background:ht},Yt.childContextTypes={hasAtlaskitThemeProvider:zt.a.bool},Yt.contextTypes={hasAtlaskitThemeProvider:zt.a.bool};const Xt=Ut.default.span(["border-radius:","px;padding:2px 4px;margin:0 1px;position:relative;transition:background 0.3s;white-space:nowrap;cursor:",";",";"],(()=>3)(),(e=>e.onClick?"pointer":"unset"),(e=>{var t=s((e=>{if(!e||"grey"===e)return{light:[o.N30A,o.N800,o.N40],dark:[o.DN70,o.DN800,o.DN60]};const t=o,n=e.toUpperCase().charAt(0),r=[t[`${n}50`],t[`${n}500`],t[`${n}75`]];return{light:r,dark:r}})(e.color))(e)
;""===t&&(t=["","",""]);const[n,r,i]=t;return`\n      background: ${n};\n      color: ${r};\n      &:hover {\n        background: ${i};\n      }\n    `}));var Jt=n("./node_modules/date-fns/format/index.js"),Zt=n.n(Jt);const Qt=e=>!!e.onClick;class en extends Bt.a.Component{constructor(){super(...arguments),this.handleOnClick=e=>{Qt(this.props)&&this.props.onClick(this.props.value,e)},this.renderContent=()=>this.props.children?"function"==typeof this.props.children?this.props.children(this.props):this.props.children:Zt()(this.props.value,this.props.format)}render(){return Bt.a.createElement(Xt,{className:this.props.className,onClick:Qt(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}en.displayName="Date",en.displayName="Date",en.defaultProps={format:"DD/MM/YYYY",color:"grey"}},"./node_modules/@atlaskit/editor-common/dist/es2019/extensions/default-extension-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/module-helpers.js");class r{constructor(e,t){this.manifestsPromise=Promise.resolve(e),this.autoConvertHandlers=t}getExtensions(){return this.manifestsPromise}async getExtension(e,t){const n=(await this.manifestsPromise).find((n=>n.type===e&&n.key===t));if(!n)throw new Error(`Extension with type "${e}" and key "${t}" not found!`);return n}async search(e){return(await this.manifestsPromise).filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return Object(o.a)(await this.manifestsPromise)}}},"./node_modules/@atlaskit/editor-common/dist/es2019/extensions/module-helpers.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/manifest-helpers.js");const r=(e,t)=>{
const n=e.map((e=>(e.modules.quickInsert||[]).map((t=>function(e,t){const n=t.title||e.title,r=`${e.key}:${t.key}`,i=Object(o.a)(t.action,e);if(!i)throw new Error(`Couldn't find any action for ${n} (${r})`);return{key:r,title:n,extensionType:e.type,keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:i}}(e,t)))));return[].concat(...n).map(t)};async function i(e){const t=await Promise.all(e.map((async e=>e.modules.autoConvert&&e.modules.autoConvert.url?e.modules.autoConvert.url:[])));return[].concat(...t)}async function s(e){const t=await e;return(e=>t=>{for(const n of e){const e=n(t);if(e)return e}})(await t.getAutoConverter())}},"./node_modules/@atlaskit/editor-common/dist/es2019/messages/link.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("./node_modules/@atlaskit/editor-common/node_modules/react-intl/lib/index.es.js");const r=Object(o.b)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}})},"./node_modules/@atlaskit/editor-common/dist/es2019/ui/Expand/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return b}));var o=n("./node_modules/@atlaskit/editor-common/node_modules/react-intl/lib/index.es.js"),r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),s=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),a=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js");const l=Object(o.b)({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},
expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}),c=Object(a.gridSize)()/2,d=Object(s.a)({light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),u=Object(s.a)({light:"rgba(9, 30, 66, 0.13)",dark:"#283447"}),p=r.default.div(["cursor:pointer;display:flex;color:",";border-radius:","px;width:24px;height:24px;&:hover{background:",";}svg{"," transition:transform 0.2s ",";}"],Object(s.a)({light:"#8993A4",dark:"#d9dde3"
}),Object(a.gridSize)()/2,"rgba(9, 30, 66, 0.08)",(e=>e.expanded?"transform: rotate(90deg);":""),i.L),h=r.default.div(["width:","px;height:","px;"],3*Object(a.gridSize)(),3*Object(a.gridSize)()),m=Object(r.css)(["border-width:1px;border-style:solid;border-color:",";border-radius:","px;min-height:25px;background:",";margin:",";transition:background 0.3s ",",border-color 0.3s ",";padding:","px;&:hover{border:1px solid ",";background:",";}td > &:first-child{margin-top:0;}"],(({expanded:e})=>e?u:"transparent"),c,(({expanded:e})=>e?d:"transparent"),(e=>`${Object(a.gridSize)()/2/Object(a.fontSize)()}rem ${"expand"===e["data-node-type"]?`-${i.X}px`:"0"} 0`),i.L,i.L,a.gridSize,Object(s.a)({light:"rgba(9, 30, 66, 0.25)",dark:"#283447"
}),d),f=Object(r.css)(["",";"],(({expanded:e})=>Object(r.css)(["padding-top:","px;padding-right:","px;padding-left:","px;display:table;display:flow-root;@supports not (display:flow-root){width:100%;box-sizing:border-box;}",""],e?Object(a.gridSize)():0,Object(a.gridSize)(),4*Object(a.gridSize)()-Object(a.gridSize)()/2,e?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      "))),b={TitleInputStyles:Object(r.css)(["outline:none;border:none;font-size:","px;line-height:",";font-weight:normal;color:",";background:transparent;display:flex;flex:1;padding:0 0 0 ","px;width:100%;&::placeholder{opacity:0.6;color:",";}"],Object(a.fontSize)(),i.s,Object(s.a)({
light:"rgba(9, 30, 66, 0.60)",dark:"#B8C7E0"}),Object(a.gridSize)()/2,Object(s.a)({light:"rgba(9, 30, 66, 0.60)",dark:"#B8C7E0"})),TitleContainerStyles:Object(r.css)(["padding:0;display:flex;align-items:flex-start;background:none;border:none;font-size:","px;width:100%;color:",";overflow:hidden;cursor:pointer;user-select:none;&:focus{outline:0;}"],Object(a.fontSize)(),Object(s.a)({light:"rgba(9, 30, 66, 0.66)",dark:"#B8C7E0"})),ContainerStyles:m,ContentStyles:f}},"./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/raf-schd/esm/index.js"),l=n("./node_modules/react-dom/index.js"),c=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),d=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/utils.js");function u(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends s.a.Component{constructor(...e){super(...e),r()(this,"state",{overflowScrollParent:!1,validPosition:!0}),r()(this,"placement",["",""]),r()(this,"handleRef",(e=>{e&&this.initPopup(e)})),r()(this,"scheduledUpdatePosition",Object(a.a)((e=>this.updatePosition(e)))),
r()(this,"onResize",(()=>this.scheduledUpdatePosition()))}updatePosition(e=this.props,t=this.state){const{target:n,fitHeight:o,fitWidth:r,boundariesElement:i,offset:s,onPositionCalculated:a,onPlacementChanged:l,alignX:c,alignY:u,stick:p,forcePlacement:h,allowOutOfBounds:m,rect:f}=e,{popup:b}=t;if(!n||!b)return;const g=Object(d.a)(n,i||document.body,r,o,c,u,h);l&&this.placement.join("")!==g.join("")&&(l(g),this.placement=g);let y=Object(d.b)({placement:g,popup:b,target:n,stick:p,offset:s,allowOutOfBounds:m,rect:f});y=a?a(y):y,this.setState({position:y,validPosition:Object(d.d)(n)})}cannotSetPopup(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}initPopup(e){const{target:t}=this.props,n=Object(d.c)(e);this.cannotSetPopup(e,t,n)||this.setState({popup:e,overflowScrollParent:n},this.scheduledUpdatePosition)}UNSAFE_componentWillReceiveProps(e){this.scheduledUpdatePosition(e)}componentDidMount(){
window.addEventListener("resize",this.onResize);const{stick:e}=this.props;this.scrollElement=e?Object(d.c)(this.props.target):this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scheduledUpdatePosition.cancel()}renderPopup(){const{position:e}=this.state,{shouldRenderPopup:t}=this.props;return t&&!t(e||{})?null:s.a.createElement("div",{ref:this.handleRef,style:p({position:"absolute",zIndex:this.props.zIndex||c.m},e),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}render(){const{target:e,mountTo:t}=this.props,{validPosition:n}=this.state;return e&&n?t?Object(l.createPortal)(this.renderPopup(),t):this.renderPopup():null}}m.displayName="Popup",r()(m,"defaultProps",{offset:[0,0],allowOutOfBound:!1})},
"./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/utils.js":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return e===document.body}function a(e){return e&&3===e.nodeType}function l(e,t,n,o,r){if(r&&o)return o;if(!n)return"bottom";a(e)&&(e=e.parentElement)
;const i=t.getBoundingClientRect(),{height:l}=i,c=s(t)?0:i.top,{top:d,height:u}=e.getBoundingClientRect(),p=d-(c-t.scrollTop),h=c+l-(d+u);return h>=n||h>=p?"bottom":"top"}function c(e,t,n,o,r){if(r&&o)return o;if(!n)return o||"left";a(e)&&(e=e.parentElement);const{left:i,width:s}=e.getBoundingClientRect(),{left:l,width:c}=t.getBoundingClientRect(),d=i-l+s,u=l+c-i;return o&&d>n&&u>n?o:u>=n||u>=d&&!o?"left":"right"}function d(e,t,n,o,r,i,s){return[l(e,t,o,i,s),c(e,t,n,r,s)]}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));const u=(e,t,n)=>(n<e+t&&(e=n-t-1),Math.max(1,e));function p({placement:e,target:t,popup:n,offset:o,stick:i,allowOutOfBounds:l=!1,rect:c}){let d={};if(!t||!n||!n.offsetParent)return d;a(t)&&(t=t.parentElement);const p=n.offsetParent,h=p.style;let f=0;h&&h.borderBottomWidth&&(f=parseInt(h.borderBottomWidth,10))
;const[b,g]=e,{top:y,left:v,right:O,height:j}=c||p.getBoundingClientRect(),{top:w,left:k,right:E,height:S,width:_}=t.getBoundingClientRect(),C=s(p),x=(({placement:e,targetTop:t,targetHeight:n,isPopupParentBody:o,popupOffsetParentHeight:r,popupOffsetParentTop:i,popupOffsetParentScrollTop:s,borderBottomWidth:a,offset:l})=>{const c={};if("top"===e)c.bottom=Math.ceil(r-(t-i)-(o?0:s)-a+l[1]);else if("start"===e)c.top=Math.ceil(t-i-l[1]+(o?0:s));else{let e=Math.ceil(t-i+n+(o?0:s)-a+l[1]);c.top=e}return c})({placement:b,targetTop:w,isPopupParentBody:C,popupOffsetParentHeight:j,popupOffsetParentTop:y,popupOffsetParentScrollTop:p.scrollTop||0,targetHeight:S,borderBottomWidth:f,offset:o});d=r(r({},d),x),"top"!==b&&"start"!==b||!i||(d=(({target:e,targetTop:t,targetHeight:n,popupOffsetParentHeight:o,popupOffsetParent:i,offset:s,position:a,placement:l})=>{const c=m(e),d=r({},a);if(c){const{top:e}=c.getBoundingClientRect(),r=t-e,a=c.scrollTop;if(r<0){const c=t+(a-e)+n+s[1]<a
;"top"===l&&(d.bottom=c?o-(r+i.scrollTop+n):r+(d.bottom||0)),"start"===l&&(d.top=c?r+i.scrollTop+n:Math.abs(r)+(d.top||0)+s[1])}}return d})({target:t,targetTop:w,targetHeight:S,popupOffsetParentHeight:j,popupOffsetParent:p,popup:n,offset:o,position:d,placement:b})),"top"!==b&&"start"!==b&&i&&(d=(({target:e,targetTop:t,targetHeight:n,popup:o,offset:i,position:s})=>{const a=m(e),l=r({},s);if(a){let e=t-a.getBoundingClientRect().top,r=n+e;if(a.clientHeight-r<=o.clientHeight+2*i[1]&&e<a.clientHeight){const e=r-a.clientHeight+2*i[1];let t=l.top||0;t-=e+o.clientHeight,l.top=t}}return l})({target:t,targetTop:w,targetHeight:S,popup:n,offset:o,position:d}));const T=(({placement:e,targetLeft:t,targetRight:n,targetWidth:o,isPopupParentBody:r,popupOffsetParentLeft:i,popupOffsetParentRight:s,popupOffsetParentScrollLeft:a,popupOffsetParentClientWidth:l,popupClientWidth:c,offset:d,allowOutOfBounds:p=!1})=>{const h={}
;if("left"===e)h.left=Math.ceil(t-i+(r?0:a)+d[0]);else if("center"===e)h.left=Math.ceil(t-i+(r?0:a)+d[0]+o/2-c/2);else if("end"===e){const e=Math.ceil(n-i+(r?0:a)+d[0]);h.left=e}else h.right=Math.ceil(s-n-(r?0:a)+d[0]);return p||(void 0!==h.left&&(h.left=u(h.left,c,l)),void 0!==h.right&&(h.right=u(h.right,c,l))),h})({placement:g,targetLeft:k,targetRight:E,targetWidth:_,isPopupParentBody:C,popupOffsetParentLeft:v,popupOffsetParentRight:O,popupOffsetParentScrollLeft:p.scrollLeft||0,popupOffsetParentClientWidth:n.offsetParent.clientWidth,popupClientWidth:n.clientWidth||0,offset:o,allowOutOfBounds:l});return d=r(r({},d),T),d}function h(e){return!(!e||!e.offsetParent)}function m(e){let t=e;if(!t)return!1;for(;t=t.parentElement;){const e=window.getComputedStyle(t);if("scroll"===e.overflow||"scroll"===e.overflowX||"scroll"===e.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},
"./node_modules/@atlaskit/editor-common/dist/es2019/utils/date.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h}));var o,r=n("./node_modules/date-fns/difference_in_calendar_days/index.js"),i=n.n(r),s=n("./node_modules/date-fns/is_before/index.js"),a=n.n(s);!function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(o||(o={}));const l=e=>{const t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},c=()=>{const e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},d=(e,t,n)=>{if(!t||n===o.ISO_FORMAT)return u(e);const r=new Date(Number(e)),i=n===o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,s=!i;return t.formatDate(r,{timeZone:"UTC",
weekday:i?"short":void 0,month:"short",day:"numeric",year:s?"numeric":void 0,formatMatcher:"best fit"})},u=e=>{const t=new Date(Number(e));return`${t.getUTCFullYear()}-${(e=>e<10?`0${e}`:e)(t.getUTCMonth()+1)}-${t.getUTCDate()}`},p=e=>a()(u(Number(e)),u(Number(c()))),h=(e,t)=>{const n=new Date(Number(c())),r=new Date(Number(e)),s=i()(r,n),a=r.getUTCFullYear()===n.getUTCFullYear();return t&&[-1,0,1].indexOf(s)>-1?(e=>e.charAt(0).toUpperCase()+e.slice(1))(t.formatRelative(r,{units:"day",now:Number(c())})):d(e,t,a?o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:o.LOCALIZED_FORMAT)}},"./node_modules/@atlaskit/editor-common/dist/es2019/utils/error-reporter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o);class i{constructor(){r()(this,"handlerStorage",null)}captureMessage(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}captureException(e,t){
this.handlerStorage&&this.handlerStorage.captureException(e,t)}set handler(e){this.handlerStorage=e}}},"./node_modules/@atlaskit/editor-common/dist/es2019/utils/imageLoader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a);const c=e=>class extends a.Component{constructor(...e){super(...e),s()(this,"state",{imageStatus:"loading"}),s()(this,"onLoad",(()=>{this.setState({imageStatus:"complete"});const{onExternalImageLoaded:e}=this.props;e&&this.img&&e({width:this.img.naturalWidth,height:this.img.naturalHeight})})),s()(this,"onError",(()=>{this.setState({imageStatus:"error"})}))}componentDidMount(){this.fetchImage(this.props)}UNSAFE_componentWillReceiveProps(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}componentWillUnmount(){
this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}fetchImage({url:e}){e&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=e)}render(){const{imageStatus:t}=this.state;return l.a.createElement(e,r()({},this.props,{imageStatus:t}))}}},"./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure-render.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return i}));var r=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/is-performance-api-available.js");function i(t,n){if(!Object(r.a)())return;const o=`[START]: ${t}`,i=`[END]: ${t}`,s=performance.now();performance.mark(o),requestAnimationFrame((()=>{requestAnimationFrame((()=>{performance.mark(i);const r=performance.now()-s;try{performance.measure(t,o,i);const e=performance.getEntriesByName(t).pop();e?n(e.duration,e.startTime):n(r,s)
}catch(e){n(r,s)}performance.clearMeasures(t),performance.clearMarks(o),performance.clearMarks(i)}))}))}},"./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="\u200b"},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/glyph/editor/success.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 10-1.338 1.487l2.5 2.25a1 1 0 001.555-.279l2.75-5.25a1 1 0 00-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorSuccessIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/glyph/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));s.displayName="ErrorIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/dist/es2019/actions/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/prosemirror-model/dist/index.es.js"),s=n("./node_modules/prosemirror-state/dist/index.es.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/action.js"),d=n("./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/traverse.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){let t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.marks,t}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
var g=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js"),y=n("./node_modules/prosemirror-utils/dist/index.js"),v=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/analytics.js");class O{constructor(){r()(this,"listeners",[]),r()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(g.b)(this.eventDispatcher)(v.e,{payload:e})}}))}static from(e,t,n){const o=new O;return o._privateRegisterEditor(e,t,n),o}_privateGetEditorView(){return this.editorView}_privateGetEventDispatcher(){return this.eventDispatcher}_privateRegisterEditor(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach((n=>n(e,t)));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}
_privateUnregisterEditor(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0}_privateSubscribe(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}_privateUnsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}focus(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)}blur(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}clear(){if(!this.editorView)return!1;const e=this.editorView,{state:t}=e,n=e.state.tr.setSelection(s.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}async __temporaryFixForConfigPanel(){const{editorView:e}=this;e&&Object(c.a)(e)}async getValue(){const{editorView:e}=this;if(!e)return;const t=await Object(c.c)(e),n=function(e){return Object(d.a)(e,{
text:e=>e&&Array.isArray(e.marks)?f(f({},e),{},{marks:e.marks.filter((e=>"typeAheadQuery"!==e.type))}):e,status:e=>!(!e.attrs||!e.attrs.text)&&h(e),caption:e=>!!e.content&&e,emoji:h,mention:h,date:h,hardBreak:h,inlineCard:h})}(Object(a.x)(t));if(!this.contentEncode)return n;const o=i.Node.fromJSON(this.editorView.state.schema,n);return this.contentEncode(o)}isDocumentEmpty(){return!this.editorView||Object(l.f)(this.editorView.state.doc)}replaceDocument(e,t=!0,n=!0){if(!this.editorView||null==e)return!1;const{state:o}=this.editorView,{schema:r}=o,i=Object(l.l)(r,e,void 0,void 0,this.contentTransformer,this.dispatchAnalyticsEvent);if(!i)return!1;let a=o.tr.replaceWith(0,o.doc.nodeSize-2,i.content);return t||a.selectionSet||a.setSelection(s.Selection.atStart(a.doc)),t&&(a=a.scrollIntoView()),n||a.setMeta("addToHistory",!1),this.editorView.dispatch(a),!0}replaceSelection(e,t){if(!this.editorView)return!1;const{state:n}=this.editorView;if(!e){const e=n.tr.deleteSelection().scrollIntoView()
;return this.editorView.dispatch(e),!0}const{schema:o}=n,r=Object(l.l)(o,e);return!!r&&(this.editorView.dispatch(Object(y.safeInsert)(r,void 0,t)(n.tr).scrollIntoView()),!0)}appendText(e){if(!this.editorView||!e)return!1;const{state:t}=this.editorView,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;const o=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(o),!0}}},"./node_modules/@atlaskit/editor-core/dist/es2019/commands/index.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"k",(function(){return w})),n.d(t,"b",(function(){return k}))
;var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return function(){return!0}}const h=Object(a.d)({action:l.a.INSERTED,actionSubject:l.b.TEXT,actionSubjectId:l.c.LINE_BREAK,eventType:l.d.TRACK})(function(){return function(e,t){const{$from:n}=e.selection,i=n.parent,{hardBreak:s}=e.schema.nodes;if(s){const n=s.createChecked();if(i&&i.type.validContent(o.Fragment.from(n)))return t&&t(e.tr.replaceSelectionWith(n,!1)),!0}return e.selection instanceof r.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)}}());function m(){return function(e,t){const{to:n}=e.selection,{rule:o}=e.schema.nodes;if(o){const r=o.create();return t&&t(e.tr.insert(n+1,r)),!0}return!1}}const f=(e,t)=>!(Object(s.c)(e)||!g(e))&&(y(false)(e,t),!0),b=(e,t)=>!(Object(s.b)(e)||!g(e))&&(y(true)(e,t),!0);function g(e){
const{selection:{$from:t}}=e,n=t.node(t.depth),o=!!n&&n.type===e.schema.nodes.codeBlock,i=e.selection instanceof r.NodeSelection;return t.depth>1||i||o}function y(e=!0){return function(t,n){const o=t.schema.nodes.paragraph;if(!o)return!1;let i;if(t.selection instanceof r.TextSelection){if(function(e){const t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;i=function(e,t){const{$from:n,$to:o}=e.selection;let r;r=t?o.end(0):n.start(0);return r}(t,e)}else i=function(e,t){const{$from:n,$to:o}=e.selection,i=e.selection instanceof r.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),s=i&&"mediaGroup"===i.type.name;let a;t?(a=o.end(o.depth),a=o.depth>0&&!s?a+1:a):(a=n.start(n.depth),a=n.depth>0&&!s?a-1:a);return a}(t,e);const s=t.tr.insert(i,o.createAndFill());return s.setSelection(r.TextSelection.create(s.doc,i+1)),n&&n(s),!0}}function v(){return function(e,t){const{doc:n,tr:o,schema:{nodes:i}}=e
;return!n.lastChild||n.lastChild.type===i.paragraph&&0===n.lastChild.content.size||o.insert(n.content.size,i.paragraph.createAndFill()),o.setSelection(r.TextSelection.create(o.doc,o.doc.content.size-1)),o.scrollIntoView(),t&&t(o),!0}}const O=e=>(t,n)=>{const{from:o,to:r}=t.selection,i=t.tr;return t.doc.nodesBetween(o,r,((n,o)=>{n.type===t.schema.nodes.mediaSingle&&i.setNodeMarkup(o,void 0,d(d({},n.attrs),{},{layout:"center"===e?"center":`align-${e}`}))})),!(!i.docChanged||!n)&&(n(i.scrollIntoView()),!0)},j=(e,t,n)=>(o,r,i,s)=>{let a=!1;return s.doc.nodesBetween(o,r,((o,r,l)=>{if(!o.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(o.type)>-1:n(s.schema,o,l)))&&l.type.allowsMarkType(e)){const n=o.marks.filter((t=>t.type===e)),s=n.length?n[0].attrs:void 0,l=t(s,o);void 0!==l&&(i.setNodeMarkup(r,o.type,o.attrs,o.marks.filter((t=>!e.excludes(t.type))).concat(!1===l?[]:e.create(l))),a=!0)}})),a},w=(e,t,n)=>(o,r)=>{let s=!1;const a=o.tr,l=j(e,t,n)
;if(o.selection instanceof i.a)o.selection.forEachCell(((e,t)=>{s=l(t,t+e.nodeSize,a,o)}));else{const{from:e,to:t}=o.selection;s=l(e,t,a,o)}return!(!s||!a.docChanged)&&(r&&r(a.scrollIntoView()),!0)},k=(e,t)=>{const n=e.tr;return n.replace(0,e.doc.nodeSize-2),n.setSelection(r.Selection.atStart(n.doc)),!!t&&(t(n),!0)}},"./node_modules/@atlaskit/editor-core/dist/es2019/create-editor/ReactEditorView.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return ge}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/prosemirror-state/dist/index.es.js"),d=n("./node_modules/prosemirror-view/dist/index.es.js"),u=n("./node_modules/react-intl/lib/index.es.js"),p=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure.js"),h=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure-render.js"),m=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/should-force-tracking.js"),f=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/analytics.js"),b=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/navigation.js"),g=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js"),y=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js"),v=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),O=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js"),j=n("./node_modules/@atlaskit/editor-core/dist/es2019/create-editor/create-plugins-list.js"),w=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/general-events.js"),E=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),S=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js"),_=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/feature-flags-from-props.js"),C=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/error-reporter.js"),x={
plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","typeAhead","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","lists","listsPredictable","textColor","alignmentPlugin","listsInputRule","listsPredictableInputRule","listsKeymap","listsPredictableKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileScroll","scrollGutterPlugin","analytics","findReplace","selection"],
nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","unsupportedMark","unsupportedNodeAttribute"]};function T(e){return function(t,n){return x[e].indexOf(t.name)-x[e].indexOf(n.name)}}class P extends c.Plugin{constructor(e,t={},n){const{transactionTracking:o={enabled:!1},uiTracking:r={enabled:!1}}=t;if(o.enabled&&e.state&&n){
const t=e.state.apply.bind(e.state);e.state.apply=(e,r,i,s)=>{if(!n.shouldTrackTransaction(o))return t(e,r,i,s);const{startMeasure:a,stopMeasure:l}=n.getMeasureHelpers(o),c=`\ud83e\udd89${this.key}::apply`;a(c);const d=t(e,r,i,s);return l(c),d}}if(r.enabled&&e.view){const t=e.view.bind(e);e.view=e=>{const n=`\ud83e\udd89${this.key}::view::update`,o=t(e);if(o.update){const e=o.update;o.update=(t,o)=>{Object(p.b)(n),e(t,o),Object(p.c)(n,(()=>{}))}}return o}}super(e)}static fromPlugin(e,t,n){return new P(e.spec,t,n)}}function A(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I(e){const t=e.reduce(((e,t)=>(t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((n=>{
e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e)),{});return e.reduce(((e,n)=>(n.pmPlugins&&e.pmPlugins.push(...n.pmPlugins(n.name?t[n.name]:void 0)),n.nodes&&e.nodes.push(...n.nodes()),n.marks&&e.marks.push(...n.marks()),n.contentComponent&&e.contentComponents.push(n.contentComponent),n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),n.onEditorViewStateUpdated&&e.onEditorViewStateUpdatedCallbacks.push({pluginName:n.name,callback:n.onEditorViewStateUpdated}),e)),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}const M={enabled:!1};function D(e){const{editorConfig:t,performanceTracking:n={},transactionTracker:o}=e,r=A(e,["editorConfig","performanceTracking","transactionTracker"]),{uiTracking:i=M,transactionTracking:s=M}=n
;const a=i.enabled||s.enabled?e=>P.fromPlugin(e,{uiTracking:i,transactionTracking:s},o):e=>e;return t.pmPlugins.sort(T("plugins")).map((({plugin:e})=>e(r))).filter((e=>void 0!==e)).map(a)}const N=(e,t)=>{const n={type:e.type.name,pos:t,nodeSize:e.nodeSize},o=R(e.content,t);o.length>0&&(n.content=o);const r=B(e);return r.length>0&&(n.marks=r),n},R=(e,t)=>{if(!e||!e.content||!e.content.length)return[];let n=[];const{content:o}=e;if(o[0].isBlock){let e;n=o.map((n=>(t+=e?e.nodeSize:1,e=n,N(n,t))))}else{const e=L(o,t);n=e.inlineNodes,t=e.pos}return n},L=(e,t)=>({inlineNodes:e.map((e=>{const{nodeSize:n}=e,o={type:e.type.name,pos:t,nodeSize:n},r=B(e);return r.length>0&&(o.marks=r),t+=n,o})),pos:t}),B=e=>e.marks.map((e=>e.type.name))
;var F=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/is-full-page.js"),z=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/performance/measure-enum.js"),U=n("./node_modules/prosemirror-model/dist/index.es.js"),H=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/create-schema.js");function $(e){const t=function(e){const t=Object.keys(e),n=new Set(t.map((t=>e[t].group)));return t.forEach((t=>{const o=e[t];o.excludes&&(o.excludes=o.excludes.split(" ").filter((e=>n.has(e))).join(" "))})),e}(e.marks.sort(T("marks")).reduce(((e,t)=>(e[t.name]=t.mark,e)),{})),n=Object(H.b)(e.nodes.sort(T("nodes")).reduce(((e,t)=>(e[t.name]=t.node,e)),{}),t);return new U.Schema({nodes:n,marks:t})}const W=(e,t)=>{const n=e.sort(((e,t)=>e-t)),o=n.length*t,r=Math.floor(o);if(o-r>0)return n[r];const i=n[r-1],s=n[r];return void 0!==i&&void 0!==s?(i+s)/2:void 0},V=(e,t)=>{const n=W(e,.25),o=W(e,.75);if(void 0===n||void 0===o)return;return o+(o-n)*t}
;var K=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/is-performance-api-available.js");const q="\ud83e\udd89 EditorView::state::apply",G="\ud83e\udd89 EditorView::updateState",Y="\ud83e\udd89 EditorView::onEditorViewStateUpdated",X="\ud83e\udd89 ReactEditorView::onChange",J="\ud83e\udd89 ReactEditorView::dispatchTransaction",Z=!1,Q=100,ee=()=>{};class te{constructor(){r()(this,"dispatchCallCounter",0),r()(this,"measureMap",new Map),r()(this,"measureListeners",[]),r()(this,"bumpDispatchCounter",(e=>{const{enabled:t,samplingRate:n=Q}=e;return t&&(this.dispatchCallCounter>=n&&(this.dispatchCallCounter=0),this.dispatchCallCounter++),this.dispatchCallCounter})),r()(this,"getMeasureHelpers",(e=>{const{usePerformanceMarks:t=Z}=e;return this.shouldTrackTransaction(e)?{startMeasure:t?p.b:this.startMeasureSimple,stopMeasure:t?p.c:this.stopMeasureSimple}:{startMeasure:ee,stopMeasure:ee}})),r()(this,"startMeasureSimple",(e=>{
Object(K.a)()&&this.measureMap.set(e,performance.now())})),r()(this,"stopMeasureSimple",((e,t)=>{if(!Object(K.a)())return;const n=performance.now(),o=this.measureMap.get(e);if(o){const r=n-o;this.measureMap.delete(e),t&&t(r,o),this.measureListeners.forEach((t=>t({name:e,duration:r,startTime:o})))}}))}addMeasureListener(e){this.measureListeners.push(e)}removeMeasureListener(e){const t=this.measureListeners.indexOf(e);t>-1&&this.measureListeners.splice(t,1)}shouldTrackTransaction(e){const{enabled:t,samplingRate:n=Q}=e;return t&&this.dispatchCallCounter===n}}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){re(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie{constructor(e){r()(this,"count",0),r()(this,"pluginNames",[]),r()(this,"nodes",{}),r()(this,"nodesDuration",0),r()(this,"plugins",{}),r()(this,"slowPlugins",{}),r()(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),r()(this,"isChild",(e=>e.startTime>=this.entry.startTime&&e.startTime+e.duration<=this.entry.startTime+this.entry.duration)),this.entry=e}static fromEntry(e){return new ie(e)}getEntryByName(e,t){return e.getEntriesByName(t).find(this.isChild)}getMethodSum(e){return Object.values(e).reduce(((e,t)=>e+t),0)}greaterEquals(e,t){return"number"==typeof t&&e>=t}hasOutlierMethods(e,t){
return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}get trigger(){return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}get hasSlowPlugins(){return Object.keys(this.slowPlugins).length>0}withEntryList(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e,q),this.viewUpdated=this.getEntryByName(e,G),this.onChangeCalled=this.getEntryByName(e,X),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e,Y),this.withPlugins(this.pluginNames),this}withPlugins(e){const t={duration:0};if(this.pluginNames=e,this.plugins=e.reduce(((e,n)=>{
const o=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::apply`)||t,r=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::view::update`)||t,i=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::onEditorViewStateUpdated`)||t;return e[n]={stateApply:o.duration,viewUpdate:r.duration,onEditorViewStateUpdated:i.duration},e}),{}),this.stateApplied&&e.length>0){const e=Object.entries(this.plugins),t=V(e.map((([,{stateApply:e}])=>e)),this.options.outlierFactor),n=V(e.map((([,{viewUpdate:e}])=>e)),this.options.outlierFactor),o=this.options.outlierThreshold/e.length,r=([,e])=>this.getMethodSum(e)>o&&this.hasOutlierMethods(e,{stateApplyOutlier:t,viewUpdateOutlier:n});this.slowPlugins=e.filter(r).reduce(((e,[t,n])=>oe(oe({},e),{},{[t]:n})),{})}return this}withNodes(e,t=0){return this.nodes=e,this.nodesDuration=t,this}withCount(e){return this.count=e,this}withOptions(e){return Object.assign(this.options,e),this}toJSON(){return{
trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}const se=[q,G,Y,X,J];class ae{constructor(){r()(this,"currentBatch",[]),r()(this,"pluginNameCache",new Set),r()(this,"setPluginNames",(e=>{this.pluginNameCache=new Set(e)})),r()(this,"setOnObservation",(e=>{this.observationCallback=e})),r()(this,"createPerformanceEntry",(e=>({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:()=>JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}))),r()(this,"convertToEntryList",(e=>({getEntries:()=>e,
getEntriesByName:(t,n)=>e.filter((e=>e.name===t)),getEntriesByType:t=>e}))),r()(this,"observed",(e=>{const{name:t}=e;if(t.startsWith("\ud83e\udd89")){var n;const o=(null===(n=t.split(":")[0])||void 0===n?void 0:n.split("\ud83e\udd89")[1])||"",r=this.pluginNameCache.has(o),i=se.includes(t);0,(r||i)&&this.currentBatch.push(this.createPerformanceEntry(e))}if(t===J){if(this.observationCallback){const e=this.convertToEntryList([...this.currentBatch]);this.observationCallback(e)}this.currentBatch=[]}}))}}class le{constructor(e){r()(this,"getNodeCounts",(()=>[{},0])),r()(this,"getPlugins",(()=>[])),r()(this,"getOptions",(()=>({}))),r()(this,"reportCount",0),r()(this,"simpleObserver",new ae),r()(this,"onObserveration",(e=>{e.getEntriesByName(J).map((t=>ie.fromEntry(t).withCount(++this.reportCount).withEntryList(e).withNodes(...this.getNodeCounts()).withPlugins(this.getPlugins()).withOptions(this.getOptions()).toJSON())).filter((e=>"none"!==e.trigger)).forEach((e=>this.callback(e)))})),
this.callback=e,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe(){},disconnect(){},takeRecords:()=>[]}}get isSimpleTracking(){const{usePerformanceMarks:e=!1}=this.getOptions();return!e}withNodeCounts(e){return this.getNodeCounts=()=>{const t=performance.now();return[e(),performance.now()-t]},this}withPlugins(e){return this.getPlugins=e,this}withOptions(e){return this.getOptions=e,this}withTransactionTracker(e){return this.getTransactionTracker=e,this}observe(){if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((e=>{this.onObserveration(e,this.observer)})),this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}disconnect(){
this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}takeRecords(){return this.observer.takeRecords()}}var ce=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/get-participants-count.js"),de=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/count-nodes.js"),ue=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/context-identifier.js");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function be(e){if(!e.hasFocus())return window.setTimeout((()=>{e.focus()}),0)}class ge extends s.a.Component{get transactionTrackingProp(){const{editorProps:e}=this.props,{transactionTracking:t}=e.performanceTracking?e.performanceTracking:e;return t||{enabled:!1}}get transactionTrackingOptions(){const e=this.transactionTrackingProp,{enabled:t}=e,n=fe(e,["enabled"]);return t?n:{}}getPluginNames(){
return this.editorState.plugins.map((e=>e.key))}countNodes(){return Object(de.a)(this.editorState)}constructor(e,t){super(e,t),r()(this,"canDispatchTransactions",!0),r()(this,"onPluginObservation",((e,t)=>{this.dispatchAnalyticsEvent({action:w.a.TRANSACTION_DISPATCHED,actionSubject:w.b.EDITOR,eventType:w.d.OPERATIONAL,attributes:{report:e,participants:Object(ce.a)(t)}})})),r()(this,"formatFullWidthAppearance",(e=>"full-width"===e?k.b.FULL_WIDTH:k.b.FIXED_WIDTH)),r()(this,"reconfigureState",(e=>{if(!this.view)return;this.view.dom instanceof HTMLElement&&this.view.hasFocus()&&this.view.dom.blur(),this.config=I(this.getPlugins(e.editorProps,this.props.editorProps,e.createAnalyticsEvent));const t=this.editorState,n=D({schema:t.schema,dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:()=>this.context,
dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking||{transactionTracking:this.transactionTrackingProp},transactionTracker:this.transactionTracker}),o=t.reconfigure({plugins:n});return this.view.updateState(o),this.view.update(he(he({},this.view.props),{},{state:o}))})),r()(this,"createEditorState",(e=>{if(this.view)return console.warn("The editor does not support changing the schema dynamically."),this.editorState;this.config=I(this.getPlugins(e.props.editorProps,void 0,e.props.createAnalyticsEvent));const t=$(this.config),{contentTransformerProvider:n,defaultValue:o}=e.props.editorProps,r=D({schema:t,dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:this.props.portalProviderAPI,reactContext:()=>e.context,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,
performanceTracking:this.props.editorProps.performanceTracking||{transactionTracking:this.transactionTrackingProp},transactionTracker:this.transactionTracker});let i,s;this.contentTransformer=n?n(t):void 0,e.replaceDoc&&(i=Object(v.l)(t,o,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,this.contentTransformer,this.dispatchAnalyticsEvent)),i&&(s=Object(F.a)(e.props.editorProps.appearance)?c.Selection.atStart(i):c.Selection.atEnd(i));const a=s&&c.Selection.findFrom(s.$head,-1,!0)||void 0;return c.EditorState.create({schema:t,plugins:r,doc:i,selection:a})})),r()(this,"onEditorViewStateUpdated",(({originalTransaction:e,transactions:t,oldEditorState:n,newEditorState:o})=>{const{enabled:r}=this.transactionTrackingProp;this.config.onEditorViewStateUpdatedCallbacks.forEach((i=>{r&&Object(p.b)(`\ud83e\udd89 ${i.pluginName}::onEditorViewStateUpdated`),i.callback({originalTransaction:e,transactions:t,oldEditorState:n,newEditorState:o}),
r&&Object(p.c)(`\ud83e\udd89 ${i.pluginName}::onEditorViewStateUpdated`)}))})),r()(this,"trackValidTransactions",(()=>{const{editorProps:e}=this.props;if(null==e?void 0:e.trackValidTransactions){this.validTransactionCount++;const t="object"==typeof e.trackValidTransactions&&e.trackValidTransactions.samplingRate||100;this.validTransactionCount>=t&&(this.dispatchAnalyticsEvent({action:w.a.DISPATCHED_VALID_TRANSACTION,actionSubject:w.b.EDITOR,eventType:w.d.OPERATIONAL}),this.validTransactionCount=0)}})),r()(this,"dispatchTransaction",(e=>{if(!this.view)return;this.transactionTracker.bumpDispatchCounter(this.transactionTrackingProp);const{startMeasure:t,stopMeasure:n}=this.transactionTracker.getMeasureHelpers(this.transactionTrackingProp);t(J);const o=Object(O.b)(e);if(Object(O.i)(o)){const o=this.view.state;t(q);const{state:r,transactions:i}=this.view.state.applyTransaction(e);if(n(q),this.trackValidTransactions(),r===o)return;if(t(G),this.view.updateState(r),n(G),t(Y),
this.onEditorViewStateUpdated({originalTransaction:e,transactions:i,oldEditorState:o,newEditorState:r}),n(Y),this.props.editorProps.onChange&&e.docChanged){const o=e.getMeta("isRemote")?"remote":"local";t(X),this.props.editorProps.onChange(this.view,{source:o}),n(X)}this.editorState=r}else{const t=o.filter((e=>!Object(O.h)(e))).map((e=>(e=>{try{return N(e,0)}catch(t){return`Error logging document structure: ${t}`}})(e)));this.dispatchAnalyticsEvent({action:w.a.DISPATCHED_INVALID_TRANSACTION,actionSubject:w.b.EDITOR,eventType:w.d.OPERATIONAL,attributes:{analyticsEventPayloads:Object(E.b)(e),invalidNodes:t}})}n(J)})),r()(this,"getDirectEditorProps",(e=>({state:e||this.editorState,dispatchTransaction:e=>{this.canDispatchTransactions&&this.dispatchTransaction(e)},editable:e=>!this.props.editorProps.disabled,attributes:{"data-gramm":"false"}}))),r()(this,"createEditorView",(e=>{Object(h.a)(z.a.PROSEMIRROR_RENDERED,((e,t)=>{var n,o,r,i
;const s=null===(n=this.props.editorProps)||void 0===n||null===(o=n.performanceTracking)||void 0===o?void 0:o.proseMirrorRenderedTracking,a=void 0===s&&Object(m.a)();var l;(this.proseMirrorRenderedSeverity=a||(null==s?void 0:s.trackSeverity)?Object(f.g)(e,null!==(r=null==s?void 0:s.severityNormalThreshold)&&void 0!==r?r:2e3,null!==(i=null==s?void 0:s.severityDegradedThreshold)&&void 0!==i?i:3e3):void 0,this.view)&&this.dispatchAnalyticsEvent({action:w.a.PROSEMIRROR_RENDERED,actionSubject:w.b.EDITOR,attributes:{duration:e,startTime:t,nodes:Object(v.c)(this.view.state.doc),ttfb:Object(b.a)(),severity:this.proseMirrorRenderedSeverity,objectId:null===(l=Object(ue.b)(this.editorState))||void 0===l?void 0:l.objectId},eventType:w.d.OPERATIONAL})})),this.view=new d.c({mount:e},this.getDirectEditorProps())})),r()(this,"handleEditorViewRef",(e=>{if(!this.view&&e){this.createEditorView(e);const t=this.view;this.props.onEditorCreated({view:t,config:this.config,eventDispatcher:this.eventDispatcher,
transformer:this.contentTransformer}),this.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(this.focusTimeoutId=be(t)),this.forceUpdate()}else this.view&&!e&&(this.props.onEditorDestroyed({view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer}),this.view.destroy(),this.view=void 0)})),r()(this,"dispatchAnalyticsEvent",(e=>{if(this.props.allowAnalyticsGASV3&&this.eventDispatcher){Object(y.b)(this.eventDispatcher)(f.e,{payload:e})}})),r()(this,"editor",s.a.createElement("div",{className:ye(),key:"ProseMirror",ref:this.handleEditorViewRef})),this.eventDispatcher=new y.a,this.dispatch=Object(y.b)(this.eventDispatcher),this.errorReporter=function(e){const t=new C.a;return e&&(t.handler=e),t}(e.editorProps.errorReporterHandler),this.transactionTracker=new te,
this.pluginPerformanceObserver=new le((e=>this.onPluginObservation(e,this.editorState))).withPlugins((()=>this.getPluginNames())).withNodeCounts((()=>this.countNodes())).withOptions((()=>this.transactionTrackingOptions)).withTransactionTracker((()=>this.transactionTracker)),this.validTransactionCount=0;const{createAnalyticsEvent:n,allowAnalyticsGASV3:o}=e;o&&this.activateAnalytics(n),this.editorState=this.createEditorState({props:e,context:t,replaceDoc:!0});const i=Object(_.a)(this.props.editorProps),a=i?Object(_.b)(i):[];this.dispatchAnalyticsEvent({action:w.a.STARTED,actionSubject:w.b.EDITOR,attributes:{platform:k.d.WEB,featureFlags:a},eventType:w.d.UI})}UNSAFE_componentWillReceiveProps(e){this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:t=>!e.editorProps.disabled}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=be(this.view))),
this.props.allowAnalyticsGASV3!==e.allowAnalyticsGASV3?e.allowAnalyticsGASV3?this.activateAnalytics(e.createAnalyticsEvent):this.deactivateAnalytics():this.props.allowAnalyticsGASV3&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent&&(this.deactivateAnalytics(),this.activateAnalytics(e.createAnalyticsEvent));const{appearance:t}=this.props.editorProps,{appearance:n}=e.editorProps;(function(e,t){return["appearance","persistScrollGutter","UNSAFE_predictableLists","placeholder"].reduce(((n,o)=>n||e[o]!==t[o]),!1)})(this.props.editorProps,e.editorProps)&&this.reconfigureState(e),n!==t&&("full-width"!==n&&"full-width"!==t||this.dispatchAnalyticsEvent({action:w.a.CHANGED_FULL_WIDTH_MODE,actionSubject:w.b.EDITOR,eventType:w.d.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(t),newMode:this.formatFullWidthAppearance(n)}})),this.transactionTrackingProp.enabled||this.pluginPerformanceObserver.disconnect()}deactivateAnalytics(){
this.analyticsEventHandler&&this.eventDispatcher.off(f.e,this.analyticsEventHandler)}activateAnalytics(e){e&&(this.analyticsEventHandler=Object(S.a)(e),this.eventDispatcher.on(f.e,this.analyticsEventHandler))}componentDidMount(){this.canDispatchTransactions=!0,this.transactionTrackingProp.enabled&&this.pluginPerformanceObserver.observe()}componentWillUnmount(){if(this.canDispatchTransactions=!1,this.eventDispatcher.destroy(),clearTimeout(this.focusTimeoutId),this.pluginPerformanceObserver.disconnect(),this.view){const e=this.view.state;e.plugins.forEach((t=>{const n=t.getState(e);n&&n.destroy&&n.destroy()}))}}getPlugins(e,t,n){return Object(j.a)(e,t,n)}render(){return this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):this.editor}}function ye(){return g.a.chrome?"ua-chrome":g.a.ie?"ua-ie":g.a.gecko?"ua-firefox":""}
ge.displayName="ReactEditorView",r()(ge,"contextTypes",{getAtlaskitAnalyticsEventHandlers:l.a.func,intl:u.j})},"./node_modules/@atlaskit/editor-core/dist/es2019/create-editor/create-plugins-list.js":function(t,n,o){"use strict";o.d(n,"b",(function(){return kP})),o.d(n,"a",(function(){return EP}))
;var r=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/index.js"),i=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=o.n(i),a=o("./node_modules/react/index.js"),l=o.n(a),c=o("./node_modules/prosemirror-state/dist/index.es.js"),d=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/breakout.js"),u=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/breakout.js"),p=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),h=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js"),m=o("./node_modules/@atlaskit/theme/dist/es2019/colors.js"),f=o("./node_modules/react-intl/lib/index.es.js"),b=o("./node_modules/prosemirror-utils/dist/index.js"),g=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/index.js"),y=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/collapse.js"),v=o.n(y),O=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/expand.js"),j=o.n(O),w=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js"),k=o("./node_modules/styled-components/dist/styled-components.browser.esm.js")
;const E=["codeBlock","layoutSection","expand"];function S(e){return-1!==E.indexOf(e.type.name)}function _(e){if(e instanceof c.NodeSelection){if(S(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth}}const t=Object(b.findParentNode)(S)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}var C=o("./node_modules/@atlaskit/editor-core/dist/es2019/messages.js"),x=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/breakout/constants.js");const T=new c.PluginKey("breakoutPlugin"),{B300:P,N300:A,N20A:I}=m,M=k.default.div(["&& button{background:",";color:",";:hover{background:",";color:white !important;}}"],I,A,P),D={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};class N extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(e=>()=>{const{state:t,dispatch:n}=this.props.editorView;-1!==[D.WIDE,D.FULL_WIDTH].indexOf(e)?function(e){return(t,n)=>{const o=_(t.selection);if(!o)return!1
;const r=t.tr.setNodeMarkup(o.pos,o.node.type,o.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return r.setMeta("scrollIntoView",!1),t.selection instanceof c.NodeSelection&&t.selection.$anchor.pos===o.pos&&r.setSelection(c.NodeSelection.create(r.doc,o.pos)),n&&n(r),!0}}(e)(t,n):function(){return(e,t)=>{const n=_(e.selection);if(!n)return!1;const o=n.node.marks.filter((e=>"breakout"!==e.type.name)),r=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,o);return r.setMeta("scrollIntoView",!1),e.selection instanceof c.NodeSelection&&e.selection.$anchor.pos===n.pos&&r.setSelection(c.NodeSelection.create(r.doc,n.pos)),t&&t(r),!0}}()(t,n)}))}render(){const{intl:{formatMessage:e},mountPoint:t,boundariesElement:n,scrollableElement:o,editorView:r,node:i}=this.props,{state:s}=r;if(!i||!function(e){if(!e.schema.marks.breakout)return!1;const t=_(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}(s))return null;const a=function(e){
const t=_(e.selection);if(!t)return;const n=t.node.marks.find((e=>"breakout"===e.type.name));return n?n.attrs.mode:void 0}(r.state),d=(e=>{switch(e){case D.FULL_WIDTH:return C.a.layoutFixedWidth;case D.WIDE:return C.a.layoutFullWidth;default:return C.a.layoutWide}})(a),u=e(d),p=(e=>e===D.FULL_WIDTH?D.CENTER:e===D.WIDE?D.FULL_WIDTH:D.WIDE)(a);let h=function(e,t,n){return t instanceof c.NodeSelection&&S(t.node)?Object(b.findDomRefAtPos)(t.from,n.domAtPos.bind(n)):Object(b.findParentDomRefOfType)(e.breakoutNode.type,n.domAtPos.bind(n))(t)}((e=>T.getState(e))(s),s.selection,r);if(!h)return null;const m=h.querySelector(`.${x.a.BREAKOUT_MARK_DOM}`);return m&&m.firstChild&&(h=m.firstChild),l.a.createElement(g.a,{ariaLabel:u,target:h,offset:[5,0],alignY:"start",alignX:"end",mountTo:t,boundariesElement:n,scrollableElement:o,stick:!0,forcePlacement:!0},l.a.createElement(M,null,l.a.createElement(w.a,{title:u,testId:d.id,onClick:this.handleClick(p),
iconBefore:a===D.FULL_WIDTH?l.a.createElement(v.a,{label:u}):l.a.createElement(j.a,{label:u})})))}}N.displayName="LayoutButton",s()(N,"displayName","LayoutButton");var R=Object(f.i)(N),L=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U{constructor(e,t,n){
s()(this,"updateWidth",(e=>{const t=Object(u.c)(this.node.attrs.mode,e.width);let n=`width: ${t}; `;const o=e.lineLength,r=Object(L.e)(t);if(o&&r){n+=`transform: none; margin-left: ${-(r-o)/2}px;`}else n+="transform: translateX(-50%); margin-left: 50%;";const i=this.view.domObserver;i&&this.view.dom&&(i.stop(),setTimeout((()=>{i.start()}),0)),void 0!==this.dom.style.cssText?this.dom.style.cssText=n:this.dom.setAttribute("style",n)}));const o=document.createElement("div");o.className=x.a.BREAKOUT_MARK_DOM;const r=document.createElement("div");r.className=x.a.BREAKOUT_MARK,r.setAttribute("data-layout",e.attrs.mode),r.appendChild(o),this.dom=r,this.node=e,this.view=t,this.contentDOM=o,this.eventDispatcher=n,n.on(h.b.key,this.updateWidth),this.updateWidth(h.b.getState(this.view.state))}destroy(){this.eventDispatcher.off(h.b.key,this.updateWidth)}}function H({dispatch:e,eventDispatcher:t}){return new c.Plugin({state:{init:()=>({breakoutNode:null}),apply(t,n){
const o=_(t.selection),r=o?o.node:null;if(function(e,t){return e&&t?!e.eq(t):!(!e&&!t)}(r,n.breakoutNode)){const t=F(F({},n),{},{breakoutNode:r});return e(T,t),t}return n}},key:T,props:{nodeViews:{breakout:(e,n)=>new U(e,n,t)}}})}var $=e=>({name:"breakout",pmPlugins:()=>[{name:"breakout",plugin:H}],marks:()=>[{name:"breakout",mark:d.a}],contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r})=>e&&!e.allowBreakoutButton?null:l.a.createElement(p.a,{plugins:{pluginState:T},render:({pluginState:e})=>l.a.createElement(R,{editorView:t,mountPoint:n,boundariesElement:o,scrollableElement:r,node:e.breakoutNode})})}),W=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/alignment.js"),V=o("./node_modules/@atlaskit/editor-core/dist/es2019/commands/index.js"),K=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/action.js");var q=o("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js");const G=e=>{
if(e.selection instanceof q.a){const t=[];return e.selection.forEachCell((n=>{const o=n.firstChild.marks.filter((t=>t.type===e.schema.marks.alignment))[0];t.push(o?o.attrs.align:"start")})),t.every((e=>e===t[0]))?t[0]:"start"}const t=Object(b.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),n=t&&t.node.marks.filter((t=>t.type===e.schema.marks.alignment))[0];return n&&n.attrs.align||"start"};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}
return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=new c.PluginKey("alignmentPlugin");function Q(e,t){return new c.Plugin({key:Z,state:{init:(e,n)=>function(e,t){return{align:G(e)||t.align,isEnabled:!0}}(n,t),apply(t,n,o,r){const i=G(r),s=(e=>(t,n)=>{const{nodes:{paragraph:o,heading:r},marks:{alignment:i}}=t.schema;return Object(V.k)(i,(()=>e?"start"!==e&&{align:e}:void 0),[o,r])(t,n)})(i)(r),a=X(X({},n),{},{align:i,isEnabled:s});return i===n.align&&s===n.isEnabled||e(Z,a),a}}})}var ee=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-down.js"),te=o.n(ee),ne=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Dropdown/index.js")
;const oe=k.default.div(["display:flex;"]),re=k.default.span(["background:",";width:1px;height:24px;display:inline-block;margin:0 8px;"],"#EBECF0"),ie=k.default.span(["display:flex;align-items:center;div{display:flex;}"]),se=k.default.span(["margin-left:-8px;"]);class ae extends a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){const{label:e,isSelected:t,content:n}=this.props;return l.a.createElement(w.a,{disabled:!1,selected:t,title:e,"aria-label":e,onClick:this.onClick,iconBefore:n})}}ae.displayName="AlignmentButton";var le=ae,ce=o("./node_modules/@atlaskit/theme/dist/es2019/constants.js");const de=k.default.div(["padding:0 ","px;display:flex;flex-wrap:wrap;"],Object(ce.gridSize)())
;var ue=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-left.js"),pe=o.n(ue),he=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-right.js"),me=o.n(he),fe=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-center.js"),be=o.n(fe);const ge={start:l.a.createElement(pe.a,{label:"Align left"}),end:l.a.createElement(me.a,{label:"Align right"}),center:l.a.createElement(be.a,{label:"Align center"})},ye=[{title:"Align left",value:"start"},{title:"Align center",value:"center"},{title:"Align right",value:"end"}];class ve extends a.PureComponent{render(){const{onClick:e,selectedAlignment:t,className:n}=this.props;return l.a.createElement(de,{className:n,style:{maxWidth:96}},ye.map((n=>{const{value:o,title:r}=n;return l.a.createElement(le,{content:ge[o],key:o,value:o,label:r,onClick:e,isSelected:o===t})})))}}ve.displayName="Alignment";class Oe extends l.a.Component{constructor(...e){
super(...e),s()(this,"state",{isOpen:!1}),s()(this,"changeAlignment",(e=>(this.toggleOpen(),this.props.changeAlignment(e)))),s()(this,"toggleOpen",(()=>{this.handleOpenChange({isOpen:!this.state.isOpen})})),s()(this,"handleOpenChange",(({isOpen:e})=>{this.setState({isOpen:e})})),s()(this,"hide",(()=>{!0===this.state.isOpen&&this.setState({isOpen:!1})}))}render(){const{isOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,isReducedSpacing:r,pluginState:i,disabled:s}=this.props;return l.a.createElement(ie,null,l.a.createElement(ne.a,{mountTo:t,boundariesElement:n,scrollableElement:o,isOpen:this.state.isOpen,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:242,fitHeight:80,trigger:l.a.createElement(w.a,{spacing:r?"none":"default",disabled:s,selected:e,title:"Text alignment","aria-label":"Text alignment",className:"align-btn",onClick:this.toggleOpen,
iconBefore:l.a.createElement(oe,null,ge[i.align],l.a.createElement(se,null,l.a.createElement(te.a,{label:"Alignment"})))})},l.a.createElement(ve,{onClick:e=>this.changeAlignment(e),selectedAlignment:i.align})),l.a.createElement(re,null))}}Oe.displayName="AlignmentToolbar",s()(Oe,"displayName","AlignmentToolbar");var je=Oe;const we={align:"start"};var ke=()=>({name:"alignment",marks:()=>[{name:"alignment",mark:W.a}],pmPlugins:()=>[{name:"alignmentPlugin",plugin:({dispatch:e})=>Q(e,we)}],primaryToolbarComponent:({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,disabled:r,isToolbarReducedSpacing:i})=>l.a.createElement(p.a,{plugins:{align:Z},render:({align:s})=>l.a.createElement(je,{pluginState:s,isReducedSpacing:i,changeAlignment:t=>(e=>(t,n)=>{const{nodes:{paragraph:o,heading:r},marks:{alignment:i}}=t.schema;return Object(K.b)([Object(V.a)(e),Object(V.k)(i,(()=>e?"start"!==e&&{align:e}:void 0),[o,r])])(t,n)})(t)(e.state,e.dispatch),
disabled:r||!s.isEnabled,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o})})
}),Ee=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/index.js"),Se=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/bullet-list.js"),_e=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/ordered-list.js"),Ce=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/list-item.js"),xe=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/bullet-list.js"),Te=o.n(xe),Pe=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/number-list.js"),Ae=o.n(Pe),Ie=o("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),Me=o("./node_modules/@atlaskit/droplist/dist/esm/components/Droplist.js"),De=o("./node_modules/@atlaskit/item/dist/esm/components/Item.js"),Ne=o("./node_modules/@atlaskit/item/dist/esm/components/ItemGroup.js"),Re=o("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),Le=o("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),Be=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/with-outer-listeners.js")
;const Fe=k.default.div(["& > div > div{display:flex;}"]),ze=Object(Be.a)(Me.a),Ue=k.default.div(["",";"],(e=>e.isSelected?"&& > span, && > span:hover { background: #6c798f; color: #fff; }":"")),He=k.default.span(["",";"],(e=>e.hasElemBefore?"margin-left: 8px;":""));class $e extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{popupPlacement:["bottom","left"]}),s()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),s()(this,"updatePopupPlacement",(e=>{this.setState({popupPlacement:e})})),s()(this,"handleClose",(()=>{this.props.onOpenChange&&this.props.onOpenChange({isOpen:!1})}))}renderItem(e){const{onItemActivated:t,onMouseEnter:n,onMouseLeave:o}=this.props;if(!e.onClick&&!e.value&&!e.value.name)return l.a.createElement("span",{key:String(e.content)},e.content);const r=l.a.createElement(Ue,{key:e.key||e.content,isSelected:e.isActive},l.a.createElement(De.a,{elemBefore:e.elemBefore,elemAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:()=>t&&t({item:e}),
onMouseEnter:()=>n&&n({item:e}),onMouseLeave:()=>o&&o({item:e}),className:e.className},l.a.createElement(He,{hasElemBefore:!!e.elemBefore},e.content)));return e.tooltipDescription?l.a.createElement(Re.a,{key:e.key||e.content,content:e.tooltipDescription,position:e.tooltipPosition},r):r}renderDropdownMenu(){const{target:e,popupPlacement:t}=this.state,{items:n,mountTo:o,boundariesElement:r,scrollableElement:i,offset:s,fitHeight:a,fitWidth:c,isOpen:d,zIndex:u}=this.props;return l.a.createElement(g.a,{target:d?e:void 0,mountTo:o,boundariesElement:r,scrollableElement:i,onPlacementChanged:this.updatePopupPlacement,fitHeight:a,fitWidth:c,zIndex:u||Le.m,offset:s},l.a.createElement(ze,{isOpen:!0,appearance:"tall",position:t.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},l.a.createElement("div",{style:{height:0,minWidth:c||0}}),n.map(((e,t)=>l.a.createElement(Ne.a,{key:t
},e.items.map((e=>this.renderItem(e))))))))}render(){const{children:e,isOpen:t}=this.props;return l.a.createElement(Fe,null,l.a.createElement("div",{ref:this.handleRef},e),t?this.renderDropdownMenu():null)}}$e.displayName="DropdownMenuWrapper"
;var We=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/styles.js"),Ve=o("./node_modules/prosemirror-model/dist/index.es.js"),Ke=o("./node_modules/prosemirror-transform/dist/index.es.js"),qe=o("./node_modules/prosemirror-commands/dist/index.es.js"),Ge=o("./node_modules/prosemirror-schema-list/dist/index.es.js"),Ye=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),Xe=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js"),Je=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js"),Ze=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/node.js"),Qe=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),et=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/selection.js");const tt=e=>{let t=e.depth;for(let n=e.depth;n>0;n--){const o=e.node(n);if(Object(Ze.d)(o)&&(t=n),!Object(Ze.c)(o)&&!Object(Ze.d)(o))break}return t-1};function nt(e,t){let{$from:n,$to:o}=e
;const r=t.doc.type.schema.nodes.listItem;let i=n.blockRange(o,(e=>!!e.childCount&&!!e.firstChild&&e.firstChild.type===r));if(!i||i.depth<2||n.node(i.depth-1).type!==r)return t;let s=i.end,a=o.end(i.depth);return s<a&&(t.step(new Ke.d(s-1,a,s,a,new Ve.Slice(Ve.Fragment.from(r.create(void 0,i.parent.copy())),1,0),1,!0)),i=new Ve.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(a),i.depth)),t.lift(i,Object(Ke.p)(i)).scrollIntoView()}const ot=/^\s*[\*\-\u2022](\s+|\s+$)/,rt=/^\s*\d[\.\)](\s+|$)/,it=(e,t,n)=>{const{hardBreak:o,bulletList:r,orderedList:i}=n.nodes,s=Object(Qe.c)(e.content,(e=>e)),a=[r,i],l=s.map(((e,r)=>{const i=((e,t)=>{if(!e.text)return null;const{bulletList:n,orderedList:o}=t.nodes;return[{node:n,matcher:ot},{node:o,matcher:rt}].reduce(((t,n)=>{if(t)return t;const o=e.text.match(n.matcher);return o?[n.node,o[0].length]:t}),null)})(e,n),a=r>0&&s[r-1];if(a&&a.type!==o)return e;if(!i||!e.text)return e
;const[l,c]=i,d=e.text.substr(c),u=n.nodes.listItem.createAndFill(void 0,n.nodes.paragraph.createChecked(void 0,d.length?n.text(d):void 0));if(!u)return e;const p=l.createChecked(void 0,[u]);return t&&!t.type.validContent(Ve.Fragment.from(p))?e:p})).filter(((e,t,n)=>e.type!==o?e:t>0&&a.indexOf(n[t-1].type)>-1||t<n.length-1&&a.indexOf(n[t+1].type)>-1?null:e)),d=c.EditorState.create({schema:n});let u;Object(qe.a)(((e,t)=>!!t&&(!l.some((e=>e.isText))&&(t(e.tr.replaceWith(0,2,l)),!0))),((e,t)=>Object(Ze.d)(e)&&Object(Ze.d)(t)))(d,(e=>{u=e}));const p=u?u.doc.content:Ve.Fragment.from(l),{paragraph:h}=n.nodes;return h.validContent(p)?Ve.Fragment.from(h.create(e.attrs,p,e.marks)):p},st=({fragment:e,blockMarks:t=[],schema:n})=>{const o=[];let r=[],i=null;const{hardBreak:s,paragraph:a}=n.nodes;return e.forEach((e=>{if(i&&i.type===s&&e.type===s)return r.pop(),o.push(a.createChecked(void 0,r,[...t])),void(r=[]);r.push(e),i=e})),r.length&&o.push(a.createChecked(void 0,r,[...t])),
Ve.Fragment.from(o.length?o:[a.createAndFill(void 0,void 0,[...t])])};var at=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),lt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),ct=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js");const dt=e=>{const{selection:{$from:t,$to:n}}=e,o=Object(et.c)(t),r=Object(et.c)(n);return{itemIndexAtSelectionStart:o.itemIndex,itemIndexAtSelectionEnd:r.itemIndex,indentLevelAtSelectionStart:o.indentLevel,indentLevelAtSelectionEnd:r.indentLevel,itemsInSelection:ut(e)}},ut=e=>{const{from:t,to:n}=e.selection;if(t===n)return 1;let o=0;const r=e.doc.cut(t,n);return r.content.nodesBetween(0,r.content.size,((e,t,n,r)=>{n&&Object(Ze.c)(n)&&!Object(Ze.d)(e)&&0===r&&o++})),o};var pt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/list-events.js");const ht={[pt.b.JOIN_SIBLINGS]:(e,t,n,o)=>{const r=o.node(-1)
;if(!r.firstChild)return!1;const i=o.before(-1),s=o.after(-1),a=n.pos-1,l=n.pos,c=o.parent.content,d=r.content.cut(r.firstChild.nodeSize);return Object(Xe.d)(e,(e=>e.doc.resolve(a)),[[c,a],[d,l]],[[i,s]]),t&&t(e),!0},[pt.b.JOIN_DESCENDANT_TO_PARENT]:(e,t,n,o)=>{const r=o.node(-2),i=o.node(-1);if(!i.firstChild||!i.lastChild)return!1;const s=o.before(-2),a=o.before(-1),l=n.after(),c=o.after(-2),d=o.after(-1),u=o.start(-2),p=Object(Ze.d)(i.lastChild),h=1===r.childCount&&!p,m=n.pos,f=l,b=u,g=o.parent.content,y=p?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),v=i.lastChild.content;return Object(Xe.d)(e,(e=>e.doc.resolve(m)),p?[[g,m],[y,f],[v,b]]:[[g,m],[y,f]],[h?[s,c]:[a,d]]),t&&t(e),!0},[pt.b.JOIN_TO_SIBLING_DESCENDANT]:(e,t,n,o,r)=>{if(!r)return!1;const i=o.node(-1);if(!i.firstChild||!i.lastChild)return!1
;const s=o.parent,a=o.before(-1),l=r.after(),c=o.after(-1),d=Object(Ze.d)(i.lastChild),u=r.pos,p=l,h=n.pos-1,m=s.content,f=d?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),b=i.lastChild.content;return Object(Xe.d)(e,(e=>e.doc.resolve(u)),d?[[m,u],[f,p],[b,h]]:[[m,u],[f,p]],[[a,c]]),t&&t(e),!0}},mt=(e,t)=>{const{tr:n,selection:{$head:o}}=e,r=Object(Xe.k)(o);if(!Object(Xe.f)(e))return!1;const i=((e,t,n)=>{const{$pos:o,foundNode:r}=e,i=Object(et.e)(o),s=Object(et.f)(t),a=0===t.index(-1),l=Object(et.e)(t);if(!(r&&i&&s&&a&&l))return!1;if(Object(et.f)(o))return[pt.b.JOIN_DESCENDANT_TO_PARENT,null];const c=o.parent.lastChild&&Object(Ze.d)(o.parent.lastChild),d=Object(Ze.e)(o.parent.lastChild);let u,p=n.doc.resolve(o.pos);do{let e=Object(Xe.k)(p);p=e.$pos,u=e.foundNode}while(u&&!p.parent.isTextblock);const h=Object(et.f)(p);return u&&c&&h?[pt.b.JOIN_TO_SIBLING_DESCENDANT,p]:!!d&&[pt.b.JOIN_SIBLINGS,null]})(r,o,n);if(!i)return!1
;const{bulletList:s,orderedList:a}=e.schema.nodes,l=Object(b.findParentNodeOfType)([s,a])(n.selection);let c=lt.c.FORMAT_LIST_BULLET;return l&&l.node.type===a&&(c=lt.c.FORMAT_LIST_NUMBER),Object(ct.a)(e,n,{action:lt.a.LIST_ITEM_JOINED,actionSubject:lt.b.LIST,actionSubjectId:c,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,direction:pt.a.BACKWARD,scenario:i[0]}}),ht[i[0]](n,t,r.$pos,o,i[1])},ft=({tr:e,$next:t,$head:n})=>{if(n.parent.content.size<1)return Object(Xe.d)(e,(e=>e.doc.resolve(n.pos)),[],[[n.pos-1,n.pos]]),!0;const o=n.pos,r=e.doc.nodeAt(t.pos-1),i=e.doc.nodeAt(t.pos);if(!r||!i)return!1;const s=i.firstChild;if(!s)return!1;const a=i.lastChild,l=s.firstChild,c=bt(i)&&s.childCount<2&&t.nodeAfter,d=!bt(i)&&a&&Object(Ze.d)(a),u=[],p=[];if(bt(r)&&bt(i)&&t.nodeAfter&&p.push([e.mapping.map(t.pos-1),e.mapping.map(t.pos+t.nodeAfter.nodeSize+1)]),d){const n=Ve.Fragment.from(a.content);u.push([n,e.mapping.map(t.pos)])}if(c||d){
p.push([e.mapping.map(t.pos),e.mapping.map(t.pos+i.nodeSize-1)]);const r=Ve.Fragment.from(s.content);return u.push([r,o]),Object(Xe.d)(e,(e=>e.doc.resolve(n.pos)),u,p),!0}if(i.childCount>1)return u.push([Ve.Fragment.from(s.content),o]),p.push([e.mapping.map(t.pos+1),e.mapping.map(t.pos+s.nodeSize+1)]),Object(Xe.d)(e,(e=>e.doc.resolve(n.pos)),u,p),!0;if(l&&"hardBreak"===l.type.name){const n=l?l.nodeSize:0;p.push([e.mapping.map(t.pos+2),e.mapping.map(t.pos+2+n)])}else{u.push([Ve.Fragment.from(s.content),o]);const n=s.nodeSize;p.push([e.mapping.map(t.pos),e.mapping.map(t.pos+2+n)])}return Object(Xe.d)(e,(e=>e.doc.resolve(n.pos)),u,p),!0},bt=e=>1===e.childCount,gt=({tr:e,$next:t,$head:n})=>{const o=t.parent,r=t.before(),i=t.after(),s=n.pos,a=o.content;return Object(Xe.d)(e,(e=>e.doc.resolve(s)),[[a,s]],[[r,i]]),!0},yt=({tr:e,$next:t,$head:n})=>{const o=t.parent,r=t.nodeAfter;if(!r||!r.lastChild)return!1;const i=r.firstChild;if(!i)return!1
;const s=t.before(),a=t.pos,l=n.after(),c=t.after(),d=e.doc.resolve(t.pos+1).after(),u=Object(Ze.d)(r.lastChild),p=1===o.childCount&&!u,h=n.pos,m=l,f=t.pos,b=i.content,g=u?r.content.cut(i.nodeSize,r.nodeSize-r.lastChild.nodeSize-2):r.content.cut(i.nodeSize),y=r.lastChild.content;return Object(Xe.d)(e,(e=>e.doc.resolve(h)),u?[[b,h],[g,m],[y,f]]:[[b,h],[g,m]],[p?[s,c]:[a,d]]),!0},vt=({tr:e,$next:t,$head:n})=>{const o=t.parent,r=t.nodeAfter;if(!r)return!1;const i=t.before(),s=t.after(),a=n.end(-1),l=n.pos,c=a,d=r.content,u=o.content.cut(r.nodeSize);return Object(Xe.d)(e,(e=>e.doc.resolve(l)),[[d,l],[u,c]],[[i,s]]),!0},Ot=({tr:e,$next:t,$head:n})=>{const o=t.parent;if(!o.firstChild||!o.lastChild)return!1;const r=t.before(),i=t.before(),s=t.after(),a=Object(Ze.d)(o.lastChild),l=n.pos,c=n.pos+1,d=i-2,u=o.firstChild.content,p=a?o.content.cut(o.firstChild.nodeSize,o.nodeSize-o.lastChild.nodeSize-2):o.content.cut(o.firstChild.nodeSize),h=o.lastChild.content
;return Object(Xe.d)(e,(e=>e.doc.resolve(l)),a?[[u,l],[p,c],[h,d]]:[[u,l],[p,c]],[[r,s]]),!0};const jt=({tr:e,nextListNodeType:t})=>{const{selection:n,selection:{from:o,to:r}}=e,i=[];n instanceof c.TextSelection&&n.$cursor?i.push(o):e.doc.nodesBetween(o,r,((e,t)=>{if(!e.isLeaf)return!0;i.push(t)})),i.reduce(((t,n)=>{const o=Object(b.findParentNodeClosestToPos)(e.doc.resolve(n),Ze.d);if(!o)return t;return t.find((e=>e.pos===o.pos&&e.start===o.start&&e.depth===o.depth))||t.push(o),t}),[]).forEach((n=>{e.setNodeMarkup(n.pos,t)}))},wt=({tr:e,nextListNodeType:t,nodeRange:n})=>{for(let o=n.endIndex-1;o>=n.startIndex;o--){const r=n.$from.posAtIndex(o,n.depth),i=e.doc.resolve(r+1),s=i.blockRange(i);if(!s)return;const a=Object(Ke.m)(s,t);if(!s||!a)return;e.wrap(s,a)}};var kt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/find.js")
;const Et=({tr:e,originalSelection:t,normalizedSelection:n,hasCommonListMoved:o,hasNormalizedToPositionLiftedOut:r,hasNormalizedFromPositionLiftedOut:i})=>{const{$from:s,$to:a}=n,l=n.empty;let d=e.mapping.map(s.pos),u=e.mapping.map(a.pos);const p=s.sameParent(a);if(i){const e=p?s.pos:d;d=i?s.pos:e,d=o?d-2:d,d=Math.max(d,0)}if(r){const t=p?a.pos:u;u=r?a.pos:t,u=o?u-2:u,u=Math.min(u,e.doc.nodeSize-2)}if(n instanceof at.a){const t=e.doc.resolve(d);return new at.a(t,n.side)}return t instanceof c.NodeSelection?c.NodeSelection.create(e.doc,d):l?c.TextSelection.between(e.doc.resolve(u),e.doc.resolve(u),-1):c.TextSelection.between(e.doc.resolve(d),e.doc.resolve(u),-1)},St=e=>{const t=Object(et.b)({selection:e});if(!t)return[];const{$from:n,$to:o}=e;if(n.pos===o.pos&&n.sameParent(o))return[{from:t.start,to:t.end,depth:t.depth}];const r=xt(n);if(!r)return[];const i=[],{doc:s}=n;let a=xt(o);for(;a&&a.pos>=r.pos&&a.pos>=t.start;){const e=s.nodeAt(a.pos);if(!e||!Object(Ze.c)(e))return[];let t=0
;e&&e.lastChild&&Object(Ze.d)(e.lastChild)&&(t=e.lastChild.nodeSize);const n=a.pos+1;i.push({from:n,to:s.resolve(n).end()-t,depth:a.depth}),a=xt(a)}return i},_t=({tr:e,range:t})=>{const n=t.end,o=t.$to.end(t.depth),{listItem:r}=e.doc.type.schema.nodes;if(n<o){const i=new Ve.Slice(Ve.Fragment.from(r.create(null,t.parent.copy())),1,0),s=new Ke.d(n-1,o,n,o,i,1,!0);e.step(s),t=new Ve.NodeRange(e.doc.resolve(t.$from.pos),e.doc.resolve(o),t.depth)}const i=Object(Ke.p)(t);i&&e.lift(t,i)},Ct=({tr:e,range:t})=>{const n=t.parent,o=e.doc.resolve(t.start),r=o.start(t.depth),i=o.end(t.depth),s=r===t.start,a=i===t.end,l=s&&a;let c=s?Ve.Fragment.empty:Ve.Fragment.from(n.copy(Ve.Fragment.empty));for(let u=t.startIndex;u<t.endIndex;u++)c=c.append(n.child(u).content);if(s)for(let u=0;u<c.childCount;u++){const e=c.child(u);if(e&&Object(Ze.d)(e)&&e.type!==n.type){const t=n.type.create(null,e.content);c=c.replaceChild(u,t)}}const d=c.append(Ve.Fragment.from(n.copy(Ve.Fragment.empty)));if(l){
const n=new Ve.Slice(c,0,0),r=new Ke.e(o.pos-1,t.end+1,n,!1);e.step(r)}else if(s){const n=new Ve.Slice(d,0,1),r=new Ke.e(o.pos-1,t.end,n,!1);e.step(r)}else if(a){const t=new Ve.Slice(c,1,0),n=new Ke.e(o.pos,i+1,t,!1);e.step(n)}else{const n=new Ve.Slice(d,1,1),r=new Ke.d(o.pos,i,t.end,i,n,n.size,!1);e.step(r)}},xt=e=>{const t=e.doc,n=Object(Ze.d)(e.node());let o=e;if(!n){const n=Object(kt.a)(e);return n?t.resolve(n.pos):null}const r=t.resolve(o.pos),i=c.Selection.findFrom(r,-1);if(!i)return null;const s=Object(kt.a)(i.$from);return s?t.resolve(s.pos):null};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){At(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e=lt.e.KEYBOARD){return function(t,n){if(!Object(et.d)(t))return!1;const{$from:o}=t.selection,r=Object(kt.b)(o);if(!r)return!0;const i=Object(Ze.b)(r.node)?lt.c.FORMAT_LIST_BULLET:lt.c.FORMAT_LIST_NUMBER;let s=t.tr;return(e=>{const t=e.selection,n=Object(et.h)({selection:e.selection,doc:e.doc}),o=Object(kt.c)(n.$from);if(!o)return;const r=n.$from.blockRange(o,Ze.d);if(!r)return;let i=!1,s=!1;const{from:a,to:l}=n;St(n).forEach((t=>{const n=e.doc.resolve(e.mapping.map(t.from)),o=e.doc.resolve(e.mapping.map(t.to)),r=n.blockRange(o,Ze.d);r&&(Object(Ze.c)(n.node(r.depth-1))?_t({tr:e,range:r}):(Ct({tr:e,range:r}),i=i||l>=t.from&&l<t.to,
s=s||a>=t.from&&a<t.to))}));const c=r.start!==e.mapping.map(r.start),d=Et({originalSelection:t,normalizedSelection:n,tr:e,hasCommonListMoved:c,hasNormalizedToPositionLiftedOut:i,hasNormalizedFromPositionLiftedOut:s});e.setSelection(d),Object(Ze.f)({tr:e,direction:Ze.a.RIGHT})})(s),!s||!s.docChanged||(Object(ct.a)(t,s,{action:lt.a.OUTDENTED,actionSubject:lt.b.LIST,actionSubjectId:i,eventType:lt.d.TRACK,attributes:Pt(Pt({},dt(t)),{},{inputMethod:e})}),n&&n(s),!0)}}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rt=(e,t)=>{const{selection:n}=e;if(n.empty){const{$from:o}=n,{listItem:r,codeBlock:i}=e.schema.nodes,s=o.node(o.depth),a=o.node(o.depth-1);if(a&&a.type===r){const o=Object(Ye.e)(a);if(Object(Ye.i)(s)&&!o)return It(lt.e.KEYBOARD)(e,t);if(!Object(b.hasParentNodeOfType)(i)(n))return function(e){return function(t,n){const o=t.selection,r=o.$from,i=o.$to,s=o.node;if(s&&s.isBlock||r.depth<2||!r.sameParent(i))return!1;const a=r.node(-1);if(a.type!==e)return!1;if(a.content.content.length<=1&&0===r.parent.content.size&&0!==a.content.size){if(2===r.depth||r.node(-3).type!==e||r.index(-2)!==r.node(-2).childCount-1)return!1;if(n){let o=Ve.Fragment.empty;const i=r.index(-1)>0;for(let e=r.depth-(i?1:2);e>=r.depth-3;e--)o=Ve.Fragment.from(r.node(e).copy(o))
;o=o.append(Ve.Fragment.from(e.createAndFill()));const s=t.tr.replace(r.before(i?void 0:-1),r.after(-3),new Ve.Slice(o,i?3:2,2));s.setSelection(t.selection.constructor.near(s.doc.resolve(r.pos+(i?3:2)))),n(s.scrollIntoView())}return!0}const l=i.pos===r.end()?a.contentMatchAt(0).defaultType:void 0,c=t.tr.delete(r.pos,i.pos),d=l&&[void 0,{type:l}];return n&&n(c.split(r.pos,2,d).scrollIntoView()),!0}}(r)(e,t)}}return!1},Lt=(e,t)=>qe.c(mt,Object(Xe.b)([Xe.f,Xe.g,et.d],qe.c(Ut,It(lt.e.KEYBOARD))),Object(Xe.b)([Xe.f,et.a],Ht))(e,t),Bt=(e,t)=>{const{tr:n,selection:{$head:o}}=e,r=Object(Xe.j)(o);if(!Object(Xe.e)(e))return!1;const i=((e,t)=>{const{$pos:n,foundNode:o}=e,r=t.parent,i=t.node(-1),s=Object(et.e)(t),a=Object(et.f)(t),l=i&&i.lastChild&&(i.lastChild===r||i.childCount>1&&i.child(i.childCount-2)===r&&Object(Ze.d)(i.lastChild)),c=Object(et.e)(n),d=Object(et.f)(n);if(!s&&a&&c)return[pt.b.JOIN_LIST_ITEM_WITH_PARAGRAPH,ft];if(!(o&&s&&a&&l))return!1
;if(!c&&d)return[pt.b.JOIN_PARAGRAPH_WITH_LIST,gt];if(!c)return!1;const u=n.nodeAfter,p=n.node(-1),h=t.node(-2),m=Object(Ze.c)(n.parent),f=Object(Ze.c)(u),b=u&&f&&Object(Ze.e)(u.firstChild);if(!m&&b)return[pt.b.JOIN_DESCENDANT_TO_PARENT,yt];if(!m)return!1;const g=p&&p===h;return!!Object(Ze.e)(u)&&(g?[pt.b.JOIN_SIBLINGS,vt]:[pt.b.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,Ot])})(r,o);if(!i)return!1;const[s,a]=i;if(!a({tr:n,$next:r.$pos,$head:o}))return!1;const{bulletList:l,orderedList:c}=e.schema.nodes,d=Object(b.findParentNodeOfType)([l,c])(n.selection);let u=lt.c.FORMAT_LIST_BULLET;return d&&d.node.type===c&&(u=lt.c.FORMAT_LIST_NUMBER),Object(ct.a)(e,n,{action:lt.a.LIST_ITEM_JOINED,actionSubject:lt.b.LIST,actionSubjectId:u,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,direction:pt.a.FORWARD,scenario:s}}),t&&t(n),!0};function Ft(e){const{selection:t}=e,n=((e,t)=>{const{bulletList:n,orderedList:o,listItem:r}=t;let i;for(let s=e.depth-1;s>0;s--){const t=e.node(s)
;if(t.type!==n&&t.type!==o||(i=s),t.type!==n&&t.type!==o&&t.type!==r)break}return i})(t.$to,e.doc.type.schema.nodes);e=function(e,t,n,o){const{listItem:r}=o.doc.type.schema.nodes;let i=!1;return o.doc.nodesBetween(e,t,((t,s)=>{if(!i&&t.type===r&&s>e){i=!0;let e=n+3;for(;e>n+2;){const n=o.doc.resolve(o.mapping.map(s));e=n.depth;const r=o.doc.resolve(o.mapping.map(s+t.textContent.length)),i=new c.TextSelection(n,r);o=nt(i,o)}}})),o}(t.$to.pos,t.$to.end(n),n||0,e),e=function(e,t){const{from:n,to:o}=e,{paragraph:r}=t.doc.type.schema.nodes,i=[];t.doc.nodesBetween(n,o,((e,t)=>{e.type===r&&i.push({node:e,pos:t})}));for(let s=i.length-1;s>=0;s--){const e=i[s],n=t.doc.resolve(t.mapping.map(e.pos));if(n.depth>0){let o;o=e.node.textContent&&e.node.textContent.length>0?t.doc.resolve(t.mapping.map(e.pos+e.node.textContent.length)):t.doc.resolve(t.mapping.map(e.pos+1));const r=n.blockRange(o);r&&t.lift(r,tt(n))}}return t}(t,e)}function zt(e,t){return function(n,o){let r=n.tr
;const i=Object(et.j)(r),s=n.schema.nodes[t],a="bulletList"===t?lt.c.FORMAT_LIST_BULLET:lt.c.FORMAT_LIST_NUMBER;if(i){const{selection:l}=n,c=l.$from.node(l.$from.depth-2),d=l.$to.node(l.$to.depth-2),u="bulletList"===i.type.name?lt.c.FORMAT_LIST_BULLET:lt.c.FORMAT_LIST_NUMBER;if(c.type.name===t&&d.type.name===t){let t=n.tr;return Ft(t),Object(ct.a)(n,t,{action:lt.a.CONVERTED,actionSubject:lt.b.LIST,actionSubjectId:lt.c.TEXT,eventType:lt.d.TRACK,attributes:Dt(Dt({},dt(n)),{},{transformedFrom:u,inputMethod:e})}),o&&o(t),!0}!function({tr:e,nextListNodeType:t}){const{doc:n,selection:{$from:o,$to:r}}=e;if(o.blockRange(r,Ze.d))return jt({tr:e,nextListNodeType:t});const i=o.blockRange(r);if(!i)return;const s=i.parent,{startIndex:a,endIndex:l,depth:c}=i,d={from:Object(Ze.d)(s.child(a))?null:n.resolve(i.$from.posAtIndex(a,c)+1),to:null},u={from:null,to:Object(Ze.d)(s.child(l-1))?null:n.resolve(i.$from.posAtIndex(l-1,c)+1)};let p,h,m,f,b=!1,g=!1;for(let y=a;y<l;y++){
const e=i.$from.posAtIndex(y,c),t=n.resolve(e);if(Object(Ye.g)(s.child(y))&&!b&&(d.from=n.resolve(i.$from.posAtIndex(y,c)+2)),Object(Ye.g)(s.child(y))&&b&&!g&&(u.to=t,g=!0),Object(Ze.d)(s.child(y))||b){if(!b){b=!0;const e=n.resolve(t.pos+1).end()+1;n.resolve(e).nodeAfter&&(u.from=n.resolve(e+1))}}else d.to=n.resolve(t.pos+1)}if(u.from&&u.to){const n=e.mapping.map(u.from.pos),o=e.mapping.map(u.to.pos);f=new Ve.NodeRange(e.doc.resolve(n),e.doc.resolve(o),i.depth),m={tr:e,nextListNodeType:t,nodeRange:f}}if(d.from&&d.to){const n=e.mapping.map(d.from.pos),o=e.mapping.map(d.to.pos);h=new Ve.NodeRange(e.doc.resolve(n),e.doc.resolve(o),i.depth),p={tr:e,nextListNodeType:t,nodeRange:h}}!f&&!h||f&&!Object(Ke.m)(f,t)||h&&!Object(Ke.m)(h,t)||(m&&wt(m),p&&wt(p),e.docChanged&&Object(Ze.f)({tr:e,forceListType:t}))}({tr:r,nextListNodeType:s}),Object(ct.a)(n,r,{action:lt.a.CONVERTED,actionSubject:lt.b.LIST,actionSubjectId:a,eventType:lt.d.TRACK,attributes:Dt(Dt({},dt(n)),{},{transformedFrom:u,
inputMethod:e})})}else{const t=e=>{r=e};!function(e){return qe.a(Ge.c(e),((t,n)=>t.type===n.type&&t.type===e))}(s)(n,t),Object(ct.a)(n,r,{action:lt.a.INSERTED,actionSubject:lt.b.LIST,actionSubjectId:a,eventType:lt.d.TRACK,attributes:{inputMethod:e}})}return!!r.docChanged&&(Object(Je.d)(r,s),o&&o(r),!0)}}const Ut=(e,t)=>{const{$from:n}=e.selection,{listItem:o}=e.schema.nodes,r=Object(Xe.c)(n);if(!r||!r.nodeBefore||r.nodeBefore.type!==o)return!1;if(1===r.nodeBefore.childCount&&r.nodeBefore.firstChild.nodeSize<=2){const{tr:o}=e;return t&&t(o.delete(r.pos-r.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},Ht=(e,t)=>{const{$from:n}=e.selection,{paragraph:o,listItem:r,codeBlock:i,bulletList:s,orderedList:a}=e.schema.nodes,l=e.selection instanceof at.a,c=l?e.doc.resolve(n.pos+1):n;let d=Object(Xe.c)(c);if(!d)return!1;if(d.nodeBefore&&[s,a].indexOf(d.nodeBefore.type)>-1&&d.nodeAfter&&(d.nodeAfter.type===o||d.nodeAfter.type===i)){let i=d.doc.resolve(d.pos-1)
;for(;i.parent.type!==o;)i=e.doc.resolve(i.pos-1);let{tr:c}=e;if(l){const e=Object(b.findPositionOfNodeBefore)(c.selection);if("number"!=typeof e)return!1;const t=d.nodeBefore.copy(d.nodeBefore.content.append(Ve.Fragment.from(r.createChecked({},d.nodeAfter))));c.replaceWith(e,n.pos+d.nodeAfter.nodeSize,t)}else c=e.tr.step(new Ke.d(i.pos,d.pos+d.nodeAfter.nodeSize,d.pos+1,d.pos+d.nodeAfter.nodeSize-1,e.tr.doc.slice(i.pos,d.pos),0,!0));let u=c.doc.resolve(c.mapping.map(d.pos+d.nodeAfter.nodeSize));return u.nodeBefore&&u.nodeAfter&&u.nodeBefore.type===u.nodeAfter.type&&[s,a].indexOf(u.nodeBefore.type)>-1&&(c=c.join(u.pos)),t&&t(c.scrollIntoView()),!0}return!1};var $t=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/messages.js");class Wt extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isDropdownOpen:!1}),s()(this,"onOpenChange",(e=>{this.setState({isDropdownOpen:e.isDropdownOpen})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({
isDropdownOpen:!this.state.isDropdownOpen})})),s()(this,"createItems",(()=>{const{bulletListDisabled:e,orderedListDisabled:t,bulletListActive:n,orderedListActive:o,intl:{formatMessage:r}}=this.props,i=r($t.a.unorderedList),s=r($t.a.orderedList);return[{items:[{key:"unorderedList",content:i,value:{name:"bullet_list"},isDisabled:e,isActive:Boolean(n),elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.toggleBulletList))},{key:"orderedList",content:s,value:{name:"ordered_list"},isDisabled:t,isActive:Boolean(o),elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.toggleOrderedList))}]}]})),s()(this,"handleBulletListClick",(()=>!(this.props.bulletListDisabled||!function(e,t=lt.e.TOOLBAR){return zt(t,"bulletList")(e.state,e.dispatch)}(this.props.editorView,lt.e.TOOLBAR)))),s()(this,"handleOrderedListClick",(()=>!(this.props.orderedListDisabled||!function(e,t=lt.e.TOOLBAR){return zt(t,"orderedList")(e.state,e.dispatch)}(this.props.editorView,lt.e.TOOLBAR)))),
s()(this,"onItemActivated",(({item:e})=>{switch(this.setState({isDropdownOpen:!1}),e.value.name){case"bullet_list":this.handleBulletListClick();break;case"ordered_list":this.handleOrderedListClick()}}))}render(){const{disabled:e,isSmall:t,isReducedSpacing:n,isSeparator:o,bulletListActive:r,bulletListDisabled:i,orderedListActive:s,orderedListDisabled:a,intl:{formatMessage:c}}=this.props,{isDropdownOpen:d}=this.state;if(t){const t=this.createItems(),{popupsMountPoint:i,popupsBoundariesElement:a,popupsScrollableElement:u}=this.props,p=c($t.a.lists);return l.a.createElement(We.j,null,l.a.createElement($e,{items:t,onItemActivated:this.onItemActivated,mountTo:i,boundariesElement:a,scrollableElement:u,isOpen:d,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},l.a.createElement(w.a,{spacing:n?"none":"default",selected:r||s,disabled:e,onClick:this.handleTriggerClick,title:p,iconBefore:l.a.createElement(We.j,null,l.a.createElement(Te.a,{label:p
}),l.a.createElement(We.e,null,l.a.createElement(te.a,{label:p})))})),o&&l.a.createElement(We.g,null))}{const t=c($t.a.unorderedList),d=c($t.a.orderedList);return l.a.createElement(We.b,{width:n?"small":"large"},l.a.createElement(w.a,{spacing:n?"none":"default",onClick:this.handleBulletListClick,selected:r,disabled:i||e,title:l.a.createElement(Ie.ToolTipContent,{description:t,keymap:Ie.toggleBulletList}),iconBefore:l.a.createElement(Te.a,{label:t})}),l.a.createElement(w.a,{spacing:n?"none":"default",onClick:this.handleOrderedListClick,selected:s,disabled:a||e,title:l.a.createElement(Ie.ToolTipContent,{description:d,keymap:Ie.toggleOrderedList}),iconBefore:l.a.createElement(Ae.a,{label:d})}),o&&l.a.createElement(We.g,null))}}}Wt.displayName="ToolbarLists"
;var Vt=Object(f.i)(Wt),Kt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/pm-plugins/main.js"),qt=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/input-rules.js"),Gt=o("./node_modules/prosemirror-inputrules/dist/index.es.js");function Yt({listType:e,expression:t}){const n="bulletList"===e.name,o=Object(Gt.e)(t,e,{},((t,n)=>n.type===e));return function({inputRule:e,listType:t}){const n="bulletList"===t?lt.c.FORMAT_LIST_BULLET:lt.c.FORMAT_LIST_NUMBER,o=e.handler;return e.handler=(e,t,r,i)=>{const s=o(e,t,r,i);return s&&(Object(Je.d)(s).forEach((({node:t,marksRemoved:o})=>{Object(ct.a)(e,s,{action:lt.a.NODE_CONTENT_SANITIZED,actionSubject:lt.b.LIST,actionSubjectId:n,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING,nodeSanitized:t.type.name,marksRemoved:o.map((e=>e.type.name))}})})),Object(ct.a)(e,s,{action:lt.a.INSERTED,actionSubject:lt.b.LIST,actionSubjectId:n,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}})),s},e}({
listType:n?"bulletList":"orderedList",inputRule:Object(qt.b)(o,!0)})}var Xt=o("./node_modules/prosemirror-keymap/dist/index.es.js");const Jt=({selection:e})=>{const{$from:t,$to:n}=e,o=t.blockRange(n,Ze.d);return o||null},Zt=({tr:e,normalizedSelection:t,originalSelection:n,hasPreviousNestedList:o})=>{const r=o?2:0,{$from:i,$to:s}=t;if(t instanceof at.a){const n=e.doc.resolve(i.pos-r);return new at.a(n,t.side)}if(n instanceof c.NodeSelection)return c.NodeSelection.create(e.doc,i.pos-r);const{$from:a}=c.Selection.near(e.doc.resolve(i.pos-r)),{$to:l}=c.Selection.near(e.doc.resolve(s.pos-r),-1);return new c.TextSelection(a,l)},Qt=({tr:e,from:t,to:n,listNodeType:o,range:r})=>{const i=e.doc.slice(t,n-2),s=Ve.Fragment.from(o.create(null,i.content)),a=e.doc.slice(n,r.end-2),l=e.doc.slice(t-1,r.end).openStart;return[new Ve.Slice(s,l,0),a]};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e=lt.e.KEYBOARD){return function(t,n){const{tr:o,selection:{$from:r}}=t;if(!Object(et.d)(t))return!1;const i=Object(et.c)(r);if(i&&0===i.indentLevel&&0===i.itemIndex)return!0;const s=Object(kt.b)(r);if(!s)return!0;const a=s.node,l=Object(Ze.b)(a)?lt.c.FORMAT_LIST_BULLET:lt.c.FORMAT_LIST_NUMBER;(e=>{const t=e.selection,n=Object(et.h)({selection:t,doc:e.doc}),{$from:o,$to:r}=n,i=Jt({selection:n});if(!i)return!1;const s={
from:Object(kt.a)(o),to:Object(kt.a)(r)};if(null===s.from||null===s.to)return null;const a=e.doc.resolve(s.from.pos),l=a.index(),c=a.posAtIndex(l-1),d=e.doc.nodeAt(c);if(!d||!Object(Ze.c)(d))return null;if(Object(Ze.c)(d)&&0===l)return null;const u=i.parent,p=Object(Ze.d)(d.lastChild)?d.lastChild:null,h=p?p.type:u.type,m=s.to.node.lastChild,f=m&&Object(Ze.d)(m)?m.nodeSize:0,b=s.from.pos,g=s.to.pos+s.to.node.nodeSize-f,[y,v]=Qt({tr:e,listNodeType:h,range:i,from:b,to:g}),O=Boolean(p),j=b-1;e.replaceRange(O?j-1:j,i.end,y);const w=e.mapping.map(g)-2;0===v.openStart?e.insert(w,v.content):e.replace(w-v.openStart,w-v.openStart,v);const k=Zt({originalSelection:t,normalizedSelection:n,tr:e,hasPreviousNestedList:O});e.setSelection(k)})(o);return!(({tr:e,maxIndentation:t})=>{const n=Object(et.i)(e.selection.$from);let o,r=e.selection.$to.pos;do{const n=e.doc.resolve(r);if(o=Object(et.i)(n),o>t)return!1;r++}while(o>=n);return!0})({tr:o,maxIndentation:6})||!o.docChanged||(Object(ct.a)(t,o,{
action:lt.a.INDENTED,actionSubject:lt.b.LIST,actionSubjectId:l,eventType:lt.d.TRACK,attributes:tn(tn({},dt(t)),{},{inputMethod:e})}),n&&n(o),!0)}}var rn=function(){const e={};return Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.toggleOrderedList),zt(lt.e.KEYBOARD,"orderedList"),e),Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.toggleBulletList),zt(lt.e.KEYBOARD,"bulletList"),e),Ie.bindKeymapWithCommand(Ie.indentList.common,on(lt.e.KEYBOARD),e),Ie.bindKeymapWithCommand(Ie.outdentList.common,It(lt.e.KEYBOARD),e),Ie.bindKeymapWithCommand(Ie.enter.common,Rt,e),Ie.bindKeymapWithCommand(Ie.backspace.common,Lt,e),Ie.bindKeymapWithCommand(Ie.deleteKey.common,Bt,e),Ie.bindKeymapWithCommand(Ie.findKeyMapForBrowser(Ie.forwardDelete),Bt,e),Object(Xt.b)(e)},sn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/index.js"),an=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Toolbar/types.js");var ln=()=>({name:"listPredictable",nodes:()=>[{
name:"bulletList",node:Se.a},{name:"orderedList",node:_e.a},{name:"listItem",node:Ce.a}],pmPlugins:()=>[{name:"listsPredictable",plugin:({dispatch:e})=>Object(Kt.a)(e)},{name:"listsPredictableInputRule",plugin:({schema:e})=>function(e){const{nodes:{bulletList:t,orderedList:n}}=e,o=[];if(t&&o.push(Yt({expression:/^\s*([\*\-]) $/,listType:t})),n&&o.push(Yt({expression:/^(1)[\.\)] $/,listType:n})),0!==o.length)return Object(qt.c)("lists",{rules:o})}(e)},{name:"listsPredictableKeymap",plugin:()=>rn()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"unorderedList",title:e($t.a.unorderedList),description:e($t.a.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:Object(Ie.tooltip)(Ie.toggleBulletList),icon:()=>l.a.createElement(sn.m,{label:e($t.a.unorderedList)}),action(e,t){const n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ct.a)(t,n,{action:lt.a.INSERTED,
actionSubject:lt.b.LIST,actionSubjectId:lt.c.FORMAT_LIST_BULLET,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.QUICK_INSERT}})}},{id:"orderedList",title:e($t.a.orderedList),description:e($t.a.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:Object(Ie.tooltip)(Ie.toggleOrderedList),icon:()=>l.a.createElement(sn.n,{label:e($t.a.orderedList)}),action(e,t){const n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.LIST,actionSubjectId:lt.c.FORMAT_LIST_NUMBER,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.QUICK_INSERT}})}}]},primaryToolbarComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,toolbarSize:r,disabled:i,isToolbarReducedSpacing:s}){const a=r<an.a.L,c=r>=an.a.S;return l.a.createElement(p.a,{plugins:{listsState:Kt.b},render:({listsState:r})=>l.a.createElement(Vt,{
isSmall:a,isSeparator:c,isReducedSpacing:s,disabled:i,editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,bulletListActive:r.bulletListActive,bulletListDisabled:r.bulletListDisabled,orderedListActive:r.orderedListActive,orderedListDisabled:r.orderedListDisabled})})}}),cn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/commands/index.js");class dn extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isDropdownOpen:!1}),s()(this,"onOpenChange",(e=>{this.setState({isDropdownOpen:e.isDropdownOpen})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isDropdownOpen:!this.state.isDropdownOpen})})),s()(this,"createItems",(()=>{const{bulletListDisabled:e,orderedListDisabled:t,bulletListActive:n,orderedListActive:o,intl:{formatMessage:r}}=this.props,i=r($t.a.unorderedList),s=r($t.a.orderedList);return[{items:[{key:"unorderedList",content:i,value:{name:"bullet_list"},isDisabled:e,isActive:Boolean(n),
elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.toggleBulletList))},{key:"orderedList",content:s,value:{name:"ordered_list"},isDisabled:t,isActive:Boolean(o),elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.toggleOrderedList))}]}]})),s()(this,"handleBulletListClick",(()=>!(this.props.bulletListDisabled||!Object(cn.f)(this.props.editorView,lt.e.TOOLBAR)))),s()(this,"handleOrderedListClick",(()=>!(this.props.orderedListDisabled||!Object(cn.h)(this.props.editorView,lt.e.TOOLBAR)))),s()(this,"onItemActivated",(({item:e})=>{switch(this.setState({isDropdownOpen:!1}),e.value.name){case"bullet_list":this.handleBulletListClick();break;case"ordered_list":this.handleOrderedListClick()}}))}render(){const{disabled:e,isSmall:t,isReducedSpacing:n,isSeparator:o,bulletListActive:r,bulletListDisabled:i,orderedListActive:s,orderedListDisabled:a,intl:{formatMessage:c}}=this.props,{isDropdownOpen:d}=this.state;if(t){
const t=this.createItems(),{popupsMountPoint:i,popupsBoundariesElement:a,popupsScrollableElement:u}=this.props,p=c($t.a.lists);return l.a.createElement(We.j,null,l.a.createElement($e,{items:t,onItemActivated:this.onItemActivated,mountTo:i,boundariesElement:a,scrollableElement:u,isOpen:d,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},l.a.createElement(w.a,{spacing:n?"none":"default",selected:r||s,disabled:e,onClick:this.handleTriggerClick,title:p,iconBefore:l.a.createElement(We.j,null,l.a.createElement(Te.a,{label:p}),l.a.createElement(We.e,null,l.a.createElement(te.a,{label:p})))})),o&&l.a.createElement(We.g,null))}{const t=c($t.a.unorderedList),d=c($t.a.orderedList);return l.a.createElement(We.b,{width:n?"small":"large"},l.a.createElement(w.a,{spacing:n?"none":"default",onClick:this.handleBulletListClick,selected:r,disabled:i||e,title:l.a.createElement(Ie.ToolTipContent,{description:t,keymap:Ie.toggleBulletList}),iconBefore:l.a.createElement(Te.a,{label:t})
}),l.a.createElement(w.a,{spacing:n?"none":"default",onClick:this.handleOrderedListClick,selected:s,disabled:a||e,title:l.a.createElement(Ie.ToolTipContent,{description:d,keymap:Ie.toggleOrderedList}),iconBefore:l.a.createElement(Ae.a,{label:d})}),o&&l.a.createElement(We.g,null))}}}dn.displayName="ToolbarLists";var un=Object(f.i)(dn),pn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/pm-plugins/main.js");function hn(e,t){return Object(Gt.e)(e,t,{},((e,n)=>n.type===t))}const mn=(e,t,n,o)=>{const{hardBreak:r}=e.schema.nodes;if(e.doc.resolve(n).nodeAfter.type!==r)return null;if(e.doc.resolve(n).depth>1)return null;let i=e.tr.delete(n,o).split(n),s=i.doc.nodeAt(n+1);i.doc.nodesBetween(n,n+s.nodeSize,((e,t)=>{e.type===r&&(i=i.split(t+1).delete(t,t+1))}));const{listItem:a}=e.schema.nodes,l=i.doc.resolve(n+2);let c=l.blockRange(l);return i=i.wrap(c,[{type:t},{type:a}]),i};function fn(e){const t=[];if(e.nodes.bulletList&&t.push(...function(e){const t=Object(ct.c)((()=>({
action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_LIST_BULLET,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}}))),n=Object(qt.b)(hn(/^\s*([\*\-]) $/,e.nodes.bulletList),!0),o=Object(qt.a)(new RegExp("\ufffc\\s*([\\*\\-]) $"),((t,n,o,r)=>mn(t,e.nodes.bulletList,o,r)),!0);return[t(n),t(o)]}(e)),e.nodes.orderedList&&t.push(...function(e){const t=Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_LIST_NUMBER,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}}))),n=Object(qt.b)(hn(/^(1)[\.\)] $/,e.nodes.orderedList),!0),o=Object(qt.a)(new RegExp("\ufffc(1)[\\.\\)] $"),((t,n,o,r)=>mn(t,e.nodes.orderedList,o,r)),!0);return[t(n),t(o)]}(e)),0!==t.length)return Object(qt.c)("lists",{rules:t})}var bn=function(){const e={};return Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.toggleOrderedList),Object(cn.g)(lt.e.KEYBOARD,"orderedList"),e),
Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.toggleBulletList),Object(cn.g)(lt.e.KEYBOARD,"bulletList"),e),Ie.bindKeymapWithCommand(Ie.indentList.common,Object(cn.d)(lt.e.KEYBOARD),e),Ie.bindKeymapWithCommand(Ie.outdentList.common,Object(cn.e)(lt.e.KEYBOARD),e),Ie.bindKeymapWithCommand(Ie.enter.common,cn.c,e),Ie.bindKeymapWithCommand(Ie.backspace.common,cn.a,e),Ie.bindKeymapWithCommand(Ie.deleteKey.common,cn.b,e),Object(Xt.b)(e)};var gn=()=>({name:"list",nodes:()=>[{name:"bulletList",node:Se.a},{name:"orderedList",node:_e.a},{name:"listItem",node:Ce.a}],pmPlugins:()=>[{name:"lists",plugin:({dispatch:e})=>Object(pn.a)(e)},{name:"listsInputRule",plugin:({schema:e})=>fn(e)},{name:"listsKeymap",plugin:()=>bn()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"unorderedList",title:e($t.a.unorderedList),description:e($t.a.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:Object(Ie.tooltip)(Ie.toggleBulletList),icon:()=>l.a.createElement(sn.m,{
label:e($t.a.unorderedList)}),action(e,t){const n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ct.a)(t,n,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_LIST_BULLET,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.QUICK_INSERT}})}},{id:"orderedList",title:e($t.a.orderedList),description:e($t.a.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:Object(Ie.tooltip)(Ie.toggleOrderedList),icon:()=>l.a.createElement(sn.n,{label:e($t.a.orderedList)}),action(e,t){const n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ct.a)(t,n,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_LIST_NUMBER,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.QUICK_INSERT}})}}]},
primaryToolbarComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,toolbarSize:r,disabled:i,isToolbarReducedSpacing:s}){const a=r<an.a.L;return l.a.createElement(p.a,{plugins:{listsState:pn.b},render:({listsState:r})=>l.a.createElement(un,{isSmall:a,isSeparator:!0,isReducedSpacing:s,disabled:i,editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,bulletListActive:r.bulletListActive,bulletListDisabled:r.bulletListDisabled,orderedListActive:r.orderedListActive,orderedListDisabled:r.orderedListDisabled})})}}),yn=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/rule.js"),vn=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/insert.js"),On=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/index.js"),jn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/insert-block/ui/ToolbarInsertBlock/messages.js");const wn=(e,t,n,o)=>{if(!e.selection.empty)return null
;let r=null;const{newInsertionBehaviour:i}=Object(On.b)(e);return i&&(r=e.tr.replaceWith(t,n,Ve.Fragment.empty),r=Object(vn.b)(e.schema.nodes.rule.createChecked(),r.selection.from)(r)),r||(r=e.tr.replaceRange(t,n,new Ve.Slice(Ve.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),Object(ct.a)(e,r,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.DIVIDER,attributes:{inputMethod:o},eventType:lt.d.TRACK})},kn=(e,t,n)=>wn(e,t,n,lt.e.FORMATTING);var En=function(e){const t=[];if(e.nodes.rule&&(t.push(Object(qt.a)(/^(\-\-\-|\*\*\*)$/,((e,t,n,o)=>kn(e,n,o)),!0)),t.push(Object(qt.a)(new RegExp("\ufffc(\\-\\-\\-|\\*\\*\\*)"),((e,t,n,o)=>{const{hardBreak:r}=e.schema.nodes;return e.doc.resolve(n).nodeAfter.type!==r?null:kn(e,n,o)}),!0))),0!==t.length)return Object(qt.c)("rule",{rules:t})};var Sn=function(){const e={};return Ie.bindKeymapWithCommand(Ie.insertRule.common,(()=>Object(ct.d)({action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.DIVIDER,
attributes:{inputMethod:lt.e.SHORTCUT},eventType:lt.d.TRACK})(V.i()))(),e),Ie.bindKeymapWithCommand(Ie.escape.common,(()=>!0),e),Object(Xt.b)(e)};var _n=()=>({name:"rule",nodes:()=>[{name:"rule",node:yn.a}],pmPlugins:()=>[{name:"ruleInputRule",plugin:({schema:e})=>En(e)},{name:"ruleKeymap",plugin:()=>Sn()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"rule",title:e(jn.a.horizontalRule),description:e(jn.a.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:()=>l.a.createElement(sn.e,{label:e(jn.a.horizontalRule)}),action(e,t){let n=null;const{newInsertionBehaviour:o}=Object(On.b)(t);return o&&(n=e(Ve.Fragment.empty),n=Object(vn.b)(t.schema.nodes.rule.createChecked(),n.selection.from)(n)),n||(n=e(t.schema.nodes.rule.createChecked())),Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.DIVIDER,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}]}
}),Cn=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/expand.js"),xn=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/nested-expand.js"),Tn=o("./node_modules/prosemirror-view/dist/index.es.js"),Pn=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-rect.js"),An=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/selection.js"),In=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-ignored.js");function Mn(e,t,n){return function(o,r,i,s,a,l){if(n.useLongPressSelection)return!1;if(l&&-1!==e.indexOf(i.type.name)&&a.target){const e=a.target;if(t(e)){const e=n.getNodeSelectionPos?n.getNodeSelectionPos(o.state,s):s;return Object(Xe.h)(e)(o.state,o.dispatch),!0}}return!1}}const Dn=e=>{if(e.selection instanceof c.NodeSelection)return Tn.b.create(e.doc,[Tn.a.node(e.selection.from,e.selection.to,{class:Le.G})]);if(e.selection instanceof c.TextSelection||e.selection instanceof c.AllSelection){
const t=Bn(e.selection,e.doc).map((({node:e,pos:t})=>Tn.a.node(t,t+e.nodeSize,{class:Le.G})));return Tn.b.create(e.doc,t)}return Tn.b.empty};function Nn(e){if(e instanceof c.NodeSelection)return{action:lt.a.SELECTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.NODE,eventType:lt.d.TRACK,attributes:{node:e.node.type.name}}}function Rn(e){if(e instanceof c.AllSelection)return{action:lt.a.SELECTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.ALL,eventType:lt.d.TRACK}}function Ln(e){if(e.selection instanceof q.a){const t=Object(Pn.a)(e),n=t.map.cellsInRect(t).length,o=t.map.map.length;return{action:lt.a.SELECTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.CELL,eventType:lt.d.TRACK,attributes:{selectedCells:n,totalCells:o}}}}const Bn=(e,t)=>{const n=[];if(e.from!==e.to){const{from:o,to:r}=e;t.nodesBetween(o,r,((e,t)=>{const i=o<=t&&t+e.nodeSize<=r;return!(e&&"paragraph"!==e.type.name&&!e.isText&&i)||(n.push({node:e,pos:t}),!1)}))}return n};function Fn(e,t){
if(e instanceof c.TextSelection&&e.from!==e.to){const{from:n,to:o,anchor:r,head:i}=e,s=[];return t.nodesBetween(n,o,((e,t)=>{if(e.isText||t>=n&&t+e.nodeSize<=o)return s.push(e.type.name),!1})),{action:lt.a.SELECTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.RANGE,eventType:lt.d.TRACK,attributes:{from:r,to:i,nodes:s}}}}const zn=e=>!(!e||e.isAtom||!c.NodeSelection.isSelectable(e)),Un=e=>!(!e||!(e.isText||Object(Ye.g)(e)||c.NodeSelection.isSelectable(e))),Hn=e=>{let t=!1;const n=Object(b.findParentNode)((e=>{const n=zn(e);return n||Object(In.a)(e)||(t=!0),n}))(e);if(!t)return n},$n=(e,t)=>{e.parent.inlineContent&&zn(e.parent)&&(e=t.resolve(e.start()-1));const n=c.Selection.findFrom(e,-1);if(n){const o=t.resolve(n.from);for(let t=e.depth+1;t<=o.depth;t++){const n=o.node(t);if(zn(n))return{node:n,pos:o.start(t)-1};if(t>e.depth+1&&!Object(In.a)(n))return}if(n instanceof c.NodeSelection&&c.NodeSelection.isSelectable(n.node))return{node:n.node,pos:n.from}}},Wn=(e,t)=>{
const n=c.Selection.findFrom(e,1);if(n){const o=t.resolve(n.from);for(let t=e.depth+1;t<=o.depth;t++){const n=o.node(t);if(zn(n))return{node:n,pos:o.start(t)-1};if(t>e.depth+1&&!Object(In.a)(n))return}}},Vn=(e,t)=>Object(An.d)(e,Hn(t)),Kn=(e,t)=>Object(An.c)(e,Hn(t));var qn=o("./node_modules/react-dom/index.js"),Gn=o.n(qn),Yn=o("./node_modules/@babel/runtime/helpers/extends.js"),Xn=o.n(Yn),Jn=o("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),Zn=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Expand/index.js"),Qn=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-right.js"),eo=o.n(Qn),to=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/ui/class-names.js");function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}
function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const so=Object(a.forwardRef)((function(e,t){return l.a.createElement(Zn.b,Xn()({},e,{innerRef:t}))})),ao=e=>{
const{label:t,allowInteractiveExpand:n}=e,o=Object(a.useCallback)(((t,n)=>{const o=t(n),{buttonStyles:r}=o,i=io(o,["buttonStyles"]);return oo({buttonStyles:oo(oo({},r),{},{height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"tranform: rotate(0deg);",transition:`transform 0.2s ${Le.L};`}})},i)}),[e]);return l.a.createElement(Jn.a,{appearance:"subtle",className:to.a.iconContainer,iconBefore:l.a.createElement(eo.a,{label:t}),shouldFitContainer:!0,theme:o,isDisabled:!n})},lo=(e=>class extends l.a.Component{constructor(e){super(e)}render(){const{label:t}=this.props;return l.a.createElement(Re.a,{content:t,position:"top",tag:so},l.a.createElement(e,this.props))}})(ao),co=ao,uo=e=>{const{expanded:t,intl:n}=e,o=t?Zn.c.collapseNode:Zn.c.expandNode,r=n&&n.formatMessage(o)||o.defaultMessage,i=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches
;return e.allowInteractiveExpand&&i?l.a.createElement(lo,Xn()({label:r},e)):l.a.createElement(Zn.b,null,l.a.createElement(co,Xn()({label:r},e)))};var po=o("./node_modules/w3c-keyname/index.js"),ho=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),mo=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/commands.js"),fo=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/types.js");let bo;!function(e){e.SET_DECORATIONS="SET_DECORATIONS",e.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"}(bo||(bo={}));var go=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js");function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?yo(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{createCommand:Eo,getPluginState:So,createPluginState:_o}=Object(go.a)(fo.d,(function(e,t){switch(t.type){case bo.SET_DECORATIONS:return vo(vo({},e),{},{decorationSet:t.decorationSet,selection:t.selection});case bo.SET_RELATIVE_SELECTION:return vo(vo({},e),{},{selectionRelativeToNode:t.selectionRelativeToNode});default:return e}}),{onDocChanged:(e,t)=>{try{if(0===t.decorationSet.find().length&&(!e.selectionSet||0===Dn(e).find().length))return t;const n=t.decorationSet.map(e.mapping,e.doc);return wo(wo({},t),{},{decorationSet:n})}catch(n){return wo(wo({},t),{},{decorationSet:Tn.b.empty})}},onSelectionChanged:(e,t)=>(e.selection instanceof c.NodeSelection&&zn(e.selection.node)||e.selection instanceof q.a)&&!e.getMeta(fo.d)?wo(wo({},t),{},{selectionRelativeToNode:void 0}):t}),Co=(e,t)=>Eo({type:bo.SET_RELATIVE_SELECTION,selectionRelativeToNode:e
},(e=>t?e.setSelection(t):e)),xo=(e,t)=>{const{selection:n}=e;return n instanceof at.a?Po(n)(e,t):n instanceof c.NodeSelection?Io(n)(e,t):n instanceof c.TextSelection&&Do(n)(e,t)},To=(e,t)=>{const{selection:n}=e;return n instanceof at.a?Ao(n)(e,t):n instanceof c.NodeSelection?Mo(n)(e,t):n instanceof c.TextSelection&&No(n)(e,t)},Po=e=>(t,n)=>{const{$from:o,$to:r,side:i}=e;if(i===at.b.LEFT){const e=Wn(r,t.doc);if(e)return Co(fo.a.Start,c.NodeSelection.create(t.doc,e.pos))(t,n)}else if(i===at.b.RIGHT&&Kn(o,e)){const o=Hn(e);if(o)return Co(fo.a.End,c.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Ao=e=>(t,n)=>{const{$from:o,side:r}=e,{selectionRelativeToNode:i}=So(t);if(r===at.b.RIGHT){const e=$n(o,t.doc);if(e)return Co(fo.a.End,c.NodeSelection.create(t.doc,e.pos))(t,n)}else if(r===at.b.LEFT&&Vn(o,e))if(i===fo.a.Before){const o=t.doc.resolve(e.$from.before(e.$from.depth));if(o){const e=$n(o,t.doc);if(e&&Object(In.a)(e.node))return Co(fo.a.End,c.NodeSelection.create(t.doc,e.pos))(t,n)}
Co()(t,n)}else{const o=Hn(e);if(o)return Co(fo.a.Start,c.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Io=e=>(t,n)=>{const{node:o,from:r,$to:i}=e,{selectionRelativeToNode:s}=So(t);if(o.isAtom)return!!Kn(i,e)&&Ro(fo.a.End,t.doc.resolve(r+1),fo.b.After)(t,n);if(s===fo.a.Start)return Lo(fo.a.Inside,o,r)(t,n);if(Object(In.a)(o)&&(!s||s===fo.a.End)){const e=Wn(i,t.doc);if(e&&Object(In.a)(e.node))return Co(fo.a.Start,c.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},Mo=e=>(t,n)=>{const{node:o,from:r,to:i,$from:s}=e,{selectionRelativeToNode:a}=So(t);if(o.isAtom)return!!Vn(s,e)&&Ro(fo.a.Start,t.doc.resolve(r),fo.b.Before)(t,n);if(a===fo.a.End)return Bo(fo.a.Inside,o,r,i)(t,n);if(!a||a===fo.a.Inside)return Lo(fo.a.Before,o,r)(t,n);if(Object(In.a)(o)&&a===fo.a.Start){const e=$n(s,t.doc);if(e&&Object(In.a)(e.node))return Co(fo.a.End,c.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},Do=e=>(t,n)=>{if(Kn(e.$to,e)){const o=Hn(e)
;if(o)return Co(fo.a.End,c.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},No=e=>(t,n)=>{const{selectionRelativeToNode:o}=So(t);if(o===fo.a.Before){const o=$n(e.$from,t.doc);if(o&&Object(In.a)(o.node))return Co(fo.a.End,c.NodeSelection.create(t.doc,o.pos))(t,n);Co(void 0)(t,n)}else if(Vn(e.$from,e)){const o=Hn(e);if(o)return Co(fo.a.Start,c.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Ro=(e,t,n)=>(o,r)=>{const i=c.Selection.findFrom(t,n,!0);return!!i&&Co(e,i)(o,r)},Lo=(e,t,n)=>(o,r)=>{if(Object(Ye.i)(t))return Ro(e,o.doc.resolve(n),fo.b.After)(o,r);const i=(e=>Object(b.flatten)(e).find((e=>Un(e.node)||!Object(In.a)(e.node))))(t);if(i){const{node:s,pos:a}=i,l=n+a+1;if(s.isText||s.isAtom)return Ro(e,o.doc.resolve(l),fo.b.Before)(o,r);if(Object(Ye.g)(s))return Ro(e,o.doc.resolve(l+1),fo.b.Before)(o,r);if(!Object(In.a)(t))return Co(e,new at.a(o.doc.resolve(l),at.b.LEFT))(o,r);if(zn(t))return Co(e,c.NodeSelection.create(o.doc,l))(o,r)}return!1},Bo=(e,t,n,o)=>(r,i)=>{
if(Object(Ye.i)(t))return Ro(e,r.doc.resolve(o),fo.b.Before)(r,i);const s=(e=>{let t;if(e.descendants(((e,n)=>{if(Un(e)||!Object(In.a)(e))return t={node:e,pos:n},!1})),t)return t})(t);if(s){const{node:o,pos:a}=s,l=n+a+o.nodeSize;if(o.isText||o.isAtom)return Ro(e,r.doc.resolve(l+1),fo.b.After)(r,i);if(Object(Ye.g)(o))return Ro(e,r.doc.resolve(l),fo.b.After)(r,i);if(!Object(In.a)(t))return Co(e,new at.a(r.doc.resolve(l+1),at.b.RIGHT))(r,i);if(zn(t))return Co(e,c.NodeSelection.create(r.doc,l))(r,i)}return!1};function Fo(e,t){return`${to.a.prefix} ${to.a.type(e)} ${t?to.a.expanded:""}`}class zo{constructor(e,t,n,o){s()(this,"allowInteractiveExpand",!0),s()(this,"focusTitle",(()=>{if(this.input){const{state:e,dispatch:t}=this.view;Co(fo.a.Start)(e,t),Object(mo.g)(e,t,this.view),this.input.focus()}})),s()(this,"handleIconKeyDown",(e=>{switch(Object(po.keyName)(e)){case"Tab":e.preventDefault(),this.focusTitle();break;case"Enter":e.preventDefault(),this.handleClick(e)}})),
s()(this,"isAllowInteractiveExpandEnabled",(()=>{const{state:e}=this.view,t=Object(On.b)(e);return t&&!!t.interactiveExpand})),s()(this,"handleClick",(e=>{const t=e.target,{state:n,dispatch:o}=this.view;if(Object(L.b)(t,`.${to.a.icon}`)){if(!this.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),this.view.dom instanceof HTMLElement&&this.view.dom.blur(),void Object(mo.h)(this.getPos(),this.node.type)(n,o)}if(t===this.input)return e.stopPropagation(),void this.focusTitle()})),s()(this,"handleInput",(e=>{const t=e.target;if(t===this.input){e.stopPropagation();const{state:n,dispatch:o}=this.view;Object(mo.i)(t.value,this.getPos(),this.node.type)(n,o)}})),s()(this,"handleFocus",(e=>{e.stopImmediatePropagation()})),s()(this,"handleTitleKeydown",(e=>{switch(Object(po.keyName)(e)){case"Enter":this.toggleExpand();break;case"Tab":case"ArrowDown":this.moveToOutsideOfTitle(e);break;case"ArrowRight":this.handleArrowRightFromTitle(e);break;case"ArrowLeft":
this.handleArrowLeftFromTitle(e);break;case"ArrowUp":this.setLeftGapCursor(e);break;case"Backspace":this.deleteExpand(e)}})),s()(this,"deleteExpand",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t!==n||0!==t)return;const{state:o}=this.view,r=this.node;r&&Object(ho.l)(o.schema)(r)&&Object(mo.c)(this.getPos(),r)(o,this.view.dispatch)})),s()(this,"toggleExpand",(()=>{if(this.isAllowInteractiveExpandEnabled()){const{state:e,dispatch:t}=this.view;Object(mo.h)(this.getPos(),this.node.type)(e,t)}})),s()(this,"moveToOutsideOfTitle",(e=>{e.preventDefault();const{state:t,dispatch:n}=this.view,o=this.getPos();if("number"!=typeof o)return;let r=o;this.isCollapsed()&&(r=o+this.node.nodeSize);const i=t.doc.resolve(r);if(!i)return;if(this.isCollapsed()&&i.nodeAfter&&["expand","nestedExpand"].indexOf(i.nodeAfter.type.name)>-1)return this.setRightGapCursor(e);const s=c.Selection.findFrom(i,1,!0);s&&(this.view.focus(),n(t.tr.setSelection(s)))})),
s()(this,"isCollapsed",(()=>!this.node.attrs.__expanded)),s()(this,"setRightGapCursor",(e=>{if(!this.input)return;const{value:t,selectionStart:n,selectionEnd:o}=this.input;if(n===o&&n===t.length){const{state:t,dispatch:n}=this.view;e.preventDefault(),this.view.focus(),n(t.tr.setSelection(new at.a(t.doc.resolve(this.node.nodeSize+this.getPos()),at.b.RIGHT)))}})),s()(this,"setLeftGapCursor",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),n(t.tr.setSelection(new at.a(t.doc.resolve(this.getPos()),at.b.LEFT)))}})),s()(this,"handleArrowRightFromTitle",(e=>{if(!this.input)return;const{value:t,selectionStart:n,selectionEnd:o}=this.input;if(n===o&&n===t.length){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),Co(fo.a.End,c.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),s()(this,"handleArrowLeftFromTitle",(e=>{if(!this.input)return
;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),void 0===So(t).selectionRelativeToNode?Co(void 0,new at.a(t.doc.resolve(this.getPos()),at.b.LEFT))(t,n):Co(fo.a.Start,c.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),this.reactContext=o()||{};const{dom:r,contentDOM:i}=Ve.DOMSerializer.renderSpec(document,((e,t)=>["div",{class:Fo(e.type.name,e.attrs.__expanded),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:to.a.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:to.a.icon}],["div",{class:to.a.inputContainer},["input",{class:to.a.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(Zn.c.expandPlaceholderText)||Zn.c.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:to.a.content},0]])(e,this.reactContext.intl));this.getPos=n,this.pos=n(),this.view=t,this.node=e,this.dom=r,this.contentDOM=i,
this.icon=this.dom.querySelector(`.${to.a.icon}`),this.input=this.dom.querySelector(`.${to.a.titleInput}`),this.titleContainer=this.dom.querySelector(`.${to.a.titleContainer}`),this.content=this.dom.querySelector(`.${to.a.content}`),this.renderIcon(this.reactContext.intl),this.initHandlers()}initHandlers(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}renderIcon(e,t){if(!this.icon)return;const{__expanded:n}=t&&t.attrs||this.node.attrs;Gn.a.render(l.a.createElement(uo,{allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}stopEvent(e){const t=e.target;return t===this.input||t===this.icon||!!Object(L.b)(t,`.${to.a.icon}`)}ignoreMutation(e){
return"selection"!==e.type}update(e,t){return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(to.a.expanded),this.renderIcon(this.reactContext&&this.reactContext.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((()=>{this.input&&this.node.attrs.title!==this.input.value&&(this.input.value=this.node.attrs.title)})),this.node=e,!0)}destroy(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),Gn.a.unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}
var Uo=function(e){return(t,n,o)=>new zo(t,n,o,e)},Ho=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/utils.js"),$o=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/pm-plugins/plugin-factory.js");function Wo(e,t){return!!e&&e.classList.contains(t)}var Vo=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/utils/find-query-mark.js");const Ko=e=>e instanceof c.NodeSelection&&("expand"===e.node.type.name||"nestedExpand"===e.node.type.name);function qo(){const e={};return Ie.bindKeymapWithCommand(Ie.moveRight.common,((e,t,n)=>{if(!n)return!1;const{selection:o}=e,{selectionRelativeToNode:r}=So(e);return!(!Ko(o)||r!==fo.a.Start)&&Object(mo.d)(o.from+1)(e,t,n)}),e),Ie.bindKeymapWithCommand(Ie.moveLeft.common,((e,t,n)=>{if(!n)return!1;const{selection:o}=e,{selectionRelativeToNode:r}=So(e);return!(!Ko(o)||void 0!==r&&r!==fo.a.End)&&Object(mo.d)(o.from+1)(e,t,n)}),e),Ie.bindKeymapWithCommand(Ie.tab.common,((e,t,n)=>{
if(e.selection instanceof c.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){const{from:o}=e.selection,r=n.nodeDOM(o);if(!(r&&r instanceof HTMLElement))return!1;const i=r.querySelector(`.${to.a.iconContainer}`);if(i&&i.focus){const{tr:o}=e,r=e.selection.from;o.setSelection(new c.TextSelection(o.doc.resolve(r))),t&&t(o),n.dom.blur(),i.focus()}return!0}return!1}),e),Ie.bindKeymapWithCommand(Ie.moveUp.common,((e,t,n)=>{const o=Object(Vo.a)(e);if(-1!==o.start&&-1!==o.end||!n)return!1;const{selection:r,schema:i}=e,{nodeBefore:s}=r.$from;if(r instanceof at.a&&r.side===at.b.RIGHT&&s&&(s.type===i.nodes.expand||s.type===i.nodes.nestedExpand)&&!s.attrs.__expanded){const{$from:o}=r;return Object(mo.d)(Math.max(o.pos-1,0))(e,t,n)}const{$from:a}=e.selection;if(n.endOfTextblock("up")){const o=Object(Ho.a)(e),r=Math.max(a.pos-a.parentOffset-1,0);if(o&&o.start===r)return Object(mo.d)(o.start)(e,t,n)
;const i=c.Selection.findFrom(e.doc.resolve(r),-1),s=Object(Ho.a)(e,i);if(i&&s)return s.node.attrs.__expanded?(t&&t(e.tr.setSelection(i)),!0):Object(mo.d)(s.start)(e,t,n)}return!1}),e),Ie.bindKeymapWithCommand(Ie.moveDown.common,((e,t,n)=>{if(!n)return!1;const{expand:o,nestedExpand:r}=e.schema.nodes,{selection:i}=e,{nodeAfter:s}=i.$from;if(i instanceof at.a&&i.side===at.b.LEFT&&s&&(s.type===o||s.type===r)&&!s.attrs.__expanded){const{$from:o}=i;return Object(mo.d)(o.pos+1)(e,t,n)}if(n.endOfTextblock("down")){const{$from:i}=e.selection,s=e.doc.resolve(i.after());if(s.nodeAfter&&(s.nodeAfter.type===o||s.nodeAfter.type===r))return Object(mo.d)(s.pos+1)(e,t,n)}return!1}),e),Ie.bindKeymapWithCommand(Ie.backspace.common,((e,t,n)=>{const{selection:o}=e;if(!n||!o.empty)return!1;const{expand:r,nestedExpand:i}=e.schema.nodes,s=Object(Ho.a)(e);if(!s){const s=c.Selection.findFrom(e.doc.resolve(Math.max(o.$from.pos-1,0)),-1),a=Object(Ho.a)(e,s)
;return!(!a||a.node.type!==r&&a.node.type!==i||a.node.attrs.__expanded)&&Object(mo.d)(a.start)(e,t,n)}const a=c.Selection.findFrom(e.doc.resolve(s.pos),1,!0);return!!(a&&o.$from.pos===a.$from.pos&&Object(ho.l)(e.schema)(s.node)&&t)&&Object(mo.b)()(e,t)}),e),Object(Xt.b)(e)}var Go=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/remove.js"),Yo=o.n(Go),Xo=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/decoration.js");const Jo=(e,{formatMessage:t})=>{const{expandRef:n}=Object($o.c)(e);if(n){const{nestedExpand:o,expand:r}=e.schema.nodes;return{title:"Expand toolbar",getDomRef:()=>n,nodeType:[o,r],offset:[0,6],items:[{type:"button",appearance:"danger",icon:Yo.a,onClick:Object(mo.b)(),onMouseEnter:Object(Xo.b)([o,r],!0),onMouseLeave:Object(Xo.b)([o,r],!1),title:t(C.a.remove)}]}}};var Zo=(e={})=>({name:"expand",nodes:()=>[{name:"expand",node:Cn.a},{name:"nestedExpand",node:xn.a}],pmPlugins:()=>[{name:"expand",
plugin:({dispatch:t,reactContext:n})=>((e,t,n=!1)=>{const o=Object($o.b)(e,{});return new c.Plugin({state:o,key:$o.d,props:{nodeViews:{expand:Uo(t),nestedExpand:Uo(t)},handleKeyDown:(e,t)=>Wo(t.target,to.a.titleContainer),handleKeyPress:(e,t)=>Wo(t.target,to.a.titleContainer),handleScrollToSelection:()=>Wo(document.activeElement,to.a.titleInput),handleClickOn:Mn(["expand","nestedExpand"],(e=>e.classList.contains(to.a.prefix)),{useLongPressSelection:n})},filterTransaction:e=>!(Wo(document.activeElement,to.a.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric)),view:e=>{const t=e.domAtPos.bind(e);return{update:e=>{const{state:n,dispatch:o}=e,r=Object(Ho.a)(n);if(r){const e=Object(b.findDomRefAtPos)(r.pos,t);Object($o.c)(n).expandRef!==e&&Object(mo.f)(e)(n,o)}}}}})})(t,n,e.useLongPressSelection)},{name:"expandKeymap",plugin:qo}],pluginsOptions:{floatingToolbar:Jo,quickInsert:({formatMessage:t})=>e&&!0!==e.allowInsertion?[]:[{id:"expand",title:t(jn.a.expand),
description:t(jn.a.expandDescription),keywords:["accordion","collapse"],priority:600,icon:()=>l.a.createElement(sn.g,{label:t(jn.a.expand)}),action(e,t){const n=Object(mo.a)(t),o=e(n);return Object(ct.a)(t,o,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?lt.c.NESTED_EXPAND:lt.c.EXPAND,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}]}});function Qo({allowExpand:e}){return!(!e||"object"!=typeof e)&&!!e.allowInsertion}var er=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/index.js"),tr=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/index.js"),nr=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/caption.js");const or=new c.PluginKey("caption");var rr=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Caption/index.js"),ir=o("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/SelectionBasedNodeView.js");class sr extends ir.a{constructor(...e){
super(...e),s()(this,"selected",this.insideSelection())}createDomRef(){const e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}getContentDOM(){return{dom:document.createElement("div")}}render(e,t){return l.a.createElement(rr.a,{selected:this.insideSelection(),hasContent:this.node.content.childCount>0},l.a.createElement("div",{ref:t}))}viewShouldUpdate(e){if(this.node.childCount!==e.childCount)return!0;const t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}function ar(e,t){return(n,o,r)=>new sr(n,o,r,e,t,{}).init()}sr.displayName="CaptionNodeView";const lr=(e,t)=>{Object(ct.a)(e,e.tr,{action:t,eventType:lt.d.TRACK,actionSubject:lt.b.MEDIA_SINGLE,actionSubjectId:lt.c.CAPTION})};function cr(){const e={};return Ie.bindKeymapWithCommand(Ie.moveDown.common,V.d,e),Ie.bindKeymapWithCommand(Ie.enter.common,V.d,e),Ie.bindKeymapWithCommand(Ie.moveDown.common,dr,e),Ie.bindKeymapWithCommand(Ie.enter.common,dr,e),
Ie.bindKeymapWithCommand(Ie.moveUp.common,ur,e),Ie.bindKeymapWithCommand(Ie.shiftTab.common,ur,e),Ie.bindKeymapWithCommand(Ie.tab.common,dr,e),Object(Xt.b)(e)}const dr=(e,t)=>{const n=Object(b.findParentNodeOfType)(e.schema.nodes.caption)(e.selection);if(n){if(t){t(e.tr.setSelection(c.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))))}return!0}return!1},ur=(e,t)=>{if(Object(b.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){const n=Object(b.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t){t(e.tr.setSelection(c.Selection.near(e.tr.doc.resolve(n.pos))))}return!0}}return!1};var pr=()=>({name:"caption",nodes:()=>[{name:"caption",node:nr.a}],pmPlugins:()=>[{name:"caption",plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:n,dispatch:o})=>((e,t,n,o)=>new c.Plugin({appendTransaction(e,t,n){if(!e.find((e=>e.selectionSet)))return
;const o=!n.selection.eq(t.selection),r=Object(b.findParentNodeOfType)(t.schema.nodes.caption)(t.selection),{tr:i}=n;if(o&&r){if(0===r.node.childCount)return i.delete(r.start-1,r.start),i.setMeta("scrollIntoView",!1),lr(n,lt.a.DELETED),i;lr(n,lt.a.EDITED)}},key:or,props:{nodeViews:{caption:ar(e,t)}}}))(e,n)},{name:"captionKeymap",plugin:cr}]}),hr=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/index.js"),mr=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/emoji.js"),fr=o("./node_modules/classnames/index.js"),br=o.n(fr),gr=o("./node_modules/@atlaskit/emoji/dist/es2019/util/type-helpers.js"),yr=o("./node_modules/@atlaskit/emoji/dist/es2019/util/mouse.js"),vr=o("./node_modules/@atlaskit/emoji/dist/es2019/components/common/EmojiPreview.js"),Or=o("./node_modules/typestyle/lib.es2015/index.js"),jr=o("./node_modules/@atlaskit/emoji/dist/es2019/util/shared-styles.js");Object(Or.b)({background:"white",border:`1px solid ${jr.d}`,borderRadius:jr.e,
boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)",color:"#333",width:350}),Object(Or.b)({display:"none"});const wr=Object(Or.b)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:350,$nest:{"&.emoji-typeahead-selected":{backgroundColor:jr.c}}}),kr=Object(Or.b)({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"});Object(Or.b)({position:"relative",height:"350px",paddingTop:`${160..toFixed()}px`,boxSizing:"border-box"}),Object(Or.b)({textAlign:"center"});class Er extends a.PureComponent{constructor(...e){super(...e),s()(this,"onEmojiSelected",(e=>{const{emoji:t,onSelection:n}=this.props;Object(yr.a)(e)&&n&&(e.preventDefault(),n(Object(gr.q)(t),t,e))})),s()(this,"onEmojiMenuItemMouseMove",(e=>{const{emoji:t,onMouseMove:n}=this.props;n&&n(Object(gr.q)(t),t,e)}))}render(){const{selected:e,emoji:t}=this.props,n=br()({"ak-emoji-typeahead-item":!0,[wr]:!0,"emoji-typeahead-selected":e});return l.a.createElement("div",{className:n,
onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":t.shortName},l.a.createElement("div",{className:kr},l.a.createElement(vr.a,{emoji:t})))}}Er.displayName="EmojiTypeAheadItem";var Sr=o("./node_modules/@atlaskit/emoji/dist/es2019/types.js"),_r=o("./node_modules/@atlaskit/emoji/dist/es2019/util/analytics.js");let Cr;function xr(e,t){if(e.nodes.emoji&&t){!function(e){const t=(e,t)=>{t&&t.then((e=>{e.getAsciiMap().then((t=>{Cr=new Dr(e,t)}))}))};e.subscribe("emojiProvider",t)}(t);const e=Object(qt.a)(Mr.REGEX,Tr);return Object(qt.c)("emoji",{rules:[e]})}}function Tr(e,t,n,o){if(!Cr)return null;if(!function(e){const t=e.schema.marks.typeAheadQuery;return e.selection.$from.marks().some((e=>e.type===t))||Object(ho.p)(t,e)}(e))return null;const r=Cr.match(t);if(r){return new Nr(e,r,n,o).create()}return null}const Pr=(e,t=!0)=>e[1]+(t?e[2]:""),Ar=(e,t=!1)=>(t?e[2]:"")+e[3].trim(),Ir=e=>e[4]||"";class Mr{constructor(e){this.asciiToEmojiMap=e}match(e){
return this.getAsciiEmojiMatch((e=>Pr(e,!1))(e),(e=>Ar(e,!0))(e),Ir(e))||this.getAsciiEmojiMatch(Pr(e),Ar(e),Ir(e))}getAsciiEmojiMatch(e,t,n){const o=this.asciiToEmojiMap.get(t);return o?{emoji:o,leadingString:e,trailingString:n}:void 0}}s()(Mr,"REGEX",new RegExp("((?:^|[\\s\ufffc])(?:\\(*?))(\\(?)([^:\\s\ufffc\\(]\\S{1,3}|:\\S{1,3}( ))$"));class Dr extends Mr{constructor(e,t){super(t),this.emojiProvider=e}match(e){const t=super.match(e);return t&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(t.emoji),t}}class Nr{constructor(e,t,n,o){this.state=e,this.match=t,this.start=n,this.end=o}create(){const e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(ct.a)(this.state,e,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.EMOJI,attributes:{inputMethod:lt.e.ASCII},eventType:lt.d.TRACK})}get from(){return this.start+this.match.leadingString.length}get to(){return this.end}createNodes(){const e=[this.createEmojiNode()]
;return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}createEmojiNode(){const{emoji:e}=this.state.schema.nodes;return e.create(this.getEmojiNodeAttrs())}getEmojiNodeAttrs(){const e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}trailingTextNodeRequired(){return this.match.trailingString.length>0}createTrailingTextNode(){return this.state.schema.text(this.match.trailingString)}}new c.PluginKey("asciiEmojiPlugin");var Rr=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js"),Lr=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Emoji/index.js");function Br(e){return l.a.createElement(We.d,null,l.a.createElement(Lr.a,e))}var Fr=o("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js"),zr=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/InlineNodeWrapper/index.js");class Ur extends Fr.a{createDomRef(){
return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(zr.a)():super.createDomRef()}render(e){const{providerFactory:t,options:n}=e,{shortName:o,id:r,text:i}=this.node.attrs;return l.a.createElement(zr.b,{useInlineWrapper:n&&n.useInlineWrapper},l.a.createElement(Br,{providers:t,id:r,shortName:o,fallback:i}),n&&n.allowZeroWidthSpaceAfter&&Rr.a)}}Ur.displayName="EmojiNodeView";class Hr{constructor(e,t,n){var o,r,i;if(s()(this,"hasProvider",!1),s()(this,"subscribe",((e,t)=>{this.hasProvider=!1,this.emojiProvider=t,null==t||t.then((()=>this.hasProvider=!0)).then((()=>this.findEmoji())).then((e=>this.update(this.node,null,e)))})),this.node=e,this.providers=n.providerFactory,this.options=n.options,this.dom=Hr.toDom(e),null===(o=this.options)||void 0===o?void 0:o.useInlineWrapper){const e=Object(zr.a)();e.appendChild(this.dom),this.dom=e}this.el=(null===(r=this.options)||void 0===r?void 0:r.useInlineWrapper)?this.dom.firstElementChild:this.dom,
this.providers.subscribe("emojiProvider",this.subscribe),(null===(i=this.options)||void 0===i?void 0:i.allowZeroWidthSpaceAfter)&&this.el.after(document.createTextNode(Rr.a)),this.update(this.node,null)}static toDomSpec(e){return["span",{"aria-label":e.attrs.shortName,"data-emoji-id":e.attrs.id,"data-emoji-shortname":e.attrs.shortName,class:"editor-emoji"},e.attrs.shortName]}static toDom(e){return Ve.DOMSerializer.renderSpec(document,Hr.toDomSpec(e)).dom}static isSprite(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("sprite"))&&void 0!==t&&t}static isImage(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("imagePath"))&&void 0!==t&&t}static isMedia(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("mediaPath"))&&void 0!==t&&t}async findEmoji(e=this.node){const t=await this.emojiProvider;if(t)return t.findByEmojiId({id:e.attrs.id,shortName:e.attrs.shortName,fallback:e.attrs.text})}destroy(){this.providers.unsubscribe("emojiProvider",this.subscribe)}
update(e,t,n=this.emoji){if(this.node.type!==e.type)return this.node=e,!1;const o=this.node.attrs,r=e.attrs;let i=!1;if(o.id!==r.id&&(i=!0,this.el.dataset.emojiId=r.id),o.shortName!==r.shortName&&(i=!0,this.el.dataset.emojiShortname=r.shortName),i)return this.emoji=void 0,this.node=e,this.findEmoji().then((e=>this.update(this.node,t,e))),!0;if(!this.hasProvider)return this.el.classList.add("editor-emoji-loading"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=n,!0;if(this.el.classList.remove("editor-emoji-loading"),!n)return this.el.classList.add("editor-emoji-fallback"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=n,!0;if(this.el.classList.remove("editor-emoji-fallback"),this.emoji===n)return!0;const s=null==n?void 0:n.representation;if(Hr.isSprite(s)){
const{sprite:e,xIndex:t,yIndex:n}=s,{row:o,column:r,url:i}=e,a=100/(r-1)*(t-0),l=100/(o-1)*(n-0);this.el.style.backgroundSize=`${100*r}% ${100*o}%`,this.el.style.backgroundPosition=`${a}% ${l}%`,this.el.style.backgroundImage=`url(${i})`}if(Hr.isImage(s)||Hr.isMedia(s)){const e=Hr.isImage(s)?s.imagePath:s.mediaPath,{width:t,height:n}=s,o=t/(n/20);this.el.style.width=`${o}px`,this.el.style.backgroundImage=`url(${e})`}return this.emoji=n,!0}ignoreMutation(e){return!0}}var $r=o("./node_modules/prop-types/index.js"),Wr=o.n($r);class Vr extends l.a.Component{getChildContext(){return{emoji:{emojiProvider:this.props.emojiProvider}}}render(){return this.props.children}}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?Kr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vr.displayName="EmojiContextProvider",s()(Vr,"childContextTypes",{emoji:Wr.a.object});const Yr=function(e){const t=new Map;return{call:function(n,o){const r=t.get(n.id||n.shortName);if(r)return r;const i=e(n,o);return t.set(n.id||n.shortName,i),i},clear:t.clear.bind(t)}}(((e,t)=>({title:e.shortName||"",key:e.id||e.shortName,render:({isSelected:n,onClick:o,onHover:r})=>l.a.createElement(Vr,{emojiProvider:t},l.a.createElement(Er,{emoji:e,selected:n,onMouseMove:r,onSelection:o})),emoji:e})));var Xr=e=>({name:"emoji",nodes:()=>[{name:"emoji",node:mr.a}],pmPlugins:()=>[{name:"emoji",
plugin:({providerFactory:t,dispatch:n,portalProviderAPI:o,eventDispatcher:r})=>function(e,t,n,o,r){let i,s;return new c.Plugin({key:ei,state:{init:()=>({}),apply(t,n){const{action:o,params:r}=t.getMeta(ei)||{action:null,params:null};let i=n;switch(o){case Jr:return i=qr(qr({},n),{},{emojiProvider:r.provider}),e(ei,i),i;case Zr:return i=qr(qr({},n),{},{emojis:r.results.emojis}),e(ei,i),i}return i}},props:{nodeViews:{emoji(e,i,s){const a=Object(On.b)(i.state);return((null==a?void 0:a.nextEmojiNodeView)?function(e,t){return(n,o)=>new Hr(n,o,{providerFactory:e,options:t})}(t,r):function(e,t,n,o){return(r,i,s)=>new Ur(r,i,s,e,t,{providerFactory:n,options:o}).init()}(n,o,t,r))(e,i,s)}}},view(e){const n=(t,n)=>{switch(t){case"emojiProvider":if(!n)return Qr(void 0)(e.state,e.dispatch);n.then((t=>{i&&s&&i.unsubscribe(s),i=t,Qr(t)(e.state,e.dispatch),s={result(t){Promise.resolve().then((()=>{(e=>(t,n)=>(n&&n(t.tr.setMeta(ei,{action:Zr,params:{results:e}})),!0))(t)(e.state,e.dispatch)}))}},
t.subscribe(s)})).catch((()=>Qr(void 0)(e.state,e.dispatch)))}};return t.subscribe("emojiProvider",n),{destroy(){t&&t.unsubscribe("emojiProvider",n),i&&s&&i.unsubscribe(s)}}}})}(n,t,o,r,e)},{name:"emojiAsciiInputRule",plugin:({schema:e,providerFactory:t})=>xr(e,t)}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"emoji",title:e(jn.a.emoji),description:e(jn.a.emojiDescription),priority:500,keyshortcut:":",icon:()=>l.a.createElement(sn.f,{label:e(jn.a.emoji)}),action(e,t){const n=t.schema.mark("typeAheadQuery",{trigger:":"}),o=e(t.schema.text(":",[n]));return Object(ct.a)(t,o,{action:lt.a.INVOKED,actionSubject:lt.b.TYPEAHEAD,actionSubjectId:lt.c.TYPEAHEAD_EMOJI,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.UI})}}],typeAhead:{trigger:":",customRegex:"\\(?(:)",headless:e?e.headless:void 0,getItems(e,t,n,{prevActive:o,queryChanged:r}){const i=function(e){return ei.getState(e)||{}}(t),{emojiProvider:s,emojis:a}=i,l=!o&&r?[]:a||[];return r&&s&&(Yr.clear(),
s.filter(e?`:${e}`:"",{limit:50,skinTone:s.getSelectedTone(),sort:e.length?Sr.a.Default:Sr.a.UsageFrequency})),l.map((e=>Yr.call(e,s)))},forceSelect(e,t){const n=":"+e;return!!(e=>e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1))(n)&&!!t.find((e=>e.title.toLowerCase()===n))},selectItem(t,n,o,{mode:r}){const{id:i="",fallback:s,shortName:a}=n.emoji,l=s||a,c=ei.getState(t);return c.emojiProvider&&c.emojiProvider.recordSelection&&n.emoji&&c.emojiProvider.recordSelection(n.emoji).then(Object(_r.m)(e)).catch(Object(_r.l)(e)),Object(ct.a)(t,o(t.schema.nodes.emoji.createChecked({shortName:a,id:i,text:l})),{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.EMOJI,attributes:{inputMethod:lt.e.TYPEAHEAD},eventType:lt.d.TRACK})}}}});const Jr="SET_PROVIDER",Zr="SET_RESULTS",Qr=e=>(t,n)=>(n&&n(t.tr.setMeta(ei,{action:Jr,params:{provider:e}})),!0),ei=new c.PluginKey("emojiPlugin")
;var ti=o("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),ni=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-cell.js"),oi=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js"),ri=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/tables.js"),ii=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/colspan.js");function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:o}=e;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&o>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,o--,t=t.firstChild.content,!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");const r=t.firstChild,i=r.type.spec.tableRole,{schema:s}=r.type,a=[];if("row"===i)for(let l=0;l<t.childCount;l++){let e=t.child(l).content;const r=l?0:Math.max(0,n-1),i=l<t.childCount-1?0:Math.max(0,o-1);(r||i)&&(e=di(Object(oi.a)(s).row,new Ve.Slice(e,r,i)).content),a.push(e)}else{if("cell"!==i&&"header_cell"!==i)return null;a.push(n||o?di(Object(oi.a)(s).row,new Ve.Slice(t,n,o)).content:t)}return function(e,t){const n=t,o=[];for(let i=0;i<n.length;i++){const e=n[i];for(let t=e.childCount-1;t>=0;t--){
const{rowspan:n,colspan:r}=e.child(t).attrs;for(let e=i;e<i+n;e++)o[e]=(o[e]||0)+r}}let r=0;for(let i=0;i<o.length;i++)r=Math.max(r,o[i]);for(let i=0;i<o.length;i++)if(i>=n.length&&n.push(Ve.Fragment.empty),o[i]<r){const t=Object(oi.a)(e).cell.createAndFill(),s=[];for(let e=o[i];e<r;e++)s.push(t);n[i]=n[i].append(Ve.Fragment.from(s))}return{height:n.length,width:r,rows:n}}(s,a)}function di(e,t){const n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new Ke.i(n).replace(0,n.content.size,t).doc}function ui(e,t,n,o,r,i,s,a){if(0===s||s===t.height)return!1;let l=!1;for(let c=r;c<i;c++){const r=s*t.width+c,i=t.map[r];if(t.map[r-t.width]===i){l=!0;const r=n.nodeAt(i);if(!r)throw new Error(`isolateHorizontal: no cell found at pos ${i}`);const{top:d,left:u}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(a).map(i+o),void 0,ai(ai({},r.attrs),{},{rowspan:s-d}));const p=r.type.createAndFill(ai(ai({},r.attrs),{},{rowspan:d+r.attrs.rowspan-s}))
;if(!p)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(a).map(t.positionAt(s,u,n)),p),c+=r.attrs.colspan-1}}return l}function pi(e,t,n,o,r,i,s,a){if(0===s||s===t.width)return!1;let l=!1;for(let c=r;c<i;c++){const r=c*t.width+s,i=t.map[r];if(t.map[r-1]===i){l=!0;const r=n.nodeAt(i);if(!r)throw new Error(`isolateVertical: could not find cell at pos ${i}`);const d=t.colCount(i),u=e.mapping.slice(a).map(i+o);e.setNodeMarkup(u,void 0,Object(ii.c)(r.attrs,s-d,r.attrs.colspan-(s-d)));const p=r.type.createAndFill(Object(ii.c)(r.attrs,0,s-d));if(!p)throw new Error("isolateVertical: failed to create cell");e.insert(u+r.nodeSize,p),c+=r.attrs.rowspan-1}}return l}function hi(e,t,n,o,r){let i=e.doc;if(n&&(i=e.doc.nodeAt(n-1),!i))throw new Error("insertCells: could not find table at pos "+(n-1));let s=ti.b.get(i);const{top:a,left:l}=o,c=l+r.width,d=a+r.height,{tr:u}=e;let p=0;function h(){i=n?u.doc.nodeAt(n-1):u.doc,s=ti.b.get(i),p=u.mapping.maps.length}
(function(e,t,n,o,r,i,s){const{schema:a}=e.doc.type,l=Object(oi.a)(a);let c,d;if(r>t.width)for(let u=0,p=0;u<t.height;u++){const i=n.child(u);p+=i.nodeSize;const a=[];let h;h=null==i.lastChild||i.lastChild.type===l.cell?c||(c=l.cell.createAndFill()):d||(d=l.header_cell.createAndFill());for(let e=t.width;e<r;e++)a.push(h);e.insert(e.mapping.slice(s).map(p-1+o),a)}if(i>t.height){const a=[];for(let e=0,o=(t.height-1)*t.width;e<Math.max(t.width,r);e++){let r;if(e>=t.width)r=!1;else{const i=t.map[o+e],s=n.nodeAt(i);if(!s)throw new Error(`growTable: no node found at pos ${i}`);r=s.type===l.header_cell}a.push(r?d||(d=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const u=l.row.create(null,Ve.Fragment.from(a)),p=[];for(let e=t.height;e<i;e++)p.push(u);e.insert(e.mapping.slice(s).map(o+n.nodeSize-2),p)}return!(!c&&!d)})(u,s,i,n,c,d,p)&&h(),ui(u,s,i,n,l,c,a,p)&&h(),ui(u,s,i,n,l,c,d,p)&&h(),pi(u,s,i,n,a,d,l,p)&&h(),pi(u,s,i,n,a,d,c,p)&&h();for(let m=a;m<d;m++){
const e=s.positionAt(m,l,i),t=s.positionAt(m,c,i);u.replace(u.mapping.slice(p).map(e+n),u.mapping.slice(p).map(t+n),new Ve.Slice(r.rows[m-a],0,0))}h(),u.setSelection(new q.a(u.doc.resolve(n+s.positionAt(a,l,i)),u.doc.resolve(n+s.positionAt(d-1,c-1,i)))),t(u)}function mi(e,t,n){if(!Object(ri.b)(e.state))return!1;let o=ci(n);const r=e.state.selection;if(r instanceof q.a){o||(o={width:1,height:1,rows:[Ve.Fragment.from(di(Object(oi.a)(e.state.schema).cell,n))]});const t=r.$anchorCell.node(-1),i=r.$anchorCell.start(-1),s=ti.b.get(t).rectBetween(r.$anchorCell.pos-i,r.$headCell.pos-i);return o=function({width:e,height:t,rows:n},o,r){let i=n,s=e,a=t;if(s!==o){const e=[],t=[];for(let n=0;n<i.length;n++){const r=i[n],s=[];for(let t=e[n]||0,i=0;t<o;i++){let a=r.child(i%r.childCount);t+a.attrs.colspan>o&&(a=a.type.create(Object(ii.c)(a.attrs,a.attrs.colspan,t+a.attrs.colspan-o),a.content)),s.push(a),t+=a.attrs.colspan;for(let t=1;t<a.attrs.rowspan;t++)e[n+t]=(e[n+t]||0)+a.attrs.colspan}
t.push(Ve.Fragment.from(s))}i=t,s=o}if(a!==r){const e=[];for(let t=0,n=0;t<r;t++,n++){const o=[],s=i[n%a];for(let e=0;e<s.childCount;e++){let n=s.child(e);t+n.attrs.rowspan>r&&(n=n.type.create(ai(ai({},n.attrs),{},{rowspan:Math.max(1,r-n.attrs.rowspan)}),n.content)),o.push(n)}e.push(Ve.Fragment.from(o))}i=e,a=r}return{width:s,height:a,rows:i}}(o,s.right-s.left,s.bottom-s.top),hi(e.state,e.dispatch,i,s,o),!0}if(o){const t=Object(ni.a)(r);if(!t)throw new Error("handlePaste: no cell found");const n=t.start(-1);return hi(e.state,e.dispatch,n,ti.b.get(t.node(-1)).findCell(t.pos-n),o),!0}return!1}function fi(e){if(!(e.selection instanceof q.a))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(Tn.a.node(n,n+e.nodeSize,{class:"selectedCell"}))})),Tn.b.create(e.doc,t)}const bi=new c.PluginKey("selectingCells"),gi=new c.PluginKey("fix-tables");function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ji(e,t,n,o){let r=n;const i=e.childCount,s=t.childCount;e:for(let a=0,l=0;a<s;a++){const n=t.child(a);for(let t=l,o=Math.min(i,a+3);t<o;t++)if(e.child(t)===n){l=t+1,r+=n.nodeSize;continue e}o(n,r),l<i&&e.child(l).sameMarkup(n)?ji(e.child(l),n,r+1,o):n.nodesBetween(0,n.content.size,o,r+1),r+=n.nodeSize}}function wi(e,t){let n;const o=(t,o)=>{"table"===t.type.spec.tableRole&&(n=function(e,t,n,o){
let r=o;const i=ti.b.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const e=i.problems[c];if(e.type===ti.c.COLLISION){const o=e,i=t.nodeAt(e.pos);if(!i)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`);for(let e=0;e<i.attrs.rowspan;e++)s[o.row+e]+=o.n;r.setNodeMarkup(r.mapping.map(n+1+e.pos),void 0,Object(ii.c)(i.attrs,i.attrs.colspan-o.n,o.n))}else if(e.type===ti.c.MISSING){const t=e;s[t.row]+=t.n}else if(e.type===ti.c.OVERLONG_ROWSPAN){const o=e,i=t.nodeAt(o.pos);if(!i)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`);r.setNodeMarkup(r.mapping.map(n+1+o.pos),void 0,vi(vi({},i.attrs),{},{rowspan:i.attrs.rowspan-o.n}))}else if(e.type===ti.c.COLWIDTH_MISMATCH){const o=t.nodeAt(e.pos);if(!o)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`);r.setNodeMarkup(r.mapping.map(n+1+e.pos),void 0,vi(vi({},o.attrs),{},{colwidth:e.colwidth}))}}let a,l
;for(let c=0;c<s.length;c++)s[c]&&(null==a&&(a=c),l=c);for(let c=0,d=n+1;c<i.height;c++){const n=t.child(c),o=d+n.nodeSize,i=s[c];if(i>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const s=[];for(let n=0;n<i;n++)s.push(Object(oi.a)(e.schema)[t].createAndFill());const u=0!==c&&a!==c-1||l!==c?o-1:d+1;r.insert(r.mapping.map(u),s)}d=o}return r.setMeta(gi,{fixTables:!0})}(e,t,o,n))};return t?t.doc!==e.doc&&ji(t.doc,e.doc,0,o):e.doc.descendants(o),n}var ki=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/cells.js");const Ei=Object(Xt.a)({ArrowLeft:_i("horiz",-1),ArrowRight:_i("horiz",1),ArrowUp:_i("vert",-1),ArrowDown:_i("vert",1),"Shift-ArrowLeft":Ci("horiz",-1),"Shift-ArrowRight":Ci("horiz",1),"Shift-ArrowUp":Ci("vert",-1),"Shift-ArrowDown":Ci("vert",1),Backspace:xi,"Mod-Backspace":xi,Delete:xi,"Mod-Delete":xi});function Si(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function _i(e,t){return(n,o,r)=>{if(o){
const i=n.selection;if(i instanceof q.a)return Si(n,o,c.Selection.near(i.$headCell,t));if("horiz"!==e&&!i.empty)return!1;const s=r?Ai(r,e,t):null;if(null===s)return!1;if("horiz"===e)return Si(n,o,c.Selection.near(n.doc.resolve(i.head+t),t));const a=n.doc.resolve(s),l=Object(ki.c)(a,e,t);let d;return d=l?c.Selection.near(l,1):t<0?c.Selection.near(n.doc.resolve(a.before(-1)),-1):c.Selection.near(n.doc.resolve(a.after(-1)),1),Si(n,o,d)}return!0}}function Ci(e,t){return(n,o,r)=>{let i=n.selection;if(!(i instanceof q.a)){const o=r?Ai(r,e,t):null;if(null===o)return!1;i=new q.a(n.doc.resolve(o))}const s=Object(ki.c)(i.$headCell,e,t);return!!s&&(!o||Si(n,o,new q.a(i.$anchorCell,s)))}}function xi(e,t){const n=e.selection;if(!(n instanceof q.a))return!1;if(t){const{tr:o}=e,r=Object(oi.a)(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(r)||o.replace(o.mapping.map(t+1),o.mapping.map(t+e.nodeSize-1),new Ve.Slice(r,0,0))})),o.docChanged&&t(o)}return!0}function Ti(e,t){
const{doc:n}=e.state,o=Object(ki.a)(n.resolve(t));return!!o&&(e.dispatch(e.state.tr.setSelection(new q.a(o))),!0)}function Pi(e,t){const n=t;if(n.ctrlKey||n.metaKey)return!1;const o=Ii(e,n.target),r=Object(ki.a)(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof q.a)i(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&o&&null!==r&&Mi(e,n).pos!==r.pos)i(r,n),n.preventDefault();else if(!o)return!1;function i(t,n){let o=Mi(e,n);const r=null==bi.getState(e.state);if(!o||!Object(ri.a)(t,o)){if(!r)return!1;o=t}const i=new q.a(t,o);if(r||!e.state.selection.eq(i)){const n=e.state.tr.setSelection(i);r&&n.setMeta(bi,t.pos),e.dispatch(n)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",a),null!=bi.getState(e.state)&&e.dispatch(e.state.tr.setMeta(bi,-1))}function a(t){const r=bi.getState(e.state);let a
;if(null!=r)a=e.state.doc.resolve(r);else if(Ii(e,t.target)!==o&&(a=Mi(e,n),!a))return void s();a&&i(a,t)}return e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",a),!1}function Ai(e,t,n){if(!(e.state.selection instanceof c.TextSelection))return null;const{$head:o}=e.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){const i=o.before(r),s="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?i:null}}return null}function Ii(e,t){let n=t;for(;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function Mi(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?Object(ki.a)(e.state.doc.resolve(n.pos)):null}function Di({allowTableNodeSelection:e=!1}={}){return new c.Plugin({key:bi,state:{init:()=>null,
apply(e,t){const n=e.getMeta(bi);if(null!=n)return-1===n?null:n;if(null==t||!e.docChanged)return t;const{deleted:o,pos:r}=e.mapping.mapResult(t);return o?null:r}},props:{decorations:fi,handleDOMEvents:{mousedown:Pi},createSelectionBetween:e=>null!=bi.getState(e.state)?e.state.selection:null,handleTripleClick:Ti,handleKeyDown:Ei,handlePaste:mi},appendTransaction:(t,n,o)=>function(e,t,n){let o=t;const r=(o||e).selection,{doc:i}=o||e;let s,a;if(r instanceof c.NodeSelection&&(a=r.node.type.spec.tableRole),r instanceof c.NodeSelection&&a){if("cell"===a||"header_cell"===a)s=q.a.create(i,r.from);else if("row"===a){const e=i.resolve(r.from+1);s=q.a.rowSelection(e,e)}else if(!n){const e=ti.b.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];s=q.a.create(i,t+1,n)}}else r instanceof c.TextSelection&&function({$from:e,$to:t}){if(e.pos===t.pos||e.pos<e.pos-6)return!1;let n=e.pos,o=t.pos,{depth:r}=e;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);
for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,o--);return n===o&&/row|table/.test(e.node(r).type.spec.tableRole)}(r)?s=c.TextSelection.create(i,r.from):r instanceof c.TextSelection&&function({$from:e,$to:t}){let n,o;for(let r=e.depth;r>0;r--){const t=e.node(r);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let r=t.depth;r>0;r--){const e=t.node(r);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){o=e;break}}return n!==o&&0===t.parentOffset}(r)&&(s=c.TextSelection.create(i,r.$from.start(),r.$from.end()));return s&&(o||(o=e.tr)).setSelection(s),o}(o,wi(o,n),e)})}var Ni=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/create-table.js"),Ri=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/tableNodes.js");function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fi=(e={})=>e.advanced?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},e):e
;var zi=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/plugin-factory.js"),Ui=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),Hi=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js"),$i=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-selection-rect.js"),Wi=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-cells-in-row.js");const Vi=(e,t)=>t.find(void 0,void 0,(t=>t.key.indexOf(e)>-1)),Ki=e=>Vi(Hi.c.COLUMN_SELECTED,e),qi=e=>Vi(Hi.c.ALL_CONTROLS_HOVER,e),Gi=(e,t,n)=>e.map((e=>{const o=[Hi.b.HOVERED_CELL];let r;switch(n&&o.push(Hi.b.HOVERED_CELL_IN_DANGER),o.push("column"===t?Hi.b.HOVERED_COLUMN:"row"===t?Hi.b.HOVERED_ROW:Hi.b.HOVERED_TABLE),t){case"row":r=Hi.c.ROW_CONTROLS_HOVER;break;case"column":r=Hi.c.COLUMN_CONTROLS_HOVER;break;default:r=Hi.c.TABLE_CONTROLS_HOVER}return Tn.a.node(e.pos,e.pos+e.node.nodeSize,{class:o.join(" ")},{key:r})})),Yi=e=>{
const{selection:t,doc:n}=e,o=Object(Ui.c)(t),r=Object($i.a)(t);if(!o||!r)return[];return ti.b.get(o.node).cellsInRect(r).map(((e,t)=>{const r=n.nodeAt(e+o.start);return Tn.a.node(e+o.start,e+o.start+r.nodeSize,{class:Hi.b.COLUMN_SELECTED},{key:`${Hi.c.COLUMN_SELECTED}_${t}`})}))},Xi=e=>{const t=Object(Wi.a)(0)(e)||[];let n=0;return t.map((e=>{const t=e.node.attrs.colspan||1,o=document.createElement("div");return o.classList.add(Hi.b.COLUMN_CONTROLS_DECORATIONS),o.dataset.startIndex=`${n}`,n+=t,o.dataset.endIndex=`${n}`,Tn.a.widget(e.pos+1,o,{key:`${Hi.c.COLUMN_CONTROLS_DECORATIONS}_${n}`,side:-100})}))},Ji=(e,t,n,o)=>{const r=Vi(o,t);return t.remove(r).add(e,n)},Zi=(e,t)=>{const n=Object(Ui.c)(e);if(!n||null===t.right)return[];const o=t.right-1,r=ti.b.get(n.node);return(e=>Array.from(Array(e).keys()))(r.height).map((e=>r.map[r.width*e+o])).filter(((e,t)=>{if(o===r.width)return!0;return e!==r.map[r.width*t+o+1]})).map((e=>({pos:e+n.start,node:n.node.nodeAt(e)}))).map(((e,n)=>{
if(e&&e.node)return Tn.a.node(e.pos,e.pos+e.node.nodeSize,{class:Hi.b.WITH_RESIZE_LINE},{key:`${Hi.c.COLUMN_RESIZING_HANDLE_LINE}_${t.right}_${n}`})})).filter(ho.t)},Qi=e=>({decorationSet:t,tr:n})=>e.reduce(((e,t)=>t({decorationSet:e,tr:n})),t),es=({decorationSet:e})=>e.remove(qi(e)),ts=({decorationSet:e,tr:t})=>(e=>e.selection instanceof q.a&&e.selection.isColSelection())(t)?Ji(t.doc,e,Yi(t),Hi.c.COLUMN_SELECTED):e,ns=({decorationSet:e,tr:t})=>Object(Ui.c)(t.selection)?Ji(t.doc,e,Xi(t.selection),Hi.c.COLUMN_CONTROLS_DECORATIONS):e,os=({decorationSet:e})=>e.remove(Ki(e)),rs=({decorationSet:e,tr:t})=>(e=>!!Ki(e).length)(e)?os({decorationSet:e,tr:t}):e,is=new c.PluginKey("tableDecorationsPlugin"),ss=e=>is.getState(e),as=(e,t,n)=>{if(e.docChanged||e.selection instanceof q.a)return(({decorationSet:e,tr:t})=>Qi([os,es,ts,ns])({decorationSet:Tn.b.empty,tr:t}))({decorationSet:t,tr:e});if(e.selectionSet){
if(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||n.selection instanceof q.a)return rs({decorationSet:t,tr:e})}return t};var ls=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/commands/insert.js");var cs=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/table-events.js"),ds=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selection-type.js"),us=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/clone-tr.js");const ps=(e,t)=>n=>{if(e){const o=Object(oi.a)(t).cell.createAndFill();if(o&&!e.node.content.eq(o.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,o.content),Object(us.a)(n)}return n},hs=e=>{const{$from:t}=e.selection;for(let n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return Object(us.a)(e.delete(t.before(n),t.after(n)))}return e}
;var ms=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selected.js"),fs=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/set-cell-attrs.js");const bs=e=>t=>{const n=Object(Ui.c)(t);if(!n)return;const o=ti.b.get(n.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=o.width-1)).reduce(((e,t)=>{const r=o.cellsInRect({left:t,right:t+1,top:0,bottom:o.height});return e.concat(r.map((e=>{const t=n.node.nodeAt(e),o=e+n.start;return{pos:o,start:o+1,node:t,depth:n.depth+2}})))}),[])},gs=e=>(t,n)=>o=>{const r=Object(Ui.c)(o.selection),i="row"===e;if(r){const e=ti.b.get(r.node);if(t>=0&&t<(i?e.height:e.width)){let s=i?0:t,a=i?t:0,l=i?e.width:t+1,c=i?t+1:e.height;if(n){const t=Object(Ui.a)(o.selection.$from);if(!t)return o;const n=e.findCell(t.pos-r.start);i?(a=Math.min(a,n.top),c=Math.max(c,n.bottom)):(s=Math.min(s,n.left),l=Math.max(l,n.right))}const d=e.cellsInRect({left:s,top:a,right:i?l:s+1,bottom:i?a+1:c}),u=c-a==1?d:e.cellsInRect({left:i?s:l-1,top:i?c-1:a,
right:l,bottom:c}),p=r.start+d[0],h=r.start+u[u.length-1],m=o.doc.resolve(p),f=o.doc.resolve(h);return Object(us.a)(o.setSelection(new q.a(f,m)))}}return o},ys=gs("column"),vs=gs("row");var Os=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js");const js=[[],[]],ws=e=>({decorationSet:t,tr:n})=>Ji(n.doc,t,e,Hi.c.COLUMN_RESIZING_HANDLE),ks=e=>({decorationSet:t,tr:n})=>Ji(n.doc,t,e,Hi.c.LAST_CELL_ELEMENT),Es=e=>({tr:t,decorationSet:n})=>{const[o,r]=e<0?js:((e,t)=>{const n=[[],[]],o=Object(Ui.c)(e.selection);if(!o||!o.node)return n;const r=ti.b.get(o.node);if(!r.width)return n;const i=(e,t,n,o,r)=>{const i=document.createElement("div");i.classList.add(Hi.b.RESIZE_HANDLE_DECORATION),i.dataset.startIndex=`${e.left}`,i.dataset.endIndex=`${e.right}`;const s=o+r.nodeSize-1;return Tn.a.widget(s,i,{key:`${Hi.c.COLUMN_RESIZING_HANDLE}_${n}_${t}`})},s=(e,t,n)=>{let o;return n.forEach(((e,r,i)=>{if(i===n.childCount-1){const n=r+t+1;o={from:n,to:n+e.nodeSize}}})),
o?Tn.a.node(o.from,o.to,{class:Hi.b.LAST_ITEM_IN_CELL},{key:`${Hi.c.LAST_CELL_ELEMENT}_${e.left}_${e.right}`}):null},a=[],l=[];for(let c=0;c<r.height;c++){const n={};for(let d=0;d<r.width;d++){const u=r.map[r.width*c+d];if(n[u])continue;n[u]=!0;const p=o.start+u,h=e.doc.nodeAt(p);if(!h)continue;const m=d,f=(h.attrs.colspan||1)+m;if(f!==t.right)continue;const b=i({left:m,right:f},d,c,p,h),g=s({left:m,right:f},p,h);a.push(b),l.push(g)}}return[a,l.filter(ho.t)]})(t,{right:e});return Qi([ws(o),ks(r)])({decorationSet:n,tr:t})};var Ss=o("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/table.js");var _s=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/BaseTheme/index.js"),Cs=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/WidthProvider/index.js");const xs={default:Le.f,wide:Le.W,"full-width":Le.p};function Ts(e,t=0,n){const{dynamicTextSizing:o,isFullWidthModeEnabled:r}=n;if(r)return t?Math.min(t-2*Le.r,Le.p):Le.p;const i=Object(Ss.b)(e,t,!0)
;return i.endsWith("px")?parseInt(i,10):o&&"default"===e?function(e){return Object(_s.b)(Object(Cs.c)(e))}(t):xs[e]||t}function Ps(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}const As=e=>e?parseInt(e,10):0;function Is(e,t,n=[],o=document.createElement("canvas")){return function(e,t,n,o){const r=[];let i=0;for(let s=0;s<e.childNodes.length;s++){const a=e.childNodes[s];if(a.nodeType!==Node.COMMENT_NODE)if(a.nodeType===Node.TEXT_NODE){const e=a.parentNode,s=getComputedStyle(e);let l=0;l="CODE"===e.nodeName||"PRE"===e.nodeName?Ds(n,e,a.textContent,s.font):Ms(n,a.textContent,s.font);const c=e.offsetLeft-t.offsetLeft;r.push(i),i+=l+c,"nowrap"===s.whiteSpace&&o.push(e.offsetWidth+3)}else{const e=getComputedStyle(a);e.minWidth&&e.minWidth.endsWith("px")&&"0px"!==e.minWidth&&o.push(As(e.minWidth));const{width:s}=Is(a,t,o,n);e.display&&e.display.indexOf("inline")>-1?i+=s:(r.push(i),i=s)}}return r.push(i),{minWidth:o.reduce(((e,t)=>Math.max(t,e)),0),
width:r.reduce(((e,t)=>Math.max(t,e)),0)}}(e,t||e,o,n)}function Ms(e,t,n){const o=e.getContext("2d");return o?(n&&(o.font=n),Math.round(o.measureText(t||"").width)):0}function Ds(e,t,n,o){let r=t;"CODE"===t.nodeName&&(r=t.parentNode);const i=getComputedStyle(r);return n&&"pre"===i.whiteSpace?n.split("\n").reduce(((t,n)=>Math.max(Ms(e,n,o),t)),0):Ms(e,n,o)}const Ns=(e,t,n)=>{const o=Bs(e,Fs),r=o<n?Ss.i:Bs(e,function(e){return(t,n,o)=>{if(o&&o>1)return As(t.width);const{minWidth:r}=Is(n,n);return Math.max(((e,t)=>e+As(t.paddingLeft)+As(t.paddingRight))(r,t),r,e)}}(n));return{index:t,width:o<n?Ss.i:o,minWidth:r}},Rs=e=>Math.max(e.width-e.minWidth,0),Ls=(e,t,n,o)=>{const r=ti.b.get(t),i=r.cellsInRect({left:e,right:e+1,top:0,bottom:r.height}),s=[];return i.forEach((e=>{const t=Object(b.findDomRefAtPos)(e+n,o);t&&s.push(t)})),s},Bs=(e,t)=>{let n=0,o=0;return e.forEach((e=>{const r=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)o=t(r,e,i);else if(r){const o=t(r,e,i)
;n=Math.max(o,n)}})),n||o};function Fs(e){return As(e.width)}function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $s=(e={})=>(e=>fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)}))({events:[{
name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]}),Ws=e=>{let t=!1;if(e.doc.descendants(((n,o)=>{"table"===n.type.name&&(t=((e,t,n)=>{let o=!1;return n=qs(n,e,t,(e=>{const{colwidth:t,colspan:n}=e.attrs;return t&&t.length>n?(o=!0,e.type.createChecked(Us(Us({},e.attrs),{},{colwidth:t.slice(0,n)}),e.content,e.marks)):e})),!!o&&($s({message:"removeExtraneousColumnWidths"}),!0)})(n,e.mapping.map(o),e))})),t)return e},Vs=(e,t,n,o,r)=>{let{tr:i}=e.state;const s=function(e,t,n,o){const r=o.querySelector("tr");if(!r)return[];let i=[];for(let s=0;s<r.childElementCount;s++){const a=r.children[s],l=Number(a.getAttribute("colspan")||1);for(let r=0;r<l;r++){const a=s+r,l=Ls(a,t,n,e),c=Bs(l,((e,t)=>Is(t,o).width));i[a]=Math.max(c,Ss.d)}}return i}(e.domAtPos.bind(e),t,o+1,n),a=s.reduce(((e,t)=>e+t),0),l=Ks(a),c=Ts(l,r.containerWidth,{dynamicTextSizing:r.dynamicTextSizing});let d=1;a!==c&&(d=c/a)
;const u=s.map((e=>Math.floor(e*d)));return i=qs(i,t,o,((e,t,n)=>{const o=u.slice(n,n+e.attrs.colspan);return e.type.createChecked(Us(Us({},e.attrs),{},{colwidth:o.length?o:null}),e.content,e.marks)})),i.setNodeMarkup(o,void 0,Us(Us({},t.attrs),{},{layout:l,__autoSize:!1})).setMeta("addToHistory",!1)},Ks=e=>e>Le.W?"full-width":e>Le.f&&e<Le.W?"wide":"default";const qs=(e,t,n,o)=>{const r=[];let i=0;for(let s=0;s<t.childCount;s++){const e=t.child(s),n=[];for(let t=0;t<e.childCount;t++){const r=e.child(t),a=o(r,s,t);!1===a.sameMarkup(r)&&i++,n.push(a)}n.length&&r.push(e.type.createChecked(e.attrs,n,e.marks))}if(r.length&&0!==i){const o=t.type.createChecked(t.attrs,r,t.marks);return e.replaceWith(n,n+t.nodeSize,o)}return e};var Gs=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/nodes.js");const Ys=(e,t,n)=>Ji(e.doc,ss(e),t,n);function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qs=e=>Object(zi.a)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}}),ea=(e,t)=>(t&&t(hs(e.tr)),!0),ta=(e,t)=>!!Object(ms.c)(e.selection)&&ea(e,t),na=(e,t)=>{const{$cursor:n}=e.selection;if(!n||n.parentOffset>0)return!1;let o,r;if(!Object(Gs.f)(n.parent))for(let c=n.depth-1;!o&&c>=0&&(n.index(c)>0&&(r=n.before(c+1),o=n.node(c).child(n.index(c)-1)),!Object(Gs.f)(n.node(c)));c--);if(!o||o.type!==e.schema.nodes.table)return!1
;const i=n.node(n.depth-1),{listItem:s}=e.schema.nodes;if(n.parent.type!==e.schema.nodes.paragraph||i&&i.type!==e.schema.nodes.doc)return!(!i||i.type!==s)&&Object(cn.e)()(e,t);const{tr:a}=e,l=(r||0)-4;a.setSelection(new c.TextSelection(e.doc.resolve(l)));const{$from:d}=a.selection,u=d.start(-1)+d.parent.nodeSize-1;return t&&t(a.setSelection(new c.TextSelection(e.doc.resolve(u)))),!0},oa=e=>Object(zi.a)((t=>e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))),ra=()=>Object(zi.a)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(e=>e.setMeta("addToHistory",!1))),ia=(e,t)=>Object(zi.a)({type:"SET_TABLE_SIZE",data:{tableHeight:e,tableWidth:t}},(e=>e.setMeta("addToHistory",!1))),sa=(e,t)=>{const n=[],o=ti.b.get(e);for(let r=0;r<o.height;r++){const i=e.child(r),s=[];for(let n=0;n<o.width;n++){if(!t[r][n])continue;const i=o.map[r*o.width+n],a=t[r][n],l=e.nodeAt(i);if(!a||!l)continue
;const c=l.type.createChecked(Object.assign({},a.attrs),a.content,a.marks);s.push(c)}n.push(i.type.createChecked(i.attrs,s,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},aa=e=>{const t=ti.b.get(e),n=[];for(let o=0;o<t.height;o++){const r=[],i={};for(let n=0;n<t.width;n++){const s=t.map[o*t.width+n],a=e.nodeAt(s),l=t.findCell(s);a&&!i[s]&&l.top===o?(i[s]=!0,r.push(a)):r.push(null)}n.push(r)}return n};var la=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/compareNodes.js"),ca=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/plugin-key.js"),da=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/sort-step.js");function ua(e){const t=ca.a.getState(e);return t?e=>{const{url:n}=e;if(n){const e=t.cards.find((({url:e})=>e===n));if(e&&e.title)return e.title}return null}:()=>null}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e){return(t,n)=>{let o,r,i=t.selection;if(i instanceof q.a){if(i.$anchorCell.pos!==i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,r=i.$anchorCell.pos}else{if(o=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from),!o)return!1;const e=Object(ki.a)(i.$from);r=e&&e.pos}if(o&&1===o.attrs.colspan&&1===o.attrs.rowspan)return!1
;if(o&&n){let s=o.attrs,a=[],l=s.colwidth;s.rowspan&&s.rowspan>1&&(s=ha(ha({},s),{},{rowspan:1})),s.colspan&&s.colspan>1&&(s=ha(ha({},s),{},{colspan:1}));let c=Object(Pn.a)(t),d=t.tr;for(let e=0;e<c.right-c.left;e++)a.push(l?ha(ha({},s),{},{colwidth:l&&l[e]?[l[e]]:null}):s);let u=null;for(let t=c.top;t<c.bottom;t++){let n=c.map.positionAt(t,c.left,c.table);t===c.top&&(n+=o.nodeSize);for(let r=c.left,i=0;r<c.right;r++,i++){if(r===c.left&&t===c.top)continue;const s=e({node:o,row:t,col:r}).createAndFill(a[i]);s&&d.insert(u=d.mapping.map(n+c.tableStart,1),s)}}"number"==typeof r&&d.setNodeMarkup(r,e({node:o,row:c.top,col:c.left}),a[0]);const p=u&&d.doc.resolve(u);i instanceof q.a&&p instanceof Ve.ResolvedPos&&d.setSelection(new q.a(d.doc.resolve(i.$anchorCell.pos),p)),n(d)}return!0}}const ba=(e,t)=>{const n=Object(zi.c)(e),{tableHeader:o,tableCell:r}=e.schema.nodes;return!t||fa((({row:e,col:t})=>0===e&&n.isHeaderRowEnabled||0===t&&n.isHeaderColumnEnabled?o:r))(e,t)};function ga(e,t,n){
const o=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,bottom:"column"===e?t.map.height:1});for(let r=0;r<o.length;r++){const e=t.table.nodeAt(o[r]);if(e&&e.type!==n.header_cell)return!1}return!0}function ya(e){return function(t,n){if(!Object(ri.b)(t))return!1;if(n){let o=Object(oi.a)(t.schema),r=Object(Pn.a)(t),i=t.tr,s=ga("row",r,o),a=ga("column",r,o),l=("column"===e?s:"row"===e&&a)?1:0;const c="column"===e?new ti.a(0,l,1,r.map.height):"row"===e?new ti.a(l,0,r.map.width,1):r;let d;d="column"===e?a?o.cell:o.header_cell:"row"===e?s?o.cell:o.header_cell:o.cell,r.map.cellsInRect(c).forEach((e=>{const t=e+r.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,d,n.attrs)})),n(i)}return!0}}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){ja(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wa=e=>{switch(e){case"default":return"wide";case"wide":return"full-width";case"full-width":default:return"default"}},ka=(e,t)=>ya("row")(e,(n=>Object(zi.a)({type:"TOGGLE_HEADER_ROW"},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),Ea=(e,t)=>ya("column")(e,(n=>Object(zi.a)({type:"TOGGLE_HEADER_COLUMN"},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),Sa=(e,t)=>{const{tr:n}=e,{node:o,pos:r}=Object(Ui.c)(e.selection);return n.setNodeMarkup(r,e.schema.nodes.table,Oa(Oa({},o.attrs),{},{isNumberColumnEnabled:!o.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),
t&&t(n),!0},_a=(e,t)=>{const n=Object(Ui.c)(e.selection);if(!n)return!1;const o=wa(n.node.attrs.layout);return Object(zi.a)({type:"SET_TABLE_LAYOUT",data:{layout:o}},(t=>(t.setNodeMarkup(n.pos,e.schema.nodes.table,Oa(Oa({},n.node.attrs),{},{layout:o})),t.setMeta("scrollIntoView",!1))))(e,t)},Ca=()=>Object(zi.a)({type:"TOGGLE_CONTEXTUAL_MENU"},(e=>e.setMeta("addToHistory",!1))),xa=e=>t=>("problem"in e&&$s(e),t.setMeta(zi.d,e));function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){Aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ia(e){const{selection:t}=e;if(!(t instanceof q.a)||t.$anchorCell.pos===t.$headCell.pos)return!1;const n=Object($i.a)(t);if(!n)return!1;const o=t.$anchorCell.node(-1);return!function({width:e,height:t,map:n},o){let r=o.top*e+o.left,i=r,s=(o.bottom-1)*e+o.left,a=r+(o.right-o.left-1);for(let l=o.top;l<o.bottom;l++){if(o.left>0&&n[i]===n[i-1]||o.right<e&&n[a]===n[a+1])return!0;i+=e,a+=e}for(let l=o.left;l<o.right;l++){if(o.top>0&&n[r]===n[r-e]||o.bottom<t&&n[s]===n[s+e])return!0;r++,s++}return!1}(ti.b.get(o),n)}function Ma(e){const{content:t}=e;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function Da(e,t,n=1){const o=Pa(Pa({},e),{},{colspan:(e.colspan||1)+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}function Na(e){const t=ti.b.get(e),n=function(e){
const t=ti.b.get(e),n=[];for(let o=t.width-1;o>=0;o--){const r=t.cellsInRect({left:o,right:o+1,top:0,bottom:t.height});if(r.length){const t=r.map((t=>{const n=e.nodeAt(t);if(n)return n.attrs.colspan})),i=Math.min(...t);n[o+1]?n[o]=1:n[o]=i}}return n}(e);if(!n.some((e=>e>1)))return e;const o=[];for(let r=0;r<t.height;r++){const i={},s=Object.keys(n).map(Number);for(let o in s){const a=s[o],l=t.map[a+r*t.width],c=t.findCell(l),d=i[c.left]||e.nodeAt(l);if(d&&c.top===r)if(n[a]>1){const e=d.attrs.colspan-n[a]+1;if(e<1)return null;const{colwidth:t}=d.attrs,o=d.type.createChecked(Pa(Pa({},d.attrs),{},{colspan:e,colwidth:t?t.slice(0,e):null}),d.content,d.marks);i[c.left]=o}else i[c.left]=d}const a=Object.keys(i).map((e=>i[e])),l=e.child(r);l&&o.push(l.type.createChecked(l.attrs,a,l.marks))}return o.length?e.type.createChecked(e.attrs,o,e.marks):null}function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){Ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fa=(e,t=!1)=>n=>{const o=Object(Ui.c)(n.selection);if(!o)return n;const r=[],i=ti.b.get(o.node);for(let c=e.top;c<e.bottom;c++)if(t){const e=o.node.nodeAt(i.map[c*i.width]);e&&e.type!==e.type.schema.nodes.tableHeader&&r.push(c)}else r.push(c);if(!r.length)return n;const s=[],a={},l={};for(let e=0;e<i.height;e++){const t=[],n=o.node.child(e);for(let s=0;s<i.width;s++){const n=i.map[e*i.width+s],c=o.node.nodeAt(n);if(!c)continue
;const d=i.cellsInRect({left:0,top:e,right:i.width,bottom:e+1});if(-1!==r.indexOf(e)||a[n])d.indexOf(n)>-1&&(l[n]=!0);else{if(d.indexOf(n)>-1){let o=0;if(r.forEach((t=>{e<t&&c.attrs.rowspan+e-1>=t&&(o+=1)})),o>0){const e=c.type.createChecked(La(La({},c.attrs),{},{rowspan:c.attrs.rowspan-o}),c.content,c.marks);t.push(e),a[n]=!0;continue}}else if(l[n]){const e=La(La({},c.attrs),{},{colspan:1,rowspan:1});if(c.attrs.colwidth){const t=s>0?s-i.colCount(n):0;e.colwidth=c.attrs.colwidth.slice().splice(t,1)}const o=c.type.createChecked(e,c.type.schema.nodes.paragraph.createChecked(),c.marks);t.push(o);continue}a[n]||(a[n]=!0,t.push(c))}}t.length&&s.push(n.type.createChecked(n.attrs,t,n.marks))}if(!s.length)return xa({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);const d=o.node.type.createChecked(o.node.attrs,s,o.node.marks),u=Na(d);if(null===u)return xa({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);const p=function(e,t){const n=Math.min(...t),o=n>0?n-1:0,r=ti.b.get(e)
;return r.map[o*r.width]}(d,r);return xa({type:"DELETE_ROWS"})(n.replaceWith(o.pos,o.pos+o.node.nodeSize,u).setSelection(c.Selection.near(n.doc.resolve(o.pos+p))))};var za=o("./node_modules/@atlaskit/adf-schema/dist/es2019/steps/table/add-column.js");function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){Ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qa=e=>t=>{const n=Object(Ui.c)(t.selection);if(!n)return t;!function(e,t,n,o){let r=e.mapping.maps.length;const i=e.doc.nodeAt(t);if(!i)return e;const s=e.doc.resolve(t).start(1),a=ti.b.get(i);for(let l=n;l<o;l++)for(let t=0;t<a.height;t++){
const n=t*a.width+l,o=a.map[n],c=l>0&&a.map[n-1]===o||t>0&&a.map[(t-1)*a.width+l]===o,d=l<a.width-1&&a.map[n+1]===o||t<a.height-1&&a.map[(t+1)*a.width+l]===o;if(!c&&d){const n=i.nodeAt(o);if(!n)continue;const{colwidth:c,colspan:d=1,rowspan:u=1}=n.attrs;let p=e.mapping.slice(r);const h=Ha(Ha({},n.attrs),{},{colspan:1,rowspan:1});for(let o=t;o<t+u;o++)for(let t=0;t<d;t++){let d=e.mapping.slice(r);const u=a.positionAt(o,l+t,i);e.insert(d.map(u+s),n.type.createAndFill(Ha(Ha({},h),{},{colwidth:c?[c[t]]:void 0})))}p=e.mapping.slice(r),e.delete(p.map(o+s),p.map(o+s+n.nodeSize)),u&&u>1&&(t+=u-1)}}}(t,n.pos,e.left,e.right);let o=t.mapping.maps.length;const r=t.doc,i=[];for(let a=e.left;a<e.right;a++){const e=za.a.create(r,n.pos,a,!0);i.push(a),t.step(e.map(t.mapping.slice(o)))}const s=t.mapping.mapResult(n.pos);if(s.deleted){const e=Math.min(s.pos,t.doc.nodeSize-1);t.setSelection(c.Selection.near(t.doc.resolve(e)))}else{const e=t.doc.nodeAt(s.pos);if(e){const o=Ya(e,i)
;t.setSelection(c.Selection.near(t.doc.resolve(n.pos+o)))}}return t},Ga=e=>t=>{const n=Object(Ui.c)(t.selection);if(!n)return t;const o=[];for(let c=e.left;c<e.right;c++)o.push(c);if(!o.length)return t;const r=ti.b.get(n.node),i=[],s={},a={};for(let e=0;e<r.height;e++){const t=[],l=n.node.child(e);for(let i=0;i<r.width;i++){const l=r.map[e*r.width+i],c=n.node.nodeAt(l);if(!c)continue;const d=r.cellsInRect({left:i,top:0,right:i+1,bottom:r.height});if(-1===o.indexOf(i)){if(d.indexOf(l)>-1&&!s[l]){let e=0;if(o.forEach((t=>{i<t&&c.attrs.colspan+i-1>=t&&(e+=1)})),e>0){const n=Va(Va({},c.attrs),{},{colspan:c.attrs.colspan-e});if(c.attrs.colwidth){const t=Math.min(...o),i=t>0?t-r.colCount(l):0,s=c.attrs.colwidth.slice()||[];s.splice(i,e),n.colwidth=s}const i=c.type.createChecked(n,c.content,c.marks);t.push(i),s[l]=!0;continue}}else if(a[l]){const e=Va(Va({},c.attrs),{},{colspan:1,rowspan:1});if(c.attrs.colwidth){const t=i>0?i-r.colCount(l):0;e.colwidth=c.attrs.colwidth.slice().splice(t,1)}
const n=c.type.createChecked(e,c.type.schema.nodes.paragraph.createChecked(),c.marks);t.push(n);continue}s[l]||(s[l]=!0,t.push(c))}else d.indexOf(l)>-1&&(a[l]=!0)}t.length&&i.push(l.type.createChecked(l.attrs,t,l.marks))}if(!i.length)return xa({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);const l=n.node.type.createChecked(n.node.attrs,i,n.node.marks),d=function(e){const t=ti.b.get(e),n=function(e){const t=[];for(let n=0;n<e.childCount;n++){const o=[],r=e.child(n);for(let e=0;e<r.childCount;e++){const t=r.child(e);o.push(t.attrs.rowspan)}t[n]=Math.min(...o)}return t}(e);if(!n.some((e=>e>1)))return e;const o=[];for(let r=0;r<t.height;r++){const t=e.child(r);if(1===n[r])o.push(t);else{const e=[];for(let o=0;o<t.childCount;o++){const i=t.child(o),s=i.attrs.rowspan-n[r]+1;if(s<1)return null;const a=i.type.createChecked(Va(Va({},i.attrs),{},{rowspan:s}),i.content,i.marks);e.push(a)}o.push(t.type.createChecked(t.attrs,e,t.marks))}}if(!o.length)return null
;return e.type.createChecked(e.attrs,o,e.marks)}(l);if(null===d)return xa({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);const u=Ya(l,o);return xa({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,d).setSelection(c.Selection.near(t.doc.resolve(n.pos+u))))};function Ya(e,t){const n=Math.min(...t),o=n>0?n-1:0;return ti.b.get(e).map[o]}const Xa=(e,t=!1)=>n=>t?qa(e)(n):Ga(e)(n);function Ja(e){let t,n=0,o=0;const r=Object(Ui.c)(e);return r&&(t=ti.b.get(r.node),n=t.height,o=t.width),{table:r,map:t,totalRowCount:n,totalColumnCount:o}}function Za(e){let t=1,n=1,o=1;const{table:r,map:i,totalRowCount:s,totalColumnCount:a}=Ja(e);if(r&&i){const r=Object($i.a)(e);r&&(o=i.cellsInRect(r).length,t=r.right-r.left,n=r.bottom-r.top)}return{totalRowCount:s,totalColumnCount:a,horizontalCells:t,verticalCells:n,totalCells:o}}var Qa=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/get-allow-add-column-custom-step.js");const el={default:cs.b.NORMAL,wide:cs.b.WIDE,
"full-width":cs.b.FULL_WIDTH},tl=(e,t)=>Object(ct.d)((({selection:t})=>{const{horizontalCells:n,verticalCells:o,totalRowCount:r,totalColumnCount:i}=Za(t);return{action:cs.a.CLEARED,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:n,verticalCells:o,totalRowCount:r,totalColumnCount:i},eventType:lt.d.TRACK}}))((e=>(t,n)=>{let o,{tr:r}=t;if(Object(ds.a)(r.selection,"cell")){const e=r.selection;e.forEachCell(((e,n)=>{const o=r.doc.resolve(r.mapping.map(n+1));r=ps(Object(Ui.a)(o),t.schema)(r)})),o=e.$headCell.pos}else if(e){const n=Object(Ui.a)(r.doc.resolve(e+1));r=ps(n,t.schema)(r),o=n.pos}if(r.docChanged&&o){const e=r.doc.resolve(r.mapping.map(o)),t=c.Selection.findFrom(e,1,!0);return t&&r.setSelection(t),n&&n(r),!0}return!1})(t)),nl=()=>Object(ct.d)((({selection:e})=>{const{horizontalCells:t,verticalCells:n,totalCells:o,totalRowCount:r,totalColumnCount:i}=Za(e);return{action:cs.a.MERGED,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{
horizontalCells:t,verticalCells:n,totalCells:o,totalRowCount:r,totalColumnCount:i},eventType:lt.d.TRACK}}))(((e,t)=>(t&&t(function(e){const{selection:t}=e;if(!(t instanceof q.a&&Ia(e)))return e;const n=Object($i.a)(t),o=Object(Ui.c)(t),r=ti.b.get(o.node),i=[],s=r.cellsInRect(n);let a;const l=[];for(let c=0;c<r.height;c++){const t=[],d=o.node.child(c);for(let l=0;l<r.width;l++){const d=r.map[c*r.width+l],u=o.node.nodeAt(d);if(u&&!(i.indexOf(d)>-1))if(i.push(d),l===n.left&&c===n.top){a=d;let i=Ma(u)?Ve.Fragment.empty:u.content;const s=[a];for(let e=n.top;e<n.bottom;e++)for(let t=n.left;t<n.right;t++){const n=r.map[e*r.width+t];if(-1===s.indexOf(n)){s.push(n);const e=o.node.nodeAt(n);e&&!Ma(e)&&(i=i.append(e.content))}}const l=n.bottom-n.top;if(l<1)return xa({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);const c=Da(Pa(Pa({},u.attrs),{},{rowspan:l
}),u.attrs.colspan,n.right-n.left-u.attrs.colspan),p=i===Ve.Fragment.empty?u.type.createAndFill(c,i,u.marks):u.type.createChecked(c,i,u.marks);t.push(p)}else-1===s.indexOf(d)&&t.push(u)}if(t.length)l.push(d.type.createChecked(d.attrs,t,d.marks));else for(let n=l.length-1;n>=0;n--){const t=l[n],o=[];let r=!1;for(let i=0;i<t.childCount;i++){const s=t.child(i),{rowspan:a}=s.attrs;if(a&&a+n-1>=l.length){if(r=!0,a<2)return xa({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);o.push(s.type.createChecked(Pa(Pa({},s.attrs),{},{rowspan:a-1}),s.content,s.marks))}else o.push(s)}r&&(l[n]=d.type.createChecked(t.attrs,o,t.marks))}}if(!l.length)return xa({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);const d=Na(o.node.type.createChecked(o.node.attrs,l,o.node.marks));return null===d?xa({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):xa({type:"MERGE_CELLS"})(e.replaceWith(o.pos,o.pos+o.node.nodeSize,d).setSelection(c.Selection.near(e.doc.resolve((a||0)+o.start))))}(e.tr)),
!0))),ol=()=>Object(ct.d)((({selection:e})=>{const{totalRowCount:t,totalColumnCount:n}=Za(e),o=Object(Ui.a)(e.$anchor);if(o){const{rowspan:e,colspan:r}=o.node.attrs;return{action:cs.a.SPLIT,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:r,verticalCells:e,totalCells:r*e,totalRowCount:t,totalColumnCount:n},eventType:lt.d.TRACK}}}))(ba),rl=(e,t)=>Object(ct.d)((({selection:t})=>{const{horizontalCells:n,verticalCells:o,totalCells:r,totalRowCount:i,totalColumnCount:s}=Za(t);return{action:cs.a.COLORED,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{cellColor:(Ri.e.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:n,verticalCells:o,totalCells:r,totalRowCount:i,totalColumnCount:s},eventType:lt.d.TRACK}}))(((e,t)=>(n,o)=>{let r,{tr:i}=n;if(Object(ds.a)(i.selection,"cell")){const t=i.selection;t.forEachCell(((t,n)=>{const o=i.doc.resolve(i.mapping.map(n+1));i=Object(fs.a)(Object(Ui.a)(o),e)(i)})),r=t.$headCell.pos}else if(t){
const n=Object(Ui.a)(i.doc.resolve(t+1));i=Object(fs.a)(n,e)(i),r=n.pos}if(i.docChanged&&void 0!==r){const e=i.doc.resolve(i.mapping.map(r));return o&&o(i.setSelection(c.Selection.near(e))),!0}return!1})({background:e},t)),il=e=>(t,n)=>{const{selection:o}=t,r=o instanceof q.a,i=r?Object($i.a)(o):Object(Ui.b)(o.$from);if(!i)return!1;const s=r&&"TOP"===e?i.top:i.bottom-1,a="BOTTOM"===e?1:0;return sl(lt.e.SHORTCUT,{index:s+a,moveCursorToInsertedRow:!1})(t,n)},sl=(e,t)=>Object(ct.d)((n=>{const{totalRowCount:o,totalColumnCount:r}=Ja(n.selection);return{action:cs.a.ADDED_ROW,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.index,totalRowCount:o,totalColumnCount:r},eventType:lt.d.TRACK}}))(Object(ls.e)(t.index,t.moveCursorToInsertedRow)),al=(e,t)=>Object(ct.d)((n=>{const{totalRowCount:o,totalColumnCount:r}=Ja(n.selection);return{action:cs.a.ADDED_COLUMN,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,
totalColumnCount:r},eventType:lt.d.TRACK}}))(Object(ls.d)(t)),ll=(e,t,n)=>Object(ct.d)((({selection:n})=>{const{totalRowCount:o,totalColumnCount:r}=Ja(n);return{action:cs.a.DELETED_ROW,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:o,totalColumnCount:r},eventType:lt.d.TRACK}}))(((e,o)=>(o&&o(Fa(t,n)(e.tr)),!0))),cl=(e,t)=>Object(ct.d)((({selection:n})=>{const{totalRowCount:o,totalColumnCount:r}=Ja(n);return{action:cs.a.DELETED_COLUMN,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:o,totalColumnCount:r},eventType:lt.d.TRACK}}))(((e,n)=>(n&&n(Xa(t,Object(Qa.a)(e))(e.tr)),!0))),dl=(e,t)=>{const{totalRowCount:n,totalColumnCount:o}=Ja(e);return{action:cs.a.DELETED,actionSubject:lt.b.TABLE,attributes:{inputMethod:t,totalRowCount:n,totalColumnCount:o},eventType:lt.d.TRACK}
},ul=()=>Object(ct.d)((({selection:e})=>dl(e,lt.e.FLOATING_TB)))(ea),pl=()=>Object(ct.d)((e=>{const{totalRowCount:t,totalColumnCount:n}=Ja(e.selection),{isHeaderRowEnabled:o}=Object(zi.c)(e);return{action:cs.a.TOGGLED_HEADER_ROW,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:t,totalColumnCount:n},eventType:lt.d.TRACK}}))(ka),hl=()=>Object(ct.d)((e=>{const{totalRowCount:t,totalColumnCount:n}=Ja(e.selection),{isHeaderColumnEnabled:o}=Object(zi.c)(e);return{action:cs.a.TOGGLED_HEADER_COLUMN,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:t,totalColumnCount:n},eventType:lt.d.TRACK}}))(Ea),ml=()=>Object(ct.d)((e=>{const{totalRowCount:t,totalColumnCount:n}=Ja(e.selection);return{action:cs.a.TOGGLED_NUMBER_COLUMN,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{newState:!Object(Gs.c)(e),totalRowCount:t,totalColumnCount:n},eventType:lt.d.TRACK}}))(Sa),fl=(e,t,n)=>Object(ct.d)((o=>{
const{totalRowCount:r,totalColumnCount:i}=Ja(o.selection);return{action:cs.a.SORTED_COLUMN,actionSubject:lt.b.TABLE,attributes:{inputMethod:e,totalRowCount:r,totalColumnCount:i,position:t,sortOrder:n,mode:"editor"},eventType:lt.d.TRACK}}))(((e,t=Hi.a.DESC)=>Object(zi.a)((n=>({type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}})),((n,o)=>{const r=Object(Ui.c)(n.selection);if(!r||!r.node)return n;const i=Object(ds.a)(n.selection,"cell")?Object($i.a)(n.selection):Object(Ui.b)(n.selection.$from);if(!i)return n;const s=Object(zi.c)(o),a=aa(r.node);let l;s.isHeaderRowEnabled&&(l=a.shift());const d=Object(la.a)({getInlineCardTextFromStore:ua(o)},t),u=a.sort(((t,n)=>d(t[e],n[e])));l&&u.unshift(l);const p=sa(r.node,u);n.replaceWith(r.pos,r.pos+r.node.nodeSize,p);const h=ti.b.get(r.node).positionAt(i.top,e,r.node),m=s.ordering,f={columnIndex:e,order:t};return n.step(new da.a(r.pos,m,f)),n.setSelection(c.Selection.near(n.doc.resolve(r.start+h)))})))(t,n)),bl=e=>(t,n)=>{
const o=Object(Ui.c)(t.selection);if(!o)return!1;const r=ti.b.get(o.node),{tableCell:i,tableHeader:s}=t.schema.nodes,a=Object(b.findParentNodeOfType)([i,s])(t.selection),l=r.positionAt(0,0,o.node)+o.start,d=r.positionAt(r.height-1,r.width-1,o.node)+o.start;return l===a.pos&&-1===e?(sl(lt.e.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(t,n),!0):d===a.pos&&1===e?(sl(lt.e.KEYBOARD,{index:r.height,moveCursorToInsertedRow:!0})(t,n),!0):!n||function(e){return function(t,n){if(!Object(ri.b)(t))return!1;const o=Object(ni.a)(t.selection);if(!o)return!1;const r=function(e,t){if(-1===t){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,o=e.before();n>=0;n--){const t=e.node(-1).child(n);if(t.childCount&&t.lastChild)return o-1-t.lastChild.nodeSize;o-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),o=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return o+1
;o+=e.nodeSize}}}(o,e);if(void 0===r)return!1;if(n){const e=t.doc.resolve(r);n(t.tr.setSelection(c.TextSelection.between(e,function(e){const t=e.nodeAfter?e.nodeAfter.nodeSize:0;return e.node(0).resolve(e.pos+t)}(e))).scrollIntoView())}return!0}}(e)(t,n)};function gl(){const e={};return Ie.bindKeymapWithCommand(Ie.nextCell.common,bl(1),e),Ie.bindKeymapWithCommand(Ie.previousCell.common,bl(-1),e),Ie.bindKeymapWithCommand(Ie.toggleTable.common,(()=>Object(ct.d)({action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.TABLE,attributes:{inputMethod:lt.e.SHORTCUT},eventType:lt.d.TRACK})(ls.c))(),e),Ie.bindKeymapWithCommand(Ie.backspace.common,Object(qe.c)((e=>Object(ct.d)((({selection:t})=>dl(t,e)))(ta))(lt.e.KEYBOARD),tl(lt.e.KEYBOARD)),e),Ie.bindKeymapWithCommand(Ie.backspace.common,na,e),Ie.bindKeymapWithCommand(Ie.addRowBefore.common,il("TOP"),e),Ie.bindKeymapWithCommand(Ie.addRowAfter.common,il("BOTTOM"),e),Ie.bindKeymapWithCommand(Ie.addColumnBefore.common,(e=>(t,n)=>{
const{selection:o,schema:{nodes:{tableHeader:r}}}=t;if(o instanceof c.TextSelection){const i=Object(Ui.a)(o.$from);if(i&&i.node.type!==r)return e(t,n)}if(o instanceof q.a){const r=Object($i.a)(o);if(!Object(Gs.b)(t)||r&&r.top>0)return e(t,n)}return!1})(ls.b),e),Ie.bindKeymapWithCommand(Ie.addColumnAfter.common,ls.a,e),Object(Xt.b)(e)}let yl;!function(e){e.TopToBottom="TopToBottom",e.BottomToTop="BottomToTop"}(yl||(yl={}));const vl=(e,t)=>{const{selection:n}=e;return n instanceof q.a?jl(n)(e,t):n instanceof at.a?kl(n)(e,t):n instanceof c.TextSelection&&Sl(n)(e,t)},Ol=(e,t)=>{const{selection:n}=e;return n instanceof q.a?wl(n)(e,t):n instanceof at.a?El(n)(e,t):n instanceof c.TextSelection&&_l(n)(e,t)},jl=e=>(t,n)=>{if(Object(ms.c)(t.selection)){const{selectionRelativeToNode:o}=So(t);if(o===fo.a.Start)return Pl()(t,n);if(o===fo.a.End)return Tl(e)(t,n);if(void 0===o)return xl(e,fo.a.Before)(t,n)}return!1},wl=e=>(t,n)=>{if(Object(ms.c)(t.selection)){const{selectionRelativeToNode:o}=So(t)
;if(o===fo.a.Start)return xl(e)(t,n);if(o===fo.a.End||void 0===o)return Al()(t,n)}return!1},kl=e=>(t,n)=>{const{doc:o}=t,{$from:r,from:i,side:s}=e;if(s===at.b.RIGHT){if(r.nodeBefore&&"table"===r.nodeBefore.type.name)return Cl({node:r.nodeBefore,startPos:o.resolve(i-1).start(r.depth+1),dir:yl.TopToBottom})(t,n)}else if(s===at.b.LEFT){const o=Object(Ui.c)(e);if(o&&Il(r,e)){const{selectionRelativeToNode:e}=So(t);return e===fo.a.Before?Pl()(t,n):Cl({node:o.node,startPos:o.start,dir:yl.BottomToTop})(t,n)}}return!1},El=e=>(t,n)=>{const{$from:o,from:r,$to:i,side:s}=e;if(s===at.b.LEFT){if(o.nodeAfter&&"table"===o.nodeAfter.type.name)return Cl({node:o.nodeAfter,startPos:r+1,dir:yl.BottomToTop})(t,n)}else if(s===at.b.RIGHT){const o=Object(Ui.c)(e);if(o&&Ml(i,e))return Cl({node:o.node,startPos:o.start,dir:yl.TopToBottom})(t,n)}return!1},Sl=e=>(t,n)=>{const o=Object(Ui.c)(e);if(o){const{$from:r}=e;if(Il(r,e)&&"paragraph"===r.parent.type.name&&r.depth===o.depth+3){
const{selectionRelativeToNode:e}=So(t);return e===fo.a.Before?Pl()(t,n):Cl({node:o.node,startPos:o.start,dir:yl.BottomToTop})(t,n)}}return!1},_l=e=>(t,n)=>{const o=Object(Ui.c)(e);if(o){const{$to:r}=e;if(Ml(r,e)&&"paragraph"===r.parent.type.name&&r.depth===o.depth+3)return Cl({node:o.node,startPos:o.start,dir:yl.TopToBottom})(t,n)}return!1},Cl=({node:e,startPos:t,dir:n})=>(o,r)=>{const{doc:i}=o,{map:s}=ti.b.get(e),a=i.resolve(t+s[0]),l=i.resolve(t+s[s.length-1]);let c,d;return n===yl.TopToBottom?(c=new q.a(a,l),d=fo.a.End):(c=new q.a(l,a),d=fo.a.Start),Co(d,c)(o,r)},xl=(e,t)=>(n,o)=>{const{$anchorCell:r,$headCell:i}=e,s=r.pos<i.pos?r:i,a=n.doc.resolve(s.pos+1),l=at.a.valid(a)?new at.a(a,at.b.LEFT):c.Selection.findFrom(a,1);return Co(t,l)(n,o)},Tl=(e,t)=>(n,o)=>{const{$anchorCell:r,$headCell:i}=e,s=r.pos>i.pos?r:i,a=s.pos+(s.nodeAfter?s.nodeAfter.content.size:0)+1,l=n.doc.resolve(a),d=at.a.valid(l)?new at.a(l,at.b.RIGHT):c.Selection.findFrom(l,-1);return Co(t,d)(n,o)},Pl=()=>(e,t)=>{
const n=Object(Ui.c)(e.selection);if(n){const o=e.doc.resolve(n.pos);if(at.a.valid(o)){const n=new at.a(o,at.b.LEFT);return Co(void 0,n)(e,t)}}return!1},Al=()=>(e,t)=>{const n=Object(Ui.c)(e.selection);if(n){const o=e.doc.resolve(n.pos+n.node.nodeSize);if(at.a.valid(o)){const n=new at.a(o,at.b.RIGHT);return Co(void 0,n)(e,t)}}return!1},Il=(e,t)=>Object(An.d)(e,Object(Ui.c)(t)),Ml=(e,t)=>Object(An.c)(e,Object(Ui.c)(t));function Dl(){const e={};return Object(Ie.bindKeymapWithCommand)(Ie.moveRight.common,Ol,e),Object(Ie.bindKeymapWithCommand)(Ie.moveLeft.common,vl,e),Object(Xt.b)(e)}var Nl=o("./node_modules/uuid/index.js"),Rl=o.n(Nl),Ll=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js");const Bl=e=>{const t=Object(Ui.c)(e.selection);if(!t)return[];const n=ti.b.get(t.node),o=new Set,r=[];return n.map.forEach((e=>{o.has(e)?r.push(e):o.add(e)})),r},Fl=e=>Array.from(Array(e).keys()),zl=()=>Object(zi.a)((e=>{const t=Bl(e.tr);if(!t.length)return!1
;const n=Object(Ui.c)(e.tr.selection);if(!n)return!1;const o=((e,t)=>e.map((e=>Tn.a.node(e.pos,e.pos+e.node.nodeSize,{class:Hi.b.HOVERED_CELL_WARNING},{key:Hi.c.CELL_CONTROLS_HOVER}))))(t.map((e=>({pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}))));return{type:"HOVER_CELLS",data:{decorationSet:Ys(e,o,Hi.c.CELL_CONTROLS_HOVER)}}}),(e=>e.setMeta("addToHistory",!1))),Ul=(e,t)=>Object(zi.a)((n=>{const o=bs(e)(n.selection);if(!o)return!1;const r=Gi(o,"column",t);return{type:"HOVER_COLUMNS",data:{decorationSet:Ys(n,r,Hi.c.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),Hl=(e,t)=>Object(zi.a)((n=>{const o=Object(Wi.a)(e)(n.selection);if(!o)return!1;const r=Gi(o,"row",t);return{type:"HOVER_ROWS",data:{decorationSet:Ys(n,r,Hi.c.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),$l=e=>Object(zi.a)((t=>{const n=Object(Ui.c)(t.selection);if(!n)return!1
;const o=ti.b.get(n.node),r=Fl(o.width),i=Fl(o.height),s=Object(Wi.a)(i)(t.selection);if(!s)return!1;const a=Gi(s,"table",e);return{type:"HOVER_TABLE",data:{decorationSet:Ys(t,a,Hi.c.TABLE_CONTROLS_HOVER),hoveredColumns:r,hoveredRows:i,isInDanger:e}}}),(e=>e.setMeta("addToHistory",!1))),Wl=()=>Object(zi.a)((e=>({type:"CLEAR_HOVER_SELECTION",data:{decorationSet:Ys(e,[],Hi.c.ALL_CONTROLS_HOVER)}})));var Vl=o("./node_modules/raf-schd/esm/index.js"),Kl=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-factory.js"),ql=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/ui/consts.js")
;const Gl=`.${Hi.b.TABLE_CELL}, .${Hi.b.TABLE_HEADER_CELL}`,Yl=e=>Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!Object(L.b)(e,`.${Hi.b.TABLE_HEADER_CELL}`)||!!Object(L.b)(e,`.${Hi.b.TABLE_CELL}`))),Xl=e=>[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)],Jl=e=>Object(L.c)(e,Hi.b.COLUMN_CONTROLS_DECORATIONS),Zl=e=>Object(L.c)(e,Hi.b.ROW_CONTROLS_BUTTON)||Object(L.c)(e,Hi.b.NUMBERED_COLUMN_BUTTON),Ql=e=>Object(L.c)(e,Hi.b.RESIZE_HANDLE_DECORATION),ec=(e,t,n,o)=>{const r=e.target;if(r instanceof HTMLElement){let l,c;const d=r.closest(Gl);if(t){var i,s,a;const t=null!==(i=null==d?void 0:d.id)&&void 0!==i?i:"";l=null!==(s=null==n||null===(a=n[t])||void 0===a?void 0:a.width)&&void 0!==s?s:0,c=e.offsetX}else{const t=r.getBoundingClientRect();l=t.width;const n=t.left;c=e.clientX-n}if(l<=0)return null;if(!o)return c/l>.5?"right":"left";if(c<=o)return"left";if(c>=l-o)return"right"}return null},tc=e=>{const t=e.target
;if(t instanceof HTMLElement){const n=t.getBoundingClientRect();if(n.height<=0)return null;return(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},nc=e=>{if(!e)return;const t=e.offsetHeight+ql.q,n=Array.from(e.querySelectorAll(`.${Hi.b.RESIZE_HANDLE}`));n&&n.length&&n.forEach((e=>{e.style.height=`${t}px`}))},oc=(e,t)=>{const{state:n,dispatch:o}=e;return 11===Ll.a.ie_version||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label"))(t)||Qs(!1)(n,o),t.preventDefault(),!1},rc=(e,t)=>{const{state:n,dispatch:o}=e;return Qs(!0)(n,o),t.preventDefault(),!1},ic=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const n=t.target,o=Object(Ui.c)(e.state.selection);if(t instanceof MouseEvent&&Jl(n)){const[o]=Xl(n),{state:r,dispatch:i}=e;return((e,t)=>Object(zi.a)((n=>{const o=bs(e)(n.tr.selection);if(!o||!o.length||"number"!=typeof o[0].pos)return!1;const r=Yi(ys(e,t)(n.tr)),i=Ys(n,r,Hi.c.COLUMN_SELECTED);return{
type:"SELECT_COLUMN",data:{targetCellPosition:o[0].pos,decorationSet:i}}}),(n=>ys(e,t)(n).setMeta("addToHistory",!1))))(o,t.shiftKey)(r,i)}const r=n.matches?n.matches:n.msMatchesSelector;if(!o||!Object(ho.k)(n)||!r||r.call(n,"table .image, table p, table .image div"))return!1;const i=ti.b.get(o.node),s=Object(L.b)(n,"td")||Object(L.b)(n,"th"),a=s&&s.cellIndex,l=Object(L.b)(n,"tr"),c=l&&l.rowIndex,d=i.width*c+a,u=i.map[d+1],{dispatch:p,state:{tr:h,schema:{nodes:{paragraph:m}}}}=e,f=o.node.nodeAt(i.map[d]);return Object(ho.o)(f)&&(h.insert(u+o.pos,m.create()),p(h),Object(An.g)(e,u+o.pos)),!0},sc=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:o}=e,r=t.target,{insertColumnButtonIndex:i,insertRowButtonIndex:s}=Object(zi.c)(n);if((e=>Object(L.c)(e,Hi.b.CONTROLS_INSERT_ROW)||Object(L.b)(e,`.${Hi.b.CONTROLS_INSERT_ROW}`)||Object(L.c)(e,Hi.b.CONTROLS_BUTTON_OVERLAY)&&Object(L.b)(e,`.${Hi.b.ROW_CONTROLS}`))(r)){const[e,i]=Xl(r),s="bottom"===tc(t)?i:e
;return oa(s)(n,o)}if(Jl(r)){const[t]=Xl(r),{state:n,dispatch:o}=e;return Ul([t],!1)(n,o)}if((Yl(r)||(e=>Object(L.c)(e,Hi.b.CONTROLS_CORNER_BUTTON))(r))&&("number"==typeof i||"number"==typeof s))return ra()(n,o);if(Ql(r)){const[e,t]=Xl(r);return(e=>Object(zi.a)((t=>({type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:Ys(t,Zi(t.selection,e),Hi.c.COLUMN_RESIZING_HANDLE_LINE)}}))))({left:e,right:t})(n,o)}return!1},ac=(e,t)=>{const n=!!(t.target&&t.target instanceof HTMLElement&&((e=>Object(L.c)(e,Hi.b.TABLE_CONTAINER)||Object(L.c)(e,Hi.b.TABLE_NODE_WRAPPER))(t.target)||Jl(t.target)||Zl(t.target)));return n&&t.preventDefault(),n},lc=(e,t)=>{if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;const n=t.target;if(Jl(n)){const{state:t,dispatch:n}=e;return Wl()(t,n)}const o=t.relatedTarget;if(Ql(n)&&!Ql(o)){const{state:t,dispatch:n}=e;return(()=>Object(zi.a)((e=>({type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:Ys(e,[],Hi.c.COLUMN_RESIZING_HANDLE_LINE)}}))))()(t,n)}
return!1},cc=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:o}=e,{insertColumnButtonIndex:r,insertRowButtonIndex:i}=Object(zi.c)(n);return!!(e=>Object(L.c)(e,Hi.b.CONTROLS_BUTTON)||Object(L.c)(e,Hi.b.ROW_CONTROLS_BUTTON_WRAP))(t.target)||!(void 0===r&&void 0===i||!ra()(n,o))},dc=(e,t,n,o)=>{if(!(t.target instanceof HTMLElement))return!1;const r=t.target;if(Jl(r)){const{state:i,dispatch:s}=e,{insertColumnButtonIndex:a}=Object(zi.c)(i),[l,c]=Xl(r),d="right"===ec(t,n,o)?c:l;if(d!==a)return(e=>Object(zi.a)((t=>e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))))(d)(i,s)}if(Zl(r)){const{state:n,dispatch:o}=e,{insertRowButtonIndex:i}=Object(zi.c)(n),[s,a]=Xl(r),l="bottom"===tc(t)?a:s;if(l!==i)return oa(l)(n,o)}if(!Ql(r)&&Yl(r)){const i=ec(t,n,o,30);if(null!==i){
const{state:t,dispatch:n}=e,{resizeHandleColumnIndex:o}=Object(zi.c)(t),s=Object(L.b)(r,"td, th"),a=e.posAtDOM(s,0),l=Object(Ui.b)(t.doc.resolve(a));if(l){const e="left"===i?l.left:l.right;if(e!==o||!(({columnEndIndexTarget:e,target:t})=>{const n=Object(L.b)(t,"table");if(!n)return!1;const o=[`.${Hi.b.RESIZE_HANDLE_DECORATION}`,`[data-end-index="${e}"]`],r=n.querySelectorAll(o.join(""));return!(!r||0===r.length)})({target:r,columnEndIndexTarget:e}))return(e=>Object(zi.a)((t=>{const n=Object(Ui.c)(t.selection),{pluginConfig:{allowColumnResizing:o}}=Object(zi.c)(t);return!(!n||!o)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:Es(e)({tr:t.tr,decorationSet:ss(t)}),resizeHandleColumnIndex:e}}}),(e=>e.setMeta("addToHistory",!1))))(e)(t,n)}}}return!1};function uc(e,t){const{state:n,dispatch:o}=e,r=Object(ki.a)(n.doc.resolve(t));if(!r)return!1;const i=n.doc.nodeAt(r.pos);if(i){const e=c.Selection.findFrom(r,1,!0),t=c.Selection.findFrom(n.doc.resolve(r.pos+i.nodeSize),-1,!0)
;if(e&&t)return o(n.tr.setSelection(new c.TextSelection(e.$from,t.$to))),!0}return!1}const pc=(e,t)=>(n,o)=>{var r;const i=Object(Kl.c)(n.state),s=Object(zi.c)(n.state),a=i&&!!i.dragging,l=s&&s.tableNode,c=null==s||null===(r=s.pluginConfig)||void 0===r?void 0:r.tableCellOptimization;return!(!l||a)&&Object(Vl.a)(e(n,o,c,t))};var hc=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-key.js");const mc=e=>{const t=[];return e.content.firstChild.content.forEach((e=>{const n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((e=>{t.push(["col",{style:`width: ${e}px;`}])})):t.push(...Array.from({length:n},(e=>["col",{}])))})),t},fc=(e,t)=>{let n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return Ve.DOMSerializer.renderSpec(document,["colgroup",{},...mc(e)]).dom}(t),e.insertBefore(n,e.firstChild),n.children},bc=e=>!!Object(Qe.b)(e.content.firstChild.content).find((e=>e.attrs.colwidth))
;var gc=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/layout/styles.js"),yc=o("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js");const vc=Object(ce.gridSize)(),Oc=2*vc,jc=k.default.div(["background:",";border-radius:","px;color:",";position:relative;vertical-align:middle;font-size:","px;.ProseMirror-selectednode > span > & > .extension-overlay{box-shadow:inset 0px 0px 0px 2px ",";opacity:1;}&.with-overlay{.extension-overlay{background:",";color:transparent;}&:hover .extension-overlay{opacity:1;}}"],Object(yc.a)({light:"#F4F5F7",dark:"#283447"}),Object(ce.borderRadius)(),Object(yc.a)({dark:"#CED9EB"
}),Object(ce.fontSize)(),"#2684FF","rgba(9, 30, 66, 0.04)"),wc=k.default.div(["border-radius:","px;position:absolute;width:100%;height:100%;opacity:0;pointer-events:none;transition:opacity 0.3s;"],Object(ce.borderRadius)()),kc=k.default.div(["display:inline-flex;align-items:center;& > img{margin:0 4px;}"]),Ec=k.default.span(["display:inline-block;max-width:200px;margin-left:5px;color:",";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"],"#A5ADBA"),Sc=k.default.img(["max-height:16px;max-width:16px;"]),_c=(e,t,n,o)=>{if(!e)return;const r=Cc(e,t);if(!r)return;let i=r.attrs.layout||"default";const{schema:s}=t,a=s.marks.breakout&&s.marks.breakout.isInSet(r.marks);a&&a.attrs.mode&&(i=a.attrs.mode);let l=xc(i,n,o);if(r.type===s.nodes.layoutSection&&(l+=2*Le.X,n.width>Le.eb)){l-=(gc.b+2)*(r.childCount-1);const n=t.doc.resolve(e),o=Object(b.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.layoutColumn])
;o&&o.node&&!isNaN(o.node.attrs.width)&&(l=Math.round(l*o.node.attrs.width*.01))}return r.type===s.nodes.layoutSection?l-=2*gc.a:r.type===s.nodes.bodiedExtension&&(l-=2*Oc),l-=2,l},Cc=(e,t)=>{if(void 0===e)return null;const n=t.doc.resolve(e),o=Object(b.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return o?o.node:null},xc=(e,t,n)=>n?Math.min(t.lineLength,Le.p):Object(u.a)(e,t.width),Tc=(e,t)=>{if(!e||void 0===t)return;const n=e.find((e=>e.pos===t+1));return n&&n.sticky?n:void 0},Pc=new c.PluginKey("stickyHeadersPlugin");function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){Mc(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dc=(e,t,n)=>o=>{const r=ti.b.get(t),i={};for(let n=0;n<r.width;n++)for(let s=0;s<r.height;s++){const{width:a}=e.cols[n],l=s*r.width+n,c=r.map[l],d=i[c]||Ic({},t.nodeAt(c).attrs),u=d.colspan||1;if(d.colwidth&&d.colwidth.length>u&&(o=xa({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:d.colwidth,colspan:u}})(o),d.colwidth=d.colwidth.slice(0,u)),s&&r.map[l]===r.map[l-r.width])continue;const p=1===u?0:n-r.colCount(c);if(d.colwidth&&d.colwidth[p]===a)continue;let h=d.colwidth?d.colwidth.slice():Array.from({length:u},(e=>0));h[p]=a,h.length>u&&(o=xa({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:h,
colspan:u}})(o),h=h.slice(0,u)),i[c]=Ic(Ic({},d),{},{colwidth:h})}const s=[],a={};for(let e=0;e<r.height;e++){const n=t.child(e),o=[];for(let s=0;s<r.width;s++){const n=e*r.width+s,l=r.map[n],c=t.nodeAt(l);!a[l]&&c&&(o.push(c.type.createChecked(i[l]||c.attrs,c.content,c.marks)),a[l]=!0)}s.push(n.type.createChecked(n.attrs,o,n.marks))}const l=n-1,{selection:d}=o;if(o.replaceWith(l,l+t.nodeSize,t.type.createChecked(t.attrs,s,t.marks)),d instanceof c.TextSelection)o.setSelection(new c.TextSelection(o.doc.resolve(d.$from.pos),o.doc.resolve(d.$to.pos)));else if(d instanceof q.a){const e=q.a.create(o.doc,d.$anchorCell.pos,d.$headCell.pos);o.setSelection(e)}return o};var Nc=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/table.js");const Rc=(e,t,n,o)=>{if(t&&e){const r=e.querySelector("tr.sticky"),i=r&&r.firstElementChild;if(n){const o=t.offsetWidth-e.offsetWidth;for(let t=0;t<n.length;t++){const r=n[t];r.style.display=o>0&&o>e.scrollLeft?"block":"none",
r.classList.contains(Hi.b.TABLE_STICKY_SHADOW)&&i&&(r.style.height=`${i.clientHeight+1}px`)}}if(o)for(let t=0;t<o.length;t++){const n=o[t];n.style.display=e.scrollLeft>0?"block":"none",n.classList.contains(Hi.b.TABLE_STICKY_SHADOW)&&i&&(n.style.height=`${i.clientHeight+1}px`)}}};var Lc=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/row-controls.js");const Bc=(e,t)=>{const n=Object(L.d)(t,(e=>Number(e.getAttribute("colspan")||1))),o=t.nextElementSibling||t;if(o){const e=Object(L.d)(o,(e=>({width:e.offsetWidth,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth})));let t=[];if(e.map(((e,n)=>{t.push(...(({width:e,colspan:t,colwidth:n})=>{if(t<=1||!n)return new Array(t).fill(e/t);const o=n.split(",").map((e=>Number(e))),r=o.reduce(((e,t)=>e+t),0);return o.map((t=>e*(t/r)))})(e))})),0!==e.reduce(((e,t)=>e+t.width),0)){return((e,t)=>{let n=0;const o=[];return e.forEach((e=>{const r=t.slice(n,n+e).reduce(((e,t)=>e+t),0);n+=e,o.push(r)})),o
})(n,t).map((e=>`${e}px`)).join(" ")}}const r=n.reduce(((e,t)=>e+t),0);return n.map((e=>e/r*100)).map((e=>`${e}%`)).join(" ")},Fc=e=>{const{tableRef:t}=Object(zi.c)(e);if(!t)return;if(!t.querySelector("tr"))return;const n=t.parentElement;if(!n||!n.parentElement)return;const o=n.parentElement.querySelectorAll(`.${Hi.b.ROW_CONTROLS_BUTTON_WRAP}`),r=n.parentElement.querySelectorAll(Hi.b.NUMBERED_COLUMN_BUTTON);zc(t);const i=Object(Lc.d)(t);for(let l=0,c=o.length;l<c;l++){const e=i[l];e&&(o[l].style.height=`${e}px`,r.length&&(r[l].style.height=`${e}px`))}const s=n.parentElement.querySelectorAll(`.${Hi.b.TABLE_RIGHT_SHADOW}`),a=n.parentElement.querySelectorAll(`.${Hi.b.TABLE_LEFT_SHADOW}`);Rc(n,t,s,a)},zc=e=>{if(!e)return;const t=e.querySelector("tr[data-header-row]");t&&(((e,t)=>{const n=Bc(0,t);n&&(t.style.gridTemplateColumns=n)})(e.querySelector("colgroup"),t),Uc(e,t))},Uc=(e,t)=>{const n=e.querySelector("tbody"),o=e.parentElement;if(n&&o){const e=Math.min(n.offsetWidth+1,o.offsetWidth)
;t.style.width=`${e}px`,t.scrollLeft=o.scrollLeft}};function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){Wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vc=({minWidth:e,maxSize:t,table:n,tableRef:o,start:r,domAtPos:i})=>{if(bc(n))return{cols:Object(Nc.a)(n).map(((t,n)=>({width:0===t?Ss.i:t,minWidth:0===t?Ss.i:e,index:n}))),maxSize:t};const s=fc(o,n);return{cols:Array.from(s).map(((t,o)=>{
const s=Ls(o,n,r,i);return Ns(s,o,e)})),maxSize:t}},Kc=({cols:e})=>e.reduce(((e,t)=>e+t.width),0),qc=(e,t)=>{const n=t-Kc(e);if(n>0||n<0&&Math.abs(n)<Ss.d){let t=!1;return $c($c({},e),{},{cols:e.cols.map((e=>!t&&e.width+n>e.minWidth?(t=!0,$c($c({},e),{},{width:e.width+n})):e))})}return e},Gc=e=>{const t=Kc(e),n=Math.floor(t/e.cols.length),o=e.cols.map((e=>$c($c({},e),{},{width:n})));return qc($c($c({},e),{},{cols:o}),t)},Yc=(e,t,n)=>{const o=Kc(e),r=t.indexOf(n)>-1?n:n+1,i=e.cols[r],s={},a=[],l=e.cols.map((e=>{if(t.indexOf(e.index)>-1){const t=e.width-i.width;return 0!==t&&a.push(t),$c($c({},e),{},{width:i.width})}return e}));let c=$c($c({},e),{},{cols:l.map((e=>{if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<r)return e;for(;a.length;){const t=a.shift()||0,n=s[e.index]||e,o=n.width+t;if(!(o>n.minWidth)){a.push(o-n.minWidth),s[n.index]=$c($c({},n),{},{width:n.minWidth});break}s[n.index]=$c($c({},n),{},{width:o})}return s[e.index]||e}))});const d=e.maxSize,u=Kc(c)
;if(t.length===e.cols.length&&u<d){if(o===d)return e;{const t=Math.floor((d-i.width)/(c.cols.length-1));c=$c($c({},e),{},{cols:c.cols.map((e=>e.index===i.index?e:$c($c({},e),{},{width:t})))})}}return qc(c,e.maxSize)};function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc;function ed(e,t,n,o,r=!0){const i=e.cols[t],s=e.cols[n];if(r){const e=Rs(i)
;od(Qc.DEST)(o)>e&&(o=o>0?e:-e)}od(Qc.SOURCE)(o)<0&&rd(Qc.SOURCE)(o,i,s)<i.minWidth&&(o=i.width-i.minWidth);const a=s?Jc(Jc({},s),{},{width:rd(Qc.DEST)(o,i,s)}):void 0;if(!a&&od(Qc.SOURCE)(o)<0){const t=Kc(e);t-i.width+rd(Qc.SOURCE)(o,i,s)<e.maxSize&&(o=e.maxSize-(t-i.width)-i.width-1)}const l=Jc(Jc({},i),{},{width:rd(Qc.SOURCE)(o,i,s)}),c=e.cols.map(((e,o)=>o===t?l:o===n?a:e)).filter(Boolean);return{state:Jc(Jc({},e),{},{cols:c}),amount:o}}function td(e,t,n){let o=function(e,t,n){const o=e.cols;return n<0?o.slice(0,t):o.slice(t+1)}(e,t,n);for(;o.length&&n;){let r=nd(o,n);if(-1===r){if(n>0)return{state:Jc(Jc({},e),{},{cols:[...e.cols.slice(0,t),Jc(Jc({},e.cols[t]),{},{width:e.cols[t].width+n}),...e.cols.slice(t+1)]}),remaining:n};break}const i=o.find((e=>e.index===r));if(!i||Rs(i)<=0)break;const s=ed(e,i.index,t,n);e=s.state,n-=s.amount,o=o.filter((e=>e.index!==r))}return{state:e,remaining:n}}function nd(e,t){if(0===e.length)return-1
;"left"===(t<0?"left":"right")&&(e=e.slice().reverse());let n=-1;return e.forEach((e=>{Rs(e)&&-1===n&&(n=e.index)})),-1===n?-1:n}function od(e){return t=>e===Qc.SOURCE?t>0?-t:t:t<0?-t:t}function rd(e){return(t,n,o)=>(e===Qc.SOURCE?n:o).width+od(e)(t)}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SOURCE="src",e.DEST="dest"
}(Qc||(Qc={}));function ld(e,t){const n=t/Kc(e);let o=sd(sd({},e),{},{maxSize:t,cols:e.cols.map((e=>{const{minWidth:t,width:o}=e;let r=Math.floor(o*n);return r<t&&(r=t),sd(sd({},e),{},{width:r})}))}),r=Kc(o);return r>t&&(o=function(e,t,n=[]){let o=t;for(;o>0;){const t=e.cols.filter((e=>Rs(e)&&-1===n.indexOf(e.index)));if(0===t.length)break;const r=Math.floor(o/t.length);if(0===r)break;t.forEach((t=>{let n=t.width-r;if(n<t.minWidth){const e=t.minWidth-n;n=t.minWidth,o=o-r+e}else o-=r;e=Jc(Jc({},e),{},{cols:[...e.cols.slice(0,t.index),Jc(Jc({},t),{},{width:n}),...e.cols.slice(t.index+1)]})}))}return e}(o,r-t)),qc(o,t)}const cd=(e,t,n)=>(o,r)=>{if(!e)return!1;const{node:i,start:s,parentWidth:a}=t;if(!1===bc(i))return fc(e,i),!1;let l;if(l=a?((e,t,n,o,r)=>{const i=Vc({minWidth:Ss.d,maxSize:t,table:n,tableRef:e,start:o,domAtPos:r});return n.attrs.isNumberColumnEnabled&&(t-=Le.Q),ld(i,Math.floor(t))})(e,a,i,s,n):((e,t,n)=>{
const{node:o,containerWidth:r,previousContainerWidth:i,dynamicTextSizing:s,prevNode:a,start:l,isBreakoutEnabled:c,layoutChanged:d}=t,u=Ts(o.attrs.layout,r,{dynamicTextSizing:s,isBreakoutEnabled:c}),p=Object(Gs.e)(a),h=Ts(a.attrs.layout,i,{dynamicTextSizing:s,isBreakoutEnabled:c});let m=u;if(d&&p>h)if(p<u)m=u;else{const e=p/h;m=Math.floor(m*e)}return o.attrs.isNumberColumnEnabled&&(m-=Le.Q),ld(Vc({minWidth:Ss.d,maxSize:u,table:o,tableRef:e,start:l,domAtPos:n}),m)})(e,t,n),l){let{tr:e}=o;if(e=Dc(l,i,s)(e),e.docChanged&&r)return e.setMeta("scrollIntoView",!1),e.setMeta("scaleTable",!0),r(e),!0}return!1},dd=e=>Object(Kl.a)({type:"STOP_RESIZING"},(t=>(e||t).setMeta("scrollIntoView",!1))),ud=(e,t)=>Object(Kl.a)({type:"SET_LAST_CLICK",data:{lastClick:e}},t),pd=e=>{const t=[];for(let n=e.left;n<e.right;n++)t.push(n);return t};class hd extends a.Component{constructor(...e){super(...e),s()(this,"isActive",(()=>{
const{editorView:e,hoveredRows:t,isResizing:n}=this.props,{selection:o}=e.state,r=Object(Ui.c)(o);return!!r&&(Object(ms.c)(o)||t&&t.length===ti.b.get(r.node).height&&!n)})),s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;Wl()(e,t)})),s()(this,"selectTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;t((e=>{const t=Object(Ui.c)(e.selection);if(t){const{map:n}=ti.b.get(t.node);if(n&&n.length){const o=t.start+n[0],r=t.start+n[n.length-1],i=e.doc.resolve(o),s=e.doc.resolve(r);return Object(us.a)(e.setSelection(new q.a(s,i)))}}return e})(e.tr).setMeta("addToHistory",!1))})),s()(this,"hoverTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;$l()(e,t)}))}render(){const{isInDanger:e,tableRef:t,isHeaderColumnEnabled:n,isHeaderRowEnabled:o}=this.props;if(!t)return null;const r=this.isActive();return l.a.createElement("div",{className:br()(Hi.b.CORNER_CONTROLS,{active:r,sticky:void 0!==this.props.stickyTop}),style:{
top:void 0!==this.props.stickyTop?`${this.props.stickyTop}px`:void 0}},l.a.createElement("button",{type:"button",className:br()(Hi.b.CONTROLS_CORNER_BUTTON,{danger:r&&e}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!o&&l.a.createElement("div",{className:Hi.b.CORNER_CONTROLS_INSERT_ROW_MARKER},l.a.createElement("div",{className:Hi.b.CONTROLS_INSERT_MARKER})),!n&&l.a.createElement("div",{className:Hi.b.CORNER_CONTROLS_INSERT_COLUMN_MARKER},l.a.createElement("div",{className:Hi.b.CONTROLS_INSERT_MARKER})))}}hd.displayName="CornerControls";class md extends a.Component{constructor(...e){super(...e),s()(this,"hoverRows",(e=>this.props.tableActive?this.props.hoverRows([e]):null)),s()(this,"selectRow",((e,t)=>{const{tableActive:n,editorView:o,selectRow:r}=this.props;if(!n&&t.target&&t.target instanceof Node){
const{doc:e,selection:n,tr:r}=o.state,i=o.posAtDOM(t.target,1),s=e.resolve(i),a=n.head>i?c.Selection.near(e.resolve(i+(s.parent.nodeSize-3)),-1):c.Selection.near(s);o.dispatch(r.setSelection(a))}r(e,t.shiftKey)})),s()(this,"clearHoverSelection",(()=>{const{tableActive:e,editorView:t}=this.props;if(e){const{state:e,dispatch:n}=t;Wl()(e,n)}})),s()(this,"getClassNames",(e=>{const{hoveredRows:t,editorView:n,isInDanger:o,isResizing:r}=this.props,i=Object(ms.b)(e)(n.state.selection)||-1!==(t||[]).indexOf(e)&&!r;return[Hi.b.NUMBERED_COLUMN_BUTTON,i?Hi.b.HOVERED_CELL_ACTIVE:"",i&&o?Hi.b.HOVERED_CELL_IN_DANGER:""].join(" ")}))}render(){const{tableRef:e,hasHeaderRow:t}=this.props,n=Object(Lc.d)(e);return l.a.createElement("div",{className:Hi.b.NUMBERED_COLUMN,style:{marginTop:t&&void 0!==this.props.stickyTop?n[0]:void 0}},n.map(((e,n)=>l.a.createElement("div",{key:`wrapper-${n}`,className:this.getClassNames(n),"data-index":n,style:{height:e,
top:void 0!==this.props.stickyTop&&t&&0===n?`${this.props.stickyTop}px`:void 0},onClick:e=>this.selectRow(n,e),onMouseOver:()=>this.hoverRows(n),onMouseOut:this.clearHoverSelection},t?n>0?n:null:n+1))))}}md.displayName="NumberColumn";class fd extends a.Component{constructor(...e){super(...e),s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;Wl()(e,t)}))}render(){const{editorView:e,tableRef:t,hoveredRows:n,isInDanger:o,isResizing:r}=this.props;if(!t)return null;const{selection:i}=e.state,s=Object(Lc.d)(t),a=Object(Lc.e)(s),c=t.querySelector("tr"),d=!!c&&c.getAttribute("data-header-row");return l.a.createElement("div",{className:Hi.b.ROW_CONTROLS},l.a.createElement("div",{className:Hi.b.ROW_CONTROLS_INNER},a.map((({startIndex:e,endIndex:t,height:a},c)=>{let u=-1;1===c&&d&&void 0!==this.props.stickyTop&&(u+=s[c-1]+ql.q);const p=void 0!==this.props.stickyTop&&0===c&&d;return l.a.createElement("div",{
className:`${Hi.b.ROW_CONTROLS_BUTTON_WRAP} ${Object(Lc.b)(e,i,n,o,r)} ${p?"sticky":""}`,key:e,style:{height:a,marginTop:`${u}px`,top:p?`${this.props.stickyTop+3}px`:void 0,paddingTop:p?`${ql.l}px`:void 0}},l.a.createElement("button",{type:"button",className:`${Hi.b.ROW_CONTROLS_BUTTON}\n                  ${Hi.b.CONTROLS_BUTTON}\n                `,onClick:t=>this.props.selectRow(e,t.shiftKey),onMouseOver:()=>this.props.hoverRows([e]),onMouseOut:this.clearHoverSelection,"data-start-index":e,"data-end-index":t}),l.a.createElement("div",{className:Hi.b.CONTROLS_INSERT_MARKER}))}))))}}fd.displayName="RowControls";class bd extends a.Component{constructor(...e){super(...e),s()(this,"selectRow",((e,t)=>{const{editorView:n}=this.props,{state:o,dispatch:r}=n;11===Ll.a.ie_version&&n.dom.blur(),((e,t)=>Object(zi.a)((t=>{let n;const o=Object(Wi.a)(e)(t.tr.selection);return o&&o.length&&(n=o[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}
}),(n=>vs(e,t)(n).setMeta("addToHistory",!1))))(e,t)(o,r)})),s()(this,"hoverRows",((e,t)=>{const{state:n,dispatch:o}=this.props.editorView;Hl(e,t)(n,o)}))}componentDidMount(){this.tryInitResizeObserver()}componentDidUpdate(){this.tryInitResizeObserver()}tryInitResizeObserver(){var e;let{tableRef:t,tableRenderOptimization:n}=this.props;n&&t&&!this.resizeObserver&&(null===(e=window)||void 0===e?void 0:e.ResizeObserver)&&(this.resizeObserver=new ResizeObserver((e=>{for(let t of e){const e=t.contentRect.height;this.setState({tableHeight:e})}})),this.resizeObserver.observe(t))}shouldComponentUpdate(e,t){var n;const{tableRef:o,isInDanger:r,isResizing:i,isHeaderRowEnabled:s,isNumberColumnEnabled:a,hoveredRows:l,selection:c,tableActive:d,isHeaderColumnEnabled:u,ordering:p,headerRowHeight:h,stickyHeader:m,tableRenderOptimization:f}=this.props,b=f?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,g=f?null==t?void 0:t.tableHeight:e.tableHeight
;return p!==e.ordering||o!==e.tableRef||b!==g||d!==e.tableActive||r!==e.isInDanger||i!==e.isResizing||l!==e.hoveredRows||s!==e.isHeaderRowEnabled||u!==e.isHeaderColumnEnabled||a!==e.isNumberColumnEnabled||((e,t)=>!(t||!e)||Object(ds.a)(e,"cell")!==Object(ds.a)(t,"cell")||Object(ds.a)(e,"cell")&&Object(ds.a)(t,"cell")&&e.ranges!==t.ranges)(c,e.selection)||h!==e.headerRowHeight||m!==e.stickyHeader}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isNumberColumnEnabled:r,isHeaderRowEnabled:i,isHeaderColumnEnabled:s,tableActive:a,hasHeaderRow:c,hoveredRows:d,stickyHeader:u}=this.props;if(!t)return null;const p=u&&u.sticky?u.top:void 0;return l.a.createElement("div",{onMouseDown:e=>e.preventDefault()},r?l.a.createElement(md,{editorView:e,hoverRows:this.hoverRows,tableRef:t,tableActive:a,hoveredRows:d,hasHeaderRow:c,isInDanger:n,isResizing:o,selectRow:this.selectRow,stickyTop:p
}):null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(hd,{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isHeaderRowEnabled:i,isHeaderColumnEnabled:s,hoveredRows:d,stickyTop:a?p:void 0}),l.a.createElement(fd,{editorView:e,tableRef:t,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:n,isResizing:o,selectRow:this.selectRow,stickyTop:a?p:void 0})))}}function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){vd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vd(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bd.displayName="TableFloatingControls",s()(bd,"displayName","TableFloatingControls");const Od=11===Ll.a.ie_version,jd=()=>l.a.createElement("div",{style:{position:"absolute",top:"30px"}}," ");class wd extends l.a.Component{constructor(e){var t;super(e),s()(this,"state",{scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0}),s()(this,"onStickyState",(e=>{const t=this.props.getPos();if(!Object(An.e)(t,this.props.view.state))return;const n=Tc(e,t);n!==this.state.stickyHeader&&this.setState({stickyHeader:n})})),s()(this,"prevTableState",null),s()(this,"getMarginLeft",(e=>{const{containerWidth:t}=this.props,{lineLength:n}=t;let o;if("inherit"!==e&&n){const t=Object(L.e)(e);t&&(o=(n-t)/2)}return o})),s()(this,"handleScroll",(e=>{if(this.wrapper&&e.target===this.wrapper){if(this.table){const e=this.table.querySelectorAll("tr[data-header-row]");for(let t=0;t<e.length;t++){
const n=e[t];n.scrollLeft=this.wrapper.scrollLeft,n.style.marginRight="2px"}}this.updateShadows()}})),s()(this,"handleTableResizing",(()=>{const{getNode:e,containerWidth:t,options:n}=this.props,o=this.node,r=e(),i=o.attrs,s=i.layout!==r.attrs.layout&&i.__autoSize===r.attrs.__autoSize,a=this.getParentNodeWidth(),l=a&&a!==this.state.parentWidth,c=this.tableNodeLayoutSize(r,t.width,n);(s||l||i.isNumberColumnEnabled!==r.attrs.isNumberColumnEnabled||Object(Gs.i)(r,o)||c!==this.layoutSize)&&(this.scaleTable({parentWidth:a,layoutChanged:s}),this.updateParentWidth(a)),this.updateTableContainerWidth(),this.node=r,this.containerWidth=t,this.layoutSize=c})),s()(this,"scaleTable",(e=>{const{view:t,getNode:n,getPos:o,containerWidth:r,options:i}=this.props,s=n(),{state:a,dispatch:l}=t,c=o();if(!Object(An.e)(c,a))return;const d=t.domAtPos.bind(t),{width:u}=r;this.frameId&&window&&window.cancelAnimationFrame(this.frameId),cd(this.table,yd(yd({},e),{},{node:s,prevNode:this.node||s,start:c+1,
containerWidth:u,previousContainerWidth:this.containerWidth.width||u},i),d)(a,l)})),s()(this,"handleAutoSize",(()=>{if(this.table){const{view:e,getNode:t,getPos:n,options:o,containerWidth:r}=this.props,i=t(),s=n();if(!Object(An.e)(s,e.state))return;((e,t,n,o,r)=>{e.dispatch(Vs(e,t,n,o,r))})(e,i,this.table,s,{dynamicTextSizing:o&&o.dynamicTextSizing||!1,containerWidth:r.width})}})),s()(this,"handleWindowResize",(()=>{const{getNode:e,containerWidth:t}=this.props,n=this.tableNodeLayoutSize(e());if(t.width>n)return;const o=this.getParentNodeWidth();this.frameId=this.scaleTableDebounced(o)})),s()(this,"updateTableContainerWidth",(()=>{const{getNode:e,containerWidth:t,options:n}=this.props,o=e();if(n&&!1===n.isBreakoutEnabled)return;const r=Object(Ss.b)(o.attrs.layout,t.width);if(this.state.tableContainerWidth===r)return null;this.setState((e=>n&&!1===n.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:r}))})),
s()(this,"getParentNodeWidth",(()=>{const{getPos:e,containerWidth:t,options:n,view:{state:o}}=this.props,r=e();if(Object(An.e)(r,o))return _c(r,o,t,n&&n.isFullWidthModeEnabled)})),s()(this,"updateParentWidth",(e=>{this.setState({parentWidth:e})})),s()(this,"tableNodeLayoutSize",((e,t,n)=>Ts(e.attrs.layout,t||this.props.containerWidth.width,n||this.props.options||{}))),s()(this,"scaleTableDebounced",Object(Vl.a)(this.scaleTable)),s()(this,"handleTableResizingDebounced",Object(Vl.a)(this.handleTableResizing)),s()(this,"handleScrollDebounced",Object(Vl.a)(this.handleScroll)),s()(this,"handleAutoSizeDebounced",Object(Vl.a)(this.handleAutoSize)),s()(this,"handleWindowResizeDebounced",Object(Vl.a)(this.handleWindowResize));const{options:n,containerWidth:o,getNode:r,view:i}=e;this.node=r(),this.containerWidth=o;const a=!!n&&n.dynamicTextSizing,l=!!n&&n.wasFullWidthModeEnabled;this.layoutSize=this.tableNodeLayoutSize(this.node,o.width,{dynamicTextSizing:a,isFullWidthModeEnabled:l}),
"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((e=>{document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")}));const{pluginConfig:c}=Object(zi.c)(i.state);null!==(t=c.initialRenderOptimization)&&void 0!==t&&t||requestAnimationFrame((()=>{this.setState({isLoading:!1})}))}componentDidMount(){const{allowColumnResizing:e,eventDispatcher:t}=this.props;e&&this.wrapper&&!Od&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),e&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.frameId=this.handleTableResizingDebounced(this.props));const n=Pc.getState(this.props.view.state);n&&this.onStickyState(n),t.on(Pc.key,this.onStickyState)}componentWillUnmount(){this.wrapper&&!Od&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),
this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.frameId&&window&&window.cancelAnimationFrame(this.frameId),this.props.eventDispatcher.off(Pc.key,this.onStickyState)}updateShadows(){if(this.wrapper&&this.wrapper.parentElement){const e=this.wrapper.parentElement.querySelectorAll(`.${Hi.b.TABLE_RIGHT_SHADOW}`),t=this.wrapper.parentElement.querySelectorAll(`.${Hi.b.TABLE_LEFT_SHADOW}`);Rc(this.wrapper,this.table,e,t)}}componentDidUpdate(e){this.updateShadows();const t=this.props.getNode();if(t.attrs.__autoSize)this.handleAutoSizeDebounced();else if(this.props.allowColumnResizing&&this.table){const n=this.node;if(Object(Gs.h)(t,n)||Object(Gs.i)(t,n)){const{view:e}=this.props;fc(this.table,t),Fc(e.state)}this.frameId=this.handleTableResizingDebounced(e)}}render(){
const{view:e,getNode:t,tableResizingPluginState:n,allowControls:o=!0,isHeaderRowEnabled:r,ordering:i,isHeaderColumnEnabled:s,tableActive:a,containerWidth:c,tableRenderOptimization:d}=this.props,{isLoading:u,tableContainerWidth:p}=this.state,h=t(),{isInDanger:m,hoveredRows:f,pluginConfig:b}=Object(zi.c)(e.state),g=this.table||void 0,y=!!n&&!!n.dragging,v=g?g.querySelector("tr[data-header-row]"):void 0,O=g&&!d?g.offsetHeight:void 0,j=l.a.createElement("div",{className:Hi.b.ROW_CONTROLS_WRAPPER},l.a.createElement(bd,{editorView:e,tableRef:g,tableActive:a,hoveredRows:f,isInDanger:m,isResizing:y,isNumberColumnEnabled:h.attrs.isNumberColumnEnabled,isHeaderRowEnabled:r,ordering:i,isHeaderColumnEnabled:s,hasHeaderRow:Object(Gs.d)(e.state,h),selection:e.state.selection,tableHeight:O,headerRowHeight:v?v.offsetHeight:void 0,stickyHeader:this.state.stickyHeader,tableRenderOptimization:d})),w=o&&(!u||b.initialRenderOptimization)&&a?-Le.T:Ss.g;return l.a.createElement("div",{style:{width:p,
marginLeft:this.getMarginLeft(p)},className:br()(Hi.b.TABLE_CONTAINER,{[Hi.b.WITH_CONTROLS]:o&&a,[Hi.b.TABLE_STICKY]:this.state.stickyHeader,[Hi.b.HOVERED_DELETE_BUTTON]:m,[Hi.b.TABLE_SELECTED]:Object(ms.c)(e.state.selection),"less-padding":c.width<Le.w}),"data-number-column":h.attrs.isNumberColumnEnabled,"data-layout":h.attrs.layout},l.a.createElement(jd,null),o&&(!u||b.initialRenderOptimization)&&j,l.a.createElement("div",{className:Hi.b.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&l.a.createElement("div",{className:`${Hi.b.TABLE_LEFT_SHADOW} ${Hi.b.TABLE_STICKY_SHADOW}`,style:{top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+w+2}px`}}),l.a.createElement("div",{className:br()(Hi.b.TABLE_NODE_WRAPPER),ref:e=>{if(this.wrapper=e,e){this.props.contentDOM(e);const t=e.querySelector("table");t!==this.table&&(this.table=t)}}}),l.a.createElement("div",{className:Hi.b.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&l.a.createElement("div",{style:{position:"absolute",
right:"-2px"}},l.a.createElement("div",{className:`${Hi.b.TABLE_RIGHT_SHADOW} ${Hi.b.TABLE_STICKY_SHADOW}`,style:{top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+w+2}px`}})))}}wd.displayName="TableComponent",s()(wd,"displayName","TableComponent");var kd=wd;const Ed=e=>({"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize});class Sd extends Fr.a{constructor(e){super(e.node,e.view,e.getPos,e.portalProviderAPI,e.eventDispatcher,e),s()(this,"getNode",(()=>this.node)),this.getPos=e.getPos,this.editorView=e.view,this.tableRenderOptimization=e.tableRenderOptimization}getContentDOM(){var e;const t=Ve.DOMSerializer.renderSpec(document,((e,t)=>{let n="";return t.allowColumnResizing&&(n=["colgroup",{},...mc(e)]),["table",Ed(e),n,["tbody",0]]})(this.node,this.reactComponentProps));return t.dom&&(this.table=t.dom),
this.tableRenderOptimization&&this.table&&!this.resizeObserver&&(null===(e=window)||void 0===e?void 0:e.ResizeObserver)&&(this.resizeObserver=new ResizeObserver((e=>{for(let t of e){const e=t.contentRect?t.contentRect.height:t.target.offsetHeight,n=t.contentRect?t.contentRect.width:t.target.offsetWidth;ia(e,n)(this.editorView.state,this.editorView.dispatch)}})),this.resizeObserver.observe(this.table)),t}setDomAttrs(e){if(!this.table)return;const t=Ed(e);Object.keys(t).forEach((e=>{this.table.setAttribute(e,t[e])}))}render(e,t){return l.a.createElement(p.a,{plugins:{containerWidth:h.b,pluginState:zi.d,tableResizingPluginState:hc.a},editorView:e.view,render:n=>{const{tableResizingPluginState:o,pluginState:r,containerWidth:i}=n,s=e.getPos()===r.tablePos;return l.a.createElement(kd,{view:e.view,allowColumnResizing:e.allowColumnResizing,eventDispatcher:e.eventDispatcher,getPos:e.getPos,options:e.options,allowControls:r.pluginConfig.allowControls,isHeaderRowEnabled:r.isHeaderRowEnabled,
isHeaderColumnEnabled:r.isHeaderColumnEnabled,tableActive:s,ordering:r.ordering,tableResizingPluginState:o,getNode:this.getNode,containerWidth:i,contentDOM:t,tableRenderOptimization:e.tableRenderOptimization})}})}viewShouldUpdate(e){if(this.tableRenderOptimization){const t=this.getNode();if(typeof t.attrs!=typeof e.attrs)return!0;const n=Object.keys(t.attrs),o=Object.keys(e.attrs);return n.length!==o.length||n.some((n=>t.attrs[n]!==e.attrs[n]))}return super.viewShouldUpdate(e)}ignoreMutation(){return!0}destroy(){this.resizeObserver&&this.resizeObserver.disconnect()}}Sd.displayName="TableView";const _d=(e,t,n)=>{if(Object(ms.c)(e.selection)){const o=Object(Ui.c)(e.selection);if(o){const r="string"==typeof t?new Ve.Slice(Ve.Fragment.from(e.schema.text(t)),0,0):t;let i=e.tr.replace(o.pos,o.pos+o.node.nodeSize,r);i.setSelection(c.TextSelection.create(i.doc,o.pos+r.size+1));const{totalRowCount:s,totalColumnCount:a}=Ja(e.selection);return Object(ct.a)(e,i,{action:cs.a.REPLACED,
actionSubject:lt.b.TABLE,attributes:{totalColumnCount:a,totalRowCount:s,inputMethod:n},eventType:lt.d.TRACK}),i}}return e.tr};var Cd=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/default-table-selection.js");class xd{constructor(e,t,n,o,r){this.view=t,this.node=e;const{dom:i,contentDOM:s}=Ve.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e));this.getPos=n,this.dom=i,this.contentDOM=s,o&&r&&(this.contentDOM.id=Rl()(),this.mouseMoveOptimization=o,this.observer=r,r.observe(this.contentDOM))}shouldRecreateNodeView(e){if(this.node.type!==e.type)return!1;const t=Object(Ri.a)(this.node),n=Object(Ri.a)(e),o=Object.entries(n).filter((([e,n])=>t[e]!==n)),r=Object.keys(t).filter((e=>!n.hasOwnProperty(e)));return o.length||r.length?(o.forEach((([e,t])=>this.dom.setAttribute(e,t||""))),r.forEach((e=>this.dom.removeAttribute(e))),!0):!!this.node.sameMarkup(e)}update(e){const t=this.shouldRecreateNodeView(e);return this.node=e,t}destroy(){
this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}function Td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Td(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Id,Md,Dd,Nd;const Rd=`th, td, .${Hi.b.TABLE_HEADER_CELL}, .${Hi.b.TABLE_CELL}`,Ld=(e,t,n,o,r,i,s,a)=>{var l;Id=i,Md=r,Dd=s,Nd=a;const d=Object(zi.b)(e,Pd({pluginConfig:o,insertColumnButtonIndex:void 0,
insertRowButtonIndex:void 0,isFullWidthModeEnabled:Dd,isHeaderRowEnabled:!!o.allowHeaderRow,isHeaderColumnEnabled:!1},Cd.a));let u={};const p=(null===(l=window)||void 0===l?void 0:l.ResizeObserver)?new ResizeObserver((e=>{e.forEach((e=>{e.target.id||(e.target.id=Rl()()),u[e.target.id]=e.contentRect}))})):void 0,h=window.requestIdleCallback||window.requestAnimationFrame,m=window.cancelIdleCallback||window.cancelAnimationFrame;let f;const g=o.tableCellOptimization?{tableCell:(e,t,n)=>{var r;return new xd(e,t,n,null!==(r=null==o?void 0:o.mouseMoveOptimization)&&void 0!==r&&r,p)},tableHeader:(e,t,n)=>{var r;return new xd(e,t,n,null!==(r=null==o?void 0:o.mouseMoveOptimization)&&void 0!==r&&r,p)}}:{};return new c.Plugin({state:d,key:zi.d,appendTransaction:(e,t,n)=>{const o=e.find((e=>"cut"===e.getMeta("uiEvent")));if(o){const e=((e,t,n)=>{const o=t.tr.selection;let{tr:r}=n;if(o instanceof q.a){
const i=e.doc.resolve(e.mapping.map(o.$anchorCell.pos)),s=e.doc.resolve(e.mapping.map(o.$headCell.pos)),a=new q.a(i,s);if(r.setSelection(a),r.selection instanceof q.a){const e=Object($i.a)(a);if(e){const{verticalCells:o,horizontalCells:i,totalCells:s,totalRowCount:a,totalColumnCount:l}=Za(r.selection);if(r=Object(ct.a)(n,r,{action:cs.a.CUT,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{verticalCells:o,horizontalCells:i,totalCells:s,totalRowCount:a,totalColumnCount:l},eventType:lt.d.TRACK}),r.selection instanceof q.a)if(r.selection.isRowSelection()&&r.selection.isColSelection())r=hs(r);else if(r.selection.isRowSelection()){const{pluginConfig:{isHeaderRowRequired:t}}=Object(zi.c)(n);r=Fa(e,t)(r)}else r.selection.isColSelection()&&(r=Xa(e,Object(Qa.a)(t))(r))}}}return r})(o,t,n);return Ws(e)||e}if(e.find((e=>e.docChanged)))return Ws(n.tr)},view:e=>{const t=e.domAtPos.bind(e);return o.mouseMoveOptimization&&!o.tableCellOptimization&&(f=h((()=>{
document.querySelectorAll(Rd).forEach((e=>{null==p||p.observe(e)}))}))),{update:e=>{const{state:n,dispatch:o}=e,{selection:r}=n,i=Object(zi.c)(n);let s,a;if(i.editorHasFocus){const e=Object(b.findParentDomRefOfType)(n.schema.nodes.table,t)(r);e&&(s=e.querySelector("table")),a=Object(Ui.c)(n.selection)}if(i.tableRef!==s&&(e=>Object(zi.a)((t=>{const n=e||void 0,o=Object(Ui.c)(t.selection),r=e&&o?o.node:void 0,i=e&&o?o.pos:void 0,s=Object(L.b)(n,`.${Hi.b.TABLE_NODE_WRAPPER}`)||void 0,a=r?r.attrs.layout:void 0,l=Ys(t,Xi(t.selection),Hi.c.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:r,tablePos:i,tableWrapperTarget:s,layout:a||"default",isHeaderRowEnabled:Object(Gs.b)(t),isHeaderColumnEnabled:Object(Gs.a)(t),decorationSet:l,resizeHandleColumnIndex:void 0}}}),(e=>e.setMeta("addToHistory",!1))))(s)(n,o),i.tableNode!==a&&nc(s),i.editorHasFocus&&i.tableRef){const{$cursor:e}=n.selection;if(e){
const e=Object(b.findParentNodeOfType)(n.schema.nodes.tableHeader)(n.selection);e&&(e=>(t,n)=>{const{tr:o}=t;if(Object(ho.s)(o.selection)&&o.selection.$cursor&&null==o.storedMarks&&o.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(Os.e)(e.node.firstChild,t.schema)){const{strong:e}=t.schema.marks;return o.setStoredMarks([e.create()]).setMeta("addToHistory",!1),n&&n(o),!0}return!1})(e)(n,o)}}},destroy:()=>{p&&p.disconnect(),f&&m(f)}}},props:{handleClick:({state:e,dispatch:t},n,o)=>{const r=is.getState(e);if(qi(r).length&&Wl()(e,t),Ll.a.chrome&&o.target){const e=o.target.classList;if(e.contains(Hi.b.CONTROLS_BUTTON)||e.contains(Hi.b.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:e=>{const{tableHeader:t}=e.state.schema.nodes,n=Object(b.findParentDomRefOfType)(t,e.domAtPos.bind(e))(e.state.selection),o=Object(L.b)(n,"tr");return!!o&&o.classList.contains("sticky")},handleTextInput:({state:e,dispatch:t},n,o,r)=>{const i=_d(e,r,lt.e.KEYBOARD)
;return!!i.selectionSet&&(t(i),!0)},nodeViews:Pd(Pd({},g),{},{table:(e,o,r)=>((e,t,n,o,r,i)=>{const{pluginConfig:s}=Object(zi.c)(t.state),{allowColumnResizing:a,tableRenderOptimization:l}=Fi(s);return new Sd({node:e,view:t,allowColumnResizing:a,portalProviderAPI:o,eventDispatcher:r,getPos:n,options:i,tableRenderOptimization:l}).init()})(e,o,r,t,n,{isBreakoutEnabled:Id,dynamicTextSizing:Md,isFullWidthModeEnabled:Dd,wasFullWidthModeEnabled:Nd})}),handleDOMEvents:{focus:rc,blur:oc,mousedown:ac,mouseover:pc(sc),mouseleave:pc(cc),mouseout:pc(lc),mousemove:pc(dc,u),click:pc(ic)},handleTripleClick:uc}})};var Bd=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/utils.js");function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?Fd(Object(n),!0).forEach((function(t){Ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{createPluginState:Hd,createCommand:$d}=Object(go.a)(Pc,((e,t)=>{if("UPDATE"===t.name){let n=!1;const o=e.map((e=>{const o=e.pos===t.state.pos;return o&&(n=!0),o?t.state:e}));return n||o.push(t.state),o}return"REMOVE"===t.name?e.filter((e=>e.pos!==t.pos)):e}),{mapping:(e,t)=>e.docChanged?t.map((t=>{const n=e.mapping.mapResult(t.pos);return n?zd(zd({},t),{},{pos:n.pos}):void 0})).filter((e=>void 0!==e)):t}),Wd=e=>$d({name:"UPDATE",state:e},(e=>e.setMeta("addToHistory",!1))),Vd=e=>{const t=e.parentElement;if(!t)return null;const n=t.parentElement;if(!n)return null;const o=n.parentElement;return o?{
wrapper:o,table:n}:null},Kd=e=>!e||e instanceof Window?0:e.getBoundingClientRect().top,qd=e=>{const t=Object(Qe.c)(e,(e=>"tableHeader"===e.type.name)).every(Boolean),n=Object(Qe.c)(e,(e=>e.attrs.rowspan||0)).some((e=>e>1));return t&&!n};class Gd{constructor(e,t,n,o){s()(this,"colControlsOffset",0),s()(this,"focused",!1),s()(this,"scrollElementTop",0),s()(this,"isSticky",!1),s()(this,"listening",!1),s()(this,"onScroll",(()=>{const e=Vd(this.dom);e&&(this.latestDomTop=Kd(e.wrapper),this.nextFrame||this.loop())})),s()(this,"loop",(()=>{this.nextFrame=window.requestAnimationFrame((()=>{if(this.previousDomTop===this.latestDomTop&&this.previousPadding===this.padding)return void(this.nextFrame=void 0);const e=Vd(this.dom);e?(this.paint(e),this.previousPadding=this.padding,this.previousDomTop=this.latestDomTop,this.loop()):this.nextFrame=void 0}))})),s()(this,"paint",(e=>{const{table:t,wrapper:n}=e;this.shouldHeaderStick(e)?this.makeHeaderRowSticky(e):this.makeRowHeaderNotSticky(t),
this.dom.scrollLeft=n.scrollLeft})),s()(this,"onTablePluginState",(e=>{const t=e.tableRef,n=Vd(this.dom);if(!n)return;const o=t===n.table;this.focused=o;const{wrapper:r}=n,i=r.parentElement.parentElement,s=i&&i.parentElement;o?(this.colControlsOffset=ql.l,s&&s.getAttribute("data-layout-content")&&(i.style.paddingLeft="11px")):(this.colControlsOffset=0,s&&s.getAttribute("data-layout-content")&&i.style.removeProperty("padding-left")),setTimeout((()=>{this.paint(n),zc(n.table)}),0)})),s()(this,"onWidthPluginState",(()=>{const e=Vd(this.dom);e&&zc(e.table)})),s()(this,"shouldHeaderStick",(e=>{const{wrapper:t}=e,n=this.scrollElementTop,o=this.getWrapperRefTop(t),r=t.getBoundingClientRect(),i=!this.dom.previousElementSibling,s=!!this.dom.nextElementSibling,a=n-r.bottom<this.dom.clientHeight;return o<=n&&a&&i&&s})),s()(this,"makeHeaderRowSticky",(e=>{const{table:t}=e,n=this.getCurrentTableTop(e)>0?this.scrollElementTop:this.scrollElementTop+this.getCurrentTableTop(e);this.isSticky||(zc(t),
this.dom.classList.add("sticky"),t.classList.add(Hi.b.TABLE_STICKY),this.isSticky=!0),this.dom.style.top=`${n}px`,(e=>{const t=e.querySelector("tr.sticky");if(!t)return void(e.style.marginTop="");const n=Object(L.e)(window.getComputedStyle(t).paddingTop||"")||0,o=t.clientHeight-n-2;e.style.marginTop=`${Ll.a.gecko?o+Ss.e-Ss.c:Ss.h+o}px`})(t),this.emitOn(n,this.colControlsOffset)})),s()(this,"getWrapperoffset",((e=!1)=>(e?!this.focused:this.focused)?0:ql.l)),s()(this,"getWrapperRefTop",(e=>Math.round(Kd(e))+this.getWrapperoffset())),s()(this,"getScrolledTableTop",(e=>this.getWrapperRefTop(e)-this.scrollElementTop)),s()(this,"getCurrentTableTop",(e=>this.getScrolledTableTop(e.wrapper)+e.table.clientHeight)),s()(this,"makeRowHeaderNotSticky",(e=>{this.isSticky&&(this.dom.style.removeProperty("width"),this.dom.classList.remove("sticky"),e.classList.remove(Hi.b.TABLE_STICKY),this.isSticky=!1,this.dom.style.top="",e.style.removeProperty("margin-top"),this.emitOff())})),s()(this,"padding",0),
s()(this,"top",0),s()(this,"emitOn",((e,t)=>{e===this.top&&t===this.padding||(this.top=e,this.padding=t,Wd({pos:this.getPos(),top:e,sticky:!0,padding:t})(this.view.state,this.view.dispatch,this.view))})),s()(this,"emitOff",(()=>{0===this.top&&0===this.padding||(this.top=0,this.padding=0,Wd({pos:this.getPos(),sticky:!1,top:this.top,padding:this.padding})(this.view.state,this.view.dispatch,this.view))})),this.view=t,this.node=e,this.getPos=n,this.eventDispatcher=o,this.dom=document.createElement("tr"),this.contentDOM=this.dom,this.isHeaderRow=qd(e),this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}subscribe(){this.scrollElement=Object(Bd.c)(this.view.dom)||window,this.scrollElement&&(this.scrollElement.addEventListener("scroll",this.onScroll),this.scrollElementTop=Kd(this.scrollElement)),this.eventDispatcher.on(h.b.key,this.onWidthPluginState),this.eventDispatcher.on(zi.d.key,this.onTablePluginState),this.listening=!0}unsubscribe(){
this.listening&&(this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off(h.b.key,this.onWidthPluginState),this.eventDispatcher.off(zi.d.key,this.onTablePluginState),this.listening=!1)}update(e,...t){if(e===this.node)return!0;const n=qd(e);if(this.isHeaderRow!==n)return!1;if(this.node=e,!this.isHeaderRow)return!0;const o=this.dom.parentElement,r=o&&o.parentElement;return zc(r),!0}destroy(){this.unsubscribe();const e=Vd(this.dom);e&&this.makeRowHeaderNotSticky(e.table),this.emitOff()}ignoreMutation(e){return!("selection"===e.type&&"TR"===e.target.tagName)}}var Yd=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/editor-disabled/index.js");const Xd=(e,t,n,o,r)=>{const i=n>0?((e,t,n,o)=>{if(!e.cols[t+1])return e;const r=ed(e,t+1,t,n),i=n-r.amount;let s=r.state;return i>0&&(s=td(s,t,i).state),o?Yc(s,o,t):s})(e,t,n,r):n<0?((e,t,n,o)=>{const r=ed(e,t,t+1,-n);let i=r.state;const s=Kc(i)>i.maxSize;if(!i.cols[t+1]&&!s)return i
;const a=n+r.amount;return a<0&&(i=td(i,t+1,a).state),o?Yc(i,o,t):i})(e,t,n,r):e;return((e,t)=>{const n=t.querySelectorAll("col");e.cols.filter((e=>e&&!!e.width)).forEach(((e,t)=>{n[t]&&(n[t].style.width=`${e.width}px`)})),zc(t)})(i,o),i},Jd=(e,t,n,o)=>{const{state:r,dispatch:i}=e,{editorDisabled:s}=Yd.b.getState(r),a=e.domAtPos.bind(e);if(s||null===n||!Ps(r.doc.resolve(n)))return!1;t.preventDefault();const l=t.timeStamp,c=r.doc.nodeAt(n),d=r.doc.resolve(n),u=d.node(-1),p=d.start(-1);let m=a(p).node;for(;"TABLE"!==m.nodeName;)m=m.parentNode;const f=h.b.getState(r);let b=_c(p,r,f)||Ts(m.getAttribute("data-layout"),f.width,{dynamicTextSizing:o});u.attrs.isNumberColumnEnabled&&(b-=Le.Q);const g=Vc({minWidth:Ss.d,maxSize:b,table:u,tableRef:m,start:p,domAtPos:a});if((({resizeState:e,table:t,start:n,event:o})=>(r,i)=>{if(!Object(ms.c)(r.selection))return!1;const{lastClick:s}=Object(Kl.c)(r),a=Date.now();if(s&&a-s.time<500&&((e,t)=>{const n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100
})(o,s)){const o=Gc(e);return ud(null,(e=>Dc(o,t,n)(e)))(r,i),!0}return ud({x:o.clientX,y:o.clientY,time:a})(r,i),!1})({resizeState:g,table:u,start:p,event:t})(r,i))return v(t),!0;const y=function(e,t,{colspan:n,colwidth:o}){let r=o&&o[o.length-1];if(r)return r;let i=e.domAtPos(t+1).node.offsetWidth,s=n||0;if(o)for(let a=0;a<(n||0);a++)o[a]&&(i-=o[a],s--);return i/s}(e,n,c.attrs);function v(t){window.removeEventListener("mouseup",v),window.removeEventListener("mousemove",O);const{clientX:n}=t,{state:o,dispatch:r}=e,{dragging:i,resizeHandlePos:s}=Object(Kl.c)(o);if(null===s)return dd()(o,r);if(!Ps(o.doc.resolve(s)))return;const a=o.doc.resolve(s),c=a.start(-1),d=a.node(-1);if(i&&n===i.startX)return dd()(o,r);let{tr:p}=o;if(i){const{startX:e}=i;if(d.eq(u)){const r=ti.b.get(d),s=r.colCount(a.pos-c)+(a.nodeAfter?a.nodeAfter.attrs.colspan:1)-1,u=Object($i.a)(o.selection),h=u?pd(u):[],f=h.indexOf(s)>-1||h.indexOf(s+1)>-1,b=Xd(g,s,n-e,m,f?h:void 0);if(p=Dc(b,d,c)(p),s===r.width-1){
const e=t.timeStamp;p=Object(ct.a)(o,p,{action:cs.a.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:e-l,delta:Math.abs(n-i.startX)},eventType:lt.d.UI})}}return dd(p)(o,r)}}function O(t){const{clientX:n,which:o}=t,{state:r}=e,{dragging:i,resizeHandlePos:s}=Object(Kl.c)(r);if(!o||!i||null===s||!Ps(r.doc.resolve(s)))return v(t);const a=r.doc.resolve(s),l=a.node(-1),c=ti.b.get(l).colCount(a.pos-a.start(-1))+a.nodeAfter.attrs.colspan-1;Xd(g,c,n-i.startX,m),Fc(r),nc(m)}return((e,t)=>Object(Kl.a)({type:"SET_DRAGGING",data:{dragging:e}},(e=>t||e)))({startX:t.clientX,startWidth:y})(r,i),window.addEventListener("mouseup",v),window.addEventListener("mousemove",O),!0};function Zd(e,{lastColumnResizable:t=!0,dynamicTextSizing:n=!1}){return new c.Plugin({key:hc.a,state:Object(Kl.b)(e,{lastColumnResizable:t,dynamicTextSizing:n,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes(e){
const t=Object(Kl.c)(e);return{class:br()(Hi.b.RESIZING_PLUGIN,{[Hi.b.RESIZE_CURSOR]:null!==t.resizeHandlePos,[Hi.b.IS_RESIZING]:!!t.dragging})}},handleDOMEvents:{mousedown(e,t){const{state:o}=e,r=Object(Kl.c)(o).resizeHandlePos||((e,t,n)=>{const o=t.target;if(!Object(L.c)(o,Hi.b.RESIZE_HANDLE_DECORATION))return null;const r=Object(L.b)(o,"td, th");return r?e.posAtDOM(r,0)-1:null})(e,t),{dragging:i}=Object(Kl.c)(o);if(null!==r&&!i&&Jd(e,t,r,n)){const{state:t,dispatch:n}=e;return(e=>Object(Kl.a)({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}}))(r)(t,n)}return!1}}}})}const Qd=(e,t)=>{const n=Object(oi.a)(e.schema);return fa((({node:e})=>n[e.type.spec.tableRole]))(e,t)};var eu=Object(f.h)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",
description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."}}),tu=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/index.js"),nu=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/getColorMessage.js"),ou=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/paletteMessages.js");const ru=[];Ri.e.forEach(((e,t)=>{const n=e.toLowerCase().replace(" ","-"),o=Object(nu.a)(ou.a,n);ru.push({value:t,label:e,border:Ri.c,message:o})}));var iu=ru;function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cu=Object(f.h)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",
description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A \u2192 Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z \u2192 A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"\u26a0\ufe0f You can't sort a table with merged cells",description:"Split your cells to enable this feature"}});class du extends a.Component{constructor(...e){super(...e),s()(this,"state",{isSubmenuOpen:!1}),s()(this,"handleSubMenuRef",(e=>{const t=Object(L.b)(this.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(!t||!e)return;const n=t.getBoundingClientRect(),o=e.getBoundingClientRect()
;o.left+o.width>n.width&&(e.style.left=`-${o.width}px`)})),s()(this,"createItems",(()=>{const{allowMergeCells:e,allowColumnSorting:t,allowBackgroundColor:n,editorView:{state:o},isOpen:r,selectionRect:i,intl:{formatMessage:s},editorView:a}=this.props,c=[],{isSubmenuOpen:d}=this.state,{targetCellPosition:u}=Object(zi.c)(a.state);if(n){var p;const e=r&&u?o.doc.nodeAt(u):null,t=(null==e||null===(p=e.attrs)||void 0===p?void 0:p.background)||"#ffffff";c.push({content:s(cu.cellBackground),value:{name:"background"},elemAfter:l.a.createElement("div",null,l.a.createElement(We.c,{selectedColor:t,className:Hi.b.CONTEXTUAL_MENU_ICON}),d&&l.a.createElement("div",{className:Hi.b.CONTEXTUAL_SUBMENU,ref:this.handleSubMenuRef},l.a.createElement(tu.a,{cols:7,palette:iu,onClick:this.setColor,selectedColor:t})))})}c.push({content:s(eu.insertColumn),value:{name:"insert_column"},elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.addColumnAfter))}),c.push({content:s(eu.insertRow),value:{
name:"insert_row"},elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.addRowAfter))});const{top:h,bottom:m,right:f,left:b}=i,g=f-b,y=m-h;if(c.push({content:s(eu.removeColumns,{0:g}),value:{name:"delete_column"}}),c.push({content:s(eu.removeRows,{0:y}),value:{name:"delete_row"}}),e&&(c.push({content:s(cu.mergeCells),value:{name:"merge"},isDisabled:!Ia(o.tr)}),c.push({content:s(cu.splitCell),value:{name:"split"},isDisabled:!Qd(o)})),t){const e=Bl(o.tr).length>0?{tooltipDescription:s(cu.canNotSortTable),isDisabled:!0}:{};c.push(au({content:s(cu.sortColumnASC),value:{name:"sort_column_asc"}},e)),c.push(au({content:s(cu.sortColumnDESC),value:{name:"sort_column_desc"}},e))}return c.push({content:s(cu.clearCells,{0:Math.max(g,y)}),value:{name:"clear"},elemAfter:l.a.createElement(We.h,null,Object(Ie.tooltip)(Ie.backspace))}),c.length?[{items:c}]:null})),s()(this,"onMenuItemActivated",(({item:e})=>{
const{editorView:t,selectionRect:n}=this.props,{targetCellPosition:o}=Object(zi.c)(t.state),{state:r,dispatch:i}=t;switch(e.value.name){case"sort_column_desc":fl(lt.e.CONTEXT_MENU,n.left,Hi.a.DESC)(r,i),this.toggleOpen();break;case"sort_column_asc":fl(lt.e.CONTEXT_MENU,n.left,Hi.a.ASC)(r,i),this.toggleOpen();break;case"merge":nl()(r,i),this.toggleOpen();break;case"split":ol()(r,i),this.toggleOpen();break;case"clear":tl(lt.e.CONTEXT_MENU,o)(r,i),this.toggleOpen();break;case"insert_column":al(lt.e.CONTEXT_MENU,n.right)(r,i),this.toggleOpen();break;case"insert_row":sl(lt.e.CONTEXT_MENU,{index:n.bottom,moveCursorToInsertedRow:!0})(r,i),this.toggleOpen();break;case"delete_column":cl(lt.e.CONTEXT_MENU,n)(r,i),this.toggleOpen();break;case"delete_row":const{pluginConfig:{isHeaderRowRequired:e}}=Object(zi.c)(r);ll(lt.e.CONTEXT_MENU,n,!!e)(r,i),this.toggleOpen()}})),s()(this,"toggleOpen",(()=>{const{isOpen:e,editorView:{state:t,dispatch:n}}=this.props;Ca()(t,n),e||this.setState({isSubmenuOpen:!1
})})),s()(this,"handleOpenChange",(()=>{const{editorView:{state:e,dispatch:t}}=this.props;Ca()(e,t),this.setState({isSubmenuOpen:!1})})),s()(this,"handleItemMouseEnter",(({item:e})=>{const{editorView:{state:t,dispatch:n},selectionRect:o}=this.props;"background"===e.value.name&&(this.state.isSubmenuOpen||this.setState({isSubmenuOpen:!0})),"delete_column"===e.value.name&&Ul(pd(o),!0)(t,n),"delete_row"===e.value.name&&Hl((e=>{const t=[];for(let n=e.top;n<e.bottom;n++)t.push(n);return t})(o),!0)(t,n),["sort_column_asc","sort_column_desc"].indexOf(e.value.name)>-1&&0!==Bl(t.tr).length&&zl()(t,n)})),s()(this,"handleItemMouseLeave",(({item:e})=>{const{state:t,dispatch:n}=this.props.editorView;"background"===e.value.name&&this.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(e.value.name)>-1&&Wl()(t,n)})),s()(this,"closeSubmenu",(()=>{this.state.isSubmenuOpen&&this.setState({isSubmenuOpen:!1})})),s()(this,"setColor",(e=>{
const{editorView:t}=this.props,{targetCellPosition:n}=Object(zi.c)(t.state),{state:o,dispatch:r}=t;rl(e,n)(o,r),this.toggleOpen()}))}render(){const{isOpen:e,mountPoint:t,offset:n,boundariesElement:o}=this.props,r=this.createItems();return r?l.a.createElement("div",{onMouseLeave:this.closeSubmenu},l.a.createElement($e,{mountTo:t,items:r,isOpen:e,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:180,boundariesElement:o,offset:n})):null}}du.displayName="ContextualMenu",s()(du,"defaultProps",{boundariesElement:document.body});var uu=Object(f.i)(du);const pu=Object(f.h)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{
id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"}}),hu=e=>{const t=e.selection;return Object(ds.a)(t,"cell")?Object($i.a)(t):Object(Ui.b)(t.$from)},mu=(e,{formatMessage:t})=>{const n=zi.d.getState(e),o=hc.a.getState(e);if(n&&n.tableRef&&n.pluginConfig){const{pluginConfig:r}=n,i=((e,t,{formatMessage:n})=>{const o=[{title:n(pu.headerRow),onClick:pl(),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{title:n(pu.headerColumn),onClick:hl(),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{title:n(pu.numberedColumn),onClick:ml(),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn}];return{type:"dropdown",title:n(pu.tableOptions),hidden:o.every((e=>e.hidden)),options:o}})({allowHeaderRow:r.allowHeaderRow,allowHeaderColumn:r.allowHeaderColumn,
allowNumberColumn:r.allowNumberColumn},{isHeaderColumnEnabled:n.isHeaderColumnEnabled,isHeaderRowEnabled:n.isHeaderRowEnabled,isNumberColumnEnabled:Object(Gs.c)(e)},{formatMessage:t}),s=bu(r,e,{formatMessage:t});return{title:"Table floating controls",getDomRef:()=>n.tableWrapperTarget,nodeType:e.schema.nodes.table,offset:[0,3],items:[i,fu(i.hidden),...s,{type:"button",appearance:"danger",icon:Yo.a,onClick:ul(),disabled:!!o&&!!o.dragging,onMouseEnter:$l(!0),onMouseLeave:Wl(),title:t(C.a.remove)}]}}},fu=e=>({type:"separator",hidden:e}),bu=(e,t,{formatMessage:n})=>{if(e.allowCellOptionsInFloatingToolbar){const e=hu(t);if(e){const o=((e,t,{formatMessage:n})=>{const{top:o,bottom:r,right:i,left:s}=t,a=i-s,l=r-o,c=[{title:n(eu.insertColumn),onClick:(e,t)=>{const n=hu(e),o=null==n?void 0:n.right;return o&&al(lt.e.FLOATING_TB,o)(e,t),!0},selected:!1,disabled:!1},{title:n(eu.insertRow),onClick:(e,t)=>{const n=hu(e),o=null==n?void 0:n.bottom;return o&&sl(lt.e.FLOATING_TB,{index:o,
moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1},{title:n(eu.removeColumns,{0:a}),onClick:(e,t)=>{const n=hu(e);return n&&cl(lt.e.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1},{title:n(eu.removeRows,{0:l}),onClick:(e,t)=>{const n=hu(e);return n&&ll(lt.e.FLOATING_TB,n,!1)(e,t),!0},selected:!1,disabled:!1},{title:n(cu.mergeCells),onClick:nl(),selected:!1,disabled:!Ia(e.tr)},{title:n(cu.splitCell),onClick:ol(),selected:!1,disabled:!Qd(e)},{title:n(cu.clearCells,{0:Math.max(a,l)}),onClick:(e,t)=>{const{targetCellPosition:n}=Object(zi.c)(e);return tl(lt.e.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1}];return{type:"dropdown",title:n(eu.cellOptions),hidden:!0,options:c}})(t,e,{formatMessage:n});return[o,fu(o.hidden)]}}return[]
},gu=Object(k.css)(["> div{background:",";border-radius:","px;border:2px solid ",";display:flex;height:","px;flex-direction:column;}&& button{flex-direction:column;padding:0;height:100%;display:flex;}&& button > span{margin:0px -4px;}&& span{pointer-events:none;}"],"#F4F5F7",Object(ce.borderRadius)(),"#FFFFFF",14),yu=k.default.div(["",""],gu);class vu extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;this.props.isContextualMenuOpen||Ca()(e,t)}))}render(){const{mountPoint:e,scrollableElement:t,editorView:n,targetCellPosition:o,isContextualMenuOpen:r,intl:{formatMessage:i}}=this.props,s=n.domAtPos.bind(n),a=Object(b.findDomRefAtPos)(o,s);if(!(a&&a instanceof HTMLElement))return null;const c=Object(L.b)(a,`.${Hi.b.TABLE_NODE_WRAPPER}`),d=i(eu.cellOptions),u=l.a.createElement(yu,null,l.a.createElement(w.a,{className:Hi.b.CONTEXTUAL_MENU_BUTTON,selected:r,title:d,onClick:this.handleClick,
iconBefore:l.a.createElement(te.a,{label:d})})),p=a.parentElement&&a.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&p){const e=a.getBoundingClientRect();return l.a.createElement("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:Le.l,left:e.left+a.clientWidth-20-3}},u)}return l.a.createElement(g.a,{alignX:"right",alignY:"start",target:a,mountTo:c||e,boundariesElement:a,scrollableElement:t,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:Le.I},u)}shouldComponentUpdate(e){return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}vu.displayName="FloatingContextualButton",s()(vu,"displayName","FloatingContextualButton");var Ou=Object(f.i)(vu)
;const ju=Object(k.css)([".","{border-radius:","px;background:white;box-shadow:0 4px 8px -2px ",",0 0 1px ",";display:block;position:absolute;top:0;left:","px;padding:8px;> div{padding:0;}}.","{display:flex;&::before{content:'';display:block;border:1px solid ",";border-radius:","px;width:20px;height:20px;}&::after{content:'\u203a';margin-left:4px;line-height:20px;color:",";}}"],Hi.b.CONTEXTUAL_SUBMENU,Object(ce.borderRadius)(),"rgba(9, 30, 66, 0.31)","rgba(9, 30, 66, 0.31)",180,Hi.b.CONTEXTUAL_MENU_ICON,Ri.c,Object(ce.borderRadius)(),"#8993A4"),wu=k.default.div(["",""],ju),ku=(e,t)=>{const{tableRef:n}=zi.d.getState(t);let o=-16;if(n&&e){const t=e.getBoundingClientRect(),r=n.getBoundingClientRect();let i=t.top-r.top;i<200&&(o-=i+2)}return[8,o]},Eu=({mountPoint:e,boundariesElement:t,scrollableElement:n,editorView:o,isOpen:r,pluginConfig:i})=>{const{targetCellPosition:s}=Object(zi.c)(o.state);if(!r||!s||o.state.doc.nodeSize<=s)return null
;const{selection:a}=o.state,c=Object(ds.a)(a,"cell")?Object($i.a)(a):Object(Ui.b)(a.$from);if(!c)return null;const d=o.domAtPos.bind(o),u=Object(b.findDomRefAtPos)(s,d);return u?l.a.createElement(g.a,{alignX:"right",alignY:"top",target:u,mountTo:e,boundariesElement:t,scrollableElement:n,fitHeight:188,fitWidth:180,zIndex:Le.l,forcePlacement:!0,offset:[-7,0]},l.a.createElement(wu,null,l.a.createElement(uu,{editorView:o,offset:ku(u,o.state),isOpen:r,targetCellPosition:s,allowColumnSorting:i&&i.allowColumnSorting,allowMergeCells:i.allowMergeCells,allowBackgroundColor:i.allowBackgroundColor,selectionRect:c,boundariesElement:t}))):null};Eu.displayName="FloatingContextualMenu";var Su=Eu;var _u=Object(f.i)((({style:e,onClick:t,onMouseEnter:n,onMouseLeave:o,removeLabel:r,intl:{formatMessage:i}})=>l.a.createElement("div",{className:Hi.b.CONTROLS_DELETE_BUTTON_WRAP,style:e,onMouseEnter:n,onMouseLeave:o},l.a.createElement("button",{type:"button",title:i(r,{0:1}),
className:Hi.b.CONTROLS_DELETE_BUTTON,onMouseDown:t,onMouseMove:e=>e.preventDefault()},l.a.createElement("svg",{className:Hi.b.CONTROLS_BUTTON_ICON},l.a.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))));function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){Tu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}
return e}function Tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pu=ql.q+16+6;function Au({left:e,top:t,selectionType:n,tableWrapper:o}){switch(n){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,Pu],shouldRenderPopup(){if(t){const n=t.getBoundingClientRect().width+t.scrollLeft-16,o=t.scrollLeft;return n-e>0&&e>o}return!0}}}(e,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:e=>xu(xu({},e),{},{left:-Pu})}}(t);default:return{}}}function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){Du(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Nu extends a.Component{constructor(e){super(e),s()(this,"wrapper",null),s()(this,"updateWrapper",(()=>{const e=Object(L.b)(this.props.tableRef,`.${Hi.b.TABLE_NODE_WRAPPER}`);e?(this.wrapper=e,this.wrapper.addEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:e.scrollLeft})):(this.wrapper&&(this.wrapper.removeEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:0})),this.wrapper=null)})),s()(this,"onWrapperScrolled",(e=>{const t=e.target;this.setState({scrollLeft:t.scrollLeft})})),s()(this,"handleMouseEnter",(()=>{const{state:e,dispatch:t}=this.props.editorView;switch(this.state.selectionType){case"row":
return Hl(this.state.indexes,!0)(e,t,this.props.editorView);case"column":return Ul(this.state.indexes,!0)(e,t,this.props.editorView)}return!1})),s()(this,"handleMouseLeave",(()=>{const{state:e,dispatch:t}=this.props.editorView;return Wl()(e,t)})),s()(this,"handleClick",(()=>{let{state:e,dispatch:t}=this.props.editorView;const{pluginConfig:{isHeaderRowRequired:n}}=Object(zi.c)(e),o=Object($i.a)(e.selection);if(o)switch(this.state.selectionType){case"column":return void cl(lt.e.BUTTON,o)(e,t);case"row":return void ll(lt.e.BUTTON,o,!!n)(e,t)}({state:e,dispatch:t}=this.props.editorView),Wl()(e,t)})),this.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0}}shouldComponentUpdate(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}componentDidMount(){this.updateWrapper()}componentDidUpdate(){this.updateWrapper()}componentWillUnmount(){
this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}static getDerivedStateFromProps(e,t){const n=function(e){if(!Object(ms.c)(e)&&e instanceof q.a){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection),o=e.stickyHeaders&&e.stickyHeaders.sticky,r=Object($i.a)(e.selection),i=r&&0===r.top&&1===r.bottom,s=o&&i,a=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":{const t=((e,t)=>{const n=Object($i.a)(t);if(!n)return null;let o=0,r=0;for(let s=0;s<n.left;s++){const t=e[s];t&&(r+=t-1)}const i=[];for(let s=n.left;s<n.right;s++){const t=e[s];t&&(o+=t,i.push(s))}return{left:r+o/2-8,indexes:i}})((e=>{const{selection:t}=e.state;let n=[];const o=Object(Ui.c)(t);if(o){const r=ti.b.get(o.node),i=e.domAtPos.bind(e);n=Array.from({length:r.width});for(let e=0;e<r.width;e++){const o=bs(e)(t)[0];if(o){const t=Object(b.findDomRefAtPos)(o.pos,i),r=t.getBoundingClientRect();n[e]=(r?r.width:t.offsetWidth)+1,
e+=o.node.attrs.colspan-1}}}return n})(e.editorView),e.editorView.state.selection);return t?Mu(Mu({},t),{},{top:o?e.stickyHeaders.top:0,position:o?"sticky":void 0,selectionType:n}):null}case"row":if(e.tableRef){const t=Object(Lc.d)(e.tableRef),r=o?-t[0]:0,i=Object(Lc.c)(t,e.editorView.state.selection,s?a:r);if(i)return Mu(Mu({},i),{},{position:s?"sticky":void 0,left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}render(){const{mountPoint:e,boundariesElement:t,tableRef:n}=this.props,{selectionType:o}=this.state;if(!o||!n)return null;const r=Object(L.b)(n,`.${Hi.b.TABLE_CONTAINER}`),i=l.a.createElement(_u,{removeLabel:"column"===o?eu.removeColumns:eu.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),s=Au({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),a=r||e;if("sticky"===this.state.position&&a){
const e=n.querySelector("tr.sticky");if(e){const t=e.getBoundingClientRect(),n=(s.onPositionCalculated||(e=>e))({left:this.state.left,top:this.state.top});return Object(qn.createPortal)(l.a.createElement("div",{style:{position:"fixed",top:n.top,zIndex:ql.e,left:t.left+(n.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?Le.Q:0)}},i),a)}}return l.a.createElement(g.a,Xn()({target:n,mountTo:a,boundariesElement:r||t,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},s),i)}}Nu.displayName="FloatingDeleteButton",s()(Nu,"displayName","FloatingDeleteButton");var Ru=Nu;function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?Lu(Object(n),!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zu=-10+Le.Q,Uu=ql.q+3,Hu=-(ql.q+3+20);var $u=function(e,t,n,o){switch(e){case"column":return function(e,t,n){const o={alignX:"end",alignY:"top",offset:[-10,Uu],onPositionCalculated(o){const{left:r}=o;if(!r)return o;if(0===e)return Bu(Bu({},o),{},{left:n?zu:-10});const i=t?t.getBoundingClientRect():null;return Bu(Bu({},o),{},{left:i&&r>i.width?i.width:r})}};return 0===e?Bu(Bu({},o),{},{alignX:"left",alignY:"top"}):o}(t,o,n);case"row":return function(e){let t={alignX:"left",alignY:"bottom",offset:[0,10]};return 0===e&&(t=Bu(Bu({},t),{},{alignY:"top",offset:[0,-10]})),Bu(Bu({},t),{},{
onPositionCalculated:e=>Bu(Bu({},e),{},{left:Hu})})}(t);default:return{}}};const Wu=(e,t)=>{const n=t?e.getBoundingClientRect().top-4*Ss.h-3:ql.q+3;return e.offsetHeight+n},Vu=e=>{const{parentElement:t,offsetWidth:n}=e,o=t.offsetWidth,{scrollLeft:r}=t,i=n-o,s=(e=>{const t=Object(L.b)(e,`.${Hi.b.TABLE_CONTAINER}`);return t&&t.querySelector(`.${Hi.b.NUMBERED_COLUMN}`)?ql.q+Le.Q-1:ql.q})(e);return Math.min(n+s,o+s-Math.max(r-i,0))+4},Ku=e=>"row"===e?eu.insertRow:eu.insertColumn;var qu=Object(f.i)((({onMouseDown:e,tableRef:t,type:n,intl:{formatMessage:o},hasStickyHeaders:r})=>{const i=l.a.createElement(Re.a,{content:l.a.createElement(Ie.ToolTipContent,{description:o(Ku(n)),keymap:"row"===n?Ie.addRowAfter:Ie.addColumnAfter}),position:"top"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Hi.b.CONTROLS_INSERT_BUTTON_INNER},l.a.createElement("button",{type:"button",className:Hi.b.CONTROLS_INSERT_BUTTON,onMouseDown:e},l.a.createElement("svg",{
className:Hi.b.CONTROLS_BUTTON_ICON},l.a.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),l.a.createElement("div",{className:Hi.b.CONTROLS_INSERT_LINE,style:"row"===n?{width:Vu(t)}:{height:Wu(t,r)}}))),s="column"===n?Hi.b.CONTROLS_FLOATING_BUTTON_COLUMN:Hi.b.CONTROLS_FLOATING_BUTTON_ROW;return l.a.createElement("div",{className:s},l.a.createElement("div",{className:`${Hi.b.CONTROLS_INSERT_BUTTON_WRAP} ${Hi.b.CONTROLS_INSERT_ROW}`},i))}));class Gu extends l.a.Component{constructor(e){super(e),this.insertColumn=this.insertColumn.bind(this),this.insertRow=this.insertRow.bind(this)}render(){const{tableNode:e,editorView:t,insertColumnButtonIndex:n,insertRowButtonIndex:o,tableRef:r,mountPoint:i,boundariesElement:s,isHeaderColumnEnabled:a,isHeaderRowEnabled:c}=this.props,d=void 0!==n?"column":void 0!==o?"row":null;if(!e||!r||!d)return null
;if("column"===d&&a&&0===n||"row"===d&&c&&0===o)return null;const{state:{tr:u}}=t;if(u.selection instanceof q.a&&(u.selection.isColSelection()||u.selection.isRowSelection()))return null;const p=this.getCellPosition(d);if(!p)return null;const h=Object(Ui.c)(t.state.selection);if(!h)return null;const m=t.domAtPos.bind(t),f=p+h.start+1,y=Object(b.findDomRefAtPos)(f,m);if(!(y&&y instanceof HTMLElement))return null;const v="row"===d?Object(L.b)(y,"tr"):Object(L.b)(y,"td, th");if(!v)return null;const O=Object(L.b)(v,`.${Hi.b.TABLE_CONTAINER}`),j=Object(L.b)(v,`.${Hi.b.TABLE_NODE_WRAPPER}`),w="column"===d?n:o,k=Object(Gs.c)(t.state);return l.a.createElement(g.a,Xn()({target:v,mountTo:O||i,boundariesElement:O||s,scrollableElement:j,forcePlacement:!0,allowOutOfBounds:!0},$u(d,w,k,O)),l.a.createElement(qu,{type:d,tableRef:r,onMouseDown:"column"===d?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}getCellPosition(e){
const{tableNode:t,insertColumnButtonIndex:n,insertRowButtonIndex:o}=this.props,r=ti.b.get(t);if("column"===e){const e=0===n?0:n-1;return e>r.width-1?null:r.positionAt(0,e,t)}{const e=0===o?0:o-1;return e>r.height-1?null:r.positionAt(e,0,t)}}insertRow(e){const{editorView:t,insertRowButtonIndex:n}=this.props;if(void 0!==n){e.preventDefault();const{state:o,dispatch:r}=t;sl(lt.e.BUTTON,{index:n,moveCursorToInsertedRow:!0})(o,r)}}insertColumn(e){const{editorView:t,insertColumnButtonIndex:n}=this.props;if(void 0!==n){e.preventDefault();const{state:o,dispatch:r}=t;al(lt.e.BUTTON,n)(o,r)}}}Gu.displayName="FloatingInsertButton",s()(Gu,"displayName","FloatingInsertButton");var Yu=Object(f.i)(Gu);function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){Zu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qu=e=>Ju(Ju({},e),{},{top:e.top?e.top+22:void 0});class ep extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;(()=>Object(ct.d)((e=>{const{table:t,totalRowCount:n,totalColumnCount:o}=Ja(e.selection);if(t){const{layout:e}=t.node.attrs;return{action:cs.a.CHANGED_BREAKOUT_MODE,actionSubject:lt.b.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:el[wa(e)],previousBreakoutMode:el[e],totalRowCount:n,totalColumnCount:o},eventType:lt.d.TRACK}}}))(_a))()(e,t)}))}render(){
const{intl:{formatMessage:e},mountPoint:t,boundariesElement:n,scrollableElement:o,targetRef:r,isResizing:i,layout:s="default"}=this.props;if(!r)return null;const a=e((e=>{switch(e){case"default":return C.a.layoutWide;case"wide":return C.a.layoutFullWidth;default:return C.a.layoutFixedWidth}})(s));return l.a.createElement(g.a,{ariaLabel:a,target:r,alignY:"start",alignX:"end",onPositionCalculated:Qu,stick:!0,mountTo:t,boundariesElement:n,scrollableElement:o,forcePlacement:!0},l.a.createElement("div",{className:br()(Hi.b.LAYOUT_BUTTON,{[Hi.b.IS_RESIZING]:i})},l.a.createElement(w.a,{title:a,onClick:this.handleClick,iconBefore:"full-width"===s?l.a.createElement(v.a,{label:a}):l.a.createElement(j.a,{label:a})})))}shouldComponentUpdate(e){const{targetRef:t,layout:n,isResizing:o,tableWidth:r}=this.props;return t!==e.targetRef||n!==e.layout||o!==e.isResizing||r!==e.tableWidth}}ep.displayName="LayoutButton",s()(ep,"displayName","LayoutButton");var tp=Object(f.i)(ep);var np=e=>({name:"table",
nodes:()=>[{name:"table",node:Ri.b},{name:"tableHeader",node:Ri.j},{name:"tableRow",node:Ri.m},{name:"tableCell",node:Ri.f}],pmPlugins:()=>[{name:"table",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>{const{dynamicSizingEnabled:r,fullWidthEnabled:i,wasFullWidthEnabled:s,breakoutEnabled:a,tableOptions:l}=e||{};return Ld(t,n,o,Fi(l),a&&r,a,i,s)}},{name:"tablePMColResizing",plugin:({dispatch:t})=>{const{dynamicSizingEnabled:n,fullWidthEnabled:o,tableOptions:r}=e||{},{allowColumnResizing:i}=Fi(r);return i?Zd(t,{dynamicTextSizing:n&&!o,lastColumnResizable:!o}):void 0}},{name:"tableEditing",plugin:()=>(()=>new c.Plugin({state:{init:()=>Tn.b.empty,apply:(e,t,n)=>{let o=t;const r=e.getMeta(zi.d);return r&&r.data&&r.data.decorationSet&&(o=r.data.decorationSet),e.docChanged||e.selectionSet?as(e,o,n):o}},key:is,props:{decorations:e=>ss(e)}}))()},{name:"tableKeymap",plugin:()=>gl()},{name:"tableSelectionKeymap",plugin:()=>Dl()},{name:"tableEditing",plugin:()=>Di()},{
name:"tableStickyHeaders",plugin:({dispatch:t,eventDispatcher:n})=>e&&e.tableOptions.stickyHeaders?((e,t,n=(()=>[]))=>new c.Plugin({state:Hd(e,n),key:Pc,props:{nodeViews:{tableRow:(e,n,o)=>new Gd(e,n,o,t)}}}))(t,n):void 0}],contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r})=>l.a.createElement(p.a,{plugins:{tablePluginState:zi.d,tableResizingPluginState:hc.a,stickyHeadersState:Pc},render:({tableResizingPluginState:i,stickyHeadersState:s,tablePluginState:a})=>{const{state:c}=t,d=null==i?void 0:i.dragging,{tableNode:u,tablePos:p,targetCellPosition:h,isContextualMenuOpen:m,layout:f,tableRef:b,pluginConfig:g,insertColumnButtonIndex:y,insertRowButtonIndex:v,isHeaderColumnEnabled:O,isHeaderRowEnabled:j,tableWrapperTarget:w,tableWidth:k}=a,{allowControls:E,tableRenderOptimization:S}=g,_=s?Tc(s,p):void 0;return l.a.createElement(l.a.Fragment,null,h&&b&&!d&&e&&e.allowContextualMenu&&l.a.createElement(Ou,{
isNumberColumnEnabled:u&&u.attrs.isNumberColumnEnabled,editorView:t,tableNode:u,mountPoint:n,targetCellPosition:h,scrollableElement:r,isContextualMenuOpen:m,layout:f,stickyHeader:_}),E&&l.a.createElement(Yu,{tableNode:u,tableRef:b,insertColumnButtonIndex:y,insertRowButtonIndex:v,isHeaderColumnEnabled:O,isHeaderRowEnabled:j,editorView:t,mountPoint:n,boundariesElement:o,scrollableElement:r,hasStickyHeaders:_&&_.sticky}),l.a.createElement(Su,{editorView:t,mountPoint:n,boundariesElement:o,targetCellPosition:h,isOpen:Boolean(m),pluginConfig:g}),E&&l.a.createElement(Ru,{editorView:t,selection:t.state.selection,tableRef:b,mountPoint:n,boundariesElement:o,scrollableElement:r,stickyHeaders:_,isNumberColumnEnabled:u&&u.attrs.isNumberColumnEnabled}),Object(Gs.g)(c)&&e&&e.breakoutEnabled&&l.a.createElement(tp,{editorView:t,mountPoint:n,boundariesElement:o,scrollableElement:r,targetRef:w,layout:f,isResizing:!!i&&!!i.dragging,tableWidth:S?k:void 0}))}}),pluginsOptions:{
quickInsert:({formatMessage:e})=>[{id:"table",title:e(jn.a.table),description:e(jn.a.tableDescription),keywords:["cell"],priority:600,keyshortcut:Object(Ie.tooltip)(Ie.toggleTable),icon:()=>l.a.createElement(sn.w,{label:e(jn.a.table)}),action(e,t){const n=e(Object(Ni.a)(t.schema));return Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.TABLE,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}],floatingToolbar:mu}}),op=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/decision-list.js"),rp=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/decision-item.js"),ip=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/task-list.js"),sp=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/task-item.js"),ap=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/tasks-and-decisions/commands.js")
;const lp=(e,t)=>Object(qt.a)(e,((e,n,o,r)=>Object(ap.d)(e,t,lt.e.FORMATTING,cp(o,r))),!0),cp=(e,t)=>({tr:n,state:o,list:r,item:i,listLocalId:s,itemLocalId:a})=>{const{selection:{$from:l},schema:d}=o,{paragraph:u,hardBreak:p}=d.nodes,h=l.node(l.depth).content;let m=!1;h.forEach(((t,n)=>{t.type===p&&n<e&&(m=!0)}));const f=o.doc.resolve(t),g=o.doc.resolve(f.after());if(f.parent.type!==u||!Object(b.canInsert)(g,r.createAndFill()))return null;if(m){const o=Object(ap.a)(l,n.selection.$from);n.split(l.pos).setSelection(new c.NodeSelection(n.doc.resolve(l.pos+1))).replaceSelectionWith(r.create({localId:s},[i.create({localId:a},n.doc.nodeAt(l.pos+1).content)])).setSelection(new c.TextSelection(n.doc.resolve(l.pos+o))).delete(e,t+1)}else n.replaceRangeWith(l.before(),l.after(),r.create({localId:s},[i.create({localId:a},h)])).delete(e+1,t+1).setSelection(new c.TextSelection(n.doc.resolve(e+1)));return n};var dp=function(e){const t=[],{decisionList:n,decisionItem:o,taskList:r,taskItem:i}=e.nodes
;return n&&o&&t.push(lp(new RegExp("(^|\ufffc)\\<\\>\\s$"),"decisionList")),r&&i&&t.push(lp(new RegExp("(^|\ufffc)\\[\\]\\s$"),"taskList")),Object(qt.c)("tasks-and-decisions",{rules:t})},up=o("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/uuid.js"),pp=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/format-events.js");const hp=e=>{const{decisionItem:t,taskItem:n}=e.schema.nodes;return Object(b.hasParentNodeOfType)([t,n])(e.selection)},mp=e=>{const{taskList:t,decisionList:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},fp=e=>{const{taskItem:t,decisionItem:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},bp=e=>{const{taskItem:t}=e.schema.nodes;return Object(b.hasParentNodeOfType)([t])(e.selection)},gp=(e,t)=>{const{taskList:n}=e.doc.type.schema.nodes;let o=t.end();const r=t.doc.resolve(o+1),i=r.nodeAfter;return i&&i.type===n&&r.depth===t.depth-1&&(o+=i.nodeSize),e.blockRange(t.doc.resolve(o))},yp=e=>{
const{$from:t}=e,{taskList:n}=t.doc.type.schema.nodes,o=Object(Ye.b)((e=>e.type===n))(t);return o?t.depth-o.depth:null},vp=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},Op=(e,t,n)=>{const o=gp(t,n);if(!o)return null;const r=Object(Ke.p)(o);return"number"!=typeof r?null:e.lift(o,r).scrollIntoView()},jp=(e,t)=>{const{$from:n,$to:o}=e.selection,r=Op(e.tr,n,o);return t&&r&&t(r),!!r},wp=(e,t)=>{const{$from:n,$to:o}=e.selection,r=gp(n,o);if(!r)return!0;const i=Object(Ke.m)(r,e.schema.nodes.taskList);return!i||(t&&t(e.tr.wrap(r,i).scrollIntoView()),!0)},kp=e=>(t,n)=>{const o=Object(Xe.c)(e);if(!o)return!1;const{paragraph:r}=o.doc.type.schema.nodes;if(o.nodeBefore&&mp(o.nodeBefore)&&o.nodeAfter&&o.nodeAfter.type===r){let e=o.doc.resolve(o.pos-1);for(;!fp(e.parent);)e=t.doc.resolve(e.pos-1);const r=t.tr.doc.slice(e.pos,o.pos),i=t.tr.step(new Ke.d(e.pos,o.pos+o.nodeAfter.nodeSize,o.pos+1,o.pos+o.nodeAfter.nodeSize-1,r,0,!0));return n&&n(i),!0}
return!1};function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _p=(e,t)=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_INDENT,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,previousIndentationLevel:e,newIndentLevel:t===pp.a.OUTDENT?e-1:e+1,direction:t,indentType:pp.b.TASK_LIST}}),Cp=e=>{const t=(e=>e.doc.resolve(e.end()).nodeAfter)(e);return!t||fp(t)},xp=Object(Xe.b)(bp,((e,t)=>{const n=yp(e.selection);return!(!n||1===n)&&Object(ct.d)(_p(n,pp.a.OUTDENT))(Object(qe.a)(jp,["taskList"]))(e,t)})),Tp=Object(Xe.b)(bp,((e,t)=>{const n=yp(e.selection);if(!n||n>=6)return!0;const{taskList:o,taskItem:r}=e.schema.nodes,{$from:i,$to:s}=e.selection;return((e,t,n)=>{
const o=Object(Ye.b)((e=>n.indexOf(e.type)>-1))(e);if(!o)return-1;const r=e.depth-o.depth,i=gp(e,t);if(!i)return-1;let s=e.depth;return e.doc.nodesBetween(i.start,i.end,((t,o,r)=>{if(s=Math.max(e.doc.resolve(o).depth,s),n.indexOf(t.type)>-1)return!0})),r+(s-e.depth)})(i,s,[o,r])>=6||Object(ct.d)(_p(n,pp.a.INDENT))(Object(qe.a)(wp,["taskList"]))(e,t)})),Pp=Object(Xe.b)(Xe.f,Object(qe.a)(Object(qe.c)(((e,t)=>kp(e.selection.$from)(e,t)),Object(Xe.b)(hp,((e,t)=>(e=>(t,n)=>{const o=e.doc.resolve(e.before());if(o.nodeBefore&&fp(o.nodeBefore)&&2===o.nodeBefore.nodeSize)return!1;const{taskList:r,paragraph:i}=t.schema.nodes;if(e.node(e.depth-2).type===r)return xp(t,n);if(Cp(e)){if(n){const o=t.doc.slice(e.start(),e.end()).content,r=o.size?i.createChecked(void 0,o):i.createChecked();n(Mp(t.tr,r,e,!0))}return!0}return!1})(e.selection.$from)(e,t)))),["taskList","decisionList"])),Ap=Object(Xe.b)([hp,Xe.e],Object(qe.c)(((e,t)=>{
const n=vp(e.selection.$from),{taskList:o,taskItem:r,decisionList:i,decisionItem:s,paragraph:a,bulletList:l,orderedList:c,listItem:d}=e.schema.nodes;if(!Object(b.findParentNodeOfTypeClosestToPos)(n,[o,r,i,s])){if(n.parent.type===a)return kp(n.doc.resolve(n.pos))(e,t);if((n.parent.type===l||n.parent.type===c)&&n.parent.firstChild&&n.parent.firstChild.type===d){const o=e.doc.resolve(n.pos+1),r=Op(e.tr,o,o);return Object(qe.a)(((e,t)=>!!r&&(t&&t(r),!0)),["bulletList","orderedList"])(e,t)}}return!1}),((e,t)=>{const n=vp(e.selection.$from),{taskList:o,paragraph:r,doc:i}=e.schema.nodes;if(!n.parent||n.parent.type===i)return!1;const s=n.doc.resolve(n.before());if(s.nodeBefore&&fp(s.nodeBefore)&&2===s.nodeBefore.nodeSize)return!1;if(n.node(n.depth-2).type===o||n.node(n.depth-1).type===o&&n.parent.type===o){const o=Op(e.tr,n,n);return t&&o&&t(o),!0}if((e=>{if(!e)return!1;const{table:t,tableHeader:n,tableCell:o,tableRow:r}=e.type.schema.nodes;return[t,n,o,r].includes(e.type)
})(s.nodeBefore))return!1;if(Cp(e.selection.$from)){if(t){const o=e.doc.slice(n.start(),n.end()).content,i=o.size?r.createChecked(void 0,o):[];t(Mp(e.tr,i,n,!1))}return!0}return!1}))),Ip=Object(qe.a)(Ap,["taskList","decisionList"]),Mp=(e,t,n,o)=>{const r=e.doc,i=n.node(n.depth-2),s=n.index(n.depth-1),a=!(!mp(i)&&0===s);a&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:up.b.generate()}}]));const l=Ve.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),l.size?new Ve.Slice(l,0,0):Ve.Slice.empty),o&&(e=e.setSelection(new c.TextSelection(e.doc.resolve(n.pos+1-(a?0:2)))));const d=r.resolve(n.after());if(d.depth===n.depth-1&&d.nodeAfter&&mp(d.nodeAfter)){const t=e.mapping.map(d.pos+2),n=e.doc.resolve(t),o=gp(n,e.doc.resolve(n.after(n.depth-1)-1));o&&(e=e.lift(o,o.depth-1).scrollIntoView()),e=e.deleteRange(t-3,t-1)}return e},Dp=Object(Xe.b)(hp,Object(qe.c)(Object(Xe.b)((e=>{const{selection:t,schema:n}=e,{$from:o}=t,r=o.node(o.depth)
;return r&&(r.type===n.nodes.taskItem||r.type===n.nodes.decisionItem)&&0===r.content.size}),Object(qe.c)(xp,((e,t)=>{let{tr:n,selection:{$from:o}}=e;const{schema:{nodes:{paragraph:r}}}=e;return!!Cp(o)&&(t&&t(Mp(n,r.createChecked(),o,!0)),!0)}))),((e,t)=>{const{selection:n,schema:o}=e,{taskItem:r}=o.nodes,{$from:i,$to:s}=n,a=i.node(i.depth),l=a&&a.type,c=l===r?"taskList":"decisionList",d=Object(ap.d)(e,c,lt.e.KEYBOARD,(({tr:e,itemLocalId:t})=>{if(i.pos===s.pos&&0===i.parentOffset){const n=l.createAndFill({localId:t});if(n)return e.insert(i.pos-1,n)}return e.split(i.pos,1,[{type:l,attrs:{localId:t}}])}));return d&&t&&(d.scrollIntoView(),t(d)),!0})));var Np=function(e,t,n){const o={"Shift-Tab":n?Object(qe.c)(xp,hp):xp,Tab:n?Object(qe.c)(Tp,hp):Tp},r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){Sp(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Backspace:Pp,Delete:Ip,Enter:Dp},t?o:n?{"Shift-Tab":hp,Tab:hp}:{});return Object(Xt.b)(r)},Rp=o("./node_modules/@atlaskit/task-decision/dist/es2019/components/DecisionItem.js");const Lp=Object(f.h)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision\u2026",description:"Placeholder description for an empty decision in the editor"}});class Bp extends l.a.Component{render(){const{contentRef:e,showPlaceholder:t,intl:{formatMessage:n}}=this.props,o=n(Lp.placeholder);return l.a.createElement(Rp.a,{contentRef:e,placeholder:o,showPlaceholder:t})}}Bp.displayName="Decision",s()(Bp,"displayName","Decision");var Fp=Object(f.i)(Bp);class zp extends Fr.a{isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("li")
;return e.style["list-style-type"]="none",e}getContentDOM(){const e=document.createElement("div");return e.className="decision-item",{dom:e}}render(e,t){return l.a.createElement(Fp,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)})}viewShouldUpdate(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,((e,t)=>!this.isContentEmpty(t)))}}zp.displayName="Decision";const Up=(e,t)=>(n,o,r)=>new zp(n,o,r,e,t,{}).init()
;var Hp=o("./node_modules/@atlaskit/analytics-next/dist/es2019/components/AnalyticsListener/index.js"),$p=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/tasks-and-decisions/pm-plugins/plugin-key.js"),Wp=o("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/provider-factory.js"),Vp=o("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/with-providers.js"),Kp=o("./node_modules/@atlaskit/analytics-namespaced-context/dist/es2019/index.js"),qp=o("./node_modules/@atlaskit/task-decision/dist/es2019/components/ResourcedTaskItem.js");function Gp(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class Yp extends a.Component{constructor(...e){
super(...e),s()(this,"state",{resolvedContextProvider:void 0}),s()(this,"mounted",!1)}UNSAFE_componentWillMount(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}async updateContextIdentifierProvider(e){if(e.contextIdentifierProvider)try{const t=await e.contextIdentifierProvider;this.mounted&&this.setState({resolvedContextProvider:t})}catch(t){this.mounted&&this.setState({resolvedContextProvider:void 0})}else this.setState({resolvedContextProvider:void 0})}render(){const e=this.props,{contextIdentifierProvider:t}=e,n=Gp(e,["contextIdentifierProvider"]),{objectId:o}=this.state.resolvedContextProvider||{},r=o?"edit":"new";return l.a.createElement(Kp.e,{data:{userContext:r}},l.a.createElement(qp.a,Xn()({},n,{objectAri:o})))}}function Xp(e,t){if(null==e)return{};var n,o,r=function(e,t){
if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Yp.displayName="TaskItemWithProviders",s()(Yp,"displayName","TaskItemWithProviders");const Jp=Object(f.h)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}});class Zp extends a.PureComponent{constructor(e){super(e),s()(this,"renderWithProvider",(e=>{const t=this.props,{providers:n,intl:{formatMessage:o}}=t,r=Xp(t,["providers","intl"]),{taskDecisionProvider:i,contextIdentifierProvider:s}=e,a=o(Jp.placeholder);return l.a.createElement(Yp,Xn()({},r,{placeholder:a,taskDecisionProvider:i,contextIdentifierProvider:s}))})),
this.providerFactory=e.providers||new Wp.a}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return l.a.createElement(Vp.a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}Zp.displayName="TaskItem",s()(Zp,"displayName","TaskItem");var Qp,eh=Object(f.i)(Zp);function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach((function(t){oh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oh(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rh extends Fr.a{constructor(...t){super(...t),s()(this,"handleOnChange",((e,t)=>{const{tr:n}=this.view.state,o=this.getPos();n.setNodeMarkup(o,void 0,{state:t?"DONE":"TODO",localId:e}),this.view.dispatch(n)})),s()(this,"addListAnalyticsData",(t=>{try{const e=this.view.state.doc.resolve(this.getPos()),n=e.index(),o=e.parent.childCount,r=e.parent.attrs.localId;t.update((e=>{const{attributes:t={},actionSubject:i}=e;return"action"!==i?e:nh(nh({},e),{},{attributes:nh(nh({},t),{},{position:n,listSize:o,listLocalId:r})})}))}catch(e){}}))}isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("div");return e.style["list-style-type"]="none",e}getContentDOM(){const e=document.createElement("div");return e.className="task-item",{dom:e}}render(e,t){const{localId:n,state:o}=this.node.attrs;return l.a.createElement(Hp.a,{channel:"fabric-elements",
onEvent:this.addListAnalyticsData},l.a.createElement(p.a,{plugins:{taskDecisionPlugin:$p.a},render:()=>l.a.createElement(eh,{taskId:n,contentRef:t,isDone:"DONE"===o,onChange:this.handleOnChange,showPlaceholder:this.isContentEmpty(this.node),providers:e.providerFactory})}))}viewShouldUpdate(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,((e,t)=>!(this.isContentEmpty(t)||e.attrs.state!==t.attrs.state)))}}function ih(e,t,n){return(o,r,i)=>new rh(o,r,i,e,t,{providerFactory:n}).init()}function sh(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ah(Object(n),!0).forEach((function(t){ch(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ch(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rh.displayName="Task",function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(Qp||(Qp={}));const dh=e=>(t,n)=>(n&&n(t.tr.setMeta($p.a,{action:Qp.SET_CONTEXT_PROVIDER,data:e})),!0);var uh=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/decision.js"),ph=o.n(uh);class hh extends a.PureComponent{constructor(...e){super(...e),
s()(this,"state",{disabled:!1}),s()(this,"handleInsertDecision",(()=>{const{editorView:e}=this.props;return!!e&&(Object(ap.c)(e,"decisionList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:o}}=this.props,r=o(jn.a.decision);return l.a.createElement(w.a,{onClick:this.handleInsertDecision,disabled:e||t,spacing:n?"none":"default",title:`${r} <>`,iconBefore:l.a.createElement(ph.a,{label:r})})}}hh.displayName="ToolbarDecision";var mh=Object(f.i)(hh),fh=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/task.js"),bh=o.n(fh);class gh extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{disabled:!1}),s()(this,"handleInsertTask",(()=>{const{editorView:e}=this.props;return!!e&&(Object(ap.c)(e,"taskList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:o}}=this.props,r=o(jn.a.action)
;return l.a.createElement(w.a,{onClick:this.handleInsertTask,disabled:e||t,spacing:n?"none":"default",title:`${r} []`,iconBefore:l.a.createElement(bh.a,{label:r})})}}gh.displayName="ToolbarTask";var yh=Object(f.i)(gh);const vh=k.default.div(["display:flex;"]),Oh=(e,t,n)=>{const{list:o,item:r}=Object(ap.b)(n,t.schema);return Object(ap.d)(t,n,lt.e.QUICK_INSERT,(({listLocalId:t,itemLocalId:n})=>e(o.createChecked({localId:t},r.createChecked({localId:n})))))};var jh=({allowNestedTasks:e,consumeTabs:t,useLongPressSelection:n}={})=>({name:"taskDecision",nodes:()=>[{name:"decisionList",node:op.a},{name:"decisionItem",node:rp.a},{name:"taskList",node:ip.a},{name:"taskItem",node:sp.a}],pmPlugins:()=>[{name:"tasksAndDecisions",plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:o,dispatch:r})=>function(e,t,n,o,r=!1){return new c.Plugin({props:{nodeViews:{taskItem:ih(e,t,n),decisionItem:Up(e,t)},handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e,{tr:s}=r
;return r.selection instanceof c.NodeSelection&&r.selection.node.type===e.state.schema.nodes.decisionItem&&(r.selection.replace(s),s.insertText(o),i&&i(s),!0)},handleClickOn:Mn(["decisionItem"],(e=>e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")),{useLongPressSelection:r})},state:{init:()=>({insideTaskDecisionItem:!1}),apply(e,t){const{action:n,data:r}=e.getMeta($p.a)||{action:null,data:null};let i=t;switch(n){case Qp.SET_CONTEXT_PROVIDER:i=lh(lh({},t),{},{contextIdentifierProvider:r})}return o($p.a,i),i}},view:e=>(n.subscribe("contextIdentifierProvider",((t,n)=>{"contextIdentifierProvider"===t&&(n?n.then((t=>{dh(t)(e.state,e.dispatch)})):dh(void 0)(e.state,e.dispatch))})),{}),key:$p.a,appendTransaction:(e,t,n)=>{const o=n.tr;let r=!1;if(e.forEach((e=>{e.docChanged&&Object(Ye.k)(e,((e,t)=>{const{decisionList:i,decisionItem:s,taskList:a,taskItem:l}=n.schema.nodes;if(e.type&&(e.type===i||e.type===s||e.type===a||e.type===l)){
const n=e.attrs,{localId:i}=n,s=sh(n,["localId"]);null!=i&&""!==i||(o.setNodeMarkup(t,void 0,lh({localId:up.b.generate()},s)),r=!0)}}))})),r)return o.setMeta("addToHistory",!1)}})}(e,o,t,r,n)},{name:"tasksAndDecisionsInputRule",plugin:({schema:e})=>dp(e)},{name:"tasksAndDecisionsKeyMap",plugin:({schema:n})=>Np(n,e,t)}],secondaryToolbarComponent:({editorView:e,disabled:t})=>l.a.createElement(vh,null,l.a.createElement(mh,{editorView:e,isDisabled:t,isReducedSpacing:!0}),l.a.createElement(yh,{editorView:e,isDisabled:t,isReducedSpacing:!0})),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"action",title:e(jn.a.action),description:e(jn.a.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:()=>l.a.createElement(sn.a,{label:e(jn.a.action)}),action:(e,t)=>Oh(e,t,"taskList")},{id:"decision",title:e(jn.a.decision),description:e(jn.a.decisionDescription),priority:900,keyshortcut:"<>",icon:()=>l.a.createElement(sn.d,{label:e(jn.a.decision)}),
action:(e,t)=>Oh(e,t,"decisionList")}]}}),wh=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feedback-dialog/index.js"),kh=o("./node_modules/react-loadable/lib/index.js"),Eh=o.n(kh);const Sh=Eh()({loader:()=>o.e("@atlaskit-internal-editor-core-helpdialog").then(o.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/ui/index.js")),loading:()=>null});var _h=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/plugin-key.js"),Ch=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/question-circle.js"),xh=o.n(Ch),Th=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/commands.js"),Ph=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/plugin-key.js");function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}
function Ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ah(Object(n),!0).forEach((function(t){Mh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dh=()=>{const e={};return Ie.bindKeymapWithCommand(Ie.openHelp.common,((e,t)=>{let{tr:n}=e;return n.getMeta(Ph.a)||(n=Object(ct.a)(e,n,{action:lt.a.CLICKED,actionSubject:lt.b.BUTTON,actionSubjectId:lt.c.BUTTON_HELP,attributes:{inputMethod:lt.e.SHORTCUT},eventType:lt.d.UI}),Object(Th.b)(n,t)),!0}),e),Object(Xt.b)(e)};var Nh=e=>({name:"helpDialog",pmPlugins:()=>[{name:"helpDialog",plugin:({dispatch:t})=>function(e,t){return new c.Plugin({key:Ph.a,state:{init:()=>({isVisible:!1,imageEnabled:t}),apply(t,n,o){
const r=t.getMeta(Ph.a),i=Ph.a.getState(o);if(void 0!==r&&r!==i.isVisible){const t=Ih(Ih({},i),{},{isVisible:r});return e(Ph.a,t),t}return i}}})}(t,!!e)},{name:"helpDialogKeymap",plugin:()=>Dh()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"helpdialog",title:e(jn.a.help),description:e(jn.a.helpDescription),keywords:["?"],priority:4e3,keyshortcut:Object(Ie.tooltip)(Ie.openHelp),icon:()=>l.a.createElement(xh.a,{label:e(jn.a.help)}),action(e,t){const n=e("");return Object(Th.b)(n),Object(ct.a)(t,n,{action:lt.a.HELP_OPENED,actionSubject:lt.b.HELP,actionSubjectId:lt.c.HELP_QUICK_INSERT,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.UI})}}]},contentComponent:({editorView:e})=>l.a.createElement(p.a,{plugins:{helpDialog:Ph.a,quickInsert:_h.a},render:({helpDialog:t={},quickInsert:n})=>l.a.createElement(Sh,{editorView:e,isVisible:t.isVisible,quickInsertEnabled:!!n,imageEnabled:t.imageEnabled})})
}),Rh=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js");function Lh(e,t){if(t)return Object(Xt.b)({Enter:(n,o,r)=>!!function(e){const{$cursor:t}=e.state.selection,{decisionItem:n,paragraph:o,taskItem:r}=e.state.schema.nodes;return!t||t.parent.type===o&&1===t.depth||t.parent.type===n&&!Bh(t)||t.parent.type===r&&!Bh(t)}(r)&&(e(Rh.a,Fh(n)),t(r),!0)})}function Bh(e){const{content:t}=e.parent;return!(t&&t.size)}const Fh=e=>({payload:{action:lt.a.STOPPED,actionSubject:lt.b.EDITOR,actionSubjectId:lt.c.SAVE,attributes:{inputMethod:lt.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:lt.d.UI}});var zh=e=>({name:"saveOnEnter",pmPlugins:()=>[{name:"saveOnEnter",plugin:({dispatch:t})=>Lh(t,e)}]});function Uh(e){const{clipboardData:t}=e;return!!t&&function(e,t){return(e=>!e.indexOf&&!!e.contains)(e)?e.contains(t):e.indexOf(t)>-1}(t.types,"Files")}const Hh=async e=>{if((()=>!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)())try{
await navigator.clipboard.writeText(e)}catch(t){throw new Error("Clipboard api is not supported")}else{if(!(()=>window.clipboardData&&"function"==typeof window.clipboardData.setData)())throw new Error("Clipboard api is not supported");try{await window.clipboardData.setData("text",e)}catch(t){throw new Error("IE clipboard api is not supported")}}};function $h(e){const t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}const Wh=e=>{const{mediaSingle:t}=e.schema.nodes,{$to:n}=e.selection;if(t)for(let o=n.depth;o>=0;o--){let e=n.index(o);if(n.node(o).canReplaceWith(e,e,t))return!0}return!1},Vh=(e,t)=>{const{media:n,mediaSingle:o}=t.nodes;if(!n||!o)return null;const r=n.createChecked({type:"external",url:e});return o.createChecked({},r)},Kh=new c.PluginKey("imageUploadPlugin"),qh=e=>t=>((e,t)=>e.setMeta(Kh,t))(t,{name:"START_UPLOAD",event:e}),Gh=e=>(t,n)=>!!Kh.getState(t).enabled&&(n&&n(qh(e)(t.tr)),!0);function Yh(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yh(Object(n),!0).forEach((function(t){Jh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zh=(e,t)=>(t,n)=>!!e(n)&&(n.preventDefault(),n.stopPropagation(),Gh(n)(t.state,t.dispatch),!0),Qh=({dispatch:t,providerFactory:n})=>{let o;return new c.Plugin({state:{init:(e,t)=>({active:!1,enabled:Wh(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}),apply(e,n,o,r){const i=(e=>{const{media:t}=e.schema.nodes
;return e.selection instanceof c.NodeSelection&&e.selection.node.type===t})(r),s=Wh(r),a=((e,t)=>{const n=e.getMeta(Kh);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload})(e,n);if(i!==n.active||s!==n.enabled||a!==n.activeUpload){const e=Xh(Xh({},n),{},{active:i,enabled:s,activeUpload:a});return t(Kh,e),e}return n}},key:Kh,view:()=>{const t=async(t,n)=>{if("imageUploadProvider"===t&&n)try{o=await n}catch(e){o=void 0}};return n.subscribe("imageUploadProvider",t),{update(e,t){const{state:n}=e,r=Kh.getState(n),i=Kh.getState(t);r.activeUpload!==i.activeUpload&&r.activeUpload&&o&&o(r.activeUpload.event,(t=>(e=>(t,n)=>{if(!Kh.getState(t).enabled||!e.src)return!1;const o=Vh(e.src,t.schema);return!!o&&(n&&n(Object(b.safeInsert)(o,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)})(t)(e.state,e.dispatch)))},destroy(){n.unsubscribe("imageUploadProvider",t)}}},props:{handleDOMEvents:{drop:Zh($h),paste:Zh(Uh)}}})};var em=function(e){if(!e.nodes.media||!e.nodes.mediaSingle)return
;const t=Object(qt.a)(/!\[(.*)\]\((\S+)\)$/,((e,t,n,o)=>{const{schema:r}=e,i={src:t[2],alt:t[1]},s=Vh(i.src,r);return s?e.tr.replaceWith(n,o,s):null}));return Object(qt.c)("image-upload",{rules:[t]})};var tm=()=>({name:"imageUpload",pmPlugins:()=>[{name:"imageUpload",plugin:Qh},{name:"imageUploadInputRule",plugin:({schema:e})=>em(e)}]}),nm=o("./node_modules/prosemirror-collab/dist/index.es.js"),om=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin.js"),rm=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/actions.js"),im=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin-key.js");var sm=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/analytics.js");var am=e=>{let t=()=>{};const n=(e=>async(t,n)=>{try{const n=await e;if(n)return t(n)}catch(o){n?n(o):console.error(o)}})(new Promise((e=>{t=e})));return{name:"collabEdit",pmPlugins(){const{useNativePlugin:o=!1,userId:r=null}=e||{}
;return[...o?[{name:"pmCollab",plugin:()=>Object(nm.a)({clientID:r})}]:[],{name:"collab",plugin:({dispatch:o,providerFactory:r})=>(r&&r.subscribe("collabEditProvider",((e,n)=>{n&&n.then((e=>t(e)))})),Object(om.a)(o,r,n,e))}]},onEditorViewStateUpdated(e){const t=Object(sm.b)(e.newEditorState,e.newEditorState.tr);n((({originalTransaction:e,transactions:t,oldEditorState:n,newEditorState:o})=>r=>{const i=t.find((e=>e.docChanged)),s=im.a.getState(o);if(!s.isReady)return;e.getMeta("isRemote")||e.getMeta("scaleTable")||!i||r.send(i,n,o);const a=im.a.getState(n),{activeParticipants:l}=a,{activeParticipants:c,sessionId:d}=s,u=!n.selection.eq(o.selection),p=!l.eq(c);if(d&&u&&!i||d&&p){const e={type:"telepointer",selection:Object(rm.b)(o.selection),sessionId:d};r.sendMessage(e)}})(e),t)}}
},lm=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/max-content-size/index.js"),cm=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/confluence-jira-issue.js"),dm=o("./node_modules/react-uid/dist/es2015/index.js");const um={xsmall:16,small:24,medium:32,large:40,xlarge:48};function pm(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}
const hm=k.default.span(["color:",";display:inline-block;fill:",";height:","px;position:relative;user-select:none;> svg{fill:inherit;height:100%;left:0;position:absolute;top:0;width:100%;}> canvas{display:block;height:100%;visibility:hidden;}",";"],(e=>e.iconColor),(e=>e.textColor),(e=>e.size&&um[e.size]),(e=>"inherit"===e.iconGradientStart&&"inherit"===e.iconGradientStop&&Object(k.css)(["stop{stop-color:currentColor;}"])));var mm=e=>{let{label:t,svg:n}=e,o=pm(e,["label","svg"]);return l.a.createElement(hm,Xn()({"aria-label":t||void 0,role:t?"img":"presentation",dangerouslySetInnerHTML:{__html:"function"==typeof n?n(String(o.iconGradientStart),String(o.iconGradientStop)):n}},o))};const fm=(e,t)=>{const n=Object(dm.a)({iconGradientStart:t})
;return`<canvas height="32" width="32" aria-hidden="true"></canvas>\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="${n}">\n        <stop stop-color="${e}" ${"inherit"===e?'stop-opacity="0.4"':""} offset="18%"></stop>\n        <stop stop-color="${t}" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z" fill="currentColor"></path>\n      <path d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z" fill="url(#${n})"></path>\n      <path d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z" fill="url(#${n})"></path>\n    </g>\n  </svg>`
};class bm extends a.Component{render(){return l.a.createElement(mm,Xn()({},this.props,{svg:fm}))}}bm.displayName="JiraIcon",s()(bm,"defaultProps",{iconColor:"inherit",textColor:"currentColor",iconGradientStart:"inherit",iconGradientStop:"inherit",size:"medium",label:""});const gm=k.default.span(["align-items:center;background:",";border:1px solid ",";border-radius:","px;box-sizing:border-box;cursor:default;display:inline-flex;font-size:13px;margin:0 2px;min-height:24px;padding:0 4px;user-select:none;vertical-align:middle;white-space:nowrap;.ProseMirror-selectednode &{background:",";outline:none;}"],"#EBECF0","#C1C7D0",Object(ce.borderRadius)(),"#C1C7D0"),ym=k.default.span(["display:inline-block;color:#707070;line-height:24px;vertical-align:top;&::before{color:black;content:'JIRA | ';}"]),vm=k.default.span(["display:inline-block;height:24px;vertical-align:top;width:24px;& > div{height:24px;width:24px;}"]);function Om(e){const{node:{attrs:{issueKey:t}}}=e
;return l.a.createElement(gm,null,l.a.createElement(vm,null,l.a.createElement(bm,{size:"small"})),l.a.createElement(ym,null,t))}const jm=new c.PluginKey("jiraIssuePlugin"),wm=({portalProviderAPI:e,eventDispatcher:t})=>new c.Plugin({key:jm,props:{nodeViews:{confluenceJiraIssue:Fr.a.fromComponent(Om,e,t)}}});var km=()=>({name:"confluenceJiraIssue",nodes:()=>[{name:"confluenceJiraIssue",node:cm.a}],pmPlugins:()=>[{name:"jiraIssue",plugin:wm}]
}),Em=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/panel.js"),Sm=o("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/panel.js"),_m=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/info.js"),Cm=o.n(_m),xm=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/success.js"),Tm=o.n(xm),Pm=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/note.js"),Am=o.n(Pm),Im=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/warning.js"),Mm=o.n(Im),Dm=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/error.js"),Nm=o.n(Dm),Rm=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/hint.js"),Lm=o.n(Rm);const Bm=(e,t)=>{const{panel:n}=e.schema.nodes;return Object(b.findSelectedNodeOfType)(n)(t||e.selection)||Object(b.findParentNodeOfType)(n)(t||e.selection)},Fm={info:Cm.a,success:Tm.a,note:Am.a,
tip:Lm.a,warning:Mm.a,error:Nm.a,custom:Cm.a},zm=e=>{const{allowCustomPanel:t,providerFactory:n,panelAttributes:{panelType:o,panelIcon:r}}=e;if(t&&r&&o===Em.a.CUSTOM)return l.a.createElement(Lr.a,{providers:n,shortName:r,showTooltip:!1,allowTextFallback:!1,fitToHeight:16});const i=Fm[o];return l.a.createElement(i,{label:`Panel ${o}`})};class Um{constructor(e,t,n,o,r){this.providerFactory=r,this.pluginOptions=o,this.view=t,this.node=e;const{dom:i,contentDOM:s}=Ve.DOMSerializer.renderSpec(document,((e,t)=>{const{panelColor:n,panelType:o,panelIcon:r}=e,i=o===Em.a.CUSTOM&&t,s=n&&i?`background-color: ${n}`:"",a=!i||!!r,l={class:Sm.a.prefix,"data-panel-type":o||Em.a.INFO,style:s},c=["span",{class:Sm.a.icon}],d=["div",{class:Sm.a.content},0];return a?["div",l,c,d]:["div",l,d]})(e.attrs,o.UNSAFE_allowCustomPanel||!1));this.getPos=n,this.dom=i,this.contentDOM=s,this.icon=this.dom.querySelector(`.${Sm.a.icon}`),this.icon&&Gn.a.render(l.a.createElement(zm,{
allowCustomPanel:o.UNSAFE_allowCustomPanel,panelAttributes:e.attrs,providerFactory:this.providerFactory}),this.icon)}}const Hm=(e,t)=>(n,o,r)=>new Um(n,o,r,e,t),$m=new c.PluginKey("panelPlugin");function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(n),!0).forEach((function(t){Km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qm=e=>$m.getState(e),Gm=e=>(t,n)=>{const o=qm(t);return n&&n(t.tr.setMeta($m,Vm(Vm({},o),e))),!0
},Ym=()=>(e,t)=>{const{schema:{nodes:n},tr:o}=e,r={action:lt.a.DELETED,actionSubject:lt.b.PANEL,attributes:{inputMethod:lt.e.TOOLBAR},eventType:lt.d.TRACK};let i=o;return Object(b.findSelectedNodeOfType)(n.panel)(o.selection)?i=Object(b.removeSelectedNode)(o):Object(b.findParentNodeOfType)(n.panel)(o.selection)&&(i=Object(b.removeParentNodeOfType)(n.panel)(o)),!!i&&(t&&t(Object(ct.a)(e,i,r)),!0)},Xm=(e,t,n={})=>{let{activePanelIcon:o,activePanelColor:r,activePanelType:i}=$m.getState(e);const{emoji:s,color:a}=n;let l=o,c=t,d=Object(Sm.b)(t!==Em.a.CUSTOM?t:i);return(a||r)&&(d=a||r),s&&(l=s),{panelIcon:l,panelColor:d,panelType:c}},Jm=(e,t={},n=!1)=>(o,r)=>{const{schema:{nodes:i},tr:s}=o,a=Bm(o);if(void 0===a)return!1;let l=e,d=$m.getState(o).activePanelType;if(n){const{panelType:n}=Xm(o,e,t);l=n,d=e}const u={action:lt.a.CHANGED_TYPE,actionSubject:lt.b.PANEL,attributes:{newType:l,previousType:d},eventType:lt.d.TRACK};let p;if(n){const{panelIcon:n,panelColor:r,panelType:l}=Xm(o,e,t)
;p=s.setNodeMarkup(a.pos,i.panel,{panelType:l,panelIcon:n,panelColor:r}).setMeta($m,{activePanelType:l,activePanelIcon:n,activePanelColor:r})}else p=s.setNodeMarkup(a.pos,i.panel,{panelType:e}).setMeta($m,{activePanelType:e});const h=o.selection instanceof c.NodeSelection&&"panel"===o.selection.node.type.name?p.setSelection(new c.NodeSelection(s.doc.resolve(a.pos))):p,m=Object(ct.a)(o,h,u);return m.setMeta("scrollIntoView",!1),r&&r(m),!0};var Zm=o("./node_modules/@atlaskit/button/dist/es2019/button.js"),Qm=o("./node_modules/@atlaskit/theme/dist/es2019/index.js"),ef=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/common.js");function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?tf(Object(n),!0).forEach((function(t){of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rf=[{label:"Doctor",value:Qm.a.N0},{label:"Pixie dust",value:Qm.a.B50},{label:"Gram's sofa",value:Qm.a.T50},{label:"The smell",value:Qm.a.G50},{label:"James blonde",value:Qm.a.Y50},{label:"Rosie",value:Qm.a.R50},{label:"Lavender secret",value:Qm.a.P50},{label:"Gram's hair",value:Qm.a.N20},{label:"Schwag",value:Qm.a.B75},{label:"Arctic chill",value:Qm.a.T75},{label:"Mintie",value:Qm.a.G75},{label:"Dandelion whisper",value:Qm.a.Y75},{label:"Bondi sunburn",value:Qm.a.R75},{label:"Phantom mist",value:Qm.a.P75},{label:"Sentinel",value:Qm.a.N60},{label:"Arvo breeze",value:Qm.a.B100},{label:"Hairy fairy",
value:Qm.a.T100},{label:"Green tea",value:Qm.a.G200},{label:"Pub mix",value:Qm.a.Y200},{label:"Alexandria",value:Qm.a.R100},{label:"Herky jerky",value:Qm.a.P100}].map((e=>nf(nf({},e),{},{border:ef.a}))),sf=k.default.div(["position:relative;"]),af=k.default.div(["border-radius:","px;background-color:white;box-shadow:0 4px 8px -2px ",",0 0 1px ",";padding:4px;"],Object(ce.borderRadius)(),"rgba(9, 30, 66, 0.31)","rgba(9, 30, 66, 0.31)"),lf=e=>{const t=l.a.useRef(null),[n,o]=l.a.useState(!1),r=t=>{o(!1),e.onChange&&e.onChange(t)},i=e.title||"";return l.a.createElement(sf,null,l.a.createElement(Re.a,{content:i,position:"top"},l.a.createElement(Zm.a,{ref:t,"aria-label":i,spacing:"compact",onClick:()=>{o(!n)},style:{backgroundColor:e.currentColor||"transparent",border:`1px solid ${ef.a}`,width:"20px",height:"20px",padding:0}})),(()=>{if(n&&t.current)return l.a.createElement(g.a,{target:t.current,fitHeight:350,fitWidth:350,offset:[0,10]},l.a.createElement(af,null,l.a.createElement(tu.a,{
palette:rf,selectedColor:e.currentColor||null,onClick:r})))})())};var cf=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/emoji.js"),df=o.n(cf),uf=o("./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPicker.js");const pf=k.default.div(["position:relative;"]),hf=e=>{const t=l.a.useRef(null),[n,o]=l.a.useState(!1),r=t=>{o(!1),e.onChange&&e.onChange(t)},i=e=>e.emojiProvider?l.a.createElement(uf.a,{emojiProvider:e.emojiProvider,onSelection:r,onPickerRef:()=>{}}):null,s=e.title||"";return l.a.createElement(pf,null,l.a.createElement(Re.a,{content:s,position:"top"},l.a.createElement(Zm.a,{appearance:"subtle",key:e.idx,style:{padding:0,margin:0,display:"flex",height:"24px",width:"24px"},onClick:()=>{o(!n)},ref:t,isSelected:e.isSelected,iconBefore:l.a.createElement(df.a,{label:"emoji"})})),(()=>{if(t.current&&n)return l.a.createElement(g.a,{target:t.current,mountTo:t.current.parentElement,fitHeight:350,fitWidth:350,offset:[0,10]
},l.a.createElement(Vp.a,{providers:["emojiProvider"],providerFactory:e.providerFactory,renderNode:i}))})())},mf=Object(f.h)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{id:"fabric.editor.panel.emoji",defaultMessage:"Add icon",description:"Select the panel icon"},
backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}}),ff=(e,t,n={},o)=>{const{formatMessage:r}=t,i=qm(e);if(i&&i.toolbarVisible&&i.element){const{activePanelType:t,activePanelColor:s,activePanelIcon:a}=i,c=e.schema.nodes.panel;return{title:"Panel floating controls",getDomRef:()=>i.element,nodeType:c,items:((e,t,n,o,r,i,s)=>{const a=[{type:"button",icon:Cm.a,onClick:Jm(Em.a.INFO),selected:r===Em.a.INFO,title:e(mf.info)},{type:"button",icon:Am.a,onClick:Jm(Em.a.NOTE),selected:r===Em.a.NOTE,title:e(mf.note)},{type:"button",icon:Tm.a,onClick:Jm(Em.a.SUCCESS),selected:r===Em.a.SUCCESS,title:e(mf.success)},{type:"button",icon:Mm.a,onClick:Jm(Em.a.WARNING),selected:r===Em.a.WARNING,title:e(mf.warning)},{type:"button",icon:Nm.a,onClick:Jm(Em.a.ERROR),selected:r===Em.a.ERROR,title:e(mf.error)}];return n&&a.push({type:"custom",render:(t,i)=>l.a.createElement(hf,{key:i,view:t,title:e(mf.emoji),
providerFactory:o,isSelected:r===Em.a.CUSTOM&&!!s,onChange:e=>{t&&Jm(Em.a.CUSTOM,{emoji:e.shortName},n)(t.state,t.dispatch)}})},{type:"separator"},{type:"custom",render:(t,o)=>{const s=r===Em.a.CUSTOM?i||Object(Sm.b)(Em.a.INFO):Object(Sm.b)(r);return l.a.createElement(lf,{key:o,view:t,title:e(mf.backgroundColor),currentColor:s,onChange:e=>{t&&Jm(Em.a.CUSTOM,{color:e},n)(t.state,t.dispatch)}})}}),a.push({type:"separator"},{type:"button",appearance:"danger",icon:Yo.a,onClick:Ym(),onMouseEnter:Object(Xo.b)(t,!0),onMouseLeave:Object(Xo.b)(t,!1),title:e(C.a.remove)}),a})(r,c,n.UNSAFE_allowCustomPanel||!1,o,t,s,a)}}};var bf=function(){const e={Backspace:(e,t)=>{const{selection:n,schema:{nodes:o},tr:r}=e,{panel:i}=o,{$from:s,$to:a}=n;if(s.pos!==a.pos)return!1;if(0!==s.parentOffset)return!1;const l=r.doc.resolve(Math.max(0,s.before(s.depth)-1)),c=l.pos>0&&l.parent&&l.parent.type,d=s.parent.type;if(c===i&&!(d===i)){const e=s.node(s.depth).content,n=l.pos-1
;return((e,t)=>t.delete(e.before(e.depth)-1,e.end(e.depth)+1))(s,r).insert(n,e),t&&t(Object(b.setTextSelection)(n)(r).scrollIntoView()),!0}return s.node().type===i}};return Object(Xt.b)(e)},gf=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/messages.js");const yf=(e,t,n)=>{const o=n(vf(e,t));return o&&Object(ct.a)(t,o,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.PANEL,attributes:{inputMethod:lt.e.QUICK_INSERT,panelType:e},eventType:lt.d.TRACK}),o},vf=(e,t)=>t.schema.nodes.panel.createChecked({panelType:e},t.schema.nodes.paragraph.createChecked());var Of=(e={})=>({name:"panel",nodes:()=>[{name:"panel",node:e.UNSAFE_allowCustomPanel?Em.b:Em.c}],pmPlugins:()=>[{name:"panel",plugin:({providerFactory:t,dispatch:n})=>((e,t,n)=>{const{useLongPressSelection:o=!1}=n;return new c.Plugin({state:{init:()=>({element:null,activePanelType:void 0,toolbarVisible:!1}),apply(t,n){const o=t.getMeta($m);if(o){const t=Vm(Vm({},n),o);return e($m,t),t}return n}
},key:$m,view:t=>{const o=t.domAtPos.bind(t);return{update:t=>{const r=qm(t.state),i=Bm(t.state,t.state.selection),s=i?Object(b.findDomRefAtPos)(i.pos,o):void 0;if(s!==r.element){const e={element:s,activePanelType:s&&(null==i?void 0:i.node.attrs.panelType),activePanelColor:n.UNSAFE_allowCustomPanel?s&&(null==i?void 0:i.node.attrs.panelColor):void 0,activePanelIcon:n.UNSAFE_allowCustomPanel?s&&(null==i?void 0:i.node.attrs.panelIcon):void 0,toolbarVisible:!!s};return Gm(e)(t.state,t.dispatch),!0}e($m,Vm({},r))}}},props:{nodeViews:{panel:Hm(n,t)},handleClickOn:Mn(["panel"],(e=>!!e.closest(`.${Sm.a.prefix}`)),{useLongPressSelection:o}),handleDOMEvents:{blur:e=>!!qm(e.state).toolbarVisible&&(Gm({element:void 0,activePanelType:void 0,activePanelColor:void 0,activePanelIcon:void 0,toolbarVisible:!1})(e.state,e.dispatch),!0)}}})})(n,t,e)},{name:"panelKeyMap",plugin:()=>bf()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"infopanel",title:e(gf.a.infoPanel),keywords:["panel"],
description:e(gf.a.infoPanelDescription),priority:800,icon:()=>l.a.createElement(sn.p,{label:e(gf.a.infoPanel)}),action:(e,t)=>yf(Em.a.INFO,t,e)},{id:"notepanel",title:e(gf.a.notePanel),description:e(gf.a.notePanelDescription),priority:1e3,icon:()=>l.a.createElement(sn.r,{label:e(gf.a.notePanel)}),action:(e,t)=>yf(Em.a.NOTE,t,e)},{id:"successpanel",title:e(gf.a.successPanel),description:e(gf.a.successPanelDescription),keywords:["tip"],priority:1e3,icon:()=>l.a.createElement(sn.s,{label:e(gf.a.successPanel)}),action:(e,t)=>yf(Em.a.SUCCESS,t,e)},{id:"warningpanel",title:e(gf.a.warningPanel),description:e(gf.a.warningPanelDescription),priority:1e3,icon:()=>l.a.createElement(sn.t,{label:e(gf.a.warningPanel)}),action:(e,t)=>yf(Em.a.WARNING,t,e)},{id:"errorpanel",title:e(gf.a.errorPanel),description:e(gf.a.errorPanelDescription),priority:1e3,icon:()=>l.a.createElement(sn.q,{label:e(gf.a.errorPanel)}),action:(e,t)=>yf(Em.a.ERROR,t,e)}],floatingToolbar:(t,n,o)=>ff(t,n,e,o)}
}),jf=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/extension.js"),wf=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/bodied-extension.js"),kf=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/inline-extension.js"),Ef=o("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/extension-handlers.js"),Sf=o("./node_modules/@atlaskit/editor-core/node_modules/memoize-one/dist/memoize-one.esm.js"),_f=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/extension-handler.js"),Cf=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/OverflowShadow/index.js")
;const xf=Object(k.default)(jc)([".extension-overflow-wrapper:not(.with-body){overflow-x:auto;}.ProseMirror > [extensiontype] &[data-layout='full-width'],.ProseMirror > [extensiontype] &[data-layout='wide']{margin-left:50%;transform:translateX(-50%);}.ProseMirror > * [extensiontype] &[data-layout='wide'],.ProseMirror > * [extensiontype] &[data-layout='wide']{width:100% !important;}cursor:pointer;"]),Tf=k.default.div(["padding:","px ","px ","px;vertical-align:middle;&.with-children{padding:4px 8px 8px;}"],vc/2,vc/2,vc/4),Pf=k.default.div(["padding:","px;background:",";color:",";border:1px solid ",";border-radius:","px;cursor:initial;"],vc,Object(yc.a)({light:"white",dark:"#1B2638"}),Object(yc.a)({dark:"#E6EDFA"}),"#EBECF0",Object(ce.borderRadius)()),Af=k.default.div(["padding:0 ","px ","px;"],vc,vc);var If=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/file.js"),Mf=o.n(If);const Df=({node:e,type:t})=>{if(!e.attrs.parameters)return
;const{macroMetadata:n}=e.attrs.parameters;if(n&&n.placeholder){let e;return n.placeholder.forEach((n=>{n.type===t&&n.data&&n.data.url&&(e=n.data)})),e}};function Nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lf(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class Bf extends a.Component{render(){const{node:e}=this.props,t=Df({node:e,type:"image"})
;if(t&&"extension"!==e.type.name)return this.renderImage(t);const n=Df({node:e,type:"icon"});return this.renderFallback(n)}renderImage(e){const{extensionKey:t}=this.props.node.attrs,{url:n}=e,o=Lf(e,["url"]);return l.a.createElement(Sc,Xn()({src:n},o,{alt:t}))}renderFallback(e){const{parameters:t,extensionKey:n}=this.props.node.attrs,{name:o}=this.props.node.type,r=t&&t.macroParams,i=t&&t.extensionTitle||t&&t.macroMetadata&&t.macroMetadata.title||n,s="extension"===o;return l.a.createElement(kc,null,e&&!s?this.renderImage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nf(Object(n),!0).forEach((function(t){Rf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:24,width:24},e)):l.a.createElement(Mf.a,{label:i}),l.a.createElement("span",{className:"extension-title"
},(e=>e.charAt(0).toUpperCase()+e.slice(1))(i)),r&&!s&&l.a.createElement(Ec,null,Object.keys(r).map((e=>e&&` | ${e} = ${r[e].value}`))))}}Bf.displayName="ExtensionLozenge";var Ff=Object(Cf.a)((e=>{const{node:t,handleContentDOMRef:n,children:o,view:r,handleRef:i,shadowClassNames:s}=e,a="bodiedExtension"===t.type.name,c=!!o;return l.a.createElement(p.a,{editorView:r,plugins:{widthState:h.b},render:({widthState:e={width:0}})=>l.a.createElement(xf,{innerRef:i,"data-layout":t.attrs.layout,className:`extension-container ${s} ${a?"":"with-overlay"}`,style:{width:Object(u.c)(t.attrs.layout,e.width)}},l.a.createElement("div",{className:"extension-overflow-wrapper "+(a?"with-body":"")},l.a.createElement(wc,{className:"extension-overlay"}),l.a.createElement(Tf,{contentEditable:!1,className:c?"with-children":""},l.a.createElement(Bf,{node:t}),o),a&&l.a.createElement(Af,null,l.a.createElement(Pf,{innerRef:n,className:"extension-content"}))))})}),{overflowSelector:".extension-overflow-wrapper"})
;const zf=Object(k.default)(jc)(["cursor:pointer;display:inline-flex;margin:1px;> img{border-radius:","px;}&::after,&::before{vertical-align:text-top;display:inline-block;width:1px;content:'';}&.with-children{padding:0;background:white;}"],Object(ce.borderRadius)());class Uf extends a.Component{render(){const{node:e,children:t}=this.props,n=!!t?"with-overlay with-children":"with-overlay";return l.a.createElement(zf,{className:`extension-container ${n}`},l.a.createElement(wc,{className:"extension-overlay"}),t||l.a.createElement(Bf,{node:e}))}}Uf.displayName="InlineExtension";class Hf extends a.Component{constructor(...e){super(...e),s()(this,"state",{}),s()(this,"mounted",!1),s()(this,"getNodeRenderer",Object(Sf.a)(Ef.b)),s()(this,"setStateFromPromise",((e,t)=>{t&&t.then((t=>{this.mounted&&this.setState({[e]:t})}))})),s()(this,"handleExtension",(e=>{const{extensionHandlers:t,editorView:n}=this.props,{extensionType:o,extensionKey:r,parameters:i,text:s}=e.attrs
;if("bodiedExtension"===e.type.name)return;const a={type:e.type.name,extensionType:o,extensionKey:r,parameters:i,content:s};let c;if(t&&t[o]){c=Object(_f.a)(t[o])(a,n.state.doc)}if(!c){const e=this.state.extensionProvider&&this.getNodeRenderer(this.state.extensionProvider,o,r);if(e){const t=e;return l.a.createElement(t,{node:a})}}return c}))}UNSAFE_componentWillMount(){this.mounted=!0}componentDidMount(){const{extensionProvider:e}=this.props;e&&this.setStateFromPromise("extensionProvider",e)}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e){const{extensionProvider:t}=e;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}render(){const{node:e,handleContentDOMRef:t,editorView:n}=this.props,o=this.tryExtensionHandler();switch(e.type.name){case"extension":case"bodiedExtension":return l.a.createElement(Ff,{node:e,extensionProvider:this.state.extensionProvider,handleContentDOMRef:t,view:n},o);case"inlineExtension":
return l.a.createElement(Uf,{node:e},o);default:return null}}tryExtensionHandler(){const{node:t}=this.props;try{const e=this.handleExtension(t);if(e&&l.a.isValidElement(e))return e}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}Hf.displayName="ExtensionComponent";class $f extends a.Component{constructor(e){super(e),s()(this,"renderWithProvider",(({extensionProvider:e})=>{const{node:t,editorView:n,handleContentDOMRef:o,extensionHandlers:r}=this.props;return l.a.createElement(Hf,{editorView:n,node:t,extensionProvider:e,handleContentDOMRef:o,extensionHandlers:r})})),this.providerFactory=e.providerFactory||new Wp.a}componentWillUnmount(){this.props.providerFactory||this.providerFactory.destroy()}render(){return l.a.createElement(Vp.a,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}$f.displayName="Extension",s()($f,"displayName","Extension");class Wf extends Fr.a{ignoreMutation(e){
return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}getContentDOM(){if(this.node.isInline)return;const e=document.createElement("div");return e.className=`${this.node.type.name}-content-dom-wrapper`,{dom:e}}render(e,t){return l.a.createElement("span",null,l.a.createElement($f,{editorView:this.view,node:this.node,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers}),"inlineExtension"===this.node.type.name&&Rr.a)}}function Vf(e,t,n,o){return(r,i,s)=>new Wf(r,i,s,e,t,{providerFactory:n,extensionHandlers:o}).init()}Wf.displayName="ExtensionNode";var Kf=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/commands.js"),qf=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/utils.js"),Gf=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-factory.js"),Yf=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-key.js")
;const Xf=async(e,t)=>{try{const n=await(async(e,t)=>{const n=Object(qf.b)(e.state,!0);if(!n)throw new Error("There is no selection");const{extensionType:o,extensionKey:r}=n.node.attrs,i=await Object(Ef.a)(t,o,r),s=Object(qf.b)(e.state,!0);if(s&&s.node.attrs.extensionType===o&&s.node.attrs.extensionKey===r&&s.pos===n.pos&&i)return i.update})(e,t);return Object(Kf.f)({showEditButton:!!n,updateExtension:n&&Promise.resolve(n)||void 0})(e.state,e.dispatch),n}catch{}},Jf=(e,t,n,o,r,i=!1)=>{const s=Object(Gf.b)(e,{layout:"default",showEditButton:!1,showContextPanel:!1});return new c.Plugin({state:s,view:e=>{const o=e.domAtPos.bind(e),r=(e=>async(t,n)=>{if("extensionProvider"===t&&n)try{const t=await n;Object(Kf.f)({extensionProvider:t})(e.state,e.dispatch),await Xf(e,t)}catch{Object(Kf.f)({extensionProvider:void 0})(e.state,e.dispatch)}})(e);return t.subscribe("extensionProvider",r),{update:e=>{
const{state:t,dispatch:r}=e,{element:i,extensionProvider:s,showContextPanel:a}=Object(Gf.c)(t),l=Object(qf.b)(t,!0);if(!l)return void(a&&Object(Kf.a)(t,r));const c=!!Object(qf.c)(t),d=Object(qf.a)(o,l,c);if(i!==d){a&&Object(Kf.a)(t,r);const{extensionType:o}=l.node.attrs,i=n[o],c=((e,t)=>{const n=!e&&!t||"function"==typeof e,o="object"==typeof e&&"function"==typeof e.update;return!(!n&&!o)})(i,s),u=(async(e,t,n)=>{if(t&&"object"==typeof t)return t.update;if(n){const t=await Xf(e,n);if(t)return t}throw new Error("No update method available")})(e,i,s).catch((()=>{})),p=l?l.node.attrs.layout:"default";Object(Kf.f)({showContextPanel:!1,element:d,showEditButton:c,updateExtension:u,layout:p})(t,r)}return!0},destroy:()=>{t.unsubscribe("extensionProvider",r)}}},key:Yf.a,props:{nodeViews:{extension:Vf(o,r,t,n),bodiedExtension:Vf(o,r,t,n),inlineExtension:Vf(o,r,t,n)},handleClickOn:Mn(["extension","bodiedExtension"],(e=>!e.closest(".extension-content")),{useLongPressSelection:i})}})}
;function Zf(){const e={};return Ie.bindKeymapWithCommand(Ie.escape.common,((e,t)=>!!Object(Gf.c)(e).showContextPanel&&Object(Kf.a)(e,t)),e),Object(Xt.b)(e)}function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tb(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const nb=new c.PluginKey("extensionUniqueIdPlugin"),ob=()=>new c.Plugin({appendTransaction:(e,t,n)=>{const o=n.tr;let r=!1
;if(e.forEach((e=>{e.docChanged&&Object(Ye.k)(e,((e,t)=>{const{extension:i,bodiedExtension:s,inlineExtension:a}=n.schema.nodes;if(e.type&&(e.type===i||e.type===s||e.type===a)){const n=e.attrs,{localId:i}=n,s=tb(n,["localId"]);i||(o.setNodeMarkup(t,void 0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({localId:up.b.generate()},s)),r=!0)}}))})),r)return o},key:nb})
;var rb=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/edit.js"),ib=o.n(rb),sb=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-full-width.js"),ab=o.n(sb),lb=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wide.js"),cb=o.n(lb),db=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-center.js"),ub=o.n(db),pb=o("./node_modules/assert/assert.js"),hb=o.n(pb),mb=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/validator.js");let fb,bb,gb;!function(e){e.TEXT="text",e.NODE="node",e.CELL="cell",e.GAP_CURSOR="gapCursor"}(fb||(fb={})),function(e){e.LEFT="left",e.RIGHT="right"}(bb||(bb={})),function(e){e.CURRENT_SELECTION="currentSelection",e.HTML_ELEMENT="htmlElement"}(gb||(gb={}));const yb=new c.PluginKey("macroPlugin");function vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vb(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wb=(e,t,n)=>async o=>{if(!e)return!1;const r=await e.openMacroBrowser(t);if(r&&t){const{state:e,dispatch:i}=o,s=t&&t.attrs.layout||"default",a=kb(r,e,{layout:s});if(!a)return!1;const{selection:l,schema:d}=e,{extension:u,inlineExtension:p,bodiedExtension:h}=d.nodes,m=Object(Gf.c)(e);let f=gb.CURRENT_SELECTION,{tr:g}=e;const y=!!Object(b.findSelectedNodeOfType)([h])(l);if(t.type!==h||y){
if(Object(b.findSelectedNodeOfType)([u,h,p])(l))g=Object(b.replaceSelectedNode)(a)(g),g.setSelection(c.NodeSelection.create(g.doc,g.mapping.map(e.selection.anchor)));else if(m.element){const e=o.posAtDOM(m.element,-1);e>-1&&(g=g.replaceWith(e,e+t.nodeSize,a),g.setSelection(c.Selection.near(g.doc.resolve(e))),f=gb.HTML_ELEMENT)}}else g=n?Object(b.replaceParentNodeOfType)(h,a)(g):Object(b.safeInsert)(a)(g),g.setSelection(c.TextSelection.create(g.doc,e.selection.anchor));if(i&&g.docChanged){const{extensionType:o,extensionKey:r,layout:s,localId:a}=t.attrs;Object(ct.a)(e,g,{action:lt.a.UPDATED,actionSubject:lt.b.EXTENSION,actionSubjectId:t.type.name,eventType:lt.d.TRACK,attributes:{inputMethod:n?lt.e.MACRO_BROWSER:lt.e.TOOLBAR,extensionType:o,extensionKey:r,layout:s,localId:a,selection:g.selection.toJSON(),targetSelectionSource:f}}),i(g.scrollIntoView())}return!0}return!1},kb=(e,t,n)=>{if(!e||!t)return null;const{schema:o}=t,{type:r,attrs:i}=Object(mb.c)(e,o);let s
;return"extension"===r?s=o.nodes.extension.create(Ob(Ob({},i),n)):"bodiedExtension"===r?s=o.nodes.bodiedExtension.create(Ob(Ob({},i),n),o.nodeFromJSON(e).content):"inlineExtension"===r&&(s=o.nodes.inlineExtension.create(i)),Object(An.f)(t,s)};function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(n),!0).forEach((function(t){_b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cb=(e,t,n,o)=>{switch(e){case"extension":
return t.nodes.extension.createChecked(n);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,o)}},xb=(e,t,n)=>async(o,r,i)=>{const{attrs:s,type:a,content:l}=t.node;if(!o.schema.nodes[a.name])return!1;const{parameters:d}=s;try{const t=await e(d,n);if(t){const e=Sb(Sb({},s),{},{parameters:Sb(Sb({},d),t)});return((e,t,n,o)=>(r,i,s)=>{if(!s)throw Error("EditorView is required to perform node update!");const{state:a,dispatch:l}=s,d=Cb(e,a.schema,t,n);if(!d)return!1;const{selection:u,schema:p}=a,{extension:h,inlineExtension:m,bodiedExtension:f}=p.nodes,g=!!Object(b.findSelectedNodeOfType)([f])(u),y=Object(Gf.c)(a);let v=gb.CURRENT_SELECTION,O=lt.a.UPDATED,{tr:j}=a;if(d.type!==f||g){if(Object(b.findSelectedNodeOfType)([h,f,m])(u))j=Object(b.replaceSelectedNode)(d)(j),j.setSelection(c.NodeSelection.create(j.doc,j.mapping.map(a.selection.anchor)));else if(y.element){const e=s.posAtDOM(y.element,-1)
;e>-1?(j=j.replaceWith(e,e+(n.size||0)+1,d),j.setSelection(c.Selection.near(j.doc.resolve(e))),v=gb.HTML_ELEMENT):O=lt.a.ERRORED}}else j=Object(b.replaceParentNodeOfType)(a.schema.nodes.bodiedExtension,d)(j),j.setSelection(c.TextSelection.create(j.doc,a.selection.anchor));if(l&&j.docChanged){const{extensionType:e,extensionKey:t,layout:n,localId:r}=d.attrs;Object(ct.a)(a,j,{action:O,actionSubject:lt.b.EXTENSION,actionSubjectId:d.type.name,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.CONFIG_PANEL,extensionType:e,extensionKey:t,layout:n,localId:r,selection:j.selection.toJSON(),targetSelectionSource:v}}),l(o?j.scrollIntoView():j)}return!0})(a.name,e,l,!0)(o,r,i)}}catch{}return!0},Tb=(e,t)=>(n,o,r)=>{const i=Object(qf.b)(n,!0);if(!i)return!1;const s=()=>{if(!r)throw new Error("Missing view. Can't update without EditorView");if(!e)throw new Error("Missing macroProvider. Can't use the macro browser for updates");wb(e,i.node,!0)(r)};if(t)t.then((t=>{if(t&&r){
const e=(({editInLegacyMacroBrowser:e})=>(t,n,o)=>({editInContextPanel:(e,r)=>{Object(Kf.d)(e,r)(t,n,o)},editInLegacyMacroBrowser:e}))({editInLegacyMacroBrowser:s})(n,o,r);xb(t,i,e)(n,o,r)}else t||!e||s()}));else{if(!e)return!1;s()}return!0},Pb=Object(f.h)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),Ab=(e,t,n,o)=>{const r=Object(qf.b)(e,!0),{layout:i}=n;return r&&o&&((e,t)=>{const{schema:{nodes:{bodiedExtension:n,extension:o,layoutSection:r,table:i,expand:s}},selection:a}=e;return!!t&&!(t.node.type!==n&&(t.node.type!==o||Object(b.hasParentNodeOfType)([n,i,s].filter(Boolean))(a))||Object(b.hasParentNodeOfType)([r])(a))})(e,r)?[{type:"button",icon:ub.a,onClick:Object(Kf.e)("default"),selected:"default"===i,title:t(C.a.layoutFixedWidth)},{type:"button",icon:cb.a,onClick:Object(Kf.e)("wide"),selected:"wide"===i,title:t(C.a.layoutWide)},{type:"button",icon:ab.a,onClick:Object(Kf.e)("full-width"),selected:"full-width"===i,
title:t(C.a.layoutFullWidth)}]:[]},Ib=(e=!0)=>(t,{formatMessage:n})=>{const o=Object(Gf.c)(t);if(o&&!o.showContextPanel&&o.element){const r=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],i=((e,t)=>t.showEditButton?[{type:"button",icon:ib.a,testId:"extension-toolbar-edit-button",onClick:(e,t,n)=>{const o=yb.getState(e),{updateExtension:r}=Object(Gf.c)(e);return Tb(o&&o.macroProvider,r)(e,t,n),!0},title:e(Pb.edit)}]:[])(n,o),s=Ab(t,n,o,e);return{title:"Extension floating controls",getDomRef:()=>o.element.parentElement||void 0,nodeType:r,items:[...i,...s,{type:"separator",hidden:0===i.length&&0===s.length},{type:"button",icon:Yo.a,appearance:"danger",onClick:Object(Kf.c)(),onMouseEnter:Object(Xo.b)(r,!0),onMouseLeave:Object(Xo.b)(r,!1),title:n(C.a.remove)}]}}}
;var Mb=o("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/manifest-helpers.js"),Db=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithEditorActions/index.js"),Nb=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ConfigPanel/LoadingState.js"),Rb=Eh()({loader:()=>o.e("@atlaskit-internal-editor-core-config-panel").then(o.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ConfigPanel/ConfigPanelFieldsLoader.js")).then((e=>e.default)),loading:Nb.a});function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(n),!0).forEach((function(t){Fb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zb=e=>t=>{const n=Object(qf.b)(t,!0);if(!n)return;const o=Object(Gf.c)(t),{autoSaveResolve:r,showContextPanel:i,extensionProvider:s,processParametersBefore:a,processParametersAfter:c}=o;if(o&&i&&s&&c){const{extensionType:t,extensionKey:o,parameters:i}=n.node.attrs,[c,d]=Object(Mb.b)(o,t),u=a?a(i):i;return l.a.createElement(Db.a,{render:o=>{const a=o._privateGetEditorView();return a?l.a.createElement(Rb,{showHeader:!0,closeOnEsc:!0,extensionType:t,extensionKey:c,nodeKey:d,extensionParameters:i,parameters:u,extensionProvider:s,autoSave:e,autoSaveTrigger:r,onChange:async e=>{await async function(e,t,n,o){const{processParametersAfter:r,processParametersBefore:i}=Object(Gf.c)(e.state);if(!r)return;const s=i?i(n):n;if(((e,t)=>{const n=Object.keys(e),o=Object.keys(t)
;return n.length===o.length&&n.every((n=>e[n]===t[n]))})(s,t))return;const a=Date.now(),{positions:l}=Object(Gf.c)(e.state);await Object(Kf.f)({positions:Bb(Bb({},l),{},{[a]:o.pos})})(e.state,e.dispatch);const c=await r(t),{positions:d}=Object(Gf.c)(e.state);if(!d)return;if(!(a in d))return;const{node:u}=o,p=Cb(o.node.toJSON().type,e.state.schema,Bb(Bb({},u.attrs),{},{parameters:Bb(Bb({},n),c)}),u.content);if(!p)return;const h=d[a],m=e.state.tr.replaceWith(h,h+p.nodeSize,p),{selection:f}=e.state;if(!f.eq(m.selection)){const e=Object(An.a)(f,m.doc);e&&m.setSelection(e)}const b=Bb({},Object(Gf.c)(e.state).positions);delete b[a],await Object(Kf.f)({positions:b})(e.state,e.dispatch),e.dispatch(m)}(a,e,i,n),r&&r()},onCancel:async()=>{e&&await new Promise((e=>{Object(Kf.b)(e)(a.state,a.dispatch)})),Object(Kf.a)(a.state,a.dispatch)}}):null}})}};var Ub=(e={})=>({name:"extension",nodes:()=>[{name:"extension",node:e.allowLocalIdGeneration?jf.b:jf.a},{name:"bodiedExtension",
node:e.allowLocalIdGeneration?wf.b:wf.a},{name:"inlineExtension",node:e.allowLocalIdGeneration?kf.b:kf.a}],pmPlugins:()=>[{name:"extension",plugin:({dispatch:t,providerFactory:n,portalProviderAPI:o,eventDispatcher:r})=>{const i=e.extensionHandlers||{};return Jf(t,n,i,o,r,e.useLongPressSelection)}},{name:"extensionKeymap",plugin:Zf},{name:"extensionUniqueId",plugin:()=>e.allowLocalIdGeneration?ob():void 0}],pluginsOptions:{floatingToolbar:Ib(e.breakoutEnabled),contextPanel:zb(e.allowAutoSave)}});function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){Wb(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vb=(e,t)=>new c.Plugin({state:{init:()=>({macroProvider:null}),apply(t,n){const o=t.getMeta(yb);if(o){const t=$b($b({},n),o);return e(yb,t),t}return n}},key:yb,view:e=>{const n=(t,n)=>n&&(e=>async t=>{let n;try{n=await e,hb()(n&&n.openMacroBrowser,`MacroProvider promise did not resolve to a valid instance of MacroProvider - ${n}`)}catch(o){n=null}return t.dispatch(t.state.tr.setMeta(yb,{macroProvider:n})),!0})(n)(e);return e.dom.parentNode&&t.subscribe("macroProvider",n),{destroy(){t.unsubscribe("macroProvider",n)}}}});var Kb=()=>({name:"macro",pmPlugins:()=>[{name:"macro",plugin:({dispatch:e,providerFactory:t})=>Vb(e,t)}]
}),qb=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/index.js"),Gb=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/date.js"),Yb=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/date.js");const Xb=new c.PluginKey("datePlugin");var Jb=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/date/utils/internal.js");const Zb=(e,t,n,o=!0)=>(r,i)=>{const{schema:s}=r;let a;a=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(Yb.f)();let l=r.tr;t&&Object(ct.a)(r,l,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.DATE,eventType:lt.d.TRACK,attributes:{inputMethod:t}}),n&&Object(ct.a)(r,l,{eventType:lt.d.TRACK,action:lt.a.COMMITTED,actionSubject:lt.b.DATE,attributes:{commitMethod:n,isValid:void 0!==e,isToday:Object(Jb.d)(e)}});const{showDatePickerAt:d}=Xb.getState(r);if(!d){const e=s.nodes.date.createChecked({timestamp:a}),t=r.schema.text(" "),n=Ve.Fragment.fromArray([e,t]),{from:o,to:d}=r.selection
;if(Object(b.canInsert)(l.selection.$from,n))l.replaceWith(o,d,n).setSelection(c.NodeSelection.create(l.doc,o));else{const e=c.NodeSelection.create(l.doc,l.selection.from-l.selection.$anchor.parentOffset-1);l.insert(e.to,n).setSelection(c.NodeSelection.create(l.doc,e.to+1))}return i(l.scrollIntoView().setMeta(Xb,{isNew:!0})),!0}return!!r.doc.nodeAt(d)&&(o&&(l=l.setSelection(c.Selection.near(l.doc.resolve(d+2)))),l=l.setNodeMarkup(d,s.nodes.date,{timestamp:a}).setMeta(Xb,{showDatePickerAt:d,isNew:!1}).scrollIntoView(),i(l),!0)},Qb=()=>(e,t)=>{const{showDatePickerAt:n}=Xb.getState(e);if(!t)return!1;return t(n?e.tr.setMeta(Xb,{showDatePickerAt:null,isNew:!1}).setSelection(c.Selection.near(e.tr.doc.resolve(n+2))):e.tr.setMeta(Xb,{isNew:!1})),!1},eg=()=>(e,t)=>{const{$from:n}=e.selection,o=e.doc.nodeAt(n.pos);if(o&&o.type.name===e.schema.nodes.date.name){const o=n.pos;t&&t(e.tr.setMeta(Xb,{showDatePickerAt:o}).setSelection(c.NodeSelection.create(e.doc,o)))}return!1}
;var tg=o("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/date.js"),ng=o("./node_modules/@atlaskit/date/dist/es2019/index.js");class og extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(e=>{e.nativeEvent.stopImmediatePropagation();const{state:t,dispatch:n}=this.props.view;(e=>(t,n)=>(n(t.tr.setMeta(Xb,{showDatePickerAt:e})),!0))(t.selection.from)(t,n)}))}render(){const{node:{attrs:{timestamp:e}},view:{state:{schema:t,selection:n}},intl:o}=this.props,r=n.$from.parent,i=r.type===t.nodes.taskItem&&"DONE"!==r.attrs.state,s=i&&Object(Yb.a)(e)?"red":void 0;return l.a.createElement("span",{className:tg.a.DATE_WRAPPER,onClick:this.handleClick},l.a.createElement(ng.Date,{color:s,value:e},i?Object(Yb.d)(e,o):Object(Yb.c)(e,o)))}}og.displayName="DateNodeView";var rg=Object(f.i)(og);function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(n),!0).forEach((function(t){ag(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lg=e=>{if(e instanceof c.NodeSelection){return"date"===e.node.type.name}return!1},{createPluginState:cg,getPluginState:dg}=Object(go.a)(Xb,(function(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return sg(sg({},e),{},{showDatePickerAt:null});const{showDatePickerAt:n,isNew:o}=e,{showDatePickerAt:r}=t;return n&&r&&n!==r&&o?sg(sg(sg({},e),t),{},{isNew:!1}):sg(sg({},e),t)}),{mapping:function(e,t){if(!t.showDatePickerAt)return t
;const{pos:n,deleted:o}=e.mapping.mapResult(t.showDatePickerAt);return{showDatePickerAt:o?null:n,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}},onSelectionChanged:function(e,t){return lg(e.selection)?sg({},t):{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}}});var ug=({dispatch:e,portalProviderAPI:t,eventDispatcher:n})=>new c.Plugin({state:cg(e,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:Xb,props:{nodeViews:{date:Fr.a.fromComponent(rg,t,n)}}});var pg=function(){const e={};return Ie.bindKeymapWithCommand(Ie.enter.common,((e,t)=>{const n=dg(e);return e.selection instanceof c.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(Qb()(e,t),!0):(eg()(e,t),!0))}),e),Ie.bindKeymapWithCommand(Ie.tab.common,((e,t)=>{const n=dg(e);return!!(e.selection instanceof c.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&((()=>(e,t)=>{
const{showDatePickerAt:n}=Xb.getState(e);return null!==n&&(!!t&&(t(e.tr.setMeta(Xb,{focusDateInput:!0})),!0))})()(e,t),!0))}),e),Object(Xt.b)(e)};const hg=Eh()({loader:()=>o.e("@atlaskit-internal-editor-datepicker").then(o.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/date/ui/DatePicker/index.js")),loading:()=>null});var mg=()=>({name:"date",nodes:()=>[{name:"date",node:Gb.a}],pmPlugins:()=>[{name:"date",plugin:e=>(hg.preload(),ug(e))},{name:"dateKeymap",plugin:()=>(hg.preload(),pg())}],contentComponent({editorView:e,dispatchAnalyticsEvent:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r}){const{state:i,dispatch:s}=e,a=e.domAtPos.bind(e);return l.a.createElement(p.a,{plugins:{datePlugin:Xb,editorDisabledPlugin:Yd.b},render:({editorDisabledPlugin:c,datePlugin:d})=>{const{showDatePickerAt:u,isNew:p,focusDateInput:h}=d;if(!u||(c||{}).editorDisabled)return null
;const m=Object(b.findDomRefAtPos)(u,a),f=Object(On.b)(i),{keyboardAccessibleDatepicker:g}=f;return l.a.createElement(hg,{mountTo:n,boundariesElement:o,scrollableElement:r,key:u,showTextField:g,element:m,isNew:p,autoFocus:h,onDelete:()=>{(()=>(e,t)=>{const{showDatePickerAt:n}=Xb.getState(e);return null!==n&&(t(e.tr.delete(n,n+1).setMeta(Xb,{showDatePickerAt:null,isNew:!1})),!0)})()(e.state,s),e.focus()},onSelect:(t,n)=>{null!=t&&(Zb(t,void 0,n)(e.state,s),e.focus())},onTextChanged:t=>{Zb(t,void 0,void 0,!1)(e.state,s)},closeDatePicker:()=>{Qb()(e.state,s),e.focus()},closeDatePickerWithAnalytics:({date:t})=>{(({date:e})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.COMMITTED,actionSubject:lt.b.DATE,attributes:{commitMethod:lt.e.BLUR,isValid:void 0!==e,isToday:Object(Jb.d)(e)}})(Qb()))({date:t})(e.state,s),e.focus()},dispatchAnalyticsEvent:t})}})},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"date",title:e(jn.a.date),description:e(jn.a.dateDescription),priority:800,
keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:()=>l.a.createElement(sn.c,{label:e(jn.a.date)}),action(e,t){const n=(()=>(e,t)=>{const n=e(t.schema.nodes.date.createChecked({timestamp:Object(Yb.f)()}),{selectInlineNode:!0}),o={showDatePickerAt:n.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return n.setMeta(Xb,o)})()(e,t);return Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.DATE,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.QUICK_INSERT}}),n}}]}}),fg=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/placeholder.js"),bg=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/media-services/text.js"),gg=o.n(bg),yg=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/fake-text-cursor/cursor.js"),vg=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/PanelTextInput/index.js");const Og=e=>e.nodeType===Node.TEXT_NODE?e.parentNode:e,jg=(e,t,n)=>o=>{if(!e)return o
;const r=(e=>parseFloat(window.getComputedStyle(e,void 0).lineHeight||""))(Og(t)),i=((e,t,n)=>{const{left:o,top:r,height:i}=t.getBoundingClientRect();return{left:e.left-o,right:e.right-o,top:e.top-(r-n)+t.scrollTop,bottom:i-(e.top-(r-n)-t.scrollTop)}})(n(),e,r);return{left:o.left?i.left:void 0,right:o.right?i.right:void 0,top:o.top?i.top:void 0,bottom:o.bottom?i.bottom:void 0}},wg=k.default.div(["border-radius:","px;"," display:flex;align-items:center;box-sizing:border-box;padding:4px 8px;background-color:",";",";"],Object(ce.borderRadius)(),We.k,"#FFFFFF",(({height:e})=>e?Object(k.css)(["height:","px;"],e):""));class kg extends a.PureComponent{render(){const{containerRef:e,children:t,target:n,offset:o,fitWidth:r,fitHeight:i=40,onPositionCalculated:s,popupsMountPoint:a,popupsBoundariesElement:c,className:d,alignX:u,alignY:p,zIndex:h}=this.props;return n?l.a.createElement(g.a,{alignX:u,alignY:p,target:n,zIndex:h,mountTo:a,boundariesElement:c,offset:o,fitWidth:r,fitHeight:i,
onPositionCalculated:s},l.a.createElement(wg,{height:i,className:d,innerRef:e},t)):null}}kg.displayName="FloatingToolbar";const Eg=Object(f.h)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}});class Sg extends l.a.Component{constructor(...e){super(...e),s()(this,"handleSubmit",(e=>{e?(this.props.insertPlaceholder(e),this.props.setFocusInEditor()):this.props.hidePlaceholderFloatingToolbar()})),s()(this,"handleBlur",(()=>{this.props.hidePlaceholderFloatingToolbar()}))}render(){const{getNodeFromPos:e,showInsertPanelAt:t,editorViewDOM:n,popupsMountPoint:o,getFixedCoordinatesFromPos:r,popupsBoundariesElement:i,intl:{formatMessage:s}}=this.props,a=e(t),c=((e,t)=>t?t.offsetParent:e.offsetParent)(n,o),d=jg(c,a,(()=>r(t)));return l.a.createElement(kg,{target:Og(a),onPositionCalculated:d,popupsMountPoint:o,popupsBoundariesElement:i,fitHeight:32,offset:[0,12]},l.a.createElement(vg.a,{
placeholder:s(Eg.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}Sg.displayName="PlaceholderFloatingToolbar";var _g=Object(f.i)(Sg);const Cg=new c.PluginKey("placeholderTextPlugin");class xg{constructor(e,t,n){this.node=e,this.view=t,this.getPos=n;const o=Ve.DOMSerializer.fromSchema(this.view.state.schema);this.dom=o.serializeNode(this.node)}ignoreMutation(e){const{view:t,dom:n,node:o}=this,r=n.textContent||"",i=o.attrs.text;if("characterData"===e.type&&r!==i&&r.includes(i)&&"function"==typeof this.getPos){const e=this.getPos(),n=e+this.node.nodeSize,o=r.replace(i,"");let s=t.state.tr.replaceRangeWith(e,n,t.state.schema.text(o));s=s.setSelection(c.TextSelection.create(s.doc,n,n)),t.dispatch(s)}return"selection"!==e.type}}const Tg=e=>({name:"placeholderText",nodes:()=>[{name:"placeholder",node:fg.a}],pmPlugins:()=>[{name:"placeholderText",plugin:({dispatch:t})=>function(e,t){const n=!!t.allowInserting;return new c.Plugin({key:Cg,
state:{init:()=>({showInsertPanelAt:null,allowInserting:n}),apply:(t,o)=>{const r=t.getMeta(Cg);if(r&&void 0!==r.showInsertPanelAt){const t={showInsertPanelAt:r.showInsertPanelAt,allowInserting:n};return e(Cg,t),t}if(o.showInsertPanelAt){const r={showInsertPanelAt:t.mapping.map(o.showInsertPanelAt),allowInserting:n};return e(Cg,r),r}return o}},appendTransaction(e,t,n){if(e.some((e=>e.docChanged))){const e=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,r=n.selection.$head.pos,i=n.schema.nodes.placeholder;if(o&&o.type===i&&e&&t.selection.$head.pos<n.selection.$head.pos&&!Object(Ye.i)(n.selection.$head.nodeBefore)){const{$from:e,$to:t}=c.NodeSelection.create(n.doc,r);return n.tr.deleteRange(e.pos,t.pos)}}
return!Cg.getState(t).showInsertPanelAt&&Cg.getState(n).showInsertPanelAt?n.tr.setSelection(new yg.a(n.selection.$from)):Cg.getState(t).showInsertPanelAt&&!Cg.getState(n).showInsertPanelAt&&n.selection instanceof yg.a?n.tr.setSelection(new c.TextSelection(n.selection.$from)):void 0},props:{nodeViews:{placeholder:(e,t,n)=>new xg(e,t,n)}}})}(t,e)}],contentComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n}){const o=t=>(e=>(t,n)=>(n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(Cg,{showInsertPanelAt:null}).scrollIntoView()),!0))(t)(e.state,e.dispatch),r=()=>((e,t)=>(t(e.tr.setMeta(Cg,{showInsertPanelAt:null})),!0))(e.state,e.dispatch),i=t=>e.domAtPos(t).node,s=t=>e.coordsAtPos(t),a=()=>e.focus();return l.a.createElement(p.a,{plugins:{placeholderTextState:Cg},render:({placeholderTextState:c={}})=>c.showInsertPanelAt?l.a.createElement(_g,{editorViewDOM:e.dom,popupsMountPoint:t,popupsBoundariesElement:n,getFixedCoordinatesFromPos:s,
getNodeFromPos:i,hidePlaceholderFloatingToolbar:r,showInsertPanelAt:c.showInsertPanelAt,insertPlaceholder:o,setFocusInEditor:a}):null})}});var Pg=e=>((e,t)=>t.allowInserting?(e.pluginsOptions={quickInsert:({formatMessage:e})=>[{id:"placeholderText",title:e(jn.a.placeholderText),description:e(jn.a.placeholderTextDescription),priority:1400,keywords:["placeholder"],icon:()=>l.a.createElement(gg.a,{label:e(jn.a.placeholderText)}),action(e,t){const n=e(t.schema.nodes.placeholder.createChecked());return n.setMeta(Cg,{showInsertPanelAt:n.selection.anchor}),Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.PLACEHOLDER_TEXT,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}]},
e):e)(Tg(e),e),Ag=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/layout-section.js"),Ig=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/layout-column.js"),Mg=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/node-events.js");const Dg=new c.PluginKey("layout");function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(n),!0).forEach((function(t){Lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n,e}const Bg=["two_equal","two_left_sidebar","two_right_sidebar"],Fg=["three_equal","three_with_sidebars"],zg=e=>{switch(e){case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},Ug=e=>{switch(Object(Qe.c)(e,(e=>e.attrs.width)).join(",")){case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},Hg=(e,t)=>e&&Ug(e)&&Ug(e)||t,$g=e=>{const{layoutSection:t,layoutColumn:n}=e.schema.nodes,o=Ve.Fragment.fromArray([n.createAndFill({width:50}),n.createAndFill({width:50})]);return t.createAndFill(void 0,o)},Wg=(e,t)=>(t&&t(Object(b.safeInsert)($g(e))(e.tr)),!0);function Vg(e,t,n){const{layoutColumn:o}=t.nodes,r=n.map((e=>Number(e.toFixed(2))))
;return Object(Qe.a)(e.content,((e,t)=>o.create(Rg(Rg({},e.attrs),{},{width:r[t]}),e.content,e.marks)))}function Kg(e,t,n,o){let r=function(e,t,n,o){const r=e.tr,i=n+t.nodeSize-1,s=t.childCount;if(Bg.indexOf(o)>=0&&3===s){const e=t.content.child(2),n=i-e.nodeSize;Object(Ye.f)(e)?r.replaceRange(r.mapping.map(n-1),r.mapping.map(i),Ve.Slice.empty):r.replaceRange(r.mapping.map(n-1),r.mapping.map(n+1),Ve.Slice.empty)}else Fg.indexOf(o)>=0&&2===s&&r.replaceWith(r.mapping.map(i),r.mapping.map(i),e.schema.nodes.layoutColumn.createAndFill());return r}(e,t,n,o);const i=r.selection;r=function(e,t,n,o){const r=t.doc.nodeAt(n);return r?t.replaceWith(n+1,n+r.nodeSize-1,Vg(r,e.schema,zg(o))):t}(e,r,n,o);const s=r.doc.resolve(i.$from.pos);return r.setSelection(e.selection instanceof c.NodeSelection?new c.NodeSelection(s):new c.TextSelection(s))}const qg=e=>(t,n)=>{const{pos:o,selectedLayout:r}=Dg.getState(t);if(r===e||null===o)return!1;const i=t.doc.nodeAt(o);if(!i)return!1;let s=Kg(t,i,o,e)
;return!!s&&(s=Object(ct.a)(t,s,{action:lt.a.CHANGED_LAYOUT,actionSubject:lt.b.LAYOUT,attributes:{previousLayout:Jg(r),newLayout:Jg(e)},eventType:lt.d.TRACK}),s.setMeta("scrollIntoView",!1),n&&n(s),!0)};function Gg(e){return!Ug(e)}function Yg(e,t,n){if(e.type===n.nodes.layoutSection){if(!Gg(e))return;const o=2===e.childCount?"two_equal":"three_equal",r=Vg(e,n,zg(o));return{from:t+1,to:t+e.nodeSize-1,slice:new Ve.Slice(r,0,0)}}}const Xg=(e,t)=>{const{pos:n,selectedLayout:o}=Dg.getState(e);if(null!==n){const r=e.doc.nodeAt(n);if(t){let i=e.tr.delete(n,n+r.nodeSize);i=Object(ct.a)(e,i,{action:lt.a.DELETED,actionSubject:lt.b.LAYOUT,attributes:{layout:Jg(o)},eventType:lt.d.TRACK}),t(i)}return!0}return!1},Jg=e=>{switch(e){case"two_equal":return Mg.a.TWO_COLS_EQUAL;case"three_equal":return Mg.a.THREE_COLS_EQUAL;case"two_left_sidebar":return Mg.a.LEFT_SIDEBAR;case"two_right_sidebar":return Mg.a.RIGHT_SIDEBAR;case"three_with_sidebars":return Mg.a.THREE_WITH_SIDEBARS}};function Zg(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zg(Object(n),!0).forEach((function(t){ey(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ey(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ty=e=>{const t=Object(b.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);if(t){return e.selection.from<t.pos+t.node.nodeSize}return!1},ny=(e,t)=>{
const{selection:n}=e,{schema:{nodes:{layoutColumn:o,layoutSection:r}}}=e,i=Object(b.findParentNodeOfType)(r)(n),s=Object(b.findParentNodeOfType)(o)(n);if(s.node!==i.node.lastChild){const n=e.doc.resolve(s.pos+s.node.nodeSize),o=c.TextSelection.findFrom(n,1);t&&t(e.tr.setSelection(o))}return!0};var oy=e=>new c.Plugin({key:Dg,state:{init:(t,n)=>((e,t)=>{const n=Object(b.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),o=e.allowBreakout||!1,r=e.UNSAFE_addSidebarLayouts||!1;return{pos:n?n.pos:null,allowBreakout:o,addSidebarLayouts:r,selectedLayout:Hg(n&&n.node,"two_equal")}})(e,n),apply:(e,t,n,o)=>{if(e.docChanged||e.selectionSet){const{schema:{nodes:{layoutSection:e}},selection:n}=o,r=Object(b.findParentNodeOfType)(e)(n)||Object(b.findSelectedNodeOfType)([e])(n);return Qg(Qg({},t),{},{pos:r?r.pos:null,selectedLayout:Hg(r&&r.node,t.selectedLayout)})}return t}},props:{decorations(e){const t=Dg.getState(e)
;if(null!==t.pos)return Tn.b.create(e.doc,((e,t)=>[Tn.a.node(e,e+t.nodeSize,{class:"selected"})])(t.pos,e.doc.nodeAt(t.pos)))},handleKeyDown:Object(Xt.a)({Tab:Object(Xe.b)(ty,ny)}),handleClickOn:Mn(["layoutColumn"],(e=>e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")),{useLongPressSelection:e.useLongPressSelection||!1,getNodeSelectionPos:(e,t)=>e.doc.resolve(t).before()})},appendTransaction:(e,t,n)=>{let o=[];if(e.forEach((e=>{if(o.forEach((t=>({from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}))),!e.docChanged)return;const t=((e,t)=>{const{layoutSection:n}=t.schema.nodes;let o;const r=Object(Ye.d)(e);if(!r)return;e.doc.nodesBetween(r.from,r.to,((e,r)=>e.type!==n||(Gg(e)&&(o=Yg(e,r,t.schema)),!1)));const i=e.doc.resolve(r.to);if(i.depth>0){const r=i.after(),s=e.doc.nodeAt(r);s&&s.type===n&&Gg(s)&&(o=Yg(s,r,t.schema))}return o})(e,n);t&&o.push(t)})),o.length){let e=n.tr;const t=n.selection.toJSON();if(o.forEach((t=>{
e.replaceRange(t.from,t.to,t.slice)})),e=(e=>{const{pos:t,selectedLayout:n}=Dg.getState(e);if(null!==t&&n){const o=e.doc.nodeAt(t);if(o&&o.childCount!==zg(n).length)return Kg(e,o,t,n)}})(n)||e,e.docChanged)return e.setSelection(c.Selection.fromJSON(e.doc,t)),e.setMeta("addToHistory",!1),e}}}),ry=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-equal.js"),iy=o.n(ry),sy=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-three-equal.js"),ay=o.n(sy),ly=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-left-sidebar.js"),cy=o.n(ly),dy=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-right-sidebar.js"),uy=o.n(dy),py=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-three-with-sidebars.js"),hy=o.n(py);const my=Object(f.h)({twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",
description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),fy=[{type:"two_equal",title:my.twoColumns,icon:iy.a},{type:"three_equal",title:my.threeColumns,icon:ay.a}],by=[{type:"two_right_sidebar",title:my.rightSidebar,icon:uy.a},{type:"two_left_sidebar",title:my.leftSidebar,icon:cy.a},{type:"three_with_sidebars",title:my.threeColumnsWithSidebars,icon:hy.a
}],gy=(e,t,n)=>({type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:qg(t.type),selected:!!n&&n===t.type});var yy=(e={})=>({name:"layout",nodes:()=>[{name:"layoutSection",node:Ag.a},{name:"layoutColumn",node:Ig.a}],pmPlugins:()=>[{name:"layout",plugin:()=>oy(e)}],pluginsOptions:{floatingToolbar(e,t){const{pos:n,allowBreakout:o,addSidebarLayouts:r}=Dg.getState(e);if(null!==n)return((e,t,n,o,r)=>{const i=e.doc.nodeAt(n);if(i){const o=Ug(i),s={type:"separator"},a=e.schema.nodes.layoutSection,l={type:"button",appearance:"danger",icon:Yo.a,testId:C.a.remove.id,title:t.formatMessage(C.a.remove),onClick:Xg,onMouseEnter:Object(Xo.b)(a,!0),onMouseLeave:Object(Xo.b)(a,!1)};return{title:"Layout floating controls",getDomRef:e=>Object(b.findDomRefAtPos)(n,e.domAtPos.bind(e)),nodeType:a,items:[...fy.map((e=>gy(t,e,o))),...r?by.map((e=>gy(t,e,o))):[],s,l]}}})(e,t,n,0,r)},quickInsert:({formatMessage:e})=>[{id:"layout",title:e(jn.a.columns),
description:e(jn.a.columnsDescription),keywords:["column","section"],priority:1100,icon:()=>l.a.createElement(sn.k,{label:e(jn.a.columns)}),action(e,t){const n=e($g(t));return Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.LAYOUT,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}]}}),vy=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/inline-card.js"),Oy=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/block-card.js"),jy=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/embed-card.js");function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach((function(t){Ey(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ey(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sy=(e,t)=>{switch(t.type){case"QUEUE":return((e,t)=>ky(ky({},e),{},{requests:e.requests.concat(t.requests)}))(e,t);case"SET_PROVIDER":return((e,t)=>ky(ky({},e),{},{provider:t.provider}))(e,t);case"RESOLVE":return((e,t)=>{const n=e.requests.reduce(((e,n)=>(n.url!==t.url&&e.push(n),e)),[]);return ky(ky({},e),{},{requests:n})})(e,t);case"REGISTER":return((e,t)=>ky(ky({},e),{},{cards:e.cards.filter((e=>e.pos!==t.info.pos)).concat(t.info)}))(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return((e,t)=>ky(ky({},e),{},{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type}))(e,t)}
},_y=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/actions.js"),Cy=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/doc.js");const xy=(e,t)=>n=>(Object(Cy.f)(t.url,n,t.analyticsAction)(e.state,e.dispatch),n),Ty=(e,t)=>()=>{Object(Cy.c)(t.url,t.source)(e.state,e.dispatch)};function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Py(Object(n),!0).forEach((function(t){Iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}const My=e=>ca.a.getState(e),Dy=(e,t)=>e.url===t.url&&e.pos===t.pos;var Ny=o("./node_modules/@atlaskit/smart-card/dist/es2019/index.js"),Ry=o("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/url.js"),Ly=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/utils.js");function By(e,t){var n,o;return o=n=class extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{isError:!1})}render(){const{url:n}=Object(Ly.d)(this.props.node);if(n&&!Object(Ry.b)(n))return l.a.createElement(t,null);if(this.state.isError)return n?l.a.createElement("a",{href:n,onClick:e=>{e.preventDefault()}},n):l.a.createElement(t,null);const o=this.context.contextAdapter?this.context.contextAdapter.card:void 0;return l.a.createElement(e,Xn()({cardContext:o},this.props))}componentDidCatch(e){const t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});const{view:e,node:t,getPos:n}=this.props,{url:o}=Object(Ly.d)(t)
;if(!n||"boolean"==typeof n)return;return Object(Cy.a)(void 0,o,!0,t,n())(e.state,e.dispatch),null}this.setState({isError:!0})}},s()(n,"contextTypes",{contextAdapter:Wr.a.object}),o}var Fy=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/index.js"),zy=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/UnsupportedBlock/index.js"),Uy=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/grid.js"),Hy=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/styled.js");const $y=k.default.div(["& > div{",";position:relative;clear:both;> div{position:absolute;height:100%;width:100%;}}"],Hy.a);var Wy=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/index.js"),Vy=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/utils.js"),Ky=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-single.js");function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach((function(t){Yy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xy extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{offsetLeft:this.calcOffsetLeft()}),s()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:o}}=this.props,r=100*Object(Uy.b)(e,this.props.lineLength);this.setState({resizedPctWidth:r});let i=Object(b.hasParentNodeOfType)(o.schema.nodes.table)(o.selection)?n:this.calcUnwrappedLayout(r,e)
;return r<=100?(!this.wrappedLayout||t&&100===r||(i=n),{width:r,layout:i}):{width:this.props.pctWidth||null,layout:i}})),s()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=this.wideLayoutWidth?"wide":"full-width")),s()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(Uy.a)(e,this.props.lineLength,this.props.gridSize):0})),s()(this,"calcPxWidth",(e=>{const{layout:t,pctWidth:n,lineLength:o,containerWidth:r,fullWidthMode:i,getPos:s,view:{state:a}}=this.props,{resizedPctWidth:l}=this.state,c="function"==typeof s?s():void 0;return Object(Ky.a)({origWidth:Le.b,origHeight:Le.a,pctWidth:n,state:a,containerWidth:{width:r,lineLength:o},isFullWidthModeEnabled:i,layout:e||t,pos:c,resizedPctWidth:l})})),s()(this,"highlights",((e,t)=>{const n=Object(Vy.c)(e,t),{layoutColumn:o,table:r,expand:i,nestedExpand:s}=this.props.view.state.schema.nodes
;if(this.$pos&&Object(b.findParentNodeOfTypeClosestToPos)(this.$pos,[o,r,i,s].filter(Boolean)))return[];if(n>this.wideLayoutWidth)return["full-width"];const{layout:a,lineLength:l,gridSize:c}=this.props,d=Object(Uy.a)(n,l,c),u=Math.round(d),p=[];return"wrap-left"===a||"align-start"===a?p.push(0,u):"wrap-right"===a||"align-end"===a?p.push(c,c-u):this.insideInlineLike?p.push(Math.round(d+this.calcColumnLeftOffset())):p.push(Math.floor((c-u)/2),Math.ceil((c+u)/2)),p}))}componentDidUpdate(){const e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}get wrappedLayout(){return Fy.e.indexOf(this.props.layout)>-1}UNSAFE_componentWillReceiveProps(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(Fy.e.indexOf(e)>-1&&"center"===t&&n){const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null
;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props;return this.wrappedLayout||this.insideInlineLike?e:e/2}calcOffsetLeft(){let e=0;if(this.wrapper&&this.insideInlineLike){const t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}get wideLayoutWidth(){const{lineLength:e}=this.props;return e?Math.ceil(e*Le.ab):Le.W}calcSnapPoints(){const{offsetLeft:e}=this.state,{containerWidth:t,lineLength:n}=this.props,o=[];for(let a=0;a<this.gridWidth;a++)o.push(Object(Uy.c)(a,n,this.gridWidth)-e);o.push(n-e);const r=Object(Uy.c)(this.wrappedLayout||this.insideInlineLike?1:2,n,this.props.gridSize);let i=o.filter((e=>e>=r));const s=this.$pos;if(!s)return i;if("doc"===s.parent.type.name){i.push(this.wideLayoutWidth);const e=t-Le.d;e>this.wideLayoutWidth&&i.push(e)}return i}get insideInlineLike(){const e=this.$pos;if(!e)return!1
;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(b.findParentNodeOfTypeClosestToPos)(e,[t])}getHeightDefiningComponent(){const{height:e}=this.props;let t;return t=e?{height:`${e}px`}:{paddingBottom:`${(Le.a/Le.b*100).toFixed(3)}%`},l.a.createElement("span",{"data-testid":"resizable-embed-card-height-definer",style:Gy({display:"block",fontSize:0,lineHeight:0},t)})}render(){const{layout:e,pctWidth:t,containerWidth:n,fullWidthMode:o,children:r}=this.props,i=this.calcPxWidth()-Le.u,s={};return Vy.a.forEach((t=>{const n="left"===t?"right":"left";s[t]=["full-width","wide","center"].concat(`wrap-${n}`).concat(`align-${Vy.b[n]}`).indexOf(e)>-1,"left"===t&&this.insideInlineLike&&(s[t]=!1)})),l.a.createElement($y,{layout:e,isResized:!!t,containerWidth:n||Le.b,innerRef:e=>this.wrapper=e,fullWidthMode:o},l.a.createElement(Wy.a,Xn()({},this.props,{width:i,enable:s,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),
scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:Le.u,nodeType:"embed"}),r,this.getHeightDefiningComponent()))}}Xy.displayName="ResizableEmbedCard";var Jy=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/rich-media-utils.js"),Zy=o("./node_modules/@atlaskit/adf-schema/dist/es2019/steps/set-attrs.js");function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(n),!0).forEach((function(t){tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nv extends l.a.PureComponent{constructor(...t){super(...t),s()(this,"embedIframeRef",l.a.createRef()),s()(this,"onClick",(()=>{})),s()(this,"state",{hasPreview:!0}),s()(this,"getPosSafely",(()=>{const{getPos:t}=this.props;if(t&&"boolean"!=typeof t)try{return t()}catch(e){}})),s()(this,"onResolve",(t=>{const{view:n}=this.props,{title:o,url:r}=t;Object(Vl.a)((()=>{const e=this.getPosSafely();if(void 0!==e)return n.dispatch(Object(_y.c)({title:o,url:r,pos:e})(n.state.tr))}))();try{const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0;e&&e.value.extractors.getPreview(r,this.props.platform)||this.setState({hasPreview:!1})}catch(e){}})),s()(this,"updateSize",((e,t)=>{const{state:n,dispatch:o}=this.props.view,r=this.getPosSafely();if(void 0===r)return;const i=n.tr.setNodeMarkup(r,void 0,ev(ev({},this.props.node.attrs),{},{width:e,layout:t}));return i.setMeta("scrollIntoView",!1),o(i),!0})),
s()(this,"getLineLength",((e,t,n)=>{if("number"==typeof t&&Object(Jy.d)(e,t)){const n=e.state.doc.resolve(t),o=e.nodeDOM(n.pos);if(n.nodeAfter&&Jy.c.indexOf(n.nodeAfter.attrs.layout)>-1&&o&&o.parentElement)return o.parentElement.offsetWidth;if(o instanceof HTMLElement)return o.offsetWidth}return n})),s()(this,"saveOriginalDimensionsAttributes",(e=>{const{view:t}=this.props,n=hc.a.getState(t.state);(null==n?void 0:n.dragging)||Object(Vl.a)((()=>{const n=this.getPosSafely();void 0!==n&&t.dispatch(t.state.tr.step(new Zy.a(n,{originalHeight:e})).setMeta("addToHistory",!1))}))()})),s()(this,"onHeightUpdate",(e=>{this.setState({actualHeight:e}),this.saveOriginalDimensionsAttributes(e)}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(Bd.c)(e.dom);this.scrollContainer=t||void 0}render(){const{node:e,cardContext:t,platform:n,allowResizing:o,fullWidthMode:r,view:i,dispatchAnalyticsEvent:s,getPos:a}=this.props;let{url:c,width:d,layout:u,originalHeight:m}=e.attrs
;const{hasPreview:f,actualHeight:b}=this.state,g=null!=b?b:m,y={layout:u,pctWidth:d,fullWidthMode:r},v=l.a.createElement(Ny.e,{embedIframeRef:this.embedIframeRef,onHeightUpdate:this.onHeightUpdate},l.a.createElement(p.a,{editorView:i,plugins:{widthState:h.b},render:({widthState:e})=>{const t=(null==e?void 0:e.lineLength)||0,r=(null==e?void 0:e.width)||0,d=this.getPosSafely();if(void 0===d)return null;const u=this.getLineLength(i,d,t),p=Object(Jy.d)(i,d)?u:r,h=l.a.createElement(Ny.a,{url:c,appearance:"embed",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,isFrameVisible:!0,inheritDimensions:!0,platform:n,container:this.scrollContainer,embedIframeRef:this.embedIframeRef});return o&&f?l.a.createElement(Xy,Xn()({},y,{height:g,view:this.props.view,getPos:a,lineLength:u,gridSize:12,containerWidth:p,displayGrid:Object(er.a)(this.props.eventDispatcher),updateSize:this.updateSize,dispatchAnalyticsEvent:s}),h):l.a.createElement(Fy.c,Xn()({},y,{height:g||Le.a,
width:g?void 0:Le.b,nodeType:"embedCard",hasFallbackContainer:f,lineLength:u,containerWidth:p}),h)}}));return l.a.createElement(l.a.Fragment,null,t&&t.value?l.a.createElement(t.Provider,{value:t.value},v):null)}}nv.displayName="EmbedCardComponent",s()(nv,"contextTypes",{contextAdapter:Wr.a.object});const ov=By(nv,zy.a);class rv extends ir.a{viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}createDomRef(){const e=document.createElement("div");return Ll.a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){const{eventDispatcher:e,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r}=this.reactComponentProps;return l.a.createElement(ov,{node:this.node,view:this.view,eventDispatcher:e,getPos:this.getPos,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r})}}rv.displayName="EmbedCard";class iv extends l.a.PureComponent{constructor(...e){super(...e),
s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:o,url:r}=e;Object(Vl.a)((()=>n.dispatch(Object(_y.c)({title:o,url:r,pos:t()})(n.state.tr))))()})),s()(this,"gapCursorSpan",(()=>{if(!(Ll.a.ie&&Ll.a.ie_version<79))return l.a.createElement("span",{contentEditable:!0})}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(Bd.c)(e.dom);this.scrollContainer=t||void 0}render(){const{node:e,cardContext:t,platform:n}=this.props,{url:o,data:r}=e.attrs,i=l.a.createElement(l.a.Fragment,null,l.a.createElement(Ny.a,{key:o,url:o,data:r,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,platform:n}),this.gapCursorSpan());return l.a.createElement("div",null,t&&t.value?l.a.createElement(t.Provider,{value:t.value},i):r?i:null)}}iv.displayName="BlockCardComponent",s()(iv,"contextTypes",{contextAdapter:Wr.a.object});const sv=By(iv,zy.a)
;class av extends Fr.a{createDomRef(){const e=document.createElement("div");return Ll.a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){return l.a.createElement(sv,{node:this.node,view:this.view,getPos:this.getPos,platform:this.reactComponentProps.platform})}}av.displayName="BlockCard";var lv=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/UnsupportedInline/index.js");class cv extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:o,url:r}=e;Object(Vl.a)((()=>n.dispatch(Object(_y.c)({title:o,url:r,pos:t()})(n.state.tr))))()}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(Bd.c)(e.dom);this.scrollContainer=t||void 0}render(){
const{node:e,cardContext:t}=this.props,{url:n,data:o}=e.attrs,r=l.a.createElement("span",null,l.a.createElement("span",null,Rr.a),l.a.createElement("span",{className:"card"},l.a.createElement(Ny.a,{key:n,url:n,data:o,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve})));return t&&t.value?l.a.createElement(t.Provider,{value:t.value},r):o?r:null}}cv.displayName="InlineCardComponent",s()(cv,"contextTypes",{contextAdapter:Wr.a.object});const dv=By(cv,lv.a);class uv extends Fr.a{render(){return l.a.createElement(dv,{node:this.node,view:this.view,getPos:this.getPos})}}uv.displayName="InlineCard";const pv=(e,t,n)=>({portalProviderAPI:o,eventDispatcher:r,providerFactory:i,dispatchAnalyticsEvent:s})=>{const a={eventDispatcher:r,providerFactory:i,platform:e,allowResizing:t,fullWidthMode:n,dispatchAnalyticsEvent:s};return new c.Plugin({state:{init:()=>({requests:[],provider:null,cards:[],showLinkingToolbar:!1}),apply(e,t){
const n=((e,t)=>Ay(Ay({},e),{},{requests:e.requests.map((e=>Ay(Ay({},e),{},{pos:t.mapping.map(e.pos)}))),cards:e.cards.map((e=>Ay(Ay({},e),{},{pos:t.mapping.map(e.pos)})))}))(t,e),o=e.getMeta(ca.a);if(o){return Sy(n,o)}return n}},view(e){const t={},n=(t,n)=>((e,t,n)=>{t&&t.then((e=>{const{state:t,dispatch:o}=n;o(Object(_y.e)(e)(t.tr))}))})(0,n,e),o=[];return i.subscribe("cardProvider",n),{update(e,n){const r=My(e.state),i=My(n);if(r&&r.provider){const n=((e,t)=>e?t.requests.filter((t=>!e.requests.find((e=>Dy(e,t))))):t.requests)(i,r),{provider:s}=r;n.forEach((n=>{const r=Object(Vl.a)((()=>((e,t,n,o)=>{const r=n.resolve(o.url,o.appearance).then((e=>(delete t[o.url],e))).then(xy(e,o),Ty(e,o));return t[o.url]=r,r})(e,t,s,n)));o.push(r.cancel),r()}))}},destroy(){Object.keys(t).forEach((e=>Promise.reject(t[e]))),o.forEach((e=>e())),i.unsubscribe("cardProvider",n)}}},props:{nodeViews:{inlineCard:(e,t,n)=>new uv(e,t,n,o,r,a,void 0,!0).init(),
blockCard:(e,t,n)=>new av(e,t,n,o,r,a,void 0,!0).init(),embedCard:(e,t,n)=>new rv(e,t,n,o,r,a,void 0,!0).init()}},key:ca.a})}
;var hv=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/unlink.js"),mv=o.n(hv),fv=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/shortcut.js"),bv=o.n(fv),gv=o("./node_modules/@atlaskit/editor-common/dist/es2019/messages/link.js"),yv=o("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/media-single.js"),vv=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/cross-circle.js"),Ov=o.n(vv),jv=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/link.js"),wv=o.n(jv),kv=o("./node_modules/@atlaskit/icon-object/glyph/page/16.js"),Ev=o.n(kv),Sv=o("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),_v=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/LinkSearchList.js"),Cv=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/ToolbarComponents.js"),xv=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js"),Tv=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js")
;function Pv(e,t,n){return e.filter((e=>-1===t.findIndex((t=>n?n(e,t):e===t))))}var Av=o("./node_modules/lodash/debounce.js"),Iv=o.n(Av),Mv=o("./node_modules/rusha/dist/rusha.js"),Dv=o.n(Mv),Nv=o("./node_modules/@atlaskit/icon-object/glyph/issue/16.js"),Rv=o.n(Nv),Lv=o("./node_modules/@atlaskit/icon-object/glyph/bug/16.js"),Bv=o.n(Lv),Fv=o("./node_modules/@atlaskit/icon-object/glyph/story/16.js"),zv=o.n(Fv),Uv=o("./node_modules/@atlaskit/icon-object/glyph/task/16.js"),Hv=o.n(Uv),$v=o("./node_modules/@atlaskit/icon-object/glyph/blog/16.js"),Wv=o.n($v);const Vv={"jira.issue":l.a.createElement(Rv.a,{label:"Issue"}),"jira.issue.bug":l.a.createElement(Bv.a,{label:"Bug"}),"jira.issue.story":l.a.createElement(zv.a,{label:"Story"}),"jira.issue.task":l.a.createElement(Hv.a,{label:"Task"}),"confluence.page":l.a.createElement(Ev.a,{label:"Page"}),"confluence.blogpost":l.a.createElement(Wv.a,{label:"Blog"})},Kv=e=>Dv.a.createHash().update(e).digest("hex"),qv=e=>e.split(" ").length
;var Gv=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/commands.js");const Yv=k.default.span(["cursor:pointer;padding-right:8px;color:",";"],"#97A0AF"),Xv=k.default.div(["",";border-top:1px solid ",";border-bottom:1px solid ",";"],Cv.b,"#EBECF0","#EBECF0"),Jv=k.default.span(["color:",";padding:4px 8px;width:18px;"],"#97A0AF"),Zv=Object(f.h)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"}}),Qv=l.a.createElement(Ev.a,{label:"page"}),eO=({name:e,container:t,iconUrl:n,objectId:o,url:r,viewedTimestamp:i})=>({objectId:o,name:e,container:t,iconUrl:n,url:r,lastViewedDate:i?new Date(i):void 0}),tO=({objectId:e,container:t,title:n,contentType:o,url:r,updatedTimestamp:i})=>({
objectId:e,container:t,name:n,url:r,lastUpdatedDate:i?new Date(i):void 0,icon:o&&Vv[o]||Qv});class nO extends a.PureComponent{constructor(e){super(e),s()(this,"isTabPressed",!1),s()(this,"submitted",!1),s()(this,"urlInputContainer",null),s()(this,"displayTextInputContainer",null),s()(this,"quickSearchQueryVersion",0),s()(this,"analyticSource","createLinkInlineDialog"),s()(this,"quickSearch",(async(e,t,n)=>{var o;const{searchProvider:r,displayUrl:i}=this.state,{pluginState:s}=this.props;if(!r)return;const a=++this.quickSearchQueryVersion;this.fireAnalytics({action:lt.a.ENTERED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.LINK_SEARCH_INPUT,attributes:{queryLength:e.length,queryVersion:a,queryHash:Kv(e),searchSessionId:null!==(o=s.searchSessionId)&&void 0!==o?o:"",wordCount:qv(e),source:this.analyticSource},nonPrivacySafeAttributes:{query:e},eventType:lt.d.UI});const l=performance.now();try{var c;const o=await r.quickSearch(e,n),d=rO(function(e,t){
return e.filter(((e,n,o)=>o.findIndex((n=>t?t(e,n):e===n))===n))}([...t,...o.map(tO)],((e,t)=>e.objectId===t.objectId)));i===e&&a===this.quickSearchQueryVersion&&this.setState({items:d,isLoading:!1});const u=performance.now()-l;this.fireAnalytics({action:lt.a.INVOKED,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.QUICK_SEARCH,attributes:{duration:u,count:o.length},eventType:lt.d.OPERATIONAL}),this.fireAnalytics({action:lt.a.SHOWN,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.POST_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,postQueryRequestDurationMs:u,searchSessionId:null!==(c=s.searchSessionId)&&void 0!==c?c:"",resultCount:o.length,results:o.map((e=>({resultContentId:e.objectId,resultType:e.contentType})))},eventType:lt.d.UI})}catch(d){const e=performance.now()-l;this.fireAnalytics({action:lt.a.INVOKED,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.QUICK_SEARCH,attributes:{duration:e,count:-1,errorCode:d.status},nonPrivacySafeAttributes:{
error:d.message},eventType:lt.d.OPERATIONAL})}})),s()(this,"updateInput",(async e=>{const{activityProvider:t,searchProvider:n}=this.state;if(this.setState({displayUrl:e}),t)if(0===e.length)this.setState({items:await this.getRecentItems(t),selectedIndex:-1});else if(Object(Ry.b)(e))this.setState({items:[],selectedIndex:-1,isLoading:!1});else{const o=await this.getRecentItems(t,e),r=o.length<5&&!!n;this.setState({items:o,isLoading:r}),r&&this.debouncedQuickSearch(e,o,5)}})),s()(this,"createClearHandler",(e=>async()=>{const{activityProvider:t}=this.state;if(t)switch(e){case"displayUrl":this.setState({[e]:"",items:rO(await t.getRecentItems())}),this.urlInputContainer&&this.urlInputContainer.focus();break;case"displayText":this.setState({[e]:""}),this.displayTextInputContainer&&this.displayTextInputContainer.focus()}})),s()(this,"handleSelected",((e,t)=>{this.handleInsert(e,t,lt.e.TYPEAHEAD,"click")})),s()(this,"handleInsert",((e,t,n,o)=>{var r
;const{pluginState:i,onSubmit:s}=this.props,{items:a,selectedIndex:l,displayText:c}=this.state;s&&(this.submitted=!0,s(e,t,c,n));const d=a[l];void 0!==d&&this.fireAnalytics({action:lt.a.SELECTED,actionSubject:lt.b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(r=i.searchSessionId)&&void 0!==r?r:"",trigger:o,resultCount:a.length,selectedResultId:d.objectId,selectedRelativePosition:l},eventType:lt.d.UI})})),s()(this,"handleMouseMove",(e=>{const{items:t}=this.state;if(t){const n=oO(t,(t=>t.objectId===e));this.setState({selectedIndex:n})}})),s()(this,"handleSubmit",(()=>{const{items:e,displayUrl:t,selectedIndex:n}=this.state;if(e&&e.length>0&&n>-1){const t=e[n],o=Object(Tv.g)(t.url);this.handleInsert(o,t.name,lt.e.TYPEAHEAD,"keyboard")}else if(t&&t.length>0){const e=Object(Tv.g)(t);e&&this.handleInsert(e,t,lt.e.MANUAL,"notselected")}})),s()(this,"handleKeyDown",(e=>{const{items:t,selectedIndex:n}=this.state,{pluginState:o,view:r}=this.props,{keyCode:i}=e
;if(this.isTabPressed=9===i,27===i)return e.preventDefault(),Object(Gv.b)()(r.state,r.dispatch),void r.dispatch(Object(_y.a)(r.state.tr));if(!t||!t.length)return;let s=n;var a;(40===i?(e.preventDefault(),s=(n+1)%t.length):38===i&&(e.preventDefault(),s=n>0?n-1:t.length-1),this.setState({selectedIndex:s}),t[s])&&this.fireAnalytics({action:lt.a.HIGHLIGHTED,actionSubject:lt.b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(a=o.searchSessionId)&&void 0!==a?a:"",selectedResultId:t[s].objectId,selectedRelativePosition:s},eventType:lt.d.UI})})),s()(this,"handleTextKeyDown",(e=>{this.setState({displayText:e})})),s()(this,"handleCancel",(e=>{const{view:t}=this.props;e.preventDefault(),Object(Gv.b)()(t.state,t.dispatch)})),s()(this,"handleBlur",(e=>{const t=Object(Tv.g)(this.state.displayUrl);this.props.onBlur&&!this.submitted&&t&&this.props.onBlur(e,t,this.state.displayText||this.state.displayUrl,this.state.displayText,this.isTabPressed)})),this.state={
selectedIndex:-1,isLoading:!1,displayUrl:Object(Tv.g)(e.displayUrl),displayText:e.displayText,items:[]},this.urlBlur=this.handleBlur.bind(this,"url"),this.textBlur=this.handleBlur.bind(this,"text"),this.handleClearText=this.createClearHandler("displayUrl"),this.handleClearDisplayText=this.createClearHandler("displayText"),this.debouncedQuickSearch=Iv()(this.quickSearch,400),this.fireCustomAnalytics=Object(xv.a)(e.createAnalyticsEvent)}async componentDidMount(){var e,t;const{pluginState:n}=this.props;this.fireAnalytics({action:lt.a.VIEWED,actionSubject:lt.b.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:n.timesViewed,searchSessionId:null!==(e=n.searchSessionId)&&void 0!==e?e:"",trigger:null!==(t=n.inputMethod)&&void 0!==t?t:""},eventType:lt.d.SCREEN});const[o,r]=await Promise.all([this.props.activityProvider,this.props.searchProvider]);this.setState({activityProvider:o,searchProvider:r}),await this.loadInitialLinkSearchResult()}componentWillUnmount(){const{pluginState:e}=this.props
;var t;this.submitted||this.fireAnalytics({action:lt.a.DISMISSED,actionSubject:lt.b.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(t=e.searchSessionId)&&void 0!==t?t:"",trigger:"blur"},eventType:lt.d.UI})}async getRecentItems(e,t){const{pluginState:n}=this.props,o=performance.now();try{var r;const i=rO(t?await e.searchRecent(t):await e.getRecentItems()),s=i.map(eO),a=performance.now()-o;return this.fireAnalytics({action:lt.a.INVOKED,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.RECENT_ACTIVITIES,attributes:{duration:a,count:s.length},eventType:lt.d.OPERATIONAL}),this.fireAnalytics({action:lt.a.SHOWN,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:a,searchSessionId:null!==(r=n.searchSessionId)&&void 0!==r?r:"",resultCount:s.length,results:i.map((e=>{var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},
eventType:lt.d.UI}),s}catch(i){const e=performance.now()-o;return this.fireAnalytics({action:lt.a.INVOKED,actionSubject:lt.b.SEARCH_RESULT,actionSubjectId:lt.c.RECENT_ACTIVITIES,attributes:{duration:e,count:-1,errorCode:i.status},nonPrivacySafeAttributes:{error:i.message},eventType:lt.d.OPERATIONAL}),[]}}fireAnalytics(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}async loadInitialLinkSearchResult(){const{displayUrl:e,activityProvider:t}=this.state;try{if(!e&&t){this.setState({isLoading:!0});const e=await this.getRecentItems(t);this.setState({items:e})}}finally{this.setState({isLoading:!1})}}render(){const{items:e,isLoading:t,selectedIndex:n,displayUrl:o,displayText:r}=this.state,{intl:{formatMessage:i},activityProvider:s}=this.props,a=i(s?C.b.placeholder:C.b.linkPlaceholder),c=i(C.b.linkAddress),d=i(Zv.clearLink),u=i(Zv.displayText);return l.a.createElement("div",{className:"recent-list"},l.a.createElement(Cv.a,{provider:!!s
},l.a.createElement(Cv.c,null,l.a.createElement(Jv,null,l.a.createElement(Re.a,{content:c},l.a.createElement(wv.a,{label:c}))),l.a.createElement(vg.a,{ref:e=>this.urlInputContainer=e,placeholder:a,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,onBlur:this.urlBlur,defaultValue:o,onKeyDown:this.handleKeyDown}),o&&l.a.createElement(Re.a,{content:d},l.a.createElement(Yv,{onClick:this.handleClearText},l.a.createElement(Ov.a,{label:d})))),l.a.createElement(Xv,null,l.a.createElement(Jv,null,l.a.createElement(Re.a,{content:u},l.a.createElement(pe.a,{label:u}))),l.a.createElement(vg.a,{ref:e=>this.displayTextInputContainer=e,placeholder:u,ariaLabel:"Link label",testId:"link-label",onChange:this.handleTextKeyDown,onCancel:this.handleCancel,onBlur:this.textBlur,defaultValue:r,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown}),r&&l.a.createElement(Re.a,{content:i(Zv.clearText)},l.a.createElement(Yv,{
onClick:this.handleClearDisplayText},l.a.createElement(Ov.a,{label:i(Zv.clearText)})))),l.a.createElement(_v.a,{items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove})))}}nO.displayName="HyperlinkLinkAddToolbar";const oO=(e,t)=>{let n=-1;return e.some(((e,o)=>!!t(e)&&(n=o,!0))),n};function rO(e){return e.slice(0,5)}const iO=Object(f.i)(nO);var sO=Object(Sv.a)()(iO),aO=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/pm-plugins/main.js");class lO extends l.a.PureComponent{render(){const{onSubmit:e,onBlur:t,displayText:n,displayUrl:o,providerFactory:r,view:i}=this.props;return l.a.createElement(Vp.a,{providers:["activityProvider","searchProvider"],providerFactory:r,renderNode:({activityProvider:r,searchProvider:s})=>l.a.createElement(p.a,{editorView:i,plugins:{hyperlinkPluginState:aO.e},render:({hyperlinkPluginState:a})=>l.a.createElement(sO,{activityProvider:r,searchProvider:s,onSubmit:e,onBlur:t,displayText:n,
displayUrl:o,pluginState:a,view:i})})})}}lO.displayName="HyperlinkAddToolbar";class cO extends l.a.Component{componentDidUpdate(e){e.node!==this.props.node&&this.hideLinkToolbar()}componentWillUnmount(){this.hideLinkToolbar()}hideLinkToolbar(){const{view:e}=this.props;e.dispatch(Object(_y.a)(e.state.tr))}render(){const{providerFactory:e,url:t,text:n,view:o,onSubmit:r}=this.props;return l.a.createElement(lO,{view:o,providerFactory:e,displayUrl:t,displayText:n,onSubmit:(e,t,n)=>{this.hideLinkToolbar(),r&&r(e,n||t)}})}}cO.displayName="EditLinkToolbar";const dO=(e,t)=>!!t&&(t(Object(_y.f)(e.tr)),!0),uO=({providerFactory:e,node:t})=>({type:"custom",render:(n,o)=>{if(!n||!e)return null;const r=Object(Ly.b)(t,Object(Ly.c)(n.state));return l.a.createElement(cO,{key:o,view:n,providerFactory:e,url:r.url,text:r.title||"",node:t,onSubmit:(e,t)=>t!==r.title&&e!==r.url?Object(Cy.h)(e)(n.state,n.dispatch):t!==r.title||e!==r.url?Object(Cy.a)(t,e)(n.state,n.dispatch):void 0})}}),pO={height:360,
width:420,forcePlacement:!0};var hO=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Dropdown.js");const mO=Object(f.h)({url:{id:"fabric.editor.url",defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"
},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",description:"Warning message to show the user that this node cannot change its view"}});class fO extends l.a.Component{constructor(...e){super(...e),s()(this,"renderDropdown",((e,t)=>{const{url:n,intl:o,currentAppearance:r,editorState:i,allowEmbeds:s,platform:a}=this.props,c=s&&t&&n&&t.extractors.getPreview(n,a);if(n){var d,u;const e=null==t||null===(d=t.store)||void 0===d?void 0:d.getState()[n];if("fatal"===(null==e||null===(u=e.error)||void 0===u?void 0:u.kind))return null}const p=Object(Os.f)(i,Ve.Fragment.from(i.schema.nodes.blockCard.createChecked({})),r),h=s&&c&&{title:o.formatMessage(mO.embed),onClick:Object(Cy.g)("embed"),selected:"embed"===r,hidden:!1,testId:"embed-appearance",disabled:!p},m=[{title:o.formatMessage(mO.url),onClick:()=>Object(Cy.a)(n,n,!0)(i,null==e?void 0:e.dispatch),selected:!r,testId:"url-appearance"},{
title:o.formatMessage(mO.inline),onClick:Object(Cy.g)("inline"),selected:"inline"===r,hidden:!1,testId:"inline-appearance"},{title:o.formatMessage(mO.block),onClick:Object(Cy.g)("block"),selected:"block"===r,hidden:!1,testId:"block-appearance",disabled:!p}],f=o.formatMessage(r?mO[r]:mO.url);return h&&m.push(h),l.a.createElement(hO.a,{key:"link-toolbar",buttonTestId:"link-toolbar-appearance-button",title:f,dispatchCommand:t=>{t&&t(i,e&&e.dispatch)},options:m})}))}render(){const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,{editorView:t}=this.props;return this.renderDropdown(t,e&&e.value)}}fO.displayName="LinkToolbarAppearance",s()(fO,"contextTypes",{contextAdapter:Wr.a.object});var bO=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/MediaAndEmbedsToolbar/index.js");function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable
}))),n.push.apply(n,o)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach((function(t){vO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const OO=(e,t)=>{if(!(e.selection instanceof c.NodeSelection))return!1;const n=e.selection.node.type.name,o={action:lt.a.DELETED,actionSubject:lt.b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:lt.e.TOOLBAR,displayMode:n},eventType:lt.d.TRACK};return t&&t(Object(ct.a)(e,Object(b.removeSelectedNode)(e.tr),o)),!0},jO=(e,t)=>{if(!(e.selection instanceof c.NodeSelection))return!1;const{type:n}=e.selection.node,{url:o}=Object(Ly.d)(e.selection.node),r={action:lt.a.VISITED,
actionSubject:lt.b.SMART_LINK,actionSubjectId:n.name,attributes:{inputMethod:lt.e.TOOLBAR},eventType:lt.d.TRACK};return window.open(o),t&&t(Object(ct.a)(e,e.tr,r)),!0},wO=(e,t)=>{const n=Object(Ly.b)(e,Object(Ly.c)(t)),o=n.title||n.url;return o?Object(Cy.b)(o):()=>!1},kO=(e,t,n)=>{const{inlineCard:o}=t.schema.nodes,r={type:"button",appearance:"danger",icon:Yo.a,onMouseEnter:Object(Xo.b)(e.type,!0),onMouseLeave:Object(Xo.b)(e.type,!1),title:n.formatMessage(C.a.remove),onClick:OO};if(e.type===o){return[{type:"button",title:n.formatMessage(C.b.unlink),icon:mv.a,onClick:wO(e,t)},r]}return[r]},EO=(e,t,n,o,r)=>i=>{const{url:s}=Object(Ly.d)(i);if(s&&!Object(Ry.b)(s))return[];const a=ca.a.getState(e),c=Object(Ly.a)(i.type);if(a.showLinkingToolbar)return[uO({providerFactory:n,node:i})];{const n=[{type:"button",selected:!1,title:t.formatMessage(C.b.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:dO},{type:"separator"},{type:"button",icon:bv.a,
className:"hyperlink-open-link",title:t.formatMessage(gv.a.openLink),onClick:jO},{type:"separator"},...kO(i,e,t)];"embed"===c&&n.unshift(...((e,t)=>Object(bO.a)(e,t,e.schema.nodes.embedCard,!0,!0))(e,t),{type:"separator"});const{allowBlockCards:a,allowEmbeds:d}=o;return(a||d)&&c&&n.unshift({type:"custom",render:n=>l.a.createElement(fO,{key:"link-appearance",url:s,intl:t,currentAppearance:c,editorView:n,editorState:e,allowEmbeds:d,platform:r})},{type:"separator"}),n}},SO=(e,t)=>(n,o,r)=>{const{inlineCard:i,blockCard:s,embedCard:a}=n.schema.nodes,l=[i,s,a],d=ca.a.getState(n);if(!(n.selection instanceof c.NodeSelection))return;const u=n.selection.node;if(!u)return;const p="embed"===Object(Ly.a)(u.type),h=p?{offset:[0,24]}:{};return yO(yO({title:o.formatMessage(mO.card),nodeType:l},h),{},{getDomRef:e=>{const t=Object(b.findDomRefAtPos)(n.selection.from,e.domAtPos.bind(e));if(t)return p?t.querySelector(`.${yv.b}`):t},items:EO(n,o,r,e,t)},d.showLinkingToolbar?pO:{})}
;new c.PluginKey("cardPlugin");var _O=e=>({name:"card",nodes(){const t=[{name:"inlineCard",node:vy.a},{name:"blockCard",node:Oy.a}];return e.allowEmbeds&&t.push({name:"embedCard",node:jy.a}),t},pmPlugins(){const t="boolean"!=typeof e.allowResizing||e.allowResizing;return[{name:"card",plugin:pv(e.platform,t,e.fullWidthMode)}]},pluginsOptions:{floatingToolbar:SO(e,e.platform)}});function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach((function(t){TO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TO(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PO=(e,t)=>{switch(t.action){case"matched":return((e,t)=>xO(xO({},e),{},{resolving:[...e.resolving,{start:t.start,end:t.end,match:t.match}]}))(e,t);case"resolved":return((e,t)=>xO(xO({},e),{},{matches:[...e.matches,{replacement:t.replacement,matchString:t.matchString}]}))(e,t);case"finish":return((e,t)=>xO(xO({},e),{},{resolving:e.resolving.filter((e=>e.match[0]!==t.matchString)),matches:e.matches.filter((e=>e.matchString!==t.matchString))}))(e,t);default:return e}};const AO=(e,t,n,o,r)=>{const{state:i}=e,s=i.doc.resolve(n);if(s.parent.type.spec.code)return!1;let a=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"\ufffc")+r;for(let l=0;l<t.length;l++){let i;if(i=r.length?t[l].matchTyping.exec(a):t[l].matchEnter.exec(a),i){const s=n-(i[0].length-r.length);return t[l].handler(e,i,s,o),!0}}return!1}
;var IO=o("./node_modules/prosemirror-history/dist/index.es.js");const MO=new c.PluginKey("customAutoformatPlugin"),DO=(e,t)=>e.setMeta(MO,t),NO=(e,t)=>async(e,n,o,r)=>{const i=t(n.slice(1,n.length-1));e.dispatch(DO(e.state.tr,{action:"matched",match:n,start:o,end:r}));const s=await i,a=Object(Ye.l)(e.state.schema,s);return e.dispatch(DO(e.state.tr,{action:"resolved",matchString:n[0],replacement:a})),s};function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function LO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(n),!0).forEach((function(t){BO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
function BO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const FO=({providerFactory:e})=>{const t=[];return new c.Plugin({state:{init:()=>({resolving:[],matches:[]}),apply(e,t){if(!t)return t;const n=LO(LO({},t),{},{resolving:t.resolving.map((t=>LO(LO({},t),{},{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})))}),o=e.getMeta(MO);return o?PO(n,o):n}},props:{handleTextInput:(e,n,o,r)=>(AO(e,t,n,o,r),!1),handleKeyDown:Object(Xt.a)({Enter:(e,n,o)=>(AO(o,t,o.state.selection.from,o.state.selection.to,""),!1)})},view(){const n=(e,n)=>{"autoformattingProvider"===e&&n&&n.then((async e=>{const n=await e.getRules();Object.keys(n).forEach((e=>{const o={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:NO(0,n[e])};t.push(o)}))}))};return e.subscribe("autoformattingProvider",n),{update(e){const t=(e=>MO.getState(e))(e.state);t&&t.matches&&((e,t)=>{
const{inlineCard:n}=e.state.schema.nodes;t.matches.forEach((o=>{const r=t.resolving.filter((e=>e.match[0]===o.matchString));let i=e.state.tr;r.forEach((t=>{const{match:r,start:s,end:a}=t,{replacement:l}=o,c=r[1],d=a+r[r.length-1].length;l&&(l.type===n||l.isText)&&e.state.doc.textBetween(s,d,"#","|")===r[0]&&(i=i.replaceWith(i.mapping.map(s+c.length),i.mapping.map(a,-1),l))})),i=DO(i,{action:"finish",matchString:o.matchString}),e.dispatch(Object(IO.a)(i))}))})(e,t)},destroy(){e.unsubscribe("autoformattingProvider",n)}}},key:MO})};var zO=()=>({name:"customAutoformat",pmPlugins:()=>[{name:"customAutoformat",plugin:FO}]}),UO=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/status.js"),HO=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/actions.js"),$O=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/utils.js");function WO(){const e={};return Ie.bindKeymapWithCommand(Ie.enter.common,VO,e),Ie.bindKeymapWithCommand(Ie.tab.common,VO,e),
Object(Xt.b)(e)}const VO=(e,t)=>!!Object($O.b)(e.tr.selection);var KO=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin.js"),qO=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin-key.js"),GO=o("./node_modules/@atlaskit/status/node_modules/@emotion/core/dist/core.browser.esm.js"),YO=o("./node_modules/@atlaskit/analytics-next/dist/es2019/hooks/usePlatformLeafEventHandler.js"),XO=o("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js");const JO="#F4F5F7",ZO="#121A29",QO="#DE350B",ej="#DE350B",tj={light:"#FAFBFC",dark:"#0E1624"},nj={light:"#FFFFFF",dark:"#0E1624"},oj={light:"#EBECF0",dark:"#1B2638"},rj={light:"#4C9AFF",dark:"#B3D4FF"},ij={light:"transparent",dark:"transparent"},sj={light:"#091E42",dark:"#B8C7E0"},aj="#A5ADBA",lj="#56637A",cj={light:"#7A869A",dark:"#56637A"};function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dj(Object(n),!0).forEach((function(t){pj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hj=Object(ce.fontSize)(),mj=Object(ce.gridSize)(),fj={light:{backgroundColor:tj.light,backgroundColorFocus:JO,backgroundColorHover:JO,borderColor:tj.light,borderColorFocus:rj.light,textColor:aj},dark:{backgroundColor:tj.dark,backgroundColorFocus:ZO,backgroundColorHover:ZO,borderColor:tj.dark,borderColorFocus:rj.dark,textColor:lj}},bj={light:{backgroundColor:tj.light,backgroundColorFocus:nj.light,backgroundColorHover:oj.light,
borderColor:QO,borderColorFocus:rj.light},dark:{backgroundColor:tj.dark,backgroundColorFocus:nj.dark,backgroundColorHover:oj.dark,borderColor:ej,borderColorFocus:rj.dark}},gj={standard:tj,subtle:ij,none:ij},yj={standard:nj,subtle:nj,none:ij},vj={standard:oj,subtle:oj,none:ij},Oj={standard:{light:"#DFE1E6",dark:"#202B3D"},subtle:ij,none:ij},jj={standard:rj,subtle:rj,none:ij},wj={xsmall:80,small:160,medium:240,large:320,xlarge:480},kj=e=>e?e in wj?wj[e]:+e:"100%",Ej=(e,t,n)=>uj(uj({alignItems:"center"},((e,t)=>({backgroundColor:gj[e][t],borderColor:Oj[e][t],color:sj[t],cursor:"text","&:hover":{backgroundColor:vj[e][t]},"&:focus-within":{backgroundColor:yj[e][t],borderColor:jj[e][t]},"&[data-disabled]":{backgroundColor:fj[t].backgroundColor,borderColor:fj[t].borderColor,color:fj[t].textColor,cursor:"not-allowed"},"&[data-disabled]:focus-within":{backgroundColor:fj[t].backgroundColorFocus,borderColor:fj[t].borderColorFocus},"&[data-disabled]:hover":{
backgroundColor:fj[t].backgroundColorHover},"&[data-invalid]":{backgroundColor:bj[t].backgroundColor,borderColor:bj[t].borderColor},"&[data-invalid]:focus-within":{backgroundColor:bj[t].backgroundColorFocus,borderColor:bj[t].borderColorFocus},"&[data-invalid]:hover":{backgroundColor:bj[t].backgroundColorHover}}))(e,t)),{},{borderRadius:3,borderWidth:2,borderStyle:"none"===e?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:hj,justifyContent:"space-between",maxWidth:kj(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"});var Sj=o("./node_modules/@atlaskit/status/node_modules/@atlaskit/textfield/dist/es2019/version.json");function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}
function Cj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_j(Object(n),!0).forEach((function(t){xj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tj(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Pj={componentName:"textField",packageName:Sj.a,packageVersion:Sj.b},Aj=Object(a.forwardRef)(((e,t)=>{
const n=Object(a.useRef)(null),{appearance:o="standard",isCompact:r=!1,isDisabled:i=!1,isInvalid:s=!1,isRequired:l=!1,isReadOnly:c=!1,isMonospaced:d=!1,width:u,mode:p,elemAfterInput:h,elemBeforeInput:m,testId:f,onFocus:b,onBlur:g,onMouseDown:y,className:v}=e,O=Tj(e,["appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","width","mode","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className"]),j=Object(YO.a)(Cj({fn:e=>{b&&b(e)},action:"focused"},Pj)),w=Object(YO.a)(Cj({fn:e=>{g&&g(e)},action:"blurred"},Pj)),k=Object(a.useCallback)((e=>{"INPUT"!==e.target.tagName&&e.preventDefault(),n&&n.current&&!i&&document.activeElement!==n.current&&n.current.focus(),y&&y(e)}),[y,n,i]),E=Object(a.useCallback)((e=>{n.current=e;const o=t;o&&("object"==typeof o&&(o.current=e),"function"==typeof o&&o(e))}),[t]),S={"data-compact":r||void 0,"data-monospaced":d||void 0,"aria-invalid":s||void 0},_={"data-disabled":i||void 0,
"data-invalid":s||void 0},C=Object(a.useMemo)((()=>Ej(o,p,u)),[o,p,u]),x=Object(a.useMemo)((()=>(e=>({backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:hj,minWidth:"0",outline:"none",width:"100%",lineHeight:2.5*mj/hj,fontFamily:Object(ce.fontFamily)(),"&[data-monospaced]":{fontFamily:Object(ce.codeFontFamily)()},"&[data-compact]":{padding:`${mj/2}px ${mj-2}px`,height:`${(3.5*mj/hj).toFixed(2)}em`},"&:not([data-compact])":{padding:`${mj}px ${mj-2}px`,height:`${(4.5*mj/hj).toFixed(2)}em`},"&[disabled]":{WebkitTextFillColor:"unset",WebkitOpacity:1},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&::placeholder":{color:cj[e],"&:disabled":{color:fj[e].textColor}}}))(p)),[p]);return Object(GO.b)("div",Xn()({},_,{onMouseDown:k,"data-ds--text-field--container":!0,"data-testid":f&&`${f}-container`,css:C,className:v}),m,Object(GO.b)("input",Xn()({},O,S,{disabled:i,readOnly:c,required:l,onBlur:w,onFocus:j,ref:E,
"data-ds--text-field--input":!0,"data-testid":f,css:x})),h)})),Ij=Object(a.forwardRef)((function(e,t){return Object(GO.b)(XO.a.Consumer,null,(({mode:n})=>Object(GO.b)(Aj,Xn()({},e,{mode:n,ref:t}))))}));Ij.displayName="Textfield";var Mj=Object(a.memo)(Ij),Dj=o("./node_modules/@atlaskit/status/node_modules/@atlaskit/icon/glyph/editor/done.js"),Nj=o.n(Dj);const Rj=Object(f.h)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"
},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"}}),Lj=k.default.button(["height:24px;width:24px;background:",";padding:0;border-radius:4px;border:1px solid ",";cursor:pointer;display:block;box-sizing:border-box;overflow:hidden;"],"#091E42","#FFFFFF"),Bj=k.default.span(["border:1px solid transparent;margin:0 2px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:hover{border:1px solid ",";}"],"#C1C7D0");class Fj extends a.PureComponent{constructor(...e){super(...e),s()(this,"hoverStartTime",0),s()(this,"onMouseEnter",(()=>{this.hoverStartTime=Date.now()})),s()(this,"onMouseLeave",(()=>{const{onHover:e}=this.props;Date.now()-this.hoverStartTime>=1e3&&e&&e(this.props.value),this.hoverStartTime=0})),s()(this,"onMouseDown",(e=>{e.preventDefault()})),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){
const{tabIndex:e,backgroundColor:t,isSelected:n,borderColor:o,value:r}=this.props,i=`1px solid ${o}`;return l.a.createElement(Bj,null,l.a.createElement(f.c,Rj[`${r}Color`],(r=>l.a.createElement(Lj,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,tabIndex:e,className:""+(n?"selected":""),title:r,style:{backgroundColor:t||"transparent",border:i}},n&&l.a.createElement(Nj.a,{primaryColor:o,label:r})))))}componentWillUnmount(){this.hoverStartTime=0}}Fj.displayName="Color";const zj=[["neutral","#DFE1E6","#505F79"],["purple","#EAE6FF","#5243AA"],["blue","#DEEBFF","#0052CC"],["red","#FFEBE6","#DE350B"],["yellow","#FFF0B3","#FF991F"],["green","#E3FCEF","#00875A"]],Uj=k.default.div(["margin:","px ","px 0 ","px;display:flex;flex-wrap:wrap;"],Object(ce.gridSize)(),Object(ce.gridSize)(),Object(ce.gridSize)());var Hj=({cols:e=7,onClick:t,selectedColor:n,className:o,onHover:r})=>l.a.createElement(Uj,{className:o,style:{maxWidth:32*e}
},zj.map((([e,o,i])=>l.a.createElement(Fj,{key:e,value:e,backgroundColor:o,borderColor:i,onClick:t,onHover:r,isSelected:e===n}))));const $j=k.default.div(["margin:0 ","px;"],Object(ce.gridSize)());class Wj extends a.PureComponent{constructor(...e){super(...e),s()(this,"fieldTextWrapperKey",Math.random().toString()),s()(this,"colorPaletteKey",Math.random().toString()),s()(this,"onChange",(e=>{this.props.onTextChanged(e.target.value)})),s()(this,"onKeyPress",(e=>{"Enter"===e.key&&this.props.onEnter()})),s()(this,"handleInputRef",(e=>{e&&this.props.autoFocus&&setTimeout((()=>{e.focus()}))}))}render(){const{text:e,selectedColor:t,onColorClick:n,onColorHover:o}=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement($j,{key:this.fieldTextWrapperKey},l.a.createElement(Mj,{css:null,value:e,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off"})),l.a.createElement(Hj,{key:this.colorPaletteKey,onClick:n,onHover:o,
selectedColor:t}))}}Wj.displayName="StatusPicker",s()(Wj,"defaultProps",{autoFocus:!0});var Vj=o("./node_modules/@atlaskit/editor-core/dist/es2019/version.json");function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kj(Object(n),!0).forEach((function(t){Gj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yj=e=>e?"new":"update",Xj=Object(Be.a)(g.a);let Jj;!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(Jj||(Jj={}))
;const Zj=k.default.div(["background:",";padding:","px 0;border-radius:","px;",";input{text-transform:uppercase;}"],"#FFFFFF",Object(ce.gridSize)(),Object(ce.borderRadius)(),We.k);class Qj extends l.a.Component{constructor(e){super(e),s()(this,"handleClickOutside",(e=>{e.preventDefault(),this.inputMethod=Jj.blur,this.props.closeStatusPicker()})),s()(this,"handleEscapeKeydown",(e=>{e.preventDefault(),this.inputMethod=Jj.escKey,this.props.onEnter(this.state)})),s()(this,"onColorHover",(e=>{this.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:this.state.localId,state:Yj(this.props.isNew)}})})),s()(this,"onColorClick",(e=>{const{text:t,localId:n}=this.state;e===this.state.color?(this.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:n,state:Yj(this.props.isNew)}}),this.onEnter()):(this.setState({color:e}),this.props.onSelect({text:t,color:e,localId:n}))})),
s()(this,"onTextChanged",(e=>{const{color:t,localId:n}=this.state;this.setState({text:e}),this.props.onTextChanged({text:e,color:t,localId:n},!!this.props.isNew)})),s()(this,"onEnter",(()=>{this.inputMethod=Jj.enterKey,this.props.onEnter(this.state)})),s()(this,"handlePopupClick",(e=>e.nativeEvent.stopImmediatePropagation())),this.state=this.extractStateFromProps(e),this.createStatusAnalyticsAndFireFunc=(e=>t=>{if(e&&t){const n=qj(qj({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=Vj.a,n.attributes.packageVersion=Vj.b,n.attributes.componentName="status",e(n).fire("fabric-elements")}})(e.createAnalyticsEvent)}fireStatusPopupOpenedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:o,state:Yj(r)}})}fireStatusPopupClosedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e
;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:o,state:Yj(r)}})}reset(){this.startTime=Date.now(),this.inputMethod=Jj.blur}componentDidMount(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}componentWillUnmount(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}componentDidUpdate(e,t,n){const o=this.props.target;if(e.target!==o){const e=this.extractStateFromProps(this.props);this.setState(e),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(e)}}extractStateFromProps(e){const{defaultColor:t,defaultText:n,defaultLocalId:o,isNew:r}=e;return{color:t||HO.a.color,text:n||HO.a.text,localId:o,isNew:r}}render(){const{isNew:e,target:t}=this.props,{color:n,text:o}=this.state;return t&&l.a.createElement(Xj,{target:t,offset:[0,8],handleClickOutside:this.handleClickOutside,
handleEscapeKeydown:this.handleEscapeKeydown,zIndex:Le.k,fitHeight:40},l.a.createElement(Zj,{onClick:this.handlePopupClick},l.a.createElement(Wj,{autoFocus:e,selectedColor:n,text:o,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}Qj.displayName="StatusPickerWithoutAnalytcs";var ew=Object(Sv.a)()(Qj);var tw=e=>((e,t)=>(!0===t.menuDisabled||(e.pluginsOptions={quickInsert:({formatMessage:e})=>[{id:"status",title:e(jn.a.status),description:e(jn.a.statusDescription),priority:700,keywords:["lozenge"],icon:()=>l.a.createElement(sn.v,{label:e(jn.a.status)}),action:(e,t)=>Object(ct.a)(t,Object(HO.c)()(e,t),{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.STATUS,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}]}),e))((e=>({name:"status",nodes:()=>[{name:"status",node:UO.a}],pmPlugins:()=>[{name:"status",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>Object(KO.a)(t,n,o,e)
},{name:"statusKeymap",plugin:WO}],contentComponent({editorView:e}){const t=e.domAtPos.bind(e);return l.a.createElement(p.a,{plugins:{statusState:qO.a},render:({statusState:n={}})=>{const{showStatusPickerAt:o}=n;if("number"!=typeof o)return null;const r=Object(b.findDomRefAtPos)(o,t),i=e.state.doc.nodeAt(o);if(!i||"status"!==i.type.name)return null;const{text:s,color:a,localId:c}=i.attrs;return l.a.createElement(ew,{isNew:n.isNew,target:r,defaultText:s,defaultColor:a,defaultLocalId:c,onSelect:t=>{Object(HO.e)(t)(e.state,e.dispatch)},onTextChanged:t=>{Object(HO.e)(t)(e.state,e.dispatch)},closeStatusPicker:()=>{Object(HO.b)()(e)},onEnter:()=>{Object(HO.b)()(e)}})}})}}))(e),e),nw=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/indentation.js");const ow={paragraph:pp.b.PARAGRAPH,heading:pp.b.HEADING};function rw(e,t){return void 0===t?iw(e):!1===t?0:t.level}function iw(e){return void 0===e?0:e.level}const sw=(e,t)=>{const{nodes:{paragraph:n,heading:o},marks:{alignment:r}}=e
;if([n,o].indexOf(t.type)>-1){if(r){return!t.marks.filter((e=>e.type===r))[0]}return!0}return!1};function aw(e,t){const{getAttrs:n,getAndResetAttrsChanges:o}=function(e,t){let n=[];return{getAttrs:function(o,r){const i=e(o,r);return n.push({node:r,prevAttrs:o,newAttrs:i,options:t}),i},getAndResetAttrsChanges(){const e=n;return n=[],e}}}(e,{direction:t}),r=function(e){return(t,n)=>{const{indentation:o}=t.schema.marks;return Object(V.k)(o,e,sw)(t,n)}}(n);return(e,t)=>r(e,function(e,t,n){return o=>{let r=o;e().forEach((({node:e,prevAttrs:n,newAttrs:o,options:{direction:i}})=>{const s=ow[e.type.name];s&&(r=Object(ct.a)(t,r,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_INDENT,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,previousIndentationLevel:iw(n),newIndentLevel:rw(n,o),direction:i,indentType:s}}))})),n&&n(o)}}(o,e,t))}const lw=aw((e=>{if(!e)return{level:1};const{level:t}=e;return t>=6?void 0:{level:t+1}}),pp.a.INDENT),cw=aw((e=>{if(!e)return
;const{level:t}=e;return!(t<=1)&&{level:t-1}}),pp.a.OUTDENT);function dw(){const e={};return Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.indent),lw,e),Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.outdent),cw,e),Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.backspace),((e,t)=>{const{selection:n}=e;return!(!Object(ho.s)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&cw(e,t))}),e),Object(Xt.b)(e)}var uw=()=>({name:"indentation",marks:()=>[{name:"indentation",mark:nw.a}],pmPlugins:()=>[{name:"indentationKeymap",plugin:()=>dw()}]}),pw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/context-panel/index.js"),hw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/input-rules.js");const mw=new c.PluginKey("scrollIntoViewPlugin");var fw=()=>({name:"scrollIntoView",pmPlugins:()=>[{name:"scrollIntoView",plugin:()=>(()=>new c.Plugin({key:mw,appendTransaction:(e,t,n)=>{if(!e.length)return;const o=e[0]
;return!o.docChanged&&!o.storedMarksSet||o.scrolledIntoView||!1===o.getMeta("scrollIntoView")||!1===o.getMeta("addToHistory")||o.getMeta("isRemote")||o.getMeta(hw.b)?void 0:n.tr.scrollIntoView()}}))()}]}),bw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/history/index.js"),gw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/actions.js"),yw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/commands.js"),vw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/plugin-factory.js");const Ow=()=>({keyboardHeight:-1,heightDiff:-1,mobilePaddingTop:0,windowHeight:window.innerHeight}),jw=e=>{let t;return new c.Plugin({state:Object(vw.b)(e,Ow),key:vw.d,props:{scrollThreshold:void 0,scrollMargin:void 0,handleScrollToSelection(e){const t=document.scrollingElement;if(!t)return!1;const{keyboardHeight:n,heightDiff:o}=Object(vw.c)(e.state),r=t.clientHeight-window.innerHeight
;return o!==r&&(Object(yw.a)(r)(e.state,e.dispatch),ww.call(this,n,r)),!1}},appendTransaction(e,t,n){if(e.find((e=>{const t=e.getMeta(vw.d);return t&&(t.type===gw.a.SET_KEYBOARD_HEIGHT||t.type===gw.a.SET_WINDOW_HEIGHT)}))){const{keyboardHeight:e,windowHeight:o}=Object(vw.c)(t),{keyboardHeight:r,heightDiff:i,windowHeight:s}=Object(vw.c)(n);if(e!==r&&ww.call(this,r,i),s<o)return n.tr.scrollIntoView()}},view(e){const n=()=>{let n=window.innerHeight,o=0;const r=()=>{window.innerHeight===n&&(o++,o>=5?(t=void 0,Object(yw.d)(window.innerHeight)(e.state,e.dispatch)):t=requestAnimationFrame(r))};t=requestAnimationFrame(r)};return window.addEventListener("resize",n),{destroy(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})},ww=function(e,t){if(-1===e||-1===t)return;const{scrollThreshold:n,scrollMargin:o}=kw(e,t);this.props&&(this.props.scrollThreshold=n,this.props.scrollMargin=o)},kw=(e,t)=>({scrollThreshold:{top:0,bottom:e+44-t,left:0,right:0},scrollMargin:{top:5,
bottom:e-t+44,left:0,right:0}});var Ew=()=>({name:"mobileScroll",pmPlugins:()=>[{name:"mobileScroll",plugin:({dispatch:e})=>jw(e)}]}),Sw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-selection/mobile-selection-plugin.js"),_w=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/pm-plugins/main.js"),Cw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js"),xw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/commands.js"),Tw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/commands/insert-mention-query.js");function Pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(n),!0).forEach((function(t){Iw(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mw=o("./node_modules/@atlaskit/item/dist/esm/util/theme.js"),Dw=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/search.js"),Nw=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ElementBrowser/components/ElementBrowserLoader.js");const Rw=({item:e})=>{const t=Object(a.useCallback)((t=>{13!==t.which&&32!==t.which||e.action()}),[e]);return l.a.createElement(k.ThemeProvider,{theme:Uw},l.a.createElement(De.a,{onClick:e.action,elemBefore:l.a.createElement(zw,null,e.icon()),"aria-describedby":e.title,"data-testid":"view-more-elements-item",onKeyPress:t},e.title))},Lw=({name:e,content:t})=>{const n={codeblock:sn.b,panel:sn.p,
blockquote:sn.u,decision:sn.d,horizontalrule:sn.e,expand:sn.g,date:sn.c,status:sn.v}[e];return n?l.a.createElement(n,{label:t}):void 0},Bw=({itemCount:e})=>e>0&&e<6?75*e+112:560,Fw=k.default.div(["display:flex;flex-direction:column;width:320px;height:","px;background-color:",";border-radius:","px;box-shadow:0 0 0 1px ",",0 2px 1px ",",0 0 20px -6px ",";"],Bw,Object(yc.a)({light:"#FFFFFF",dark:"#283447"})(),Object(ce.borderRadius)(),"rgba(9, 30, 66, 0.08)","rgba(9, 30, 66, 0.08)","rgba(9, 30, 66, 0.31)"),zw=k.default.div(["width:40px;height:40px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;margin-right:","px;"],Object(ce.gridSize)()/2),Uw={[Mw.e]:{padding:{default:{left:14}},height:40}},Hw=k.default.div(["display:flex;flex:1;box-sizing:border-box;overflow:hidden;"]),$w=Object(Be.a)(Hw);var Ww=({editorView:e,dropdownItems:t,onInsert:n,toggleVisiblity:o})=>{const[r,i]=Object(a.useState)(0),s=Object(a.useCallback)((e=>({title:e.content,
description:e.tooltipDescription,keyshortcut:e.shortcut,icon:()=>Lw({name:e.value.name,content:e.content})||e.elemBefore,action:()=>n({item:e}),onClick:e.onClick,value:e.value})),[n]),c=t.map(s),d=c.pop(),u=Object(a.useCallback)((t=>{o(),e.hasFocus()||e.focus(),Object(xw.b)(t)(e.state,e.dispatch)}),[e,o]),h=Object(a.useCallback)((e=>(t,n)=>{let o;return o=t?Object(Dw.b)(e,{})(t,n):c.concat(Object(Dw.a)(e,{})()),i(o.length),o}),[c]),m=Object(a.useCallback)((({quickInsertState:e})=>l.a.createElement($w,{handleClickOutside:o,handleEscapeKeydown:o},l.a.createElement(Nw.a,{mode:"inline",getItems:h(e),onInsertItem:u,showSearch:!0,showCategories:!1,key:c.length}))),[h,u,c.length,o]);return l.a.createElement(Fw,{itemCount:r},l.a.createElement(p.a,{plugins:{quickInsertState:_h.a},render:m}),r>0&&d&&l.a.createElement(Rw,{item:d}))},Vw=o("./node_modules/lodash/memoize.js"),Kw=o.n(Vw);const qw=["macro-browser","slash-onboarding"],Gw=e=>"string"==typeof e.content&&e.content.includes("macro")
;var Yw=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/table.js"),Xw=o.n(Yw),Jw=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/image.js"),Zw=o.n(Jw),Qw=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/mention.js"),ek=o.n(Qw),tk=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/more.js"),nk=o.n(tk),ok=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/link.js"),rk=o.n(ok),ik=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/date.js"),sk=o.n(ik),ak=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/status.js"),lk=o.n(ak),ck=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-right-circle.js"),dk=o.n(ck),uk=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/horizontal-rule.js"),pk=o.n(uk),hk=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/code.js"),mk=o.n(hk),fk=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/quote.js"),bk=o.n(fk)
;const gk=([e],[t])=>{const n=e,o=t;return!Object.keys(n).some((e=>{const t=e;return n[t]!==o[t]}))},yk=e=>({content:e.content,tooltipDescription:e.tooltipDescription,value:{name:e.name},elemBefore:l.a.createElement(e.Icon,{label:e.content}),elemAfter:e.shortcut?l.a.createElement(We.h,null,e.shortcut):void 0,shortcut:e.shortcut,isDisabled:e.disabled}),vk=e=>Object(Sf.a)(e,gk),Ok=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"action",shortcut:"[]",Icon:bh.a}))),jk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"link",shortcut:Object(Ie.tooltip)(Ie.addLink),Icon:rk.a}))),wk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"media",Icon:Zw.a}))),kk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"image upload",Icon:Zw.a}))),Ek=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,
disabled:e.disabled,name:"mention",Icon:ek.a,shortcut:"@"}))),Sk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"emoji",Icon:df.a,shortcut:":"}))),_k=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"table",Icon:Xw.a,shortcut:Object(Ie.tooltip)(Ie.toggleTable)}))),Ck=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"layout",Icon:iy.a}))),xk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"codeblock",Icon:mk.a,shortcut:e.shortcut}))),Tk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"panel",Icon:Cm.a,shortcut:e.shortcut}))),Pk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"blockquote",Icon:bk.a,shortcut:e.shortcut}))),Ak=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,
name:"decision",Icon:ph.a,shortcut:"<>"}))),Ik=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"horizontalrule",Icon:pk.a,shortcut:"---"}))),Mk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"expand",Icon:dk.a}))),Dk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"date",Icon:sk.a,shortcut:"//"}))),Nk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"placeholder text",Icon:gg.a}))),Rk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"status",Icon:lk.a}))),Lk=vk((e=>yk({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"macro",Icon:nk.a})));function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable
}))),n.push.apply(n,o)}return n}function Fk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(n),!0).forEach((function(t){zk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Uk=Kw()((e=>Fk(Fk({},e),{},{title:l.a.createElement(Ie.ToolTipContent,{description:e.content,shortcutOverride:e.shortcut})}))),Hk=Object(Sf.a)((e=>Kw()((t=>Fk(Fk({},t),{},{title:l.a.createElement(Ie.ToolTipContent,{description:e,shortcutOverride:"/"})}))))),$k=Object(Sf.a)((e=>{
const{isTypeAheadAllowed:t,tableSupported:n,mediaUploadsEnabled:o,mediaSupported:r,imageUploadSupported:i,imageUploadEnabled:s,mentionsSupported:a,availableWrapperBlockTypes:l,actionSupported:c,decisionSupported:d,showElementBrowserLink:u,linkSupported:p,linkDisabled:h,emojiDisabled:m,emojiProvider:f,nativeStatusSupported:b,insertMenuItems:g,dateEnabled:y,placeholderTextEnabled:v,horizontalRuleEnabled:O,layoutSectionEnabled:j,expandEnabled:w,numberOfButtons:k,schema:E,formatMessage:S,isNewMenuEnabled:_}=e,C=[];if(c&&C.push(Ok({content:S(jn.a.action),tooltipDescription:S(jn.a.actionDescription),disabled:!1})),p&&C.push(jk({content:S(jn.a.link),tooltipDescription:S(jn.a.linkDescription),disabled:!!h})),r&&o&&C.push(wk({content:S(jn.a.filesAndImages),tooltipDescription:S(jn.a.filesAndImagesDescription),disabled:!1})),i&&C.push(kk({content:S(jn.a.image),disabled:!s})),a&&C.push(Ek({content:S(jn.a.mention),tooltipDescription:S(jn.a.mentionDescription),disabled:!t})),f&&C.push(Sk({
content:S(jn.a.emoji),tooltipDescription:S(jn.a.emojiDescription),disabled:m||!t})),n&&C.push(_k({content:S(jn.a.table),tooltipDescription:S(jn.a.tableDescription),disabled:!1})),j){const e=S(jn.a.columns);C.push(Ck({content:e,tooltipDescription:S(jn.a.columnsDescription),disabled:!1}))}const x=l||[],T=x.find((e=>"codeblock"===e.name)),P=x.find((e=>"panel"===e.name)),A=x.find((e=>"blockquote"===e.name));if(T&&C.push(xk({content:S(T.title),tooltipDescription:S(gf.a.codeblockDescription),disabled:!1,shortcut:"```"})),P&&C.push(Tk({content:S(P.title),tooltipDescription:S(gf.a.infoPanelDescription),disabled:!1})),A&&C.push(Pk({content:S(A.title),tooltipDescription:S(gf.a.blockquoteDescription),disabled:!1,shortcut:">"})),d&&C.push(Ak({content:S(jn.a.decision),tooltipDescription:S(jn.a.decisionDescription),disabled:!1})),O&&E.nodes.rule&&C.push(Ik({content:S(jn.a.horizontalRule),tooltipDescription:S(jn.a.horizontalRuleDescription),disabled:!1})),w&&E.nodes.expand&&C.push(Mk({
content:S(jn.a.expand),tooltipDescription:S(jn.a.expandDescription),disabled:!1})),y){const e=S(jn.a.date);C.push(Dk({content:e,tooltipDescription:S(jn.a.dateDescription),disabled:!1}))}if(v&&C.push(Nk({content:S(jn.a.placeholderText),disabled:!1})),b){const e=S(jn.a.status);C.push(Rk({content:e,tooltipDescription:S(jn.a.statusDescription),disabled:!1}))}g&&C.push(...g),u&&C.push(Lk({content:S(jn.a.viewMore),disabled:!1}));const I=C.slice(0,k).map(Uk),M=C.slice(k);return[I,(_?M:(e=>e.sort(((e,t)=>qw.includes(e.value.name)&&qw.includes(t.value.name)?qw.indexOf(e.value.name)-qw.indexOf(t.value.name):qw.includes(t.value.name)?-1:qw.includes(e.value.name)||Gw(e)&&!Gw(t)?1:Gw(t)&&!Gw(e)||e.content<t.content?-1:1)))(M)).map(Hk(S(jn.a.insertMenu)))]}),gk);var Wk=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/add.js"),Vk=o.n(Wk)
;const Kk=k.default.span(["width:42px;display:flex;align-items:center;> div,> span{display:flex;}> div > div{display:flex;}"]),qk=l.a.memo((e=>l.a.createElement(Kk,null,l.a.createElement(Vk.a,{label:e.label}),l.a.createElement(We.e,null,l.a.createElement(te.a,{label:e.label}))))),Gk=l.a.memo((e=>l.a.createElement(w.a,{ref:e.handleRef,selected:e.selected,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,iconBefore:l.a.createElement(qk,{label:e.label}),title:l.a.createElement(Ie.ToolTipContent,{description:e.label,shortcutOverride:"/"})})));function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Xk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yk(Object(n),!0).forEach((function(t){Jk(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zk=()=>{};class Qk extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,buttons:[],dropdownItems:[]}),s()(this,"onOpenChange",(e=>{const t={isPlusMenuOpen:e.isPlusMenuOpen,emojiPickerOpen:this.state.emojiPickerOpen};this.state.emojiPickerOpen&&!e.open&&(t.emojiPickerOpen=!1),this.setState(t,(()=>{const{dispatchAnalyticsEvent:e}=this.props;if(!e)return;const{isPlusMenuOpen:t}=this.state;return e(t?{action:lt.a.OPENED,actionSubject:lt.b.PLUS_MENU,eventType:lt.d.UI}:{action:lt.a.CLOSED,actionSubject:lt.b.PLUS_MENU,eventType:lt.d.UI})}))})),s()(this,"togglePlusMenuVisibility",(()=>{
const{isPlusMenuOpen:e}=this.state;this.onOpenChange({isPlusMenuOpen:!e})})),s()(this,"toggleEmojiPicker",((e=lt.e.TOOLBAR)=>{this.setState((e=>({emojiPickerOpen:!e.emojiPickerOpen})),(()=>{if(this.state.emojiPickerOpen){const{dispatchAnalyticsEvent:t}=this.props;t&&t({action:lt.a.OPENED,actionSubject:lt.b.PICKER,actionSubjectId:lt.c.PICKER_EMOJI,attributes:{inputMethod:e},eventType:lt.d.UI})}}))})),s()(this,"handleEmojiButtonRef",(e=>{const t=Gn.a.findDOMNode(e);t&&(this.emojiButtonRef=t)})),s()(this,"handlePlusButtonRef",(e=>{const t=Gn.a.findDOMNode(e);t&&(this.plusButtonRef=t)})),s()(this,"handleDropDownButtonRef",(e=>{const t=Gn.a.findDOMNode(e);t&&(this.dropdownButtonRef=t)})),s()(this,"onPickerRef",(e=>{e?document.addEventListener("click",this.handleClickOutside):document.removeEventListener("click",this.handleClickOutside),this.pickerRef=e})),s()(this,"handleClickOutside",(e=>{const t=this.pickerRef&&Gn.a.findDOMNode(this.pickerRef)
;t&&(!e.target||(e=>!document.body.contains(e))(e.target)||t.contains(e.target))||this.toggleEmojiPicker()})),s()(this,"toDropdownItems",Object(Sf.a)((e=>[{items:e}]))),s()(this,"toggleLinkPanel",(e=>{const{editorView:t}=this.props;return Object(Gv.k)(e)(t.state,t.dispatch),!0})),s()(this,"insertMention",(e=>{const{editorView:t}=this.props;return Object(Tw.a)(e)(t.state,t.dispatch),!0})),s()(this,"insertTable",(e=>{const{editorView:t}=this.props;return Object(ct.d)({action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.TABLE,attributes:{inputMethod:e},eventType:lt.d.TRACK})(ls.c)(t.state,t.dispatch)})),s()(this,"createDate",(e=>{const{editorView:t}=this.props;return Zb(void 0,e)(t.state,t.dispatch),eg()(t.state,t.dispatch),!0})),s()(this,"createPlaceholderText",(()=>{const{editorView:e}=this.props;return((e,t)=>{const n=e.tr;e.selection.empty||n.deleteSelection(),n.setMeta(Cg,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n)})(e.state,e.dispatch),!0})),
s()(this,"insertLayoutColumns",(e=>{const{editorView:t}=this.props;return(e=>Object(ct.d)({action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.LAYOUT,attributes:{inputMethod:e},eventType:lt.d.TRACK})(Wg))(e)(t.state,t.dispatch),!0})),s()(this,"createStatus",(e=>{const{editorView:t}=this.props;return Object(HO.f)(e)(t.state,t.dispatch),!0})),s()(this,"openMediaPicker",(e=>{const{onShowMediaPicker:t,dispatchAnalyticsEvent:n}=this.props;return t&&(t(),n&&n({action:lt.a.OPENED,actionSubject:lt.b.PICKER,actionSubjectId:lt.c.PICKER_CLOUD,attributes:{inputMethod:e},eventType:lt.d.UI})),!0})),s()(this,"insertTaskDecision",((e,t)=>()=>{const{editorView:n}=this.props;if(!n)return!1;const o="action"===e?"taskList":"decisionList";return Object(ap.c)(n,o,t)(n.state,n.dispatch),!0})),s()(this,"insertHorizontalRule",(e=>{const{editorView:t}=this.props,n=wn(t.state,t.state.selection.from,t.state.selection.to,e);return!!n&&(t.dispatch(n),!0)})),s()(this,"insertExpand",(()=>{
const{state:e,dispatch:t}=this.props.editorView;return Object(mo.e)(e,t)})),s()(this,"insertBlockType",(e=>()=>{const{editorView:t,onInsertBlockType:n}=this.props,{state:o,dispatch:r}=t;return n(e)(o,r),!0})),s()(this,"handleSelectedEmoji",(e=>(this.props.editorView.focus(),function(e,t){return(n,o)=>{const{emoji:r}=n.schema.nodes;if(r&&e){const i=r.createChecked(Aw(Aw({},e),{},{text:e.fallback||e.shortName})),s=n.schema.text(" ");if(o){const e=Ve.Fragment.fromArray([i,s]),r=Object(b.safeInsert)(e)(n.tr);t&&Object(ct.a)(n,r,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.EMOJI,attributes:{inputMethod:t},eventType:lt.d.TRACK}),o(r.setSelection(c.Selection.near(r.doc.resolve(n.selection.$from.pos+e.size))))}return!0}return!1}}(e,lt.e.PICKER)(this.props.editorView.state,this.props.editorView.dispatch),this.toggleEmojiPicker(),!0))),s()(this,"openElementBrowser",(()=>{Object(xw.c)()(this.props.editorView.state,this.props.editorView.dispatch)})),
s()(this,"onItemActivated",(({item:e,inputMethod:t})=>{const{editorView:n,editorActions:o,handleImageUpload:r,expandEnabled:i}=this.props;switch(n.hasFocus()||n.focus(),e.value.name){case"link":this.toggleLinkPanel(t);break;case"table":this.insertTable(t);break;case"image upload":if(r){const{state:e,dispatch:t}=n;r()(e,t)}break;case"media":this.openMediaPicker(t);break;case"mention":this.insertMention(t);break;case"emoji":this.toggleEmojiPicker(t);break;case"codeblock":case"blockquote":case"panel":this.insertBlockType(e.value.name)();break;case"action":case"decision":this.insertTaskDecision(e.value.name,t)();break;case"horizontalrule":this.insertHorizontalRule(t);break;case"macro":this.openElementBrowser();break;case"date":this.createDate(t);break;case"placeholder text":this.createPlaceholderText();break;case"layout":this.insertLayoutColumns(t);break;case"status":this.createStatus(t);break;case"expand":if(i){this.insertExpand();break}default:if(e&&e.onClick){e.onClick(o);break}}
this.setState({isPlusMenuOpen:!1})})),s()(this,"insertToolbarMenuItem",(e=>this.onItemActivated({item:e,inputMethod:lt.e.TOOLBAR}))),s()(this,"insertInsertMenuItem",(({item:e})=>this.onItemActivated({item:e,inputMethod:lt.e.INSERT_MENU})))}static getDerivedStateFromProps(e,t){const[n,o]=$k({isTypeAheadAllowed:e.isTypeAheadAllowed,tableSupported:e.tableSupported,mediaUploadsEnabled:e.mediaUploadsEnabled,mediaSupported:e.mediaSupported,imageUploadSupported:e.imageUploadSupported,imageUploadEnabled:e.imageUploadEnabled,mentionsSupported:e.mentionsSupported,actionSupported:e.actionSupported,decisionSupported:e.decisionSupported,linkSupported:e.linkSupported,linkDisabled:e.linkDisabled,emojiDisabled:e.emojiDisabled,nativeStatusSupported:e.nativeStatusSupported,dateEnabled:e.dateEnabled,placeholderTextEnabled:e.placeholderTextEnabled,horizontalRuleEnabled:e.horizontalRuleEnabled,layoutSectionEnabled:e.layoutSectionEnabled,expandEnabled:e.expandEnabled,macroProvider:e.macroProvider,
showElementBrowserLink:e.showElementBrowserLink,emojiProvider:e.emojiProvider,availableWrapperBlockTypes:e.availableWrapperBlockTypes,insertMenuItems:e.insertMenuItems,schema:e.editorView.state.schema,numberOfButtons:e.buttons,formatMessage:e.intl.formatMessage,isNewMenuEnabled:e.replacePlusMenuWithElementBrowser});return Xk(Xk({},t),{},{buttons:n,dropdownItems:o})}componentDidUpdate(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})}renderPopup(){const{emojiPickerOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,emojiProvider:r}=this.props,i=this.state.dropdownItems.some((({value:{name:e}})=>"emoji"===e))?this.dropdownButtonRef:this.emojiButtonRef;return e&&i&&r?l.a.createElement(g.a,{target:i,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:t,boundariesElement:n,scrollableElement:o},l.a.createElement(uf.a,{emojiProvider:r,onSelection:this.handleSelectedEmoji,onPickerRef:this.onPickerRef})):null}getLegacyInsertMenu(){
const{isPlusMenuOpen:e,dropdownItems:t}=this.state,{popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r,isDisabled:i,isReducedSpacing:s,intl:{formatMessage:a}}=this.props,c=a(jn.a.insertMenu),d=s?"none":"default";return l.a.createElement($e,{items:this.toDropdownItems(t),onItemActivated:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,mountTo:n,boundariesElement:o,scrollableElement:r,isOpen:e,fitHeight:188,fitWidth:175,zIndex:Le.v},l.a.createElement(Gk,{handleRef:this.handleDropDownButtonRef,selected:e,disabled:i,onClick:this.togglePlusMenuVisibility,spacing:d,label:c}))}getElementBrowserForInsertMenu(){const{isPlusMenuOpen:e,dropdownItems:t}=this.state,{popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r,isDisabled:i,isReducedSpacing:s,intl:{formatMessage:a},editorView:c}=this.props,d=a(jn.a.insertMenu),u=s?"none":"default";return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement(g.a,{target:this.plusButtonRef,fitHeight:500,
fitWidth:350,offset:[0,3],mountTo:n,boundariesElement:o,scrollableElement:r},l.a.createElement(Ww,{editorView:c,dropdownItems:t,onInsert:this.insertInsertMenuItem,toggleVisiblity:this.togglePlusMenuVisibility})),l.a.createElement(Gk,{handleRef:this.handlePlusButtonRef,selected:e,disabled:i,onClick:this.togglePlusMenuVisibility,spacing:u,label:d}))}renderInsertMenu(){const{isPlusMenuOpen:e,dropdownItems:t}=this.state,{isDisabled:n,isReducedSpacing:o,intl:{formatMessage:r},replacePlusMenuWithElementBrowser:i}=this.props,s=r(jn.a.insertMenu),a=o?"none":"default";return 0===t.length||n?l.a.createElement("div",null,l.a.createElement(Gk,{handleRef:this.handleDropDownButtonRef,selected:e,disabled:n,onClick:this.togglePlusMenuVisibility,spacing:a,label:s})):i?this.getElementBrowserForInsertMenu():this.getLegacyInsertMenu()}render(){const{buttons:e,dropdownItems:t}=this.state,{isDisabled:n,isReducedSpacing:o}=this.props;return 0===e.length&&0===t.length?null:l.a.createElement(We.b,{
width:o?"small":"large"},e.map((e=>l.a.createElement(w.a,{item:e,ref:"emoji"===e.value.name?this.handleEmojiButtonRef:Zk,key:e.value.name,spacing:o?"none":"default",disabled:n||e.isDisabled,iconBefore:e.elemBefore,selected:e.isActive,title:e.title,onItemClick:this.insertToolbarMenuItem}))),l.a.createElement(We.j,null,this.renderPopup(),this.renderInsertMenu()),this.props.showSeparator&&l.a.createElement(We.g,null))}}Qk.displayName="ToolbarInsertBlock";var eE=Object(f.i)(Qk),tE=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/commands/block-type.js"),nE=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js");function oE(e){return Object(tE.c)(e,lt.e.TOOLBAR)}var rE=(e={})=>({name:"insertBlock",primaryToolbarComponent({editorView:t,editorActions:n,dispatchAnalyticsEvent:o,providerFactory:r,popupsMountPoint:i,popupsBoundariesElement:s,popupsScrollableElement:a,toolbarSize:c,disabled:d,isToolbarReducedSpacing:u,isLastItem:h}){
const m=(e=>{switch(e){case an.a.XXL:case an.a.XL:case an.a.L:case an.a.M:return 7;case an.a.S:return 2;default:return 0}})(c);return l.a.createElement(Vp.a,{providerFactory:r,providers:["emojiProvider"],renderNode:r=>l.a.createElement(p.a,{plugins:{typeAheadState:nE.a,blockTypeState:_w.b,mediaState:Cw.a,mentionState:hr.b,macroState:yb,hyperlinkState:aO.e,emojiState:ei,dateState:Xb,imageUpload:Kh,placeholderTextState:Cg,layoutState:Dg},render:({typeAheadState:p,mentionState:f,blockTypeState:b,mediaState:g,macroState:y={},hyperlinkState:v,emojiState:O,dateState:j,imageUpload:w,placeholderTextState:k,layoutState:E})=>l.a.createElement(eE,{buttons:m,isReducedSpacing:u,isDisabled:d,isTypeAheadAllowed:p&&p.isAllowed,editorView:t,tableSupported:e.allowTables,actionSupported:!!t.state.schema.nodes.taskItem,mentionsSupported:!(!f||!f.mentionProvider),decisionSupported:!!t.state.schema.nodes.decisionItem,dateEnabled:!!j,placeholderTextEnabled:k&&k.allowInserting,layoutSectionEnabled:!!E,
expandEnabled:!!e.allowExpand,mediaUploadsEnabled:g&&g.allowsUploads,onShowMediaPicker:g&&g.showMediaPicker,mediaSupported:!!g,imageUploadSupported:!!w,imageUploadEnabled:w&&w.enabled,handleImageUpload:Gh,availableWrapperBlockTypes:b&&b.availableWrapperBlockTypes,linkSupported:!!v,linkDisabled:!v||!v.canInsertLink||!!v.activeLinkMark,emojiDisabled:!O||!O.emojiProvider,emojiProvider:r.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:oE,onInsertMacroFromMacroBrowser:wb,macroProvider:y.macroProvider,popupsMountPoint:i,popupsBoundariesElement:s,popupsScrollableElement:a,insertMenuItems:e.insertMenuItems,editorActions:n,dispatchAnalyticsEvent:o,replacePlusMenuWithElementBrowser:e.replacePlusMenuWithElementBrowser,showElementBrowserLink:e.showElementBrowserLink,showSeparator:!h&&c<=an.a.S})})})}});let iE;function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function aE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach((function(t){lE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.ACTIVATE="ACTIVATE",e.FIND="FIND",e.UPDATE_DECORATIONS="UPDATE_DECORATIONS",e.FIND_NEXT="FIND_NEXT",e.FIND_PREVIOUS="FIND_PREVIOUS",e.REPLACE="REPLACE",e.REPLACE_ALL="REPLACE_ALL",e.CANCEL="CANCEL",e.BLUR="BLUR",e.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"}(iE||(iE={}));var cE=e=>(t,n)=>{switch(n.type){case iE.ACTIVATE:case iE.FIND:return aE(aE({},t),{},{isActive:!0,
shouldFocus:n.type===iE.ACTIVATE,findText:void 0!==n.findText?n.findText:t.findText,matches:n.matches||t.matches,index:void 0!==n.index?n.index:t.index});case iE.UPDATE_DECORATIONS:return aE(aE({},t),{},{decorationSet:n.decorationSet});case iE.FIND_NEXT:case iE.FIND_PREVIOUS:return aE(aE({},t),{},{index:n.index,decorationSet:n.decorationSet});case iE.REPLACE:case iE.REPLACE_ALL:return aE(aE({},t),{},{replaceText:n.replaceText,decorationSet:n.decorationSet,matches:n.matches,index:n.index});case iE.CANCEL:return e();case iE.BLUR:return aE(aE({},t),{},{shouldFocus:!1});case iE.TOGGLE_MATCH_CASE:return aE(aE({},t),{},{shouldMatchCase:!t.shouldMatchCase});default:return t}};const dE=new c.PluginKey("findReplace");const uE=(e,t)=>t.map((({start:t,end:n},o)=>pE(t,n,o===e))),pE=(e,t,n)=>{let o="search-match";return n&&(o+=" selected-search-match"),Tn.a.inline(e,t,{class:o})};function hE(e,t,n,o=0){let r=[];const i=t.length;let s=null;const a=e=>{if(!e)return;let{text:s,pos:a}=e;const l=o+a
;n||(t=t.toLowerCase(),s=s.toLowerCase());let c=s.indexOf(t);for(;-1!==c;){const e=c+i;r.push({start:l+c,end:l+e}),c=s.indexOf(t,e)}};return i>0&&(e.descendants(((e,t)=>{e.isText?null===s?s={text:e.text,pos:t}:s.text=s.text+e.text:(a(s),s=null)})),s&&a(s)),r}function mE(e,t,n=!1){if(n){let n=t.findIndex((t=>t.start>=e))-1;return n<0&&(n=t.length-1),n}return Math.max(t.findIndex((t=>t.start>=e)),0)}const fE=(e,t)=>(e+1)%t,bE=(e,t,n,o,r=0)=>o[n]?c.TextSelection.create(t,o[n].start+r):e,gE=(e,t)=>{if(!t)return;const n=e.find(t.start,t.end);return n.length?n.find((e=>e.from===t.start&&e.to===t.end)):void 0},yE=(e,t,n)=>{const o=e.find(),r=(e=e.remove(t.map((e=>e.copy(e.from,e.to))))).find(),i=OE(t,o,r);return i.length>0&&(e=e.add(n,i)),e},vE=(e,t,n)=>(t.filter((e=>!!e)).map((t=>gE(e,t))).forEach((t=>{t&&(e=yE(e,[t],n))})),e),OE=(e,t,n)=>{let o=[];if(t.length-e.length>n.length){
const r=e.length>0?e[0].from:0,i=jE(t,r),s=jE(n,r),a=Math.min(i,s),l=t.slice(a),c=n.slice(a),d=[],u=l.length-c.length;let p=!1,h=0;for(let t=0;t<l.length;t++){const n=l[t];if(e.find((e=>e.from===n.from))){h-=1;continue}let o=t+h;for(o>=c.length&&(d.push(n),d.length===u&&(p=!0));o<c.length;o++){const e=c[o];if(n.from===e.from)break;if(e.from>n.from||o===c.length-1){d.push(n),h-=1,d.length===u&&(p=!0);break}}if(p)break}o=d.filter((t=>!e.find((e=>t.from===e.from))))}return o},jE=(e,t)=>{let n=0;for(let o=e.length-1;o>=0;o-=100){if(e[o].from<t){n=o;for(let r=o;r<=e.length-1&&e[r].from<=t;r++)n=r;break}o<100&&o>0&&(o=100)}return n},wE=(e,t,n)=>{const{from:o,to:r,slice:i}=t,s=i.content.size;return o+s>=e.start&&r-s<=e.end||n.mapping.map(o)+s>=e.start&&n.mapping.map(r)-s<=e.end},kE=e=>e&&e.hasOwnProperty("slice");function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){_E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const CE={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:Tn.b.empty,shouldMatchCase:!1},{createCommand:xE,getPluginState:TE,createPluginState:PE}=Object(go.a)(dE,cE((()=>CE)),{onDocChanged:(e,t)=>{const{isActive:n,findText:o}=t;if(!n||!o)return t;if(!e.steps.find(kE))return t;let{index:r,decorationSet:i,matches:s,shouldMatchCase:a}=t;const l=hE(e.doc,o,a);i=i.map(e.mapping,e.doc)
;const c=i.find().length,d=s.map((t=>({start:e.mapping.map(t.start),end:e.mapping.map(t.end)})));let u=[],p=[];if(l.length>0&&0===c?u=l:0===l.length&&c>0?i=Tn.b.empty:(l.length>0||c>0)&&e.steps.forEach((t=>{kE(t)&&(u=[...u,...l.filter((n=>wE(n,t,e)&&!gE(i,n)))],p=[...p,...Pv(d.filter((n=>wE(n,t,e)&&!!gE(i,n))),l,((e,t)=>e.start===t.start&&e.end===t.end))])})),p.length>0){const t=p.reduce(((e,t)=>[...e,...i.find(t.start,t.end)]),[]);i=yE(i,t,e.doc)}u.length>0&&(i=i.add(e.doc,uE(e.selection.from,u)));let h=r;const m=d[r];m&&(h=l.findIndex((e=>e.start===m.start))),void 0!==h&&-1!==h||(h=mE(e.selection.from,l));const f=l[h];return i=vE(i,[m,f],e.doc),f&&(i=i.add(e.doc,uE(0,[f]))),SE(SE({},t),{},{matches:l,index:h,decorationSet:i})}}),AE=100,IE=2e3;var ME=new class{stop(){this.rafId&&cancelAnimationFrame(this.rafId)}async applyAllSearchDecorations(e,t,n,o){if(this.stop(),this.addDecorations=n,this.removeDecorations=o,!t)return;const r=t.querySelector(".ProseMirror");if(!r)return
;const i=this.calcDecorationPositions(e,t,r),{startPos:s,endPos:a,viewportStartPos:l,viewportEndPos:c}=i;let d=0,u=l,p=c-IE;for(await this.updateDecorationsBetween(e,l,c);u>s||p<a;)if(d++%2==0&&u>s||p>=a){const t=u-s;u=Math.max(u-IE,s),await this.updateDecorationsBetween(e,u,u+Math.min(t,IE))}else p=Math.min(p+IE,a),await this.updateDecorationsBetween(e,p,Math.min(p+IE,a))}async updateDecorationsBetween(e,t,n){await this.removeDecorationsBetween(e,t,n),await this.addDecorationsBetween(e,t,n)}async addDecorationsBetween(e,t,n){const{selection:o}=e.state,{matches:r,decorationSet:i}=TE(e.state);if(0===r.length)return;const s=r.filter((e=>e.start>=t&&(void 0===n||e.start<n))),a=r.find((e=>e.start>=o.from)),l=s.findIndex((e=>e===a));return await this.batchRequests((e=>{let t=s.slice(e,e+AE);if(0===t.length)return!1;let n=l>=e&&l<e+AE;if(a&&n){gE(i,a)&&(t.splice(l%AE,1),n=!1)}this.addDecorations&&this.addDecorations(uE(n?l%AE:-1,t))}),{increment:AE,until:s.length})}
async removeDecorationsBetween(e,t,n){const{decorationSet:o}=TE(e.state),r=o.find(t,n);if(0!==r.length)return await this.batchRequests((e=>{let n=r.slice(e,e+AE);if(0===n.length)return!1;for(let o=0;o<n.length&&!(n[o].from>=t);o++)n=n.slice(1);this.removeDecorations&&this.removeDecorations(n)}),{increment:AE,until:r.length})}calcDecorationPositions(e,t,n){const o=t.getBoundingClientRect(),r=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,r.left),viewportEndPos:this.getEndPos(e,o.top+o.height,r.left),startPos:1,endPos:e.state.doc.nodeSize}}getStartPos(e,t,n){const o=e.posAtCoords({top:t,left:n});return o?o.pos:1}getEndPos(e,t,n){const o=e.state.doc.nodeSize,r=e.posAtCoords({top:t,left:n});return r?r.pos:o}batchRequests(e,t){let n=0;const{increment:o,until:r}=t;return new Promise((t=>{const i=()=>{let s=e(n);for(;!1===s&&n<r;)n+=o,s=e(n);n<r?(n+=o,this.rafId=requestAnimationFrame(i)):(this.rafId=void 0,t())};this.rafId=requestAnimationFrame(i)}))}}
;const DE=(e,t)=>{const n=TE(e),{matches:o,findText:r}=n;let{decorationSet:i,index:s}=n;if(r){const n=mE(e.selection.from,o,"previous"===t);s=s===n?"next"===t?fE(s,o.length):((e,t)=>(e-1+t)%t)(s,o.length):n,i=LE(e,s)}return{type:"next"===t?iE.FIND_NEXT:iE.FIND_PREVIOUS,index:s,decorationSet:i}},NE=e=>xE((t=>{const{decorationSet:n}=TE(t);return{type:iE.UPDATE_DECORATIONS,decorationSet:n.add(t.doc,e)}})),RE=e=>xE((t=>{const{decorationSet:n}=TE(t);return{type:iE.UPDATE_DECORATIONS,decorationSet:yE(n,e,t.doc)}})),LE=(e,t)=>{let{decorationSet:n,index:o,matches:r}=TE(e);const i=r[o],s=r[t];if(o===t)return n;const a=gE(n,i),l=gE(n,s),c=[];return a&&c.push(a),l&&c.push(l),c.length>0&&(c.sort(((e,t)=>e.from<t.from?-1:1)),n=yE(n,c,e.doc)),i&&(n=n.add(e.doc,[pE(i.start,i.end)])),s&&(n=n.add(e.doc,[pE(s.start,s.end,!0)])),n},BE=({triggerMethod:e})=>Object(ct.d)((t=>({eventType:lt.d.UI,action:lt.a.ACTIVATED,actionSubject:lt.b.FIND_REPLACE_DIALOG,attributes:{
inputMethod:t.selection instanceof c.TextSelection&&!t.selection.empty?lt.e.PREFILL:lt.e.KEYBOARD,triggerMethod:e}})))((()=>xE((e=>{const{selection:t}=e;let n,o,r;if(t instanceof c.TextSelection&&!t.empty){n=function(e){let t="";const n=e.content().content;for(let o=0;o<n.childCount;o++)t+=n.child(o).textContent;return t}(t);const{shouldMatchCase:i}=TE(e);o=hE(e.doc,n,i),r=mE(t.from,o)}return{type:iE.ACTIVATE,findText:n,matches:o,index:r}})))()),FE=({editorView:e,containerElement:t,keyword:n})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.FIND_PERFORMED,actionSubject:lt.b.TEXT})(((e,t,n)=>Object(Xe.l)(xE((o=>{const{selection:r}=o,{shouldMatchCase:i}=TE(o),s=void 0!==n?hE(o.doc,n,i):[],a=mE(r.from,s);return ME.applyAllSearchDecorations(e,t,(t=>NE(t)(e.state,e.dispatch)),(t=>RE(t)(e.state,e.dispatch))),{type:iE.FIND,findText:n||"",matches:s,index:a}}),((e,t)=>{const{selection:o}=t,{shouldMatchCase:r}=TE(t),i=void 0!==n?hE(t.doc,n,r):[];if(i.length>0){const t=mE(o.from,i)
;return e.setSelection(bE(e.selection,e.doc,t,i))}return e}))))(e,t,n)),zE=({triggerMethod:e})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.FIND_NEXT_PERFORMED,actionSubject:lt.b.TEXT,attributes:{triggerMethod:e}})((()=>Object(Xe.l)(xE((e=>DE(e,"next")),((e,t)=>{const{matches:n,index:o}=TE(t);let r=mE(t.selection.from,n);return r===o&&(r=fE(r,n.length)),e.setSelection(bE(e.selection,e.doc,r,n))}))))()),UE=({triggerMethod:e})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.FIND_PREV_PERFORMED,actionSubject:lt.b.TEXT,attributes:{triggerMethod:e}})((()=>Object(Xe.l)(xE((e=>DE(e,"previous")),((e,t)=>{const{matches:n}=TE(t),o=mE(t.selection.from,n,!0);return e.setSelection(bE(e.selection,e.doc,o,n))}))))()),HE=({triggerMethod:e,replaceText:t})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.REPLACED_ONE,actionSubject:lt.b.TEXT,attributes:{triggerMethod:e}})((e=>Object(Xe.l)(xE((t=>{const n=TE(t),{findText:o}=n;let{decorationSet:r,matches:i,index:s}=n;return r=LE(t,fE(s,i.length)),
-1===e.toLowerCase().indexOf(o.toLowerCase())?(r=vE(r,[i[s]],t.doc),i.splice(s,1),s>i.length-1&&(s=0)):s=fE(s,i.length),{type:iE.REPLACE,replaceText:e,decorationSet:r,matches:i,index:s}}),((t,n)=>{const{matches:o,index:r,findText:i}=TE(n);if(o[r]){const{start:n,end:s}=o[r],a=fE(r,o.length);t.insertText(e,n,s).setSelection(bE(t.selection,t.doc,a,o,0===a?0:e.length-i.length))}return t}))))(t)),$E=({replaceText:e})=>Object(ct.d)({eventType:lt.d.TRACK,action:lt.a.REPLACED_ALL,actionSubject:lt.b.TEXT})((e=>xE({type:iE.REPLACE_ALL,replaceText:e,decorationSet:Tn.b.empty,matches:[],index:0},((t,n)=>(TE(n).matches.forEach((n=>{t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t))))(e)),WE=({triggerMethod:e})=>Object(ct.d)({eventType:lt.d.UI,action:lt.a.DEACTIVATED,actionSubject:lt.b.FIND_REPLACE_DIALOG,attributes:{triggerMethod:e}})((()=>xE((()=>(ME.stop(),{type:iE.CANCEL}))))());var VE=()=>{const e={}
;return Object(Ie.bindKeymapWithCommand)(Ie.find.common,(()=>(e,t)=>(BE({triggerMethod:lt.f.SHORTCUT})(e,t),!0))(),e),Object(Xt.b)(e)},KE=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/search.js"),qE=o.n(KE),GE=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/close.js"),YE=o.n(GE),XE=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/hipchat/chevron-down.js"),JE=o.n(XE),ZE=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/hipchat/chevron-up.js"),QE=o.n(ZE),eS=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/emoji/keyboard.js"),tS=o.n(eS),nS=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/textfield/dist/es2019/text-field.js");function oS(e){return l.a.createElement(Zm.a,e)}
const rS=Object(k.default)(oS)(["&&{margin-left:4px;}"]),iS=k.default.hr(["width:100%;border:none;background-color:",";margin:4px 0px;height:1px;border-radius:1px;"],"rgba(9, 30, 66, 0.08)"),sS=k.default.div(["display:flex;flex-direction:column;> *:not(","){margin:0px 4px;}"],iS),aS=k.default.div(["display:flex;align-items:center;> *{flex:0 0 auto;display:inline-flex;height:32px;}"]),lS=k.default.span(["color:",";font-size:12px;flex:0 0 auto;justify-content:center;align-items:center;margin-left:4px;margin-right:8px;"],"#B3BAC5");function cS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class uS extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"buttonRef",l.a.createRef()),
s()(this,"handleClick",(()=>{this.props.onClick(this.buttonRef)}))}render(){const{title:e,icon:t,keymapDescription:n,disabled:o,isPressed:r}=this.props,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cS(Object(n),!0).forEach((function(t){dS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},"boolean"==typeof r&&{"aria-pressed":r});return l.a.createElement(Re.a,{content:l.a.createElement(Ie.ToolTipContent,{description:e,keymap:Object(Ie.findKeymapByDescription)(n)}),hideTooltipOnClick:!0,position:"top"},l.a.createElement(Zm.a,Xn()({label:e,appearance:"subtle",testId:e,ref:this.buttonRef,iconBefore:t,isDisabled:o,onClick:this.handleClick,isSelected:r,shouldFitContainer:!0},i)))}}uS.displayName="FindReplaceTooltipButton",s()(uS,"defaultProps",{keymapDescription:"no-keymap"
});const pS=Object(f.h)({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",
description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}});class hS extends l.a.Component{constructor(e){super(e),s()(this,"findTextfieldRef",l.a.createRef()),s()(this,"isComposing",!1),s()(this,"skipWhileComposing",(e=>{this.isComposing||e()})),s()(this,"focusFindTextfield",(()=>{const e=this.findTextfieldRef.current;this.props.shouldFocus&&e&&e.select()})),s()(this,"handleFindChange",(e=>this.skipWhileComposing((()=>{this.updateFindValue(e.target.value)})))),s()(this,"updateFindValue",(e=>{this.props.onFind(e)})),s()(this,"handleFindKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?e.shiftKey?this.props.onFindPrev({triggerMethod:lt.f.KEYBOARD}):this.props.onFindNext({triggerMethod:lt.f.KEYBOARD}):"ArrowDown"===e.key&&this.props.onArrowDown()})))),s()(this,"handleFindNextClick",(e=>this.skipWhileComposing((()=>{this.props.onFindNext({triggerMethod:lt.f.BUTTON})})))),
s()(this,"handleFindPrevClick",(e=>this.skipWhileComposing((()=>{this.props.onFindPrev({triggerMethod:lt.f.BUTTON})})))),s()(this,"handleCompositionStart",(()=>{this.isComposing=!0})),s()(this,"handleCompositionEnd",(e=>{this.isComposing=!1,this.updateFindValue(e.target.value)})),s()(this,"clearSearch",(()=>{this.props.onCancel({triggerMethod:lt.f.BUTTON})})),s()(this,"handleMatchCaseClick",(e=>{this.props.allowMatchCase&&this.props.onToggleMatchCase&&(e.current&&e.current.focus(),this.props.onToggleMatchCase(),this.props.onFind(this.props.findText))}));const{intl:{formatMessage:t}}=e;this.find=t(pS.find),this.closeFindReplaceDialog=t(pS.closeFindReplaceDialog),this.noResultsFound=t(pS.noResultsFound),this.findNext=t(pS.findNext),this.findPrevious=t(pS.findPrevious),this.matchCase=t(pS.matchCase),this.matchCaseIcon=l.a.createElement(tS.a,{label:this.matchCase}),this.findNextIcon=l.a.createElement(JE.a,{label:this.findNext}),this.findPrevIcon=l.a.createElement(QE.a,{
label:this.findPrevious}),this.closeIcon=l.a.createElement(YE.a,{label:this.closeFindReplaceDialog})}componentDidMount(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield()}componentDidUpdate(){this.focusFindTextfield()}render(){const{findText:e,count:t,allowMatchCase:n,shouldMatchCase:o,intl:{formatMessage:r}}=this.props,i=r(pS.resultsCount,{selectedMatchPosition:t.index+1,totalResultsCount:t.total});return l.a.createElement(aS,null,l.a.createElement(nS.a,{name:"find",appearance:"none",placeholder:this.find,value:e,ref:this.findTextfieldRef,autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),e&&l.a.createElement(lS,null,0===t.total?this.noResultsFound:i),n&&l.a.createElement(uS,{title:this.matchCase,icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:o}),l.a.createElement(uS,{
title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:t.total<=1}),l.a.createElement(uS,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:t.total<=1}),l.a.createElement(uS,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}hS.displayName="Find";var mS=Object(f.i)(hS);const fS=Object(f.h)({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",description:"Replace all instances of the word or phrase throughout the entire document"}});class bS extends l.a.PureComponent{constructor(e){
super(e),s()(this,"replaceTextfieldRef",l.a.createRef()),s()(this,"skipWhileComposing",(e=>{this.state.isComposing||e()})),s()(this,"handleReplaceClick",(()=>this.skipWhileComposing((()=>{this.props.onReplace({triggerMethod:lt.f.BUTTON,replaceText:this.state.replaceText})})))),s()(this,"handleReplaceChange",(e=>this.skipWhileComposing((()=>{this.updateReplaceValue(e.target.value)})))),s()(this,"updateReplaceValue",(e=>{const{dispatchAnalyticsEvent:t}=this.props;t&&t({eventType:lt.d.TRACK,action:lt.a.CHANGED_REPLACEMENT_TEXT,actionSubject:lt.b.FIND_REPLACE_DIALOG}),this.setState({replaceText:e})})),s()(this,"handleReplaceKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?this.props.onReplace({triggerMethod:lt.f.KEYBOARD,replaceText:this.state.replaceText}):"ArrowUp"===e.key&&this.props.onArrowUp()})))),s()(this,"handleReplaceAllClick",(()=>this.skipWhileComposing((()=>{this.props.onReplaceAll({replaceText:this.state.replaceText})})))),s()(this,"handleCompositionStart",(()=>{
this.setState({isComposing:!0})})),s()(this,"handleCompositionEnd",(e=>{this.setState({isComposing:!1}),this.updateReplaceValue(e.target.value)}));const{replaceText:t,intl:{formatMessage:n}}=e;this.state={replaceText:t||"",isComposing:!1},this.replaceWith=n(fS.replaceWith),this.replace=n(fS.replace),this.replaceAll=n(fS.replaceAll)}componentDidMount(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}componentDidUpdate({replaceText:e}){const{replaceText:t}=this.props;t&&t!==e&&this.setState({replaceText:t,isComposing:!1})}render(){const{replaceText:e}=this.state,{canReplace:t}=this.props;return l.a.createElement(aS,null,l.a.createElement(nS.a,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:e,ref:this.replaceTextfieldRef,autoComplete:"off",onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),l.a.createElement(rS,{testId:this.replace,
onClick:this.handleReplaceClick,isDisabled:!t},this.replace),l.a.createElement(rS,{testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!t},this.replaceAll))}}bS.displayName="Replace";var gS=Object(f.i)(bS);class yS extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"findTextfield",null),s()(this,"replaceTextfield",null),s()(this,"setFindTextfieldRef",(e=>{this.findTextfield=e.current})),s()(this,"setReplaceTextfieldRef",(e=>{this.replaceTextfield=e.current})),s()(this,"setFocusToFind",(()=>{this.findTextfield&&this.findTextfield.focus()})),s()(this,"setFocusToReplace",(()=>{this.replaceTextfield&&this.replaceTextfield.focus()}))}render(){const{findText:e,count:t,shouldFocus:n,onFind:o,onFindBlur:r,onFindNext:i,onFindPrev:s,onCancel:a,replaceText:c,onReplace:d,onReplaceAll:u,dispatchAnalyticsEvent:p,allowMatchCase:h,shouldMatchCase:m,onToggleMatchCase:f}=this.props;return l.a.createElement(sS,null,l.a.createElement(mS,{allowMatchCase:h,shouldMatchCase:m,
onToggleMatchCase:f,findText:e,count:t,shouldFocus:n,onFind:o,onFindBlur:r,onFindPrev:s,onFindNext:i,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:a,onArrowDown:this.setFocusToReplace}),l.a.createElement(iS,null),l.a.createElement(gS,{canReplace:t.total>0,replaceText:c,onReplace:d,onReplaceAll:u,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:p}))}}yS.displayName="FindReplace";var vS=yS;const OS=k.default.div(["display:flex;flex:1 1 auto;justify-content:flex-end;padding:0 8px;@media (max-width:","px){justify-content:center;padding:0;}"],Le.x),jS=k.default.div(["display:flex;flex-direction:column;"]),wS=Object(f.h)({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}});class kS extends l.a.PureComponent{
constructor(...e){super(...e),s()(this,"handleKeydown",(e=>{e.metaKey&&"f"===e.key&&e.preventDefault()})),s()(this,"toggleOpen",(()=>{this.props.isActive?this.props.onCancel({triggerMethod:lt.f.TOOLBAR}):this.props.onActivate()}))}componentDidMount(){window.addEventListener("keydown",this.handleKeydown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeydown)}render(){const{popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:n,isReducedSpacing:o,findText:r,replaceText:i,isActive:s,index:a,numMatches:c,intl:{formatMessage:d}}=this.props,u=d(wS.findReplaceToolbarButton),p=Le.m-1;return l.a.createElement(OS,null,l.a.createElement(ne.a,{mountTo:e,boundariesElement:t,scrollableElement:n,isOpen:s,handleEscapeKeydown:()=>{s&&this.props.onCancel({triggerMethod:lt.f.KEYBOARD})},fitWidth:352,zIndex:p,trigger:l.a.createElement(w.a,{spacing:o?"none":"default",selected:s,title:l.a.createElement(Ie.ToolTipContent,{description:u,
keymap:Object(Ie.findKeymapByDescription)("Find")}),iconBefore:l.a.createElement(qE.a,{label:u}),onClick:this.toggleOpen})},l.a.createElement(jS,null,l.a.createElement(vS,Xn()({findText:r,replaceText:i,count:{index:a,total:c}},this.props)))))}}kS.displayName="FindReplaceToolbarButton";var ES=Object(f.i)(kS);var SS=()=>({name:"findReplace",pmPlugins:()=>[{name:"findReplace",plugin:({dispatch:e})=>(e=>new c.Plugin({key:dE,state:PE(e,(()=>CE)),props:{decorations(e){const{isActive:t,findText:n,decorationSet:o}=TE(e);if(t&&n)return o}}}))(e)},{name:"findReplaceKeymap",plugin:()=>VE()}],primaryToolbarComponent({popupsBoundariesElement:e,popupsMountPoint:t,popupsScrollableElement:n,isToolbarReducedSpacing:o,editorView:r,containerElement:i,dispatchAnalyticsEvent:s}){const a=e=>{const t=document.activeElement;r.focus(),e(),null==t||t.focus()},c=e=>{const{state:t,dispatch:n}=r;e(t,n)},d=()=>{a((()=>c(BE({triggerMethod:lt.f.TOOLBAR}))))},u=e=>{a((()=>c(FE({editorView:r,containerElement:i,
keyword:e}))))},h=({triggerMethod:e})=>{a((()=>c(zE({triggerMethod:e}))))},m=({triggerMethod:e})=>{a((()=>c(UE({triggerMethod:e}))))},f=({triggerMethod:e,replaceText:t})=>{a((()=>c(HE({triggerMethod:e,replaceText:t}))))},b=({replaceText:e})=>{a((()=>c($E({replaceText:e}))))},g=()=>{c((()=>xE({type:iE.BLUR}))())},y=({triggerMethod:e})=>{c(WE({triggerMethod:e})),r.focus()},v=()=>{c((()=>xE({type:iE.TOGGLE_MATCH_CASE}))())},{findReplaceMatchCase:O}=Object(On.b)(r.state);return l.a.createElement(p.a,{debounce:!1,plugins:{findReplaceState:dE},render:({findReplaceState:r})=>l.a.createElement(ES,{allowMatchCase:O,shouldMatchCase:r.shouldMatchCase,onToggleMatchCase:v,isActive:r.isActive,findText:r.findText,index:r.index,numMatches:r.matches.length,replaceText:r.replaceText,shouldFocus:r.shouldFocus,popupsBoundariesElement:e,popupsMountPoint:t,popupsScrollableElement:n,isReducedSpacing:o,dispatchAnalyticsEvent:s,onFindBlur:g,onCancel:y,onActivate:d,onFind:u,onFindNext:h,onFindPrev:m,
onReplace:f,onReplaceAll:b})})}}),_S=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/is-full-page.js"),CS=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/feature-flags-from-props.js"),xS=o("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js"),TS=o("./node_modules/@atlaskit/editor-markdown-transformer/dist/es2019/index.js"),PS=o("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/module-helpers.js"),AS=o("./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js");function IS(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function MS(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function DS(...e){return t=>{let n=!0;return t.content.descendants((t=>(n=n&&e.indexOf(t.type)>-1,n))),n}}function NS(e,t){return n=>{const{marks:{code:o,link:r,annotation:i}}=e;if(!Array.isArray(t)||0===t.length)return n;const s=Ve.Slice.fromJSON(e,n.toJSON()||{}),a=[r,i]
;return s.content.descendants(((e,n,i)=>!(e.isText&&i&&i.isBlock)||(e.marks=[...e.marks&&!o.isInSet(t)&&e.marks.filter((e=>a.includes(e.type)))||[],...i.type.allowedMarks(t).filter((e=>e.type!==r))],!1))),s}}function RS(e){if(!e)return!1;const{type:t}=e,n=t.createAndFill();return n&&n.nodeSize===e.nodeSize&&n.content.eq(e.content)&&Ve.Mark.sameSet(n.marks,e.marks)}function LS(e){if(e instanceof c.NodeSelection&&function(e){return Boolean(e&&"panel"===e.type.name)}(e.node))return e.node;const{doc:{type:{schema:{nodes:{panel:t}}}}}=e.$from,n=Object(b.findParentNodeOfType)(t)(e);return n?n.node:null}function BS(e){const t=Object(Qe.d)(Ve.Fragment.from(e),(e=>(e=>e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn)(e)?e.content:e)),n=[];return t.forEach((e=>n.push(e))),n}function FS(e,t){return 0===t?BS(e):e}function zS(e,t,n){return t===n.childCount-1?BS(e):e}const US=e=>{const{schema:t}=e.type;if(e.type===t.nodes.table){
const n=[],{tableCell:o,tableHeader:r}=t.nodes;return e.descendants((e=>(e.type!==o&&e.type!==r||n.push(...Object(b.flatten)(e,!1).map((e=>e.node))),!0))),n}return e},HS=(e,t)=>0===t?US(e):e,$S=(e,t,n)=>t===n.childCount-1?US(e):e;var WS=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/pm-plugins/main.js");function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(n),!0).forEach((function(t){qS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function GS(e){return(t,n)=>{const{schema:o,tr:{selection:r}}=t,{marks:{code:i},nodes:{decisionItem:s,decisionList:a,emoji:l,hardBreak:d,mention:u,paragraph:p,taskList:h,taskItem:m,text:f}}=o;if(!(s&&a&&h&&m&&Object(b.hasParentNodeOfType)([s,m])(t.selection)))return!1;const g=[Object(Tv.e)(o)],y=r.$head.marks(),v=WS.b.getState(t);r instanceof c.TextSelection&&Array.isArray(y)&&y.length>0&&DS(p,f,l,u,d)(e)&&(!i.isInSet(y)||v.codeActive)&&g.push(NS(o,r.$head.marks()));const O=ho.e.apply(null,g)(e),j=Object(IO.a)(t.tr).replaceSelection(O).scrollIntoView();return Object(Cy.e)(t,j,lt.e.CLIPBOARD),n&&n(j),!0}}function YS(e){return(t,n)=>{const{schema:o,selection:r,selection:{from:i,to:s},tr:a}=t;let l;if(1===e.content.childCount&&Object(Os.e)(e.content.child(0),o)){const t=e.content.child(0);if(1===t.content.childCount&&Object(Os.g)(t.content.child(0),o)){l=t.content.child(0).marks.find((e=>Object(Os.c)(e,o)))}}
return!!(l&&r instanceof c.TextSelection&&!r.empty&&Object(aO.c)(i,s)(t))&&(a.addMark(i,s,l),n&&n(a),!0)}}function XS(e,t){return(t,n,o)=>{if(o&&o.shiftKey){let o=Object(IO.a)(t.tr);const{selection:r}=o;return o=_d(t,e,lt.e.CLIPBOARD),o.docChanged||o.replaceSelection(e),(t.storedMarks||[]).forEach((t=>{o.addMark(r.from,r.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}function JS(e){return(t,n)=>{const{schema:o,tr:{selection:r}}=t,{marks:{code:i,link:s},nodes:{bulletList:a,emoji:l,hardBreak:d,heading:u,listItem:p,mention:h,orderedList:m,paragraph:f,text:b}}=o;if(!(r instanceof c.TextSelection))return!1;const g=r.$head.marks();if(0===g.length)return!1;const y=WS.b.getState(t);if(i.isInSet(g)&&!y.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===f&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===b&&s.isInSet(g)&&1===g.length){
const o=Object(IO.a)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(g).scrollIntoView();return Object(Cy.e)(t,o,lt.e.CLIPBOARD),n&&n(o),!0}if(DS(a,d,u,p,f,b,l,h,m)(e)){const r=NS(o,g)(e),i=Object(IO.a)(t.tr).replaceSelection(r).setStoredMarks(g).scrollIntoView();return Object(Cy.e)(t,i,lt.e.CLIPBOARD),n&&n(i),!0}return!1}}function ZS(e,t,n){if(n){const o=n.state.tr.selection,r=n.state.tr.replaceSelection(e),i=r.mapping.map(o.from,-1);return n.dispatch(r),n.dispatch(Object(IO.a)(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function QS(e,t,n,o){return(r,i,s)=>{let a=null;if(o){const t=o(e);t&&(a=Ve.Node.fromJSON(r.schema,t))}return a||(a=((e,t)=>{const n=yb.getState(e),o=n&&n.macroProvider;if(!o||!o.autoConvert)return null;const r=o.autoConvert(t);return r?kb(r,e):null})(r,e)),a?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(a.attrs.extensionKey)<0?ZS(t,a,s):(async function(e,t,n){
if(!n.provider)throw Error("No card provider found");const o=await n.provider;return await o.resolve(e,t)}(e,"inline",n).then((e=>{if(!s)throw new Error("Missing view");const{schema:t,tr:n}=s.state,o=Object(Ye.l)(t,e);if(!o)throw new Error("Received invalid ADF from CardProvider");s.dispatch(Object(Cy.d)(n,o,t))})).catch((()=>ZS(t,a,s))),!0):ZS(t,a,s):!!a}}function e_(e){return(t,n)=>{const{codeBlock:o}=t.schema.nodes;if(e&&Object(b.hasParentNodeOfType)(o)(t.selection)){const o=Object(IO.a)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function t_(t){return(n,o)=>{if(!Object(ho.i)(n))return!1;const{expand:r,nestedExpand:i}=n.schema.nodes;let{tr:s}=n,a=!1;const l=Object(Qe.e)(t,(t=>{if(t.type===r){a=!0;try{return i.createChecked(t.attrs,t.content,t.marks)}catch(e){return s=Object(b.safeInsert)(t,s.selection.$to.pos)(s),Ve.Fragment.empty}}return t}));return!(!a||!o)&&(t.openStart>1&&t.openEnd>1?o(s.replaceSelection(l)):o(Object(b.safeInsert)(l.content)(s)),!0)}}
function n_(e){return(t,n)=>{const o=Object(IO.a)(t.tr);return o.replaceSelection(e),Object(Cy.e)(t,o,lt.e.CLIPBOARD),n&&n(o.scrollIntoView()),!0}}function o_({tr:e,slice:t}){const{selection:n,selection:{$to:o,$from:r,to:i,from:s}}=e,{$cursor:a}=n,l=LS(n),d=r.blockRange(o,Ze.d),u=r.blockRange(o);if(d&&u){const n=s,r=o.nodeAfter?i:i+2,a=e.doc.slice(r,u.end);e.deleteRange(n,u.end);const l=e.mapping.map(n);if(e.replaceRange(l,l,t),a.size<=0)return;const d=c.TextSelection.near(e.doc.resolve(e.mapping.map(l)),-1);return a.openEnd=a.openStart,void e.replaceRange(d.from,d.from,a)}if(l&&RS(l)&&r.node()===o.node()){const{from:i}=n;if(l&&!l.type.validContent(Ve.Fragment.from(t.content))){const n=o.pos+2;return e.replaceRange(n,n,t),void e.setSelection(c.TextSelection.near(e.doc.resolve(n+t.content.size),-1))}const s=new Ke.i(e.doc.type.createAndFill());s.replaceRange(0,s.doc.content.size,t)
;const a=s.doc.slice(0),d=l.copy(a.content),u=n instanceof c.NodeSelection?n.node:null,p=u?i:e.doc.resolve(i).start(),h=u?i+u.nodeSize:p;e.replaceRangeWith(p,h,d),e.setSelection(c.TextSelection.near(e.doc.resolve(r.pos+d.content.size),-1))}else if(a&&function(e){return e instanceof c.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}(n)){const n=Math.max(a.pos-1,0);if(RS(e.doc.resolve(a.pos).node()))e.replaceRange(n,a.end(),t);else{const n=a.nodeBefore?r.after():r.before();e.replaceRange(n,n,t)}const o=e.doc.resolve(Math.min(n+t.size,e.doc.content.size)),i=Math.min(o.pos+t.content.size-t.openEnd,e.doc.content.size),s=-1;e.setSelection(c.TextSelection.near(e.doc.resolve(i),s))}else e.replaceSelection(t)}function r_(e,t){const{bulletList:n,orderedList:o}=e.nodes;return t&&(t.type===n||t.type===o)}function i_(e,t,n){const{listItem:o}=e.schema.nodes;t.content.forEach((t=>{r_(e.schema,t)||t.type===o&&r_(e.schema,t.firstChild)?i_(e,t,n):n.push(t)}))}
function s_(e){return(t,n)=>{const{codeBlock:o,panel:r}=t.schema.nodes;let i=t.tr;if(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((t=>t.type===e.schema.marks.code))}(t,e)&&function(e){const{$from:{nodeBefore:t},from:n}=e.selection;t&&t.isText&&t.text.endsWith("`")&&e.delete(n-1,n)}(i),function(e,t){const n=t.content.firstChild;return n&&Object(ho.i)(e)&&r_(e.schema,n)&&t.openStart>t.openEnd}(t,e)&&e.content.firstChild){const n=e.content.firstChild,o=[];i_(t,n,o),e=new Ve.Slice(Ve.Fragment.from(n.type.createChecked(n.attrs,o)),e.openEnd,e.openEnd)}Object(IO.a)(i);const s=Object(On.b)(t);if(s&&s.predictableLists&&(r_(t.schema,e.content.firstChild)||r_(t.schema,e.content.lastChild)))o_({tr:i,slice:e});else{let t=Object(b.findParentNodeOfType)(r)(i.selection);i.selection.$from===i.selection.$to&&t&&!t.node.textContent?(i=Object(b.safeInsert)(e.content,i.selection.$to.pos)(i),t=Object(b.findParentNodeOfType)(r)(i.selection),
t&&i.setSelection(c.TextSelection.near(i.doc.resolve(t.pos+t.node.nodeSize)))):i.replaceSelection(e)}return i.setStoredMarks([]),i.selection.empty&&i.selection.$from.parent.type===o&&i.setSelection(c.TextSelection.near(i.selection.$from,1)),i.scrollIntoView(),n&&n(Object(Cy.e)(t,i,lt.e.CLIPBOARD)),!0}}const a_=e=>(t,n)=>{const o=_d(t,e,lt.e.CLIPBOARD);return!!o.docChanged&&(n&&n(o),!0)};function l_(e){const t=[];return e.forEach((e=>{if(e.type===e.type.schema.nodes.codeBlock){const n=t[t.length-1];if(n&&n.type===e.type)return t.push(function(e,t){const n=`${e.textContent}\n${t.textContent}`;return e.type.create(e.attrs,e.type.schema.text(n))}(t.pop(),e))}return t.push(e)})),Ve.Fragment.from(t)}const c_=(e,t)=>{const{codeBlock:n}=e.schema.nodes;return Object(b.findSelectedNodeOfType)(n)(t||e.selection)||Object(b.findParentNodeOfType)(n)(t||e.selection)};var d_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/paste-events.js");function u_(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u_(Object(n),!0).forEach((function(t){h_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m_={url:d_.a.url,paragraph:d_.a.text,bulletList:d_.a.bulletList,orderedList:d_.a.orderedList,heading:d_.a.heading,blockquote:d_.a.blockquote,codeBlock:d_.a.codeBlock,panel:d_.a.panel,rule:d_.a.rule,mediaSingle:d_.a.mediaSingle,mediaCard:d_.a.mediaCard,mediaGroup:d_.a.mediaGroup,table:d_.a.table,
tableCells:d_.a.tableCells,tableHeader:d_.a.tableHeader,tableRow:d_.a.tableRow,decisionList:d_.a.decisionList,decisionItem:d_.a.decisionItem,taskList:d_.a.taskItem,extension:d_.a.extension,bodiedExtension:d_.a.bodiedExtension,blockCard:d_.a.blockCard,layoutSection:d_.a.layoutSection},f_={blockquote:lt.c.PASTE_BLOCKQUOTE,blockCard:lt.c.PASTE_BLOCK_CARD,bodiedExtension:lt.c.PASTE_BODIED_EXTENSION,bulletList:lt.c.PASTE_BULLET_LIST,codeBlock:lt.c.PASTE_CODE_BLOCK,decisionList:lt.c.PASTE_DECISION_LIST,extension:lt.c.PASTE_EXTENSION,heading:lt.c.PASTE_HEADING,mediaGroup:lt.c.PASTE_MEDIA_GROUP,mediaSingle:lt.c.PASTE_MEDIA_SINGLE,orderedList:lt.c.PASTE_ORDERED_LIST,panel:lt.c.PASTE_PANEL,rule:lt.c.PASTE_RULE,table:lt.c.PASTE_TABLE,tableCell:lt.c.PASTE_TABLE_CELL,tableHeader:lt.c.PASTE_TABLE_HEADER,tableRow:lt.c.PASTE_TABLE_ROW,taskList:lt.c.PASTE_TASK_LIST};function b_(e,t,n){return p_({action:lt.a.PASTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:e,eventType:lt.d.TRACK,attributes:p_({
inputMethod:lt.e.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function g_(e,t,n,o){const r=t.clipboardData?t.clipboardData.getData("text/plain")||t.clipboardData.getData("text/uri-list"):"",i=function(e){const{state:{selection:t,schema:{nodes:{paragraph:n,listItem:o,taskItem:r,decisionItem:i}}}}=e,s=Object(b.findParentNode)((e=>e.type!==n&&e.type!==o&&e.type!==r&&e.type!==i))(t);if(!s)return lt.c.PASTE_PARAGRAPH;const a=s.node.type;return f_[a.name]||lt.c.PASTE_PARAGRAPH}(e);if(o.asPlain)return function(e,t){return{action:lt.a.PASTED_AS_PLAIN,actionSubject:lt.b.DOCUMENT,actionSubjectId:e,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,pasteSize:t.length}}}(i,r);const s=function(e){const t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":IS(t)?"microsoft-word":MS(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)
}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}(t);if(o.type===d_.b.plain)return b_(i,{pasteSize:r.length,type:o.type,content:d_.a.text,source:s});const a=n.size,l=function(e,t){const{schema:{nodes:{paragraph:n},marks:{link:o}}}=e,r=new Set;if(t.content.forEach((e=>{e.type===n&&0===e.content.size||("text"===e.type.name&&o.isInSet(e.marks)||e.type===n&&e.rangeHasMark(0,e.nodeSize-2,o)?r.add("url"):r.add(e.type.name))})),r.size>1)return d_.a.mixed;if(0===r.size)return d_.a.uncategorized;const i=r.values().next().value;return m_[i]||d_.a.uncategorized}(e.state,n),c=[];l!==d_.a.url&&l!==d_.a.mixed||Object(Qe.e)(n,(e=>{const t=e.marks.find((e=>"link"===e.type.name));return t&&c.push(t.attrs.href),e}));const d=c.map(Tv.b);return b_(i,{type:o.type,pasteSize:a,
content:l,source:s},d)}function y_(e,t,n,o){const r=g_(e,t,n,o);e.dispatch(Object(ct.a)(e.state,e.state.tr,r))}function v_(e,t,n,o){return Object(ct.d)((()=>g_(e,t,n,o)))}const O_=(e,t,n,o)=>Object(ho.u)(function(e){return function(t){return(n,o,r)=>{if(r){if(function(e,t){const{media:n}=e.schema.nodes;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return Object(Ky.b)(r,t.content.firstChild,e);if(Object(ho.i)(n)&&function(e,t){const{mediaSingle:n}=e.schema.nodes;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){const e=n.tr.replaceSelection(t),r=e.doc.resolve(e.mapping.map(n.selection.$from.pos));return o&&o(e.setSelection(new at.a(r,at.b.RIGHT))),!0}}return!1}}}(lt.e.CLIPBOARD),v_(e,t,n,{type:o}))(n),j_=(e,t,n,o)=>Object(ho.u)(JS,v_(e,t,n,{type:o}))(n)
;var w_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-common.js"),k_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/transforms.js"),E_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/paste/md.js");var S_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js");const __=new c.PluginKey("pastePlugin");function C_(t,n,o,r,i){const s=new TS.a(t,E_.a);let a;return i&&i.subscribe("extensionProvider",(async function(t,n){if("extensionProvider"===t&&n)try{a=await Object(PS.b)(n)}catch(e){console.error(e)}})),new c.Plugin({key:__,props:{handlePaste(e,o,r){const i=o;if(!i.clipboardData)return!1;let l=i.clipboardData.getData("text/plain");const c=i.clipboardData.getData("text/html"),d=i.clipboardData.getData("text/uri-list");!d||l||c||(l=d,r=new Ve.Slice(Ve.Fragment.from(t.text(l)),1,1));const u=Uh(i),p=l&&!c,h=!!c;if(u){if(!c)return!0;if(function(e){return!!e.match(/<img .*>/)&&!Object(AS.c)(e)}(c))return!0
;i.stopPropagation()}const{state:m,dispatch:f}=e;if(((e,t,n)=>Object(ho.u)(XS,v_(e,t,n,{type:d_.b.plain,asPlain:!0}))(n,t))(e,i,r=function(e,t){if(0===t.content.size)return t;const{schema:n,selection:{$from:o}}=e;if(!function(e){for(let t=0;t<e.content.childCount;t++){const n=e.content.child(t).marks.map((e=>e.type.name));if(n.includes("alignment")||n.includes("indentation"))return!0}return!1}(t))return t;const r=o.parent.textContent.length>0;if(1===t.content.childCount&&r)return t;const i=o.node(Math.max(0,o.depth-1));if(i.type.allowsMarkType(n.marks.alignment)||i.type.allowsMarkType(n.marks.indentation)){const e=Math.max(0,t.openStart-1);return new Ve.Slice(t.content,e,t.openEnd)}return Object(Qe.e)(t,(e=>e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((e=>"alignment"!==e.type.name&&"indentation"!==e.type.name))):e))}(m,r))(m,f,e))return!0;let b;return r=Object(Ky.e)(r,t)(m.selection),p&&(b=function(e,t,n){const o=s.parse(function(e){
return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,(e=>e.match(/^(https?|ftp):\/\/[^\s]+$/)?`<${e}>`:e))}(e));if(o&&o.content)return new Ve.Slice(o.content,t,n)}(l,r.openStart,r.openEnd),b&&QS(l,b,n,a)(m,f,e))?(y_(e,i,b,{type:d_.b.markdown}),!0):!!((e,t,n,o)=>Object(ho.u)(GS,v_(e,t,n,{type:o}))(n))(e,i,r=Object(Ly.e)(r,m),p?d_.b.plain:d_.b.richText)(m,f)||(!!((e,t,n,o)=>Object(ho.u)(e_,v_(e,t,n,{type:d_.b.plain}))(o))(e,i,r,l)(m,f)||(!!O_(e,i,r,u?d_.b.binary:d_.b.richText)(m,f,e)||(!!((e,t,n)=>Object(ho.u)(a_,v_(e,t,n,{type:d_.b.richText}))(n))(e,i,r)(m,f)||(p&&b?!!j_(e,i,b,d_.b.markdown)(m,f)||(!!((e,t,n)=>Object(ho.u)(YS,v_(e,t,n,{type:d_.b.richText}))(n))(e,i,b)(m,f)||((e,t,n)=>Object(ho.u)(n_,v_(e,t,n,{type:d_.b.markdown}))(n))(e,i,b)(m,f)):!!h&&(QS(l,r=Object(Tv.e)(m.schema)(r),n,a)(m,f,e)?(y_(e,i,r,{type:d_.b.richText}),!0):(!Object(ho.i)(m)&&function(e){const t=Object(zi.c)(e);return t&&t.pluginConfig.isHeaderRowRequired}(m)&&(r=((e,t)=>{
const{table:n,tableHeader:o,tableRow:r}=t.nodes;return Object(Qe.e)(e,(e=>{if(e.type===n){const t=e.firstChild;if(t){const n=[];t.forEach((e=>{n.push(o.createChecked(e.attrs,e.content,e.marks))}));const i=r.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,i))}}return e}))})(r,m.schema)),function(e){const t=Object(zi.c)(e);return t&&t.pluginConfig.allowColumnResizing}(m)||(r=((e,t)=>{const{tableHeader:n,tableCell:o}=t.nodes;return Object(Qe.e)(e,(e=>e.type!==o&&e.type!==n||!e.attrs.colwidth?e:e.type.createChecked(Js(Js({},e.attrs),{},{colwidth:void 0}),e.content,e.marks)))})(r,m.schema)),function(e){const t=Object(zi.c)(e);return t&&t.pluginConfig.allowBackgroundColor}(m)||(r=((e,t)=>{const{tableCell:n,tableHeader:o}=t.nodes;return Object(Qe.e)(e,(e=>{if(e.type===n||e.type===o){const t=Js({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))})(r,m.schema)),mi(e,0,r)?(y_(e,i,r,{type:d_.b.richText}),
!0):(r.content.size&&Object(S_.b)(r,m)&&Object(S_.k)(r,m),!!j_(e,i,r,d_.b.richText)(m,f)||(!!((e,t,n)=>Object(ho.u)(t_,v_(e,t,n,{type:d_.b.richText}))(n))(e,i,r)(m,f)||(Object(ho.i)(m)||(r=Object(Ho.b)(r,m.schema)),((e,t,n)=>Object(ho.u)(s_,v_(e,t,n,{type:d_.b.richText}))(n))(e,i,r)(m,f))))))))))},transformPasted:e=>(o&&(e=function(e,t){return Object(Qe.e)(e,(e=>{if(e.type.name===t.nodes.mention.name){const n=KS(KS({},e.attrs),{},{text:""});return t.nodes.mention.create(n,e.content,e.marks)}return e}))}(e,t)),e=function(e,t){if(e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection)return new Ve.Slice(Object(Qe.a)(e.content,FS),e.openStart-2,e.openEnd-2);return e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new Ve.Slice(Object(Qe.a)(e.content,FS),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new Ve.Slice(Object(Qe.a)(e.content,zS),e.openStart,e.openEnd-2)),e}(e=((e,t)=>{
const{paragraph:n,table:o,hardBreak:r}=t.nodes,i=n.createAndFill(),s=r.createAndFill(),a=(i?i.nodeSize:0)+(s?s.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===n&&e.content.lastChild.nodeSize===a){const t=US(e.content.firstChild);if(t instanceof Array)return new Ve.Slice(Ve.Fragment.from(t[0]),e.openStart,e.openEnd)}return e})(e,t),t),e=((e,t)=>{if(1===e.content.childCount&&(e.openStart||e.openEnd)){const n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new Ve.Slice(Ve.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e})(e=function(e){return e=Object(Qe.e)(e,(e=>e.isBlock&&!e.isTextblock?e.copy(l_(e.content)):e)),new Ve.Slice(l_(e.content),e.openStart,e.openEnd)}(e=((e,t)=>{const{bodiedExtension:n}=t.nodes,o=Object(Qe.d)(e.content,((t,o,r)=>{if(t.type===n&&!o){
const n=e.openStart&&0===r,o=e.openEnd&&r+1===e.content.childCount;if(n||o)return t.content}return t}));return new Ve.Slice(o,o.firstChild&&o.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,o.lastChild&&o.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)})(e=((e,t)=>e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table?new Ve.Slice(Object(Qe.a)(e.content,US),e.openStart-3,e.openEnd-3):e.openStart>=4&&e.content.firstChild.type===t.nodes.table?new Ve.Slice(Object(Qe.a)(e.content,HS),e.openStart-3,e.openEnd):e.openEnd>=4&&e.content.lastChild.type===t.nodes.table?new Ve.Slice(Object(Qe.a)(e.content,$S),e.openStart,e.openEnd-3):e)(e=Object(Ho.c)(e,t),t),t)),t),e=((e,t)=>{const n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){const o=t.nodes.decisionList.create({},n);return new Ve.Slice(Ve.Fragment.from(o),e.openStart,e.openEnd)}return e})(e=((e,t)=>{
const{tableCell:n,tableHeader:o}=t.nodes;return Object(Qe.e)(e,(e=>!e||e.type!==n&&e.type!==o||e.content.childCount?e:e.type.createAndFill(e.attrs)||e))})(e=Object(w_.l)(e,t),t),t),r?e=((e,t)=>Object(Qe.e)(e,((e,n)=>e.type===t.nodes.paragraph?it(e,n,t):e)))(e=((e,t)=>{let n=!1;if(e.content.forEach((e=>{n=n||e.marks.some((e=>e.type===t.marks.code))})),t.nodes.paragraph.validContent(e.content)&&!n){const n=st({fragment:e.content,schema:t});return new Ve.Slice(n,e.openStart+1,e.openEnd+1)}return Object(Qe.e)(e,(e=>e.type===t.nodes.paragraph?st({fragment:e.content,blockMarks:e.marks,schema:t}):e))})(e,t),t):(e=Object(k_.c)(e,t),e=Object(k_.d)(e,t)),e.content.childCount&&e.content.lastChild.type===t.nodes.codeBlock&&(e=new Ve.Slice(e.content.append(Ve.Fragment.from(t.nodes.paragraph.createAndFill())),e.openStart,1)),e),transformPastedHTML:e=>(e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),
!IS(e)&&!MS(e)&&e.indexOf("<img ")>=0&&(e=Object(w_.m)(e)),e)}})}var x_=({cardOptions:e,sanitizePrivateContent:t,predictableLists:n})=>({name:"paste",pmPlugins:()=>[{name:"paste",plugin:({schema:o,providerFactory:r})=>C_(o,e,t,n,r)}]}),T_=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/heading.js"),P_=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/blockquote.js"),A_=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/hard-break.js"),I_=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/types.js");function M_(e){return new c.Plugin({props:{handleKeyDown(t,n){const o=Object(po.keyName)(n);let r=n;return n.ctrlKey&&1===o.length&&/[^\u0000-\u007f]/.test(o)&&(r=new KeyboardEvent("keydown",{key:po.base[n.keyCode],code:n.code,ctrlKey:!0})),Object(Xt.a)(e)(t,r)}}})}const D_=Object(qe.c)(Gt.d,IO.d);const N_=(e,t,n,o,r,i)=>{const{hardBreak:s,codeBlock:a,listItem:l}=e.schema.nodes,d=e.doc.resolve(o)
;if(d.nodeAfter.type!==s)return null;if(d.depth>1&&(t!==a||!Object(b.hasParentNodeOfType)(l)(e.selection)))return null;let u=e.tr.delete(o,r).split(o),p=u.doc.nodeAt(o+1),h=!1;u.doc.nodesBetween(o,o+p.nodeSize,((e,t)=>{h||e.type!==s||(h=!0,u=u.split(t+1).delete(t,t+1))})),h&&(p=u.doc.nodeAt(o+1));const{blockquote:m,paragraph:f}=e.schema.nodes;let g,y;t===m?(y=3,g=[f.create({},p.content)]):(y=2,g=p.content);const v=t.create(i,g);return u=u.setSelection(new c.NodeSelection(u.doc.resolve(o+1))).replaceSelectionWith(v).setSelection(new c.TextSelection(u.doc.resolve(o+y))),u};function R_(e){return{level:e[1].length}}function L_(e){const t=Object(qt.b)(function(e,t){return Object(Gt.c)(new RegExp("^(#{1,"+t+"})\\s$"),e,R_)}(e.nodes.heading,6),!0),n=Object(qt.a)(new RegExp("\ufffc(#{1,6})\\s$"),((t,n,o,r)=>{const i=n[1].length;return N_(t,e.nodes.heading,0,o,r,{level:i})}),!0),o=Object(ct.c)(((e,t)=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,eventType:lt.d.TRACK,
actionSubjectId:lt.c.FORMAT_HEADING,attributes:{inputMethod:lt.e.FORMATTING,newHeadingLevel:R_(t).level}})));return[o(t),o(n)]}function B_(e){const t=Object(qt.b)(function(e){return Object(Gt.e)(/^\s*>\s$/,e)}(e.nodes.blockquote),!0),n=Object(qt.a)(new RegExp("\ufffc\\s*>\\s$"),((t,n,o,r)=>N_(t,e.nodes.blockquote,0,o,r)),!0),o=Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,eventType:lt.d.TRACK,actionSubjectId:lt.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:lt.e.FORMATTING}})));return[o(t),o(n)]}function F_(e){const t={action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.CODE_BLOCK,attributes:{inputMethod:lt.e.FORMATTING},eventType:lt.d.TRACK};return[Object(qt.a)(/((^`{3,})|(\s`{3,}))(\S*)$/,((e,n,o,r)=>{const i={};n[4]&&(i.language=n[4]);const s=" "===n[0][0]?o+1:o;if(function(e){if(!e.selection)return!1;const{$from:t}=e.selection,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;const o=t.depth-1,r=t.node(o),i=t.index(o)
;return r.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e)){const n=function(e,t){if(!e.selection.empty)return e.tr;const n=e.schema.nodes.codeBlock,o=e.selection.$from,r=o.before(),i=o.end(),s=Object(Qe.e)(e.doc.slice(o.pos,i),(t=>t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null)),a=e.tr.replaceRange(o.pos,i,s);return o.parentOffset>=3?a.split(o.pos,void 0,[{type:n,attrs:t}]):a.setNodeMarkup(r,n,t,[])}(e,i).delete(s,r).scrollIntoView();return Object(ct.a)(e,n,t)}let{tr:a}=e;a=a.delete(s,r);const l=e.schema.nodes.codeBlock.createChecked();return Object(b.safeInsert)(l)(a)}),!0),Object(qt.a)(new RegExp("((\ufffc`{3,})|(\\s`{3,}))(\\S*)$"),((n,o,r,i)=>{const s={};o[4]&&(s.language=o[4]);let a=N_(n,e.nodes.codeBlock,0,r,i,s);return a&&(a=Object(ct.a)(n,a,t)),a}),!0)]}var z_=function(e){const t=[];if(e.nodes.heading&&t.push(...L_(e)),e.nodes.blockquote&&t.push(...B_(e)),
e.nodes.codeBlock&&t.push(...F_(e)),0!==t.length)return Object(qt.c)("block-type",{rules:t})},U_=o("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/headings.js");const H_=k.default.div(["",";>{h1,h2,h3,h4,h5,h6{margin-top:0;}}",";"],U_.a,(e=>e.selected?`${e.tagName} { color: white }`:"")),$_=Object(k.default)(We.h)([""," margin-left:16px;"],(e=>e.selected?"color: #505F79;":""));var W_=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/text-style.js"),V_=o.n(W_);const K_=Object(f.h)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),q_=e=>{const t=e.formatMessage(K_.textStyles);return l.a.createElement(w.a,{spacing:e.isReducedSpacing?"none":"default",selected:e.selected,className:"block-type-btn",disabled:e.disabled,onClick:e.onClick,title:t,"aria-label":"Font style",iconAfter:l.a.createElement(We.j,{isSmall:e.isSmall
},e.isSmall&&l.a.createElement(V_.a,{label:t}),l.a.createElement(We.e,null,l.a.createElement(te.a,{label:t})))},!e.isSmall&&l.a.createElement(We.a,{spacing:e.isReducedSpacing?"none":"default"},l.a.createElement(f.c,e.title||I_.k.title),l.a.createElement("div",{style:{overflow:"hidden",height:0}},e.children)))};class G_ extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{active:!1}),s()(this,"onOpenChange",(e=>{this.setState({active:e.isOpen})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isOpen:!this.state.active})})),s()(this,"createItems",(()=>{const{intl:{formatMessage:e}}=this.props,{currentBlockType:t,availableBlockTypes:n}=this.props.pluginState;return[{items:n.map(((n,o)=>{const r=t===n,i=n.tagName||"p";return{content:l.a.createElement(H_,{tagName:i,selected:r},l.a.createElement(i,null,e(n.title))),value:n,key:`${n.name}-${o}`,elemAfter:l.a.createElement($_,{selected:r
},Object(Ie.tooltip)(Object(Ie.findKeymapByDescription)(n.title.defaultMessage))),isActive:r}}))}]})),s()(this,"handleSelectBlockType",(({item:e})=>{const t=e.value;this.props.setBlockType(t.name),this.setState({active:!1})}))}render(){const{active:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,isSmall:r,isReducedSpacing:i,pluginState:{currentBlockType:s,blockTypesDisabled:a,availableBlockTypes:c},intl:{formatMessage:d}}=this.props;if(!c.some((e=>"heading"===e.nodeName)))return null;const u=c.filter((e=>e.name===s.name)).map((e=>e.title)),p=[I_.k,...c].reduce(((e,t)=>{const n=d(t.title);return n.length>=e.length?n:e}),"");if(!this.props.isDisabled&&!a){const s=this.createItems();return l.a.createElement(We.f,null,l.a.createElement($e,{items:s,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:e,mountTo:t,boundariesElement:n,scrollableElement:o,zIndex:Le.v,fitHeight:360,fitWidth:106},l.a.createElement(q_,{isSmall:r,
isReducedSpacing:i,selected:e,disabled:!1,title:u[0],onClick:this.handleTriggerClick,formatMessage:d},p)),l.a.createElement(We.g,null))}return l.a.createElement(We.j,null,l.a.createElement(q_,{isSmall:r,isReducedSpacing:i,selected:e,disabled:!0,title:u[0],onClick:this.handleTriggerClick,formatMessage:d},p),l.a.createElement(We.g,null))}}G_.displayName="ToolbarBlockType";var Y_=Object(f.i)(G_);const X_=({formatMessage:e},t)=>t?Array.from({length:6},((t,n)=>{const o=n+1,r=gf.a[`heading${o}Description`],i=Ie.tooltip(Ie[`toggleHeading${o}`]),s=`heading${o}`;return{id:s,title:e(gf.a[s]),description:e(r),priority:1300,keywords:[`h${o}`],keyshortcut:i,icon:()=>l.a.createElement(sn.i,{level:o,label:e(r)}),action(e,t){const n=e(t.schema.nodes.heading.createChecked({level:o}));return Object(ct.a)(t,n,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,eventType:lt.d.TRACK,actionSubjectId:lt.c.FORMAT_HEADING,attributes:{inputMethod:lt.e.QUICK_INSERT,newHeadingLevel:o}})}}
})):[],J_=({formatMessage:e},t)=>t?[{id:"blockquote",title:e(gf.a.blockquote),description:e(gf.a.blockquoteDescription),priority:1300,keyshortcut:Ie.tooltip(Ie.toggleBlockQuote),icon:()=>l.a.createElement(sn.u,{label:e(gf.a.blockquote)}),action(e,t){const n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(ct.a)(t,n,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,eventType:lt.d.TRACK,actionSubjectId:lt.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:lt.e.QUICK_INSERT}})}}]:[];var Z_=e=>({name:"blockType",nodes(){const t=[{name:"heading",node:T_.a},{name:"blockquote",node:P_.a},{name:"hardBreak",node:A_.a}];if(e&&e.allowBlockType){const n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((e=>-1===n.indexOf(e.name)))}return t},pmPlugins:()=>[{name:"blockType",plugin:({dispatch:t})=>Object(_w.a)(t,e&&e.lastNodeMustBeParagraph)},{name:"blockTypeInputRule",plugin:({schema:e})=>z_(e)},{name:"blockTypeKeyMap",
plugin:({schema:e})=>function(e){const t={};return Ie.bindKeymapWithCommand(Ie.insertNewLine.common,V.h,t),Ie.bindKeymapWithCommand(Ie.moveUp.common,V.c,t),Ie.bindKeymapWithCommand(Ie.moveDown.common,V.d,t),Ie.bindKeymapWithCommand(Ie.findKeyMapForBrowser(Ie.redo),IO.c,t),Ie.bindKeymapWithCommand(Ie.undo.common,D_,t),Ie.bindKeymapWithCommand(Ie.findKeyMapForBrowser(Ie.redoBarred),V.j(),t),Ie.bindKeymapWithCommand(Ie.backspace.common,tE.a,t),e.nodes[I_.a.nodeName]&&Ie.bindKeymapWithCommand(Ie.findShortcutByKeymap(Ie.toggleBlockQuote),Object(tE.c)(I_.a.name,lt.e.KEYBOARD),t),M_(t)}(e)}],primaryToolbarComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,toolbarSize:r,disabled:i,isToolbarReducedSpacing:s,eventDispatcher:a}){const c=r<an.a.XL,d=t=>Object(tE.e)(t,lt.e.TOOLBAR)(e.state,e.dispatch);return l.a.createElement(p.a,{editorView:e,eventDispatcher:a,plugins:{pluginState:_w.b},render:({pluginState:e})=>l.a.createElement(Y_,{isSmall:c,
isDisabled:i,isReducedSpacing:s,setBlockType:d,pluginState:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o})})},pluginsOptions:{quickInsert:t=>{const n=e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[];return[...J_(t,-1===n.indexOf("blockquote")),...X_(t,-1===n.indexOf("heading"))]}}});const Q_=new c.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function eC(){return new c.Plugin({key:Q_,appendTransaction:(e,t,n)=>{if(!Object(Ye.f)(t.doc)&&Object(Ye.f)(n.doc))return n.tr.setStoredMarks([])}})}var tC=()=>({name:"clearMarksOnEmptyDoc",pmPlugins:()=>[{name:"clearMarksOnChange",plugin:eC}]}),nC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/link.js"),oC=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/analytics.js");function rC(e,t=!1){if(!e.marks.link)return;const n=function(e,t=!1){return Object(qt.a)(e,((e,n,o,r)=>{const{schema:i}=e;if(e.doc.rangeHasMark(o,r,i.marks.link))return null
;const[s]=n,a=Object(Tv.g)(s.url),l=i.mark("link",{href:a}),c=Object(_y.b)([{url:s.url,pos:o-(s.input.length-s.lastIndex),appearance:"inline",compareLinkText:!0,source:lt.e.AUTO_DETECT}])(e.tr.addMark(o-(s.input.length-s.lastIndex),r-(s.input.length-s.lastIndex),l).insertText(" "));return t?c:Object(ct.a)(e,c,Object(oC.a)(lt.e.AUTO_DETECT,a))}))}(new Tv.a,t),o=Object(qt.a)(/(^|[^!])\[(.*?)\]\((\S+)\)$/,((e,n,o,r)=>{const{schema:i}=e,[,s,a,l]=n,c=Object(Tv.g)(l),d=i.mark("link",{href:c}),u=e.tr.replaceWith(o+s.length,r,i.text(a,[d]));return t?u:Object(ct.a)(e,u,Object(oC.a)(lt.e.FORMATTING,c))}));return Object(qt.c)("hyperlink",{rules:[n,o]})}function iC(e=!1){const t={};return Ie.bindKeymapWithCommand(Ie.addLink.common,Object(Gv.k)(lt.e.SHORTCUT),t),Ie.bindKeymapWithCommand(Ie.enter.common,sC(e),t),Ie.bindKeymapWithCommand(Ie.insertNewLine.common,sC(e),t),Ie.bindKeymapWithCommand(Ie.escape.common,((e,t,n)=>!!aO.e.getState(e).activeLinkMark&&(Object(Gv.b)()(e,t),n&&n.focus(),!1)),t),
Object(Xt.b)(t)}const sC=e=>function(t,n){const o=t.selection.$from.nodeBefore;if(!o||!o.isText)return!1;const r=o.text.split(" "),i=r[r.length-1],s=Object(Tv.c)(i);if(s){const o=s.raw,r=t.selection.$from.pos-o.length,i=t.selection.$from.pos;if(t.doc.rangeHasMark(r,i,t.schema.marks.link))return!1;const a=s.url,l=t.schema.mark("link",{href:a}),c=Object(_y.b)([{url:a,pos:r,appearance:"inline",compareLinkText:!0,source:lt.e.AUTO_DETECT}])(t.tr.addMark(r,i,l));n&&n(e?c:Object(ct.a)(t,c,Object(oC.a)(lt.e.AUTO_DETECT,a)))}return!1};const aC=new c.PluginKey("fakeCursorToolbarPlugin"),lC=e=>{const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",Tn.a.widget(e,t,{key:"hyperlink-text-cursor"})},cC=(e,t)=>Tn.a.inline(e,t,{class:"ProseMirror-fake-text-selection"}),dC=e=>{const t=aO.e.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===aO.a.INSERT_LINK_TOOLBAR)return t.activeLinkMark};var uC=new c.Plugin({key:aC,state:{init:()=>Tn.b.empty,apply(e,t,n,o){
const r=dC(n),i=dC(o);if(r&&i){const{from:n,to:o}=i,s=e.mapping.map(r.from),a=e.mapping.map(r.to);if(s===n&&a===o)return t.map(e.mapping,e.doc)}if(i){const{from:t,to:n}=i;return Tn.b.create(e.doc,[t===n?lC(t):cC(t,n)])}return Tn.b.empty}},props:{decorations:e=>aC.getState(e)}});class pC extends a.Component{constructor(...e){super(...e),s()(this,"state",{supportedUrlsMap:new Map}),s()(this,"getProvider",(async()=>this.cardProvider?this.cardProvider:new Promise((e=>{const{providerFactory:t}=this.props;t.subscribe("cardProvider",(async(t,n)=>{n&&(this.cardProvider=await n,e(this.cardProvider))}))})))),s()(this,"resolveUrl",(async e=>{const{supportedUrlsMap:t}=this.state;if(t.has(e))return;let n=!1;try{const t=await this.getProvider();n=await t.findPattern(e)}catch(o){n=!1}t.set(e,n),this.setState({supportedUrlsMap:t})})),s()(this,"componentDidMount",(()=>this.resolveUrl(this.props.url)))}componentWillReceiveProps(e){e.url!==this.props.url&&this.resolveUrl(e.url)}render(){
const{url:e,intl:t,editorView:n,editorState:o,cardOptions:r,platform:i}=this.props,{supportedUrlsMap:s}=this.state;return s.get(e)?l.a.createElement(fO,{key:"link-appearance",url:e,intl:t,editorView:n,editorState:o,allowEmbeds:null==r?void 0:r.allowEmbeds,platform:i}):null}}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hC(Object(n),!0).forEach((function(t){fC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bC(e){
return void 0!==e.pos}pC.displayName="HyperlinkToolbarAppearance";const gC=(e,t)=>(n,o,r,i,s)=>{const a=r||i;switch(n){case"url":return o?Object(Gv.i)(o,bC(e)?e.pos:e.from,bC(e)?void 0:e.to,s)(t.state,t.dispatch):(bC(e)&&e.node&&!o&&Object(Gv.h)(e.pos)(t.state,t.dispatch),Object(Gv.b)()(t.state,t.dispatch));case"text":return a&&o?"INSERT"===e.type?Object(Gv.c)(e.from,e.to,o,void 0,a,void 0)(t.state,t.dispatch):Object(Gv.j)(a,e.pos)(t.state,t.dispatch):Object(Gv.b)()(t.state,t.dispatch);default:return Object(Gv.b)()(t.state,t.dispatch)}},yC=(e,t,n,o)=>{const{formatMessage:r}=t,i=aO.e.getState(e);if(i&&i.activeLinkMark){const{activeLinkMark:s}=i,a={title:"Hyperlink floating controls",nodeType:[e.schema.nodes.text,e.schema.nodes.paragraph,e.schema.nodes.heading,e.schema.nodes.taskItem,e.schema.nodes.decisionItem,e.schema.nodes.caption].filter((e=>!!e)),align:"left",className:s.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(s.type){case"EDIT":{
const{pos:i,node:c}=s,d=c.marks.filter((t=>t.type===e.schema.marks.link)),u=d[0]&&d[0].attrs.href,p=Object(Ry.b)(u),h=r(p?gv.a.openLink:C.b.unableToOpenLink),m=r(C.b.unlink),f=r(C.b.editLink);return mC(mC({},a),{},{height:32,width:250,items:[{type:"custom",render:r=>l.a.createElement(pC,{key:"link-appearance",url:u,intl:t,editorView:r,editorState:e,cardOptions:o,providerFactory:n})},{type:"button",onClick:Object(Gv.a)(),selected:!1,title:f,showTitle:!0},{type:"separator"},{type:"button",disabled:!p,target:"_blank",href:p?u:void 0,onClick:()=>!0,selected:!1,title:h,icon:bv.a,className:"hyperlink-open-link"},{type:"separator"},{type:"button",onClick:Object(Gv.h)(i),selected:!1,title:m,icon:mv.a}]})}case"EDIT_INSERTED":case"INSERT":{let t;if(bC(s)&&s.node){const n=s.node.marks.filter((t=>t.type===e.schema.marks.link));t=n[0]&&n[0].attrs.href}const r=bC(s)?function(e,t){if(!e.node)return;const n=Object(Tv.g)(e.node.text),o=e.node.marks.find((e=>e.type===t.schema.marks.link))
;return n!==(o&&o.attrs.href)?e.node.text:void 0}(s,e):i.activeText;return mC(mC({},a),{},{height:360,width:420,items:[{type:"custom",render:(e,i)=>e?l.a.createElement(lO,{view:e,key:i,displayUrl:t,displayText:r||"",providerFactory:n,onSubmit:(t,n="",r,i)=>{bC(s)?Object(Gv.l)(t,r||n,s.pos)(e.state,e.dispatch):Object(Gv.d)(i,s.from,s.to,t,n,r,!(!o||!o.provider))(e.state,e.dispatch),e.focus()},onBlur:gC(s,e)}):null}]})}}}};var vC=e=>({name:"hyperlink",marks:()=>[{name:"link",mark:nC.a}],pmPlugins(){const t=!!e&&!!e.provider;return[{name:"hyperlink",plugin:({dispatch:e})=>Object(aO.d)(e)},{name:"fakeCursorToolbarPlugin",plugin:()=>uC},{name:"hyperlinkInputRule",plugin:({schema:e})=>rC(e,t)},{name:"hyperlinkKeymap",plugin:()=>iC(t)}]},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"hyperlink",title:e(jn.a.link),description:e(jn.a.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:Object(Ie.tooltip)(Ie.addLink),icon:()=>l.a.createElement(sn.l,{label:e(jn.a.link)
}),action(e,t){const n=t.selection.from,{nodeBefore:o}=t.selection.$from;if(!o)return!1;const r=t.tr.setMeta(aO.e,{type:aO.b.SHOW_INSERT_TOOLBAR}).delete(n-o.nodeSize,n);return Object(ct.a)(t,r,{action:lt.a.INVOKED,actionSubject:lt.b.TYPEAHEAD,actionSubjectId:lt.c.TYPEAHEAD_LINK,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.UI})}}],floatingToolbar:(t,n,o)=>yC(t,n,o,e)}}),OC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/em.js"),jC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/strong.js"),wC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/strike.js"),kC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/code.js"),EC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/subsup.js"),SC=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/underline.js"),_C=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/utils.js");const CC=new c.PluginKey("clearFormattingPlugin")
;var xC=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/clear-formatting.js");var TC=function(){const e={};return Ie.bindKeymapWithCommand(Ie.clearFormatting.common,Object(xC.c)(lt.e.SHORTCUT),e),Object(Xt.b)(e)},PC=new c.Plugin({props:{handleClick(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;const{code:o}=e.state.schema.marks,{paragraph:r}=e.state.schema.nodes,i=e.state.doc.resolve(t),s=(i.nodeBefore?i.nodeBefore.isInline:i.nodeAfter)&&(i.nodeAfter?i.nodeAfter.isInline:i.nodeBefore)&&0===i.textOffset,a=o&&(i.nodeBefore&&o.isInSet(i.nodeBefore.marks)||i.nodeAfter&&o.isInSet(i.nodeAfter.marks)),l=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),d=e.state.doc.nodeAt(t),u=!(!d||!d.isText),p=i.parent.type===r&&0===i.textOffset&&null===i.nodeAfter;if(s&&a&&l&&(u||p)){
const t=n.target.parentNode===e.domAtPos(l).node&&o.isInSet(e.state.doc.resolve(l).nodeAfter.marks),r=i.nodeBefore&&o.isInSet(i.nodeBefore.marks)?i.nodeAfter:i.nodeBefore,s=e.state.tr.setSelection(c.TextSelection.near(i));return t?s.setStoredMarks([o.create()]):s.setStoredMarks(r?r.marks:[]),e.dispatch(s),!0}return!1}}});const AC={"**":["_","~~"],"*":["__","~~"],__:["*","~~"],_:["**","~~"],"~~":["__","_","**","*"]},IC=(e,t)=>{for(let n=0;n<AC[e].length;n++){const o=AC[e][n];if(o===t)return!0;const r=t.length-o.length;if(t.substr(r,t.length)===o)return IC(o,t.substr(0,r))}return!1};function MC(e,t,n,o){return(r,i,s,a)=>{const[,l,c]=i,d=a,u=c?s+l.length:s,p=r.doc.resolve(s+l.length).nodeBefore;if(l&&l.length>0&&!IC(o,l)&&(!p||p.type!==r.schema.nodes.hardBreak))return null;if(r.schema.marks.code&&r.schema.marks.code.isInSet(r.doc.resolve(u+1).marks()))return null;let h;if(r.doc.nodesBetween(u,d,(e=>e.type===t.nodes.hardBreak?(h=!0,!1):!h)),h)return null
;if(r.doc.resolve(u).sameParent(r.doc.resolve(d))&&!r.doc.resolve(u).parent.type.allowsMarkType(e))return null;let m=r.tr.addMark(u,d,e.create());return n>1&&(m=m.delete(d-(n-1),d)),m.delete(u,u+n).removeStoredMark(e)}}const DC=/(\S*)(\_\_([^\_\s](\_(?!\_)|[^\_])*[^\_\s]|[^\_\s])\_\_)$/,NC=/(\S*)(\*\*([^\*\s](\*(?!\*)|[^\*])*[^\*\s]|[^\*\s])\*\*)$/,RC=/(\S*)(\_([^\_\s]([^\_])*[^\_\s]|[^\_\s])\_)$/,LC=/(\S*)(\*([^\*\s]([^\*])*[^\*\s]|[^\*\s])\*)$/,BC=/(\S*)(\~\~([^\s\~](\~(?!\~)|[^\~])*[^\s\~]|[^\s\~])\~\~)$/,FC=/(\S*)(`[^\s][^`]*`)$/;function zC(e){return[Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_CODE,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}})))(Object(qt.a)(FC,function(e,t){return(n,o,r,i)=>{if(o[1]&&o[1].length>0&&[e=>"("===e,e=>{const t=n.doc.resolve(r+e.length).nodeBefore;return t&&t.type===n.schema.nodes.hardBreak||!1}].every((e=>!e(o[1]))))return null
;if(n.doc.resolve(r).sameParent(n.doc.resolve(i))&&!n.doc.resolve(r).parent.type.allowsMarkType(e))return null;let s=n.tr;n.selection.from!==n.selection.to&&(s.delete(n.selection.from,n.selection.to),i-=n.selection.to-n.selection.from);const a=i-o[2].length+1,l=n.schema.marks.code.create();return Object(Xe.a)(a,i,!1,l,s).setStoredMarks([l]).delete(a,a+t.length).removeStoredMark(e)}}(e.marks.code,"`")))]}var UC=function(e){const t=[];if(e.marks.strong&&t.push(...function(e){const t=Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_STRONG,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}}))),n=Object(qt.a)(DC,MC(e.marks.strong,e,2,"__")),o=Object(qt.a)(NC,MC(e.marks.strong,e,2,"**"));return[t(n),t(o)]}(e)),e.marks.em&&t.push(...function(e){const t=Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_ITALIC,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}
}))),n=Object(qt.a)(RC,MC(e.marks.em,e,1,"_")),o=Object(qt.a)(LC,MC(e.marks.em,e,1,"*"));return[t(n),t(o)]}(e)),e.marks.strike&&t.push(...function(e){return[Object(ct.c)((()=>({action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_STRIKE,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.FORMATTING}})))(Object(qt.a)(BC,MC(e.marks.strike,e,2,"~~")))]}(e)),e.marks.code&&t.push(...zC(e)),0!==t.length)return Object(qt.c)("text-formatting",{rules:t})},HC=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/text-formatting.js");var $C=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/substitute-events.js");function WC(e,t){return Object(qt.a)(t,function(e){return(t,n,o,r)=>{const[,i,,s]=n,a=(i||"")+e+(s||"");let{tr:l,selection:{$to:d}}=t;return l.replaceWith(o,r,t.schema.text(a,d.marks())),l.setSelection(c.Selection.near(l.doc.resolve(l.selection.to))),l}}(e))}function VC(e,t){return Object.keys(e).map((n=>{
const o=WC(n,e[n]);return t?t(n)(o):o}))}var KC=Object(qt.c)("text-formatting:smart-input",{rules:[...function(){return VC({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(e=>Object(ct.c)(((t,n)=>({action:lt.a.SUBSTITUTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.PRODUCT_NAME,eventType:lt.d.TRACK,attributes:{product:e,originalSpelling:n[2]}})))))}(),...function(){const e={"\u2192":$C.b.ARROW_RIGHT,"\u2190":$C.b.ARROW_LEFT,"\u2194\ufe0e":$C.b.ARROW_DOUBLE};return VC({"\u2192":/(\s+|^)(--?>)(\s)$/,"\u2190":/(\s+|^)(<--?)(\s)$/,"\u2194\ufe0e":/(\s+|^)(<->?)(\s)$/},(t=>Object(ct.c)((()=>({action:lt.a.SUBSTITUTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.SYMBOL,eventType:lt.d.TRACK,attributes:{symbol:e[t]}})))))}(),...function(){const e={"\u2013":$C.a.DASH,"\u2026":$C.a.ELLIPSIS,"\u201c":$C.a.QUOTE_DOUBLE,"\u201d":$C.a.QUOTE_DOUBLE,
[$C.a.QUOTE_SINGLE]:$C.a.QUOTE_SINGLE},t=t=>Object(ct.c)((()=>({action:lt.a.SUBSTITUTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.PUNC,eventType:lt.d.TRACK,attributes:{punctuation:e[t]}})));return[...VC({"\u2013":/(\s+|^)(--)(\s)$/,"\u2026":/()(\.\.\.)$/},t),...VC({"\u201c":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"\u201d":/"$/},t),...function(){return[Object(qt.a)(/(\s+|^)'(\S+.*\S+)'$/,((e,t,n,o)=>{const[,r,i]=t,s=r+"\u2018"+i+"\u2019";return e.tr.insertText(s,n,o)})),WC("\u2019",/(\w+)(')(\w+)$/)]}().map((e=>t($C.a.QUOTE_SINGLE)(e)))]}()]}),qC=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/ui/ToolbarAdvancedTextFormatting/toolbar-messages.js"),GC=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/ui/ToolbarTextFormatting/toolbar-messages.js");class YC extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isOpen:!1}),s()(this,"onOpenChange",(e=>{this.setState({isOpen:e.isOpen})})),
s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isOpen:!this.state.isOpen})})),s()(this,"createItems",(()=>{const{textFormattingState:e,clearFormattingState:t,editorView:n,intl:{formatMessage:o}}=this.props,{code:r,underline:i,subsup:s,strike:a}=n.state.schema.marks;let l=[];if(e){const{underlineHidden:t,codeHidden:c,strikeHidden:d,subscriptHidden:u,superscriptHidden:p}=e;h.b.getState(n.state).width<Le.x&&(this.addRecordToItems(l,o(GC.a.bold),"strong",Object(Ie.tooltip)(Ie.toggleBold)),this.addRecordToItems(l,o(GC.a.italic),"em",Object(Ie.tooltip)(Ie.toggleItalic))),!t&&i&&this.addRecordToItems(l,o(qC.a.underline),"underline",Object(Ie.tooltip)(Ie.toggleUnderline)),!d&&a&&this.addRecordToItems(l,o(qC.a.strike),"strike",Object(Ie.tooltip)(Ie.toggleStrikethrough)),!c&&r&&this.addRecordToItems(l,o(qC.a.code),"code",Object(Ie.tooltip)(Ie.toggleCode)),!u&&s&&this.addRecordToItems(l,o(qC.a.subscript),"subscript"),!p&&s&&this.addRecordToItems(l,o(qC.a.superscript),"superscript")}
return t&&this.addRecordToItems(l,o(qC.a.clearFormatting),"clearFormatting",Object(Ie.tooltip)(Ie.clearFormatting),!t.formattingIsPresent),[{items:l}]})),s()(this,"addRecordToItems",((e,t,n,o,r)=>{let i=!1,s=!1;this.props.textFormattingState&&(i=this.props.textFormattingState[`${n}Active`]||!1,s=r||this.props.textFormattingState[`${n}Disabled`]||!1),e.push({key:n,content:t,elemAfter:o?l.a.createElement(We.h,null,o):void 0,value:{name:n},isActive:i,isDisabled:s})})),s()(this,"onItemActivated",(({item:e})=>{const{state:t,dispatch:n}=this.props.editorView;switch(e.value.name){case"underline":HC.q({inputMethod:lt.e.TOOLBAR})(t,n);break;case"code":HC.e({inputMethod:lt.e.TOOLBAR})(t,n);break;case"strike":HC.i({inputMethod:lt.e.TOOLBAR})(t,n);break;case"subscript":HC.m({inputMethod:lt.e.TOOLBAR})(t,n);break;case"superscript":HC.o({inputMethod:lt.e.TOOLBAR})(t,n);break;case"strong":HC.k({inputMethod:lt.e.TOOLBAR})(t,n);break;case"em":HC.g({inputMethod:lt.e.TOOLBAR})(t,n);break
;case"clearFormatting":Object(xC.c)(lt.e.TOOLBAR)(t,n)}this.setState({isOpen:!1})}))}render(){const{isOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,isReducedSpacing:r,textFormattingState:i={},clearFormattingState:s={},intl:{formatMessage:a}}=this.props,{codeActive:c,underlineActive:d,strikeActive:u,subscriptActive:p,superscriptActive:h,codeDisabled:m,underlineDisabled:f,strikeDisabled:b,subscriptDisabled:g,superscriptDisabled:y}=i,{formattingIsPresent:v}=s,O=this.createItems(),j=a(qC.a.moreFormatting),k=t=>l.a.createElement(w.a,{spacing:r?"none":"default",selected:e||d||c||u||p||h,disabled:t,onClick:this.handleTriggerClick,title:j,iconBefore:l.a.createElement(We.i,null,l.a.createElement(nk.a,{label:j}))});return this.props.isDisabled||b&&!v&&m&&g&&y&&f||!(O[0].items.length>0)?l.a.createElement(We.j,null,l.a.createElement("div",null,k(!0)),l.a.createElement(We.g,null)):l.a.createElement(We.j,null,l.a.createElement($e,{items:O,
onItemActivated:this.onItemActivated,onOpenChange:this.onOpenChange,mountTo:t,boundariesElement:n,scrollableElement:o,isOpen:e,zIndex:Le.v,fitHeight:188,fitWidth:136},k(!1)),l.a.createElement(We.g,null))}}YC.displayName="ToolbarAdvancedTextFormatting";var XC=Object(f.i)(YC),JC=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/bold.js"),ZC=o.n(JC),QC=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/italic.js"),ex=o.n(QC);class tx extends a.PureComponent{constructor(...e){super(...e),s()(this,"handleBoldClick",(()=>{const{strongDisabled:e}=this.props.textFormattingState;if(!e){const{state:e,dispatch:t}=this.props.editorView;return Object(HC.k)({inputMethod:lt.e.TOOLBAR})(e,t)}return!1})),s()(this,"handleItalicClick",(()=>{const{emDisabled:e}=this.props.textFormattingState;if(!e){const{state:e,dispatch:t}=this.props.editorView;return Object(HC.g)({inputMethod:lt.e.TOOLBAR})(e,t)}return!1}))}render(){
const{disabled:e,isReducedSpacing:t,textFormattingState:n,intl:{formatMessage:o}}=this.props,{strongHidden:r,strongActive:i,strongDisabled:s,emHidden:a,emActive:c,emDisabled:d}=n,u=o(GC.a.bold),p=o(GC.a.italic);return l.a.createElement(We.b,{width:t?"small":"large"},r?null:l.a.createElement(w.a,{spacing:t?"none":"default",onClick:this.handleBoldClick,selected:i,disabled:e||s,title:l.a.createElement(Ie.ToolTipContent,{description:u,keymap:Ie.toggleBold}),iconBefore:l.a.createElement(ZC.a,{label:u})}),a?null:l.a.createElement(w.a,{spacing:t?"none":"default",onClick:this.handleItalicClick,selected:c,disabled:e||d,title:l.a.createElement(Ie.ToolTipContent,{description:p,keymap:Ie.toggleItalic}),iconBefore:l.a.createElement(ex.a,{label:p})}))}}tx.displayName="ToolbarTextFormatting";var nx=Object(f.i)(tx);var ox=(e={})=>({name:"textFormatting",marks:()=>[{name:"em",mark:OC.a},{name:"strong",mark:jC.a},{name:"strike",mark:wC.a}].concat(e.disableCode?[]:{name:"code",mark:kC.a
}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:EC.a}).concat(e.disableUnderline?[]:{name:"underline",mark:SC.a}),pmPlugins:()=>[{name:"textFormatting",plugin:({dispatch:e})=>Object(WS.a)(e)},{name:"textFormattingCursor",plugin:()=>PC},{name:"textFormattingInputRule",plugin:({schema:e})=>UC(e)},{name:"textFormattingSmartRule",plugin:()=>e.disableSmartTextCompletion?void 0:KC},{name:"textFormattingClear",plugin:({dispatch:e})=>(e=>new c.Plugin({state:{init:(e,t)=>({formattingIsPresent:Object(_C.b)(t)}),apply(t,n,o,r){const i=Object(_C.b)(r);return i!==n.formattingIsPresent?(e(CC,{formattingIsPresent:i}),{formattingIsPresent:i}):n}},key:CC}))(e)},{name:"textFormattingClearKeymap",plugin:()=>TC()},{name:"textFormattingKeymap",plugin:({schema:e})=>function(e){const t={};return e.marks.strong&&Ie.bindKeymapWithCommand(Ie.toggleBold.common,HC.k({inputMethod:lt.e.SHORTCUT}),t),e.marks.em&&Ie.bindKeymapWithCommand(Ie.toggleItalic.common,HC.g({inputMethod:lt.e.SHORTCUT}),t),
e.marks.code&&Ie.bindKeymapWithCommand(Ie.toggleCode.common,HC.e({inputMethod:lt.e.SHORTCUT}),t),e.marks.strike&&Ie.bindKeymapWithCommand(Ie.toggleStrikethrough.common,HC.i({inputMethod:lt.e.SHORTCUT}),t),e.marks.underline&&Ie.bindKeymapWithCommand(Ie.toggleUnderline.common,HC.q({inputMethod:lt.e.SHORTCUT}),t),M_(t)}(e)}],primaryToolbarComponent:({editorView:e,popupsMountPoint:t,popupsScrollableElement:n,isToolbarReducedSpacing:o,disabled:r})=>l.a.createElement(p.a,{plugins:{textFormattingState:WS.b,clearFormattingState:CC,widthState:h.b},render:({textFormattingState:i,clearFormattingState:s,widthState:a})=>l.a.createElement(We.b,{width:o?"small":"large"},a.width>Le.x&&l.a.createElement(nx,{disabled:r,editorView:e,textFormattingState:i,isReducedSpacing:o}),l.a.createElement(XC,{editorView:e,isDisabled:r,isReducedSpacing:o,textFormattingState:i,clearFormattingState:s,popupsMountPoint:t,popupsScrollableElement:n}))})
}),rx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/unsupported-mark.js"),ix=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/unsupported-node-attributes.js"),sx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/confluence-unsupported-block.js"),ax=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/confluence-unsupported-inline.js"),lx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/unsupported-block.js"),cx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/unsupported-inline.js");const dx=new c.PluginKey("unsupportedContentPlugin"),ux=({portalProviderAPI:e,eventDispatcher:t,dispatchAnalyticsEvent:n})=>new c.Plugin({key:dx,props:{nodeViews:{confluenceUnsupportedBlock:Fr.a.fromComponent(zy.a,e,t,{dispatchAnalyticsEvent:n}),confluenceUnsupportedInline:Fr.a.fromComponent(lv.a,e,t,{dispatchAnalyticsEvent:n}),unsupportedBlock:Fr.a.fromComponent(zy.a,e,t,{dispatchAnalyticsEvent:n}),
unsupportedInline:Fr.a.fromComponent(lv.a,e,t,{dispatchAnalyticsEvent:n})}}});var px=()=>({name:"unsupportedContent",marks:()=>[{name:"unsupportedMark",mark:rx.a},{name:"unsupportedNodeAttribute",mark:ix.a}],nodes:()=>[{name:"confluenceUnsupportedBlock",node:sx.a},{name:"confluenceUnsupportedInline",node:ax.a},{name:"unsupportedBlock",node:lx.a},{name:"unsupportedInline",node:cx.a}],pmPlugins:()=>[{name:"unsupportedContent",plugin:ux}]}),hx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/doc.js"),mx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/paragraph.js"),fx=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/text.js");const bx=new c.PluginKey("focusStatePlugin");const gx=new c.PluginKey("fixChromeSelectionPlugin");var yx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/context-identifier.js")
;const vx=new c.PluginKey("newlinePreserveMarksPlugin"),Ox=e=>!!e.selection.$to.parent.marks.find((t=>t.type===e.schema.marks.alignment)),jx=e=>!nE.a.getState(e).active,wx=(e,t)=>(t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0);var kx=()=>new c.Plugin({key:vx,props:{handleKeyDown:Object(Xt.a)({Enter:Object(Xe.b)([Ye.j,Ox,jx],wx)})}});const Ex=new c.PluginKey("inlineCursorTargetPlugin"),Sx=["mention","emoji"],_x=e=>e&&-1!==Sx.indexOf(e.type.name);var Cx=()=>new c.Plugin({key:Ex,state:{init:()=>({positions:[]}),apply(e){const{selection:t}=e,{$from:n}=t,o=[],r=((e,t)=>{if(_x(e.nodeAfter))return e.pos+1;const{parentOffset:n,parent:o}=e,r=t.doc.nodeSize-2;if(n===o.content.size&&e.pos+1<r-2){const{nodeAfter:n}=t.doc.resolve(e.pos+1);if(n&&_x(n.firstChild))return e.pos+2}})(n,e),i=((e,t)=>{if(_x(e.nodeBefore))return e.pos-1;if(0===e.pos)return;const{parentOffset:n}=e;if(0===n){const{nodeBefore:n}=t.doc.resolve(e.pos-1);if(n&&_x(n.firstChild))return e.pos-2}})(n,e)
;return void 0!==r&&o.push(r),void 0!==i&&o.push(i),{positions:o}}},props:{decorations(e){const{doc:t}=e,{positions:n}=Ex.getState(e);if(n&&n.length){const e=n.map((e=>{const t=document.createElement("span");return t.appendChild(document.createTextNode(Rr.a)),Tn.a.widget(e,t,{raw:!0,side:-1,key:"inlineCursor"})}));return Tn.b.create(t,e)}return null}}}),xx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/react-nodeview.js");const Tx=120;function Px(e,t){if(function(){return"undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}()){return new IntersectionObserver(((e,n)=>{e.forEach((e=>{t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}}function Ax(e,t,n){const o=e.offsetHeight,r=e.getBoundingClientRect().top,i=function(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0);if(t){const e=t.getClientRects()
;if(e&&e.length>0)return e[0].top;const n=t.startContainer;if(n&&n.getBoundingClientRect)return n.getBoundingClientRect().top}}}();if(!i)return!1;return!(i-r<o-n-80)&&(t.scrollIntoView(!1),!0)}var Ix=(e={})=>{const{getScrollElement:t,allowCustomScrollHandler:n,gutterSize:o=Tx}=e;if(!t)return;const r=function(e){const t=document.createElement("div");t.style.paddingBottom=`${e}px`,t.id="#editor-scroll-gutter".substr(1);let n,o=!1,r=!1,i=null,s=!1;return{addGutter(e){e&&(i=e,e.appendChild(t),r=!0,n&&n.observe(t))},removeGutter(){i&&r&&(r=!1,i.removeChild(t),n&&n.unobserve(t))},element:()=>t,isMounted:()=>r,visible:()=>n?s:r,observe(e){o||(o=!0,n=Px(e,(e=>s=e)))},destroy(){n&&n.disconnect(),n=void 0,this.removeGutter(),o=r=!1}}}(o);let i=null;return new c.Plugin({props:{scrollThreshold:o/2,scrollMargin:o,handleScrollToSelection:()=>!1!==n&&(!!(r.isMounted()&&r.visible()&&i)&&Ax(i,r.element(),o))},view(n){i=t(n);let s=n.dom,a=s.parentElement;return{destroy(){r.destroy(),i=a=s=null},
update(t,n){if(!i||!a)return;const s=t.state;if(n.selection===s.selection)return;const l=r.isMounted(),c=()=>{l||(r.observe(i),r.addGutter(a))};if(e.persistScrollGutter)return void c();const d=i.offsetHeight;a.offsetHeight-(l?o:0)>=d-o?c():l&&r.removeGutter()}}}})},Mx=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/is-performance-api-available.js"),Dx=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/analytics.js"),Nx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/general-events.js"),Rx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/get-participants-count.js"),Lx=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/count-nodes.js");const Bx=e=>e,Fx=(e,t,n,o,r,i)=>{var s;const{state:a}=t;return e({action:lt.a.BROWSER_FREEZE,actionSubject:lt.b.EDITOR,attributes:{objectId:null===(s=Object(yx.b)(a))||void 0===s?void 0:s.objectId,freezeTime:n,nodeSize:a.doc.nodeSize,
nodeCount:o?Object(Lx.a)(t.state):void 0,participants:Object(Rx.a)(t.state),interactionType:r,severity:i},eventType:lt.d.OPERATIONAL})};function zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zx(Object(n),!0).forEach((function(t){Hx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $x=Ll.a.chrome&&Ll.a.chrome_version>=88;var Wx=t=>({name:"base",pmPlugins(){const n=[{name:"filterStepsPlugin",
plugin:({dispatchAnalyticsEvent:e})=>(e=>new c.Plugin({filterTransaction:t=>!(e=>(e.steps||[]).some((e=>e.from>e.to)))(t)||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:lt.a.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:lt.b.EDITOR,attributes:{analyticsEventPayloads:Object(ct.b)(t)},eventType:lt.d.OPERATIONAL}),!1)}))(e)},{name:"inlineCursorTargetPlugin",plugin:()=>t&&t.allowInlineCursorTarget?Cx():void 0},{name:"focusHandlerPlugin",plugin:({dispatch:e})=>(e=>new c.Plugin({key:bx,state:{init:()=>!0,apply:(t,n)=>{const o=t.getMeta(bx);return"boolean"==typeof o&&o!==n?(e(bx,o),o):n}},props:{handleDOMEvents:{click:e=>(bx.getState(e.state)||e.dispatch(e.state.tr.setMeta(bx,e.hasFocus())),!1),focus:e=>(bx.getState(e.state)||e.dispatch(e.state.tr.setMeta(bx,!0)),!1),blur:e=>(bx.getState(e.state)&&e.dispatch(e.state.tr.setMeta(bx,!1)),!1)}}}))(e)},{name:"newlinePreserveMarksPlugin",plugin:kx},{name:"reactNodeView",plugin:()=>xx.a},{
name:"frozenEditor",plugin:({dispatchAnalyticsEvent:n,providerFactory:o})=>t&&t.inputTracking&&t.inputTracking.enabled?((t,n,o)=>{let r,i=0;(null==o?void 0:o.trackInteractionType)&&(r=Bx(Nx.a.LOADING));const s=n&&"number"==typeof n.samplingRate?n.samplingRate:100,a=n&&"number"==typeof n.slowThreshold?n.slowThreshold:300,l=n&&"number"==typeof n.freezeThreshold?n.freezeThreshold:600,d=n&&n.countNodes,u=(null==n?void 0:n.trackSeverity)||!1,p=(null==n?void 0:n.severityNormalThreshold)||100,h=(null==n?void 0:n.severityDegradedThreshold)||500;return new c.Plugin({props:Object(Mx.a)()?{handleTextInput(e){const{state:n}=e,l=performance.now();return(null==o?void 0:o.trackInteractionType)&&(r=Nx.a.TYPING),requestAnimationFrame((()=>{const o=performance.now()-l;if(s&&++i===s){var r;i=0;const s={action:lt.a.INPUT_PERF_SAMPLING,actionSubject:lt.b.EDITOR,attributes:{time:o,nodeSize:n.doc.nodeSize,nodeCount:d?Object(Lx.a)(e.state):void 0,participants:Object(Rx.a)(n),
objectId:null===(r=Object(yx.b)(n))||void 0===r?void 0:r.objectId},eventType:lt.d.OPERATIONAL};u&&(s.attributes.severity=Object(Dx.g)(o,p,h)),t(s)}var c;o>a&&t({action:lt.a.SLOW_INPUT,actionSubject:lt.b.EDITOR,attributes:{time:o,nodeSize:n.doc.nodeSize,nodeCount:d?Object(Lx.a)(e.state):void 0,participants:Object(Rx.a)(n),objectId:null===(c=Object(yx.b)(n))||void 0===c?void 0:c.objectId},eventType:lt.d.OPERATIONAL})})),!1},handleDOMEvents:(null==o?void 0:o.trackInteractionType)?{click:()=>(r=Bx(Nx.a.CLICKING),!1),paste:()=>(r=Bx(Nx.a.PASTING),!1)}:void 0}:void 0,view(n){if(!Object(Mx.b)())return{};try{new PerformanceObserver((e=>{const i=e.getEntries();for(let s=0;s<i.length;s++){const{duration:e}=i[s];e>l&&Fx(t,n,e,d,(null==o?void 0:o.trackInteractionType)?r:void 0,(null==o?void 0:o.trackSeverity)?Object(Dx.g)(e,o.severityNormalThreshold,o.severityDegradedThreshold):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:()=>{}}}})
})(n,t.inputTracking,t.bFreezeTracking):void 0},{name:"decorationPlugin",plugin:()=>Object(Xo.a)()},{name:"history",plugin:()=>Object(IO.b)()},{name:"codeBlockIndent",plugin:()=>M_(Ux(Ux({},qe.b),{},{"Mod-[":()=>!0,"Mod-]":()=>!0}))},{name:"contextIdentifier",plugin:({dispatch:e,providerFactory:t})=>Object(yx.a)(e,t)}];return t&&t.allowScrollGutter&&n.push({name:"scrollGutterPlugin",plugin:()=>Ix(t.allowScrollGutter)}),$x&&n.push({name:"fixChrome88SelectionPlugin",plugin:()=>(()=>new c.Plugin({key:gx,props:{handleDOMEvents:{focus:e=>(function(e){return"div"===e.tagName.toLowerCase()}(e.dom)&&(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1)}}}))()}),n},nodes:()=>[{name:"doc",node:hx.a},{name:"paragraph",node:mx.a},{name:"text",node:fx.a}]}),Vx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/index.js");const Kx=e=>({payload:{action:lt.a.STOPPED,actionSubject:lt.b.EDITOR,actionSubjectId:lt.c.SAVE,attributes:{
inputMethod:lt.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:lt.d.UI}});var qx=e=>({name:"submitEditor",pmPlugins:()=>[{name:"submitEditor",plugin:({dispatch:t})=>function(e,t){if(t)return Object(Xt.b)({[`${Ie.submit.common}`]:(n,o,r)=>{const i=Cw.a.getState(n);return i&&i.waitForMediaUpload&&!i.allUploadsFinished||(e(Rh.a,Kx(n)),t(r)),!0}})}(t,e)}]});const Gx=new c.PluginKey("fakeTextCursorPlugin");var Yx=()=>({name:"fakeTextCursor",pmPlugins:()=>[{name:"fakeTextCursor",plugin:()=>(()=>new c.Plugin({key:Gx,props:{decorations:yg.b}}))()}]}),Xx=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/index.js");const Jx=l.a.createContext([]);Jx.Provider;class Zx{constructor(){this.plugins=[]}add(e){return this.plugins.push(e),this}has(e){return this.plugins.some((t=>Array.isArray(t)?t[0]===e:t===e))}getEditorPlugins(e){const t=this.processEditorPlugins();return this.removeExcludedPlugins(t,e)}processEditorPlugins(){const e=new Map;this.plugins.forEach((t=>{
if(Array.isArray(t)){const[n,o]=t;e.set(n,o)}else{if(e.has(t)&&void 0===e.get(t))throw new Error(`${t} is already included!`);e.set(t,void 0)}}));let t=[];return e.forEach(((e,n)=>{t.push(n(e))})),t}removeExcludedPlugins(e,t){return t?e.filter((e=>!e||!t.has(e.name))):e}}const Qx=new c.PluginKey("clipboardPlugin"),eT=(e,t,n)=>{const o=tT(e.state,n);return o&&t(o),!1},tT=(e,t)=>{const{selection:n,doc:o}=e,r=Nn(n)||Fn(n,o)||Rn(n)||Ln(e);if(r){const{actionSubjectId:e}=r;let n=[];switch(e){case lt.c.NODE:n.push(r.attributes.node);break;case lt.c.RANGE:n.push(...r.attributes.nodes);break;case lt.c.ALL:n.push("all");break;case lt.c.CELL:{const{selectedCells:e}=r.attributes;n.push(...Array(e).fill("tableCell"));break}}return{eventType:lt.d.TRACK,action:t,actionSubject:lt.b.DOCUMENT,attributes:{content:n}}}if(n instanceof c.TextSelection&&n.$cursor)return{eventType:lt.d.TRACK,action:t,actionSubject:lt.b.DOCUMENT,attributes:{content:["caret"]}}};var nT=()=>({name:"clipboard",pmPlugins:()=>[{
name:"clipboard",plugin:e=>(({dispatchAnalyticsEvent:e})=>new c.Plugin({key:Qx,props:{handleDOMEvents:{cut:t=>eT(t,e,lt.a.CUT),copy:t=>eT(t,e,lt.a.COPIED)}}}))(e)}]});const oT=new c.PluginKey("placeholderPlugin");function rT(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}const iT={hasPlaceholder:!1};function sT(e,t,n,o){const r=bx.getState(e);if(n&&Object(Ye.f)(e.doc))return rT(n);const i=t();if(i&&Object(Ye.h)(e)&&r){const{$from:t}=e.selection;return rT(i,t.pos)}if(o&&Object(Ye.a)(e)&&r){const{$from:t}=e.selection;return rT("  "+o,t.pos-1)}return iT}function aT(e,t,n){if(!e&&!t&&!n)return;const o=function(e){let t=0;return()=>{if(!e||0===e.length)return;const{length:n}=e,o=e[t++];return t%=n,o}}(t);return new c.Plugin({key:oT,state:{init:(t,r)=>sT(r,o,e,n),apply:(t,r,i,s)=>{const a=t.getMeta(oT);if(a){if(a.removePlaceholder)return iT;if(a.applyPlaceholderIfEmpty)return sT(s,o,e,n)}return sT(s,o,e,n)}},props:{decorations(e){
const{hasPlaceholder:t,placeholderText:n,pos:o}=function(e){return oT.getState(e)}(e);if(t&&n&&void 0!==o)return function(e,t,n=1){const o=document.createElement("span");let r="placeholder-decoration";const i=Z.getState(e);i&&"end"===i.align?r+=" align-end":i&&"center"===i.align&&(r+=" align-center"),o.className=r;const s=document.createElement("span");return s.textContent=t,o.appendChild(s),Tn.b.create(e.doc,[Tn.a.widget(n,o,{side:-1,key:"placeholder"})])}(e,n,o)}}})}var lT=e=>({name:"placeholder",pmPlugins:()=>[{name:"placeholder",plugin:()=>aT(e&&e.placeholder,e&&e.placeholderHints,e&&e.placeholderBracketHint)}]}),cT=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/index.js");const dT=e=>({decorationSet:Dn(e.tr),selection:e.selection}),uT=(e,t,n={})=>new c.Plugin({key:fo.d,state:_o(e,dT),view:()=>({update:e=>{const{state:n,dispatch:o}=e;if(!function(e,t){const{selection:n,decorationSet:o}=e,{selection:r}=t;if(n.eq(r)){
if(n instanceof c.NodeSelection&&r instanceof c.NodeSelection){const e=o.find(),n=Dn(t.tr).find();return e.length>0&&n.length>0?!e[0].eq(n[0]):!(0===e.length&&0===n.length)}return!1}return!(n instanceof c.TextSelection&&r instanceof c.TextSelection&&n.from===n.to&&r.from===r.to)}(So(n),n))return;const r=Nn(n.selection)||Rn(n.selection)||!e.mouseDown&&(Fn(n.selection,n.doc)||Ln(n));r&&t(r),(()=>Eo((e=>({type:bo.SET_DECORATIONS,selection:e.tr.selection,decorationSet:Dn(e.tr)}))))()(n,o)}}),filterTransaction:(e,t)=>!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof c.NodeSelection&&!e.getMeta(fo.d))&&!(t.selection instanceof c.NodeSelection&&e.selection instanceof c.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to),props:{decorations:e=>So(e).decorationSet,handleDOMEvents:{mouseup:(e,n)=>{if(!n.shiftKey){const n=Fn(e.state.selection,e.state.doc)||Ln(e.state);n&&t(n)}return!1},keydown:(e,t)=>{if(Ll.a.gecko){
const t=e.nodeDOM(e.state.selection.head);t instanceof HTMLElement&&"false"===t.getAttribute("contenteditable")&&(t.removeAttribute("contenteditable"),requestAnimationFrame((()=>{t.setAttribute("contenteditable","false")})))}return!1}}}});var pT=function(){const e={};return Object(Ie.bindKeymapWithCommand)(Ie.moveRight.common,xo,e),Object(Ie.bindKeymapWithCommand)(Ie.moveLeft.common,To,e),Object(Xt.b)(e)},hT=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils.js");const mT={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},fT=(e,t)=>{const[n,...o]=t,r=[e.getPropertyValue(n)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((t=>{r.push(e.getPropertyValue(t))}));let i=0;for(let s=0;s<r.length;s++)i+=parseFloat(r[s]);return i},bT=(e,t)=>{const n=e.state.selection,{$from:o,side:r}=n,i=r===at.b.RIGHT,s=i?o.nodeBefore:o.nodeAfter,a=t(),l=e.nodeDOM(a),c=document.createElement("span")
;if(c.className="ProseMirror-gapcursor "+(i?"-right":"-left"),c.appendChild(document.createElement("span")),l instanceof HTMLElement&&c.firstChild){const e=(e=>{const t=Object.keys(mT).find((t=>e.classList.contains(t))),n=t&&mT[t];if(n){const t=e.querySelector(n);if(t)return window.getComputedStyle(t)}})(l)||window.getComputedStyle(l),t=c.firstChild;t.style.height=`${(e=>fT(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"]))(e)}px`,(0!==a||s&&"table"===s.type.name)&&(t.style.marginTop=e.getPropertyValue("margin-top"));const o=s&&Object(hT.a)(s);o?(t.setAttribute("layout",o),t.style.width=`${(e=>fT(e,["width","padding-left","padding-right","border-left-width","border-right-width"]))(e)}px`):((e,t,n)=>{if(Object(hT.d)(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{const n=parseFloat(t.getPropertyValue("margin-right"));n>0?e.style.marginLeft=`-${Math.abs(n)}px`:e.style.paddingRight=`${Math.abs(n)}px`}})(t,e,n.side)}return c}
;var gT=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/actions.js"),yT=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/direction.js");var vT=new c.Plugin({key:fo.c,state:{init:()=>!1,apply:(e,t,n,o)=>o.selection instanceof at.a},view:()=>({update(e,t){const n=fo.c.getState(t);e.dom.classList.toggle("ProseMirror-hide-gapcursor",n)}}),props:{decorations:({doc:e,selection:t})=>{if(t instanceof at.a){const{$from:n,side:o}=t;let r=t.head;const i=o===at.b.RIGHT;if(i&&n.nodeBefore){const e=Object(b.findPositionOfNodeBefore)(t);"number"==typeof e&&(r=e)}const s=i?n.nodeBefore:n.nodeAfter,a=s&&Object(hT.a)(s);return Tn.b.create(e,[Tn.a.widget(r,bT,{key:`gapcursor-${o}-${a}`,side:a?-1:0})])}return null},createSelectionBetween(e,t,n){if(!(e&&e.state&&e.state.selection instanceof q.a))return t.pos===n.pos&&at.a.valid(n)?new at.a(n):void 0},handleClick(e,t,n){const o=e.posAtCoords({left:n.clientX,top:n.clientY})
;if(o&&o.inside!==t&&!Object(hT.c)(n.target)){const o=20,r=n.offsetX>o?at.b.RIGHT:at.b.LEFT;return Object(gT.d)(t,r)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:(e,t)=>"deleteContentBackward"===t.inputType&&e.state.selection instanceof at.a&&(t.preventDefault(),Object(gT.b)(yT.a.BACKWARD)(e.state,e.dispatch))}}});var OT=e=>({name:"selection",pmPlugins:()=>[{name:"selection",plugin:({dispatch:t,dispatchAnalyticsEvent:n})=>uT(t,n,e)},{name:"selectionKeymap",plugin:pT},{name:"gapCursorKeymap",plugin:()=>function(){const e={};return Ie.bindKeymapWithCommand(Ie.insertNewLine.common,((e,t,n)=>!!(e.selection instanceof at.a)&&Object(qe.d)(e,t)),e),Ie.bindKeymapWithCommand(Ie.moveLeft.common,((e,t,n)=>{const o=n?n.endOfTextblock.bind(n):void 0;return Object(gT.a)(yT.a.LEFT,o)(e,t,n)}),e),Ie.bindKeymapWithCommand(Ie.moveRight.common,((e,t,n)=>{const o=n?n.endOfTextblock.bind(n):void 0;return Object(gT.a)(yT.a.RIGHT,o)(e,t)}),e),
Ie.bindKeymapWithCommand(Ie.moveUp.common,((e,t,n)=>{const o=n?n.endOfTextblock.bind(n):void 0;return Object(gT.a)(yT.a.UP,o)(e,t)}),e),Ie.bindKeymapWithCommand(Ie.moveDown.common,((e,t,n)=>{const o=n?n.endOfTextblock.bind(n):void 0;return Object(gT.a)(yT.a.DOWN,o)(e,t)}),e),Ie.bindKeymapWithCommand(Ie.backspace.common,Object(gT.b)(yT.a.BACKWARD),e),Ie.bindKeymapWithCommand(Ie.deleteKey.common,Object(gT.b)(yT.a.FORWARD),e),Object(Xt.b)(e)}()},{name:"gapCursor",plugin:()=>vT}]}),jT=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/code-block.js"),wT=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/code-block/ui/class-names.js");const kT=new RegExp("\n","g");class ET{constructor(e,t,n){s()(this,"ensureLineNumbers",Object(Vl.a)((()=>{let e=1;for(this.node.forEach((t=>{t.text&&(e+=(t.text.match(kT)||[]).length)}));this.lineNumberGutter.childElementCount<e;)this.lineNumberGutter.appendChild(document.createElement("span"))
;for(;this.lineNumberGutter.childElementCount>e;)this.lineNumberGutter.removeChild(this.lineNumberGutter.lastChild)})));const{dom:o,contentDOM:r}=Ve.DOMSerializer.renderSpec(document,(e=>["div",{class:"code-block"},["div",{class:wT.a.gutter,contenteditable:"false"}],["div",{class:wT.a.content},["code",{"data-language":e.attrs.language||"",spellcheck:"false",contenteditable:"true"},0]]])(e));this.getPos=n,this.view=t,this.node=e,this.dom=o,this.contentDOM=r,this.lineNumberGutter=this.dom.querySelector(`.${wT.a.gutter}`),this.ensureLineNumbers()}update(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers()),!0)}ignoreMutation(e){return e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter}}const ST=()=>(e,t,n)=>new ET(e,t,n),_T=new c.PluginKey("codeBlockPlugin"),CT="SET_COPIED_TO_CLIPBOARD";function xT(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function TT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xT(Object(n),!0).forEach((function(t){PT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AT=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/copy.js"),IT=o.n(AT),MT=o("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/languageList.js");const DT=(e,t)=>{const{schema:{nodes:n},tr:o}=e;if(t){let e=o
;e=Object(b.findSelectedNodeOfType)(n.codeBlock)(o.selection)?Object(b.removeSelectedNode)(o):Object(b.removeParentNodeOfType)(n.codeBlock)(o),t(e)}return!0},NT=(e,t)=>{const{schema:{nodes:n},tr:o}=e,r=Object(b.findParentNodeOfType)(n.codeBlock)(o.selection),i=r&&r.node.textContent;if(i){Hh(i);let e=o;e.setMeta(_T,{type:CT,data:!0}),t&&t(e)}return!0},RT=(e,t)=>{const{tr:n}=e,o=_T.getState(e);let r=n;return o&&o.contentCopied&&(r.setMeta(_T,{type:CT,data:!1}),t&&t(r)),!0},LT=Object(f.h)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),BT=Object(MT.b)(MT.a),FT=(e=!1)=>(t,{formatMessage:n})=>{const o=_T.getState(t);if(void 0===o)return;const{pos:r}=o;if(null!==r&&t.doc.nodeAt(r)){const i=c_(t),s=i&&i.node.attrs?i.node.attrs.language:void 0,a=[{label:"(None)",value:"",alias:["none"]}].concat(BT.map((e=>({label:e.name,value:Object(MT.e)(e),
alias:e.alias})))),l={type:"select",onChange:e=>(e=>(t,n)=>{const{schema:{nodes:{codeBlock:o}},tr:r}=t,i={language:e},s=_T.getState(t);if(void 0===s)return!1;const{pos:a}=s;if(null===a)return!1;let l=r;const d=Object(b.isNodeSelection)(r.selection);return l=r.setNodeMarkup(a,o,i),d&&(l=l.setSelection(c.NodeSelection.create(l.doc,a))),l.setMeta("scrollIntoView",!1),n&&n(l),!0})(e.value),defaultValue:s?a.find((e=>e.value===s)):void 0,placeholder:n(LT.selectLanguage),options:a,filterOption:zT},d={type:"separator"},u=t.schema.nodes.codeBlock,p={type:"button",appearance:"danger",icon:Yo.a,onMouseEnter:Object(Xo.b)(u,!0),onMouseLeave:Object(Xo.b)(u,!1),onClick:DT,title:n(C.a.remove)};let h=[];if(e){h=[{type:"button",appearance:"subtle",icon:IT.a,onClick:NT,title:n(o.contentCopied?C.a.copiedToClipboard:C.a.copyToClipboard),onMouseLeave:RT,hideTooltipOnClick:!1,disabled:o.isNodeSelected},d]}return{title:"CodeBlock floating controls",getDomRef:e=>Object(b.findDomRefAtPos)(r,e.domAtPos.bind(e)),
nodeType:u,items:[l,d,...h,p]}}},zT=(e,t)=>{const{data:n}=e,o=t.toLowerCase();return n.label.toLowerCase().includes(o)||n.alias.some((e=>e.toLowerCase()===o))};var UT=function(e){return Object(Xt.b)({Backspace:(t,n)=>{const o=Object(ho.h)(t.selection),{paragraph:r,codeBlock:i,listItem:s,table:a,layoutColumn:l}=t.schema.nodes;if(!o||o.parent.type!==i)return!1;if(1===o.pos||Object(b.hasParentNodeOfType)(s)(t.selection)&&0===o.parentOffset){const e=Object(b.findParentNodeOfTypeClosestToPos)(o,i);return!!e&&(n(t.tr.setNodeMarkup(e.pos,e.node.type,e.node.attrs,[]).setBlockType(o.pos,o.pos,r)),!0)}if(n&&o.node&&Object(ho.l)(e)(o.node())&&(Object(b.hasParentNodeOfType)(l)(t.selection)||Object(b.hasParentNodeOfType)(a)(t.selection))){const{tr:e}=t,r=o.pos;return n(Object(ho.u)((e=>t=>t.delete(e.before(e.depth)-1,e.end(e.depth)+1))(o),(e=>t=>{const n=c.Selection.findFrom(t.doc.resolve(e),-1,!0);return n&&t.setSelection(n),t})(r))(e).scrollIntoView()),!0}return!1}})};const HT={"{":"}","[":"]",
"(":")"},$T=(e,t)=>{const n=Object.keys(HT).find((t=>e.endsWith(t))),o=n?HT[n]:void 0;return{left:n,right:o,hasTrailingMatchingBracket:!!o&&t.startsWith(o)}},WT={"'":"'",'"':'"',"`":"`"},VT=(e,t)=>{const n=Object.keys(WT).find((t=>e.endsWith(t))),o=n?WT[n]:void 0;return{left:n,right:o,hasTrailingMatchingQuote:!!o&&t.startsWith(o)}};function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(n),!0).forEach((function(t){GT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}const YT=qT(qT({},HT),WT),XT=e=>e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock,JT=e=>!!Object(ho.h)(e.selection)&&XT(e),ZT=e=>{const{$from:t}=e.selection;if(t.nodeBefore&&t.nodeBefore.isText){const e=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(e+1),pos:t.start()+e+1}}return{text:"",pos:t.pos}},QT=e=>{const{$to:t}=e.selection;if(t.nodeAfter&&t.nodeAfter.isText){const e=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,e>=0?e:void 0),pos:e>=0?t.pos+e:t.end()}}return{text:"",pos:t.pos}};function eP(e){const{pos:t}=ZT(e),{pos:n}=QT(e);return{text:e.doc.textBetween(t,n),start:t,end:n}}const tP=(e,t)=>{let n=0;e.split("\n").forEach((e=>{t(e,n),n+=e.length+1}))},nP={token:" ",size:2,regex:/[^ ]/},oP={token:"\t",size:1,regex:/[^\t]/},rP=e=>{const t=e.startsWith("\t")?oP:nP,n=e.search(t.regex);return{indentToken:t,
indentText:e.substring(0,n>=0?n:e.length)}};function iP(e,t){return 0===t||0===e.length?0:e.length/t}function sP(e,t){const{text:n,start:o}=eP(e),{tr:r,selection:i}=e;return tP(n,((t,n)=>{const{indentText:s,indentToken:a}=rP(t),l=iP(s,a.size),d=a.token.repeat(a.size-s.length%a.size||a.size);r.insertText(d,r.mapping.map(o+n,-1)),Object(ct.a)(e,r,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,actionSubjectId:lt.c.FORMAT_INDENT,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,previousIndentationLevel:l,newIndentLevel:l+1,direction:pp.a.INDENT,indentType:pp.b.CODE_BLOCK}}),i.empty||r.setSelection(c.TextSelection.create(r.doc,r.mapping.map(i.from,-1),r.selection.to))})),t&&t(r),!0}function aP(e,t){const{text:n,start:o}=eP(e),{tr:r}=e;return tP(n,((t,n)=>{const{indentText:i,indentToken:s}=rP(t);if(i){const t=iP(i,s.size),a=i.length%s.size||s.size;r.delete(r.mapping.map(o+n),r.mapping.map(o+n+a)),Object(ct.a)(e,r,{action:lt.a.FORMATTED,actionSubject:lt.b.TEXT,
actionSubjectId:lt.c.FORMAT_INDENT,eventType:lt.d.TRACK,attributes:{inputMethod:lt.e.KEYBOARD,previousIndentationLevel:t,newIndentLevel:t-1,direction:pp.a.OUTDENT,indentType:pp.b.CODE_BLOCK}})}})),t&&t(r),!0}var lP=new c.Plugin({props:{handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e;if(JT(r)){const e=ZT(r).text,s=QT(r).text;if((e=>Object.keys(YT).some((t=>e.startsWith(YT[t]))))(s)&&(e=>Object.keys(YT).some((t=>e===YT[t])))(o)&&s.startsWith(o))return i(Object(b.setTextSelection)(n+o.length)(r.tr)),!0;if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t))(0,s)){const{left:a,right:l}=$T(e+o,s);if(a&&l){const e=r.schema.text(o+l);let s=r.tr.replaceWith(t,n,e);return i(Object(b.setTextSelection)(t+o.length)(s)),!0}}if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e))(e,s)){const{left:a,right:l}=VT(e+o,s);if(a&&l){const e=r.schema.text(o+l);let s=r.tr.replaceWith(t,n,e);return i(Object(b.setTextSelection)(t+o.length)(s)),!0}}}return!1},
handleKeyDown:Object(Xt.a)({Backspace:(e,t)=>{if(JT(e)){const n=Object(ho.h)(e.selection),o=ZT(e).text,r=QT(e).text,{left:i,right:s,hasTrailingMatchingBracket:a}=$T(o,r);if(i&&s&&a&&t)return t(e.tr.delete(n.pos-i.length,n.pos+s.length)),!0;const{left:l,right:c,hasTrailingMatchingQuote:d}=VT(o,r);if(l&&c&&d&&t)return t(e.tr.delete(n.pos-l.length,n.pos+c.length)),!0;const{indentToken:{size:u,token:p},indentText:h}=rP(o);if(o===h&&h.endsWith(p.repeat(u))&&t)return t(e.tr.delete(n.pos-(u-h.length%u||u),n.pos)),!0}return!1},Enter:Object(Xe.b)(XT,(function(e,t){const{text:n}=ZT(e),{indentText:o}=rP(n);return!(!o||!t)&&(t(e.tr.insertText("\n"+o)),!0)})),"Mod-]":Object(Xe.b)(XT,sP),"Mod-[":Object(Xe.b)(XT,aP),Tab:Object(Xe.b)(XT,((e,t)=>!!t&&(JT(e)?function(e,t){const{text:n}=ZT(e),{indentToken:o}=rP(n),r=o.token.repeat(o.size-n.length%o.size||o.size);return t(e.tr.insertText(r)),!0}(e,t):sP(e,t)))),"Shift-Tab":Object(Xe.b)(XT,aP),"Mod-a":(e,t)=>{if(XT(e)){const{$from:n,$to:o}=e.selection
;if(!(0===n.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(c.TextSelection.create(e.doc,n.start(),o.end()))),!0}return!1}})}});var cP=(e={})=>({name:"codeBlock",nodes:()=>[{name:"codeBlock",node:jT.a}],pmPlugins:()=>[{name:"codeBlock",plugin:()=>((e=!1)=>new c.Plugin({state:{init(e,t){const n=c_(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1}},apply(e,t,n,o){if(e.docChanged||e.selectionSet){const{selection:n}=o,r=c_(o,n);return TT(TT({},t),{},{pos:r?r.pos:null,isNodeSelected:e.selection instanceof c.NodeSelection})}const r=e.getMeta(_T);return r&&r.type===CT?TT(TT({},t),{},{contentCopied:r.data}):t}},key:_T,props:{nodeViews:{codeBlock:ST()},handleClickOn:Mn(["codeBlock"],(e=>!(!e.closest(`.${wT.a.gutter}`)&&!e.classList.contains(wT.a.content))),{useLongPressSelection:e})}}))(e.useLongPressSelection)},{name:"codeBlockIDEKeyBindings",plugin:()=>lP},{name:"codeBlockKeyMap",plugin:({schema:e})=>UT(e)}],pluginsOptions:{
quickInsert:({formatMessage:e})=>[{id:"codeblock",title:e(gf.a.codeblock),description:e(gf.a.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:()=>l.a.createElement(sn.b,{label:e(gf.a.codeblock)}),action(e,t){const n=e(t.schema.nodes.codeBlock.createChecked());return Object(ct.a)(t,n,{action:lt.a.INSERTED,actionSubject:lt.b.DOCUMENT,actionSubjectId:lt.c.CODE_BLOCK,attributes:{inputMethod:lt.e.QUICK_INSERT},eventType:lt.d.TRACK})}}],floatingToolbar:FT(e.allowCopyToClipboard)}});const dP=new c.PluginKey("undoRedoPlugin");var uP=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/undo.js"),pP=o.n(uP),hP=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/undo-redo/messages.js");class mP extends a.PureComponent{render(){const{disabled:e,isReducedSpacing:t,undoDisabled:n,intl:{formatMessage:o},handleUndo:r}=this.props,i=o(hP.a.undo);return l.a.createElement(We.b,{width:t?"small":"large"},l.a.createElement(w.a,{
spacing:t?"none":"default",onClick:r,disabled:n||e,title:l.a.createElement(Ie.ToolTipContent,{description:i,keymap:Ie.undo}),iconBefore:l.a.createElement(pP.a,{label:i})}),l.a.createElement(We.g,null))}}mP.displayName="ToolbarUndoRedo";var fP=Object(f.i)(mP);var bP=()=>({name:"undoRedoPlugin",pmPlugins:()=>[{name:"undoRedoPlugin",plugin:e=>(({dispatch:e})=>new c.Plugin({key:dP}))(e)}],primaryToolbarComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,disabled:r,isToolbarReducedSpacing:i,toolbarSize:s}){const a=s<an.a.L,c=()=>{Object(IO.d)(e.state,e.dispatch)};return l.a.createElement(p.a,{plugins:{historyState:bw.b},render:({historyState:s})=>{const{canUndo:d}=s;return l.a.createElement(fP,{isSmall:a,isReducedSpacing:i,disabled:r,editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:o,undoDisabled:!d,handleUndo:c})}})}});function gP(e){var t;const n=new Zx;return n.add([x_,e.paste]),n.add(nT),n.add([Wx,e.base]),
(null===(t=e.featureFlags)||void 0===t?void 0:t.undoRedoButtons)&&n.add(bP),n.add([Z_,e.blockType]),n.add([lT,e.placeholder]),n.add(tC),e.annotationProviders&&n.add([qb.a,e.annotationProviders]),n.add([vC,e.cardOptions]),n.add([ox,e.textFormatting]),n.add(h.a),n.add([cT.a,e.quickInsert]),n.add([Vx.a,{createAnalyticsEvent:e.createAnalyticsEvent}]),n.add(px),n.add(Yd.a),n.add([qx,e.submitEditor]),n.add(Yx),n.add(Xx.a),n.add([On.a,e.featureFlags||{}]),n.add([OT,e.selection]),n.add([cP,e.codeBlock]),n}var yP=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/should-force-tracking.js");function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach((function(t){jP(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wP(e){const{appearance:t,persistScrollGutter:n}=e;return Object(_S.a)(t)?{getScrollElement:()=>document.querySelector(".fabric-editor-popup-scroll-parent")}:"mobile"===t?{getScrollElement:()=>document.body,allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:50}:void 0}function kP(e,t){var n,o,r,i,s,a,l,c,d,u,p,h;const m=e.appearance,f="mobile"===m,b=Object(_S.a)(m),g=e.performanceTracking&&e.performanceTracking.inputTracking?e.performanceTracking.inputTracking:{enabled:b||void 0!==e.inputSamplingLimit&&e.inputSamplingLimit>0,samplingRate:e.inputSamplingLimit},y=void 0!==(null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking)
;g.countNodes=!(y||!Object(yP.a)())||g.countNodes;const v=void 0===(null===(o=e.performanceTracking)||void 0===o?void 0:o.bFreezeTracking)&&Object(yP.a)(),O={trackInteractionType:!!v||!!(null===(r=e.performanceTracking)||void 0===r||null===(i=r.bFreezeTracking)||void 0===i?void 0:i.trackInteractionType),trackSeverity:!!v||!!(null===(s=e.performanceTracking)||void 0===s||null===(a=s.bFreezeTracking)||void 0===a?void 0:a.trackSeverity),severityNormalThreshold:null!==(l=null===(c=e.performanceTracking)||void 0===c||null===(d=c.bFreezeTracking)||void 0===d?void 0:d.severityNormalThreshold)&&void 0!==l?l:2e3,severityDegradedThreshold:null!==(u=null===(p=e.performanceTracking)||void 0===p||null===(h=p.bFreezeTracking)||void 0===h?void 0:h.severityDegradedThreshold)&&void 0!==u?u:3e3};return{createAnalyticsEvent:t,featureFlags:Object(CS.a)(e),paste:{cardOptions:e.UNSAFE_cards,sanitizePrivateContent:e.sanitizePrivateContent,predictableLists:e.UNSAFE_predictableLists},base:{
allowInlineCursorTarget:!f,allowScrollGutter:wP(e),inputTracking:g,bFreezeTracking:O},blockType:{lastNodeMustBeParagraph:"comment"===m||"chromeless"===m,allowBlockType:e.allowBlockType},placeholder:{placeholder:e.placeholder,placeholderHints:e.placeholderHints,placeholderBracketHint:e.placeholderBracketHint},textFormatting:e.textFormatting,annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:f,headless:f},selection:{useLongPressSelection:!1},cardOptions:e.UNSAFE_cards,codeBlock:OP(OP({},e.codeBlock),{},{useLongPressSelection:!1})}}function EP(e,t,n){const o=e.appearance,i="mobile"===o,s="comment"===o,a=Object(_S.a)(o),l=gP(kP(e,n));if(e.allowAnalyticsGASV3){const{performanceTracking:t,transactionTracking:o}=e;l.add([r.b,OP({createAnalyticsEvent:n},t||o?{performanceTracking:OP(OP({},t||{}),o?{transactionTracking:o
}:{})}:{})])}if(e.allowBreakout&&a&&l.add([$,{allowBreakoutButton:"full-page"===e.appearance}]),e.allowTextAlignment&&l.add(ke),e.allowTextColor&&l.add([Ee.a,e.allowTextColor]),e.UNSAFE_predictableLists?l.add(ln):l.add(gn),e.allowRule&&l.add(_n),e.allowExpand&&l.add([Zo,{allowInsertion:Qo(e),useLongPressSelection:!1}]),e.media){l.add([er.b,{shouldCalcBreakoutGridLines:a}]);const t=void 0!==e.media.alignLeftOnInsert?e.media.alignLeftOnInsert:s,n=void 0!==e.media.allowAdvancedToolBarOptions?e.media.allowAdvancedToolBarOptions:a||s;l.add([tr.a,OP(OP({},e.media),{},{allowLazyLoading:!i,allowBreakoutSnapPoints:a,allowAdvancedToolBarOptions:n,allowDropzoneDropLine:a,allowMediaSingleEditable:!i,allowRemoteDimensionsFetch:!i,allowMarkingUploadsAsIncomplete:i,fullWidthEnabled:"full-width"===e.appearance,uploadErrorHandler:e.uploadErrorHandler,waitForMediaUpload:e.waitForMediaUpload,isCopyPasteEnabled:!i,alignLeftOnInsert:t})]),Object(xS.a)("captions",e.media.featureFlags)&&l.add(pr)}
if(e.mentionProvider&&l.add([hr.a,{createAnalyticsEvent:n,sanitizePrivateContent:e.sanitizePrivateContent,mentionInsertDisplayName:e.mentionInsertDisplayName,useInlineWrapper:i,allowZeroWidthSpaceAfter:!i}]),e.emojiProvider&&l.add([Xr,{createAnalyticsEvent:n,useInlineWrapper:i,allowZeroWidthSpaceAfter:!i}]),e.allowTables){const n=e.allowTables&&"boolean"!=typeof e.allowTables?e.allowTables:{};l.add([np,{tableOptions:n,breakoutEnabled:"full-page"===e.appearance,allowContextualMenu:!i,fullWidthEnabled:"full-width"===e.appearance,wasFullWidthEnabled:t&&"full-width"===t.appearance,dynamicSizingEnabled:e.allowDynamicTextSizing}])}if((e.allowTasksAndDecisions||e.taskDecisionProvider)&&l.add([jh,{allowNestedTasks:e.allowNestedTasks,consumeTabs:a,useLongPressSelection:!1}]),e.feedbackInfo&&l.add([wh.a,e.feedbackInfo]),e.allowHelpDialog&&l.add([Nh,e.legacyImageUploadProvider]),e.saveOnEnter&&l.add([zh,e.onSave]),e.legacyImageUploadProvider&&(l.add(tm),e.media||l.add([tr.a,{allowMediaSingle:{
disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0}])),e.collabEdit||e.collabEditProvider){var c;let t={sanitizePrivateContent:e.sanitizePrivateContent};e.collabEdit&&(t=OP(OP({},e.collabEdit),t)),l.add([am,OP(OP({},t),{},{EXPERIMENTAL_allowInternalErrorAnalytics:null!==(c=t.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==c?c:Object(yP.a)()})])}if(e.maxContentSize&&l.add([lm.a,e.maxContentSize]),e.allowJiraIssue&&l.add(km),e.allowPanel&&l.add([Of,{useLongPressSelection:!1,UNSAFE_allowCustomPanel:e.allowPanel.UNSAFE_allowCustomPanel}]),e.allowExtension){const t="object"==typeof e.allowExtension?e.allowExtension:{};l.add([Ub,{breakoutEnabled:"full-page"===e.appearance&&!1!==t.allowBreakout,stickToolbarToBottom:t.stickToolbarToBottom,allowAutoSave:t.allowAutoSave,allowLocalIdGeneration:t.allowLocalIdGeneration,extensionHandlers:e.extensionHandlers,useLongPressSelection:!1}])}if(e.macroProvider&&l.add(Kb),!e.annotationProviders&&e.allowConfluenceInlineComment&&l.add(qb.a),
e.allowDate&&l.add(mg),e.allowTemplatePlaceholders){const t=!0!==e.allowTemplatePlaceholders?e.allowTemplatePlaceholders:{};l.add([Pg,t])}if(e.allowLayouts&&l.add([yy,OP(OP({},"boolean"==typeof e.allowLayouts?{}:e.allowLayouts),{},{useLongPressSelection:!1})]),e.UNSAFE_cards){const t="full-width"===e.appearance;l.add([_O,OP(OP({},e.UNSAFE_cards),{},{platform:i?"mobile":"web",fullWidthMode:t})])}e.autoformattingProvider&&l.add(zO);let d=!0;e.allowStatus&&(d="object"==typeof e.allowStatus&&e.allowStatus.menuDisabled,l.add([tw,{menuDisabled:d,useInlineWrapper:i,allowZeroWidthSpaceAfter:!i}])),e.allowIndentation&&l.add(uw),a&&l.add(pw.a),!1!==e.autoScrollIntoView&&l.add(fw),(i||e.UNSAFE_allowUndoRedoButtons)&&l.add(bw.a),i&&(l.add(Ew),l.add(Sw.a)),l.add([rE,{allowTables:!!e.allowTables,allowExpand:Qo(e),insertMenuItems:e.insertMenuItems,horizontalRuleEnabled:e.allowRule,nativeStatusSupported:!d,showElementBrowserLink:e.elementBrowser&&e.elementBrowser.showModal||!1,
replacePlusMenuWithElementBrowser:e.elementBrowser&&e.elementBrowser.replacePlusMenu||!1}]),e.allowFindReplace&&l.add(SS);const u=new Set;return(e=>-1===(e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[]).indexOf("codeBlock"))({allowBlockType:e.allowBlockType})||u.add("codeBlock"),l.getEditorPlugins(u)}},"./node_modules/@atlaskit/editor-core/dist/es2019/editor.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return zo}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./node_modules/react-intl/lib/index.es.js"),u=n("./node_modules/@atlaskit/editor-core/node_modules/memoize-one/dist/memoize-one.esm.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/version.json"),h=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/WidthProvider/index.js")
;let m;!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(m||(m={}));const f=e=>e.status===m.FULFILLED,b=e=>({status:m.FULFILLED,value:e}),g=e=>({status:m.FAILED,reason:e}),y=e=>Promise.all(e.map((e=>e.then(b).catch(g)))),v=e=>e.filter(f).map((e=>e.value));var O=e=>{if(0===e.length)throw new Error("At least one provider must be provided");const t=async t=>(await(async()=>{const t=await y(e.map((e=>Promise.resolve(e))));return v(t)})()).map((e=>t(e))),n=(e,t)=>n=>{const o=n[e];if("function"==typeof o)return o.apply(n,t);throw new Error(`"${e}" isn't a function of the provider`)};return{invokeSingle:async(e,o)=>{const r=n(e,o);return(e=>{const t=[];return new Promise(((n,o)=>{e.forEach((r=>r.then((e=>{if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((n=>{t.push(n),t.length===e.length&&o(n)}))))}))})(await t(r))},invokeList:async(e,o)=>{const r=n(e,o),i=await y(await t(r))
;return(e=>[].concat(...e))(v(i)).filter((e=>e))}}},j=e=>{const{invokeSingle:t,invokeList:n}=O(e);return{getExtensions:()=>n("getExtensions"),getExtension:(e,n)=>t("getExtension",[e,n]),search:e=>n("search",[e]),getAutoConverter:()=>n("getAutoConverter")}},w=n("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/provider-factory.js"),k=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure.js"),E=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/is-performance-api-available.js")
;var S=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/analytics.js"),_=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/WithCreateAnalyticsEvent/index.js"),C=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/BaseTheme/index.js"),x=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),T=n("./node_modules/@atlaskit/analytics-namespaced-context/dist/es2019/index.js"),P=n("./node_modules/raf-schd/esm/index.js"),A=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/task-list.js"),I=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/decision-list.js"),M=n("./node_modules/@babel/runtime/helpers/extends.js"),D=n.n(M),N=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/whitespace.js"),R=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/paragraph.js"),L=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/lists.js"),B=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/indentation.js"),F=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/shadow.js")
;const z=Object(c.css)([".inline-node--mobile{display:inline-block !important;}"]);var U=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/task-decision.js"),H=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/block-marks.js"),$=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/date.js"),W=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/annotation.js"),V=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/smart-card.js"),K=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/unsupported-content/styles.js"),q=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/utils.js")
;const G=Object(c.css)([".ProseMirror .telepointer{position:relative;transition:opacity 200ms;&.telepointer-selection{line-height:1.2;pointer-events:none;user-select:none;}&.telepointer-selection-badge::after{content:attr(data-initial);position:absolute;display:block;top:-14px;font-size:9px;padding:2px;color:white;left:-1px;border-radius:2px 2px 2px 0;line-height:initial;}&.","{opacity:0.2;}",";}"],"telepointer-dim",q.a.map(((e,t)=>((e,t)=>`\n  &.color-${t} {\n    background-color: ${e.selection};\n    &::after {\n      background-color: ${e.solid};\n      color: #fff;\n      border-color: ${e.solid};\n    }\n  }\n`)(e,t)))),Y=".ProseMirror-gapcursor",X='[layout="wrap-left"]',J='[layout="wrap-right"]',Z=`\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    &.ProseMirror-hide-gapcursor {\n      caret-color: transparent;\n    }\n\n    ${Y} {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s ${Object(c.keyframes)(["from,to{opacity:0;}50%{opacity:1;}"])} step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &${J} {\n        float: right;\n      }\n\n      /* fix vertical alighment of gap cursor */\n      &:first-child + ul,\n      &:first-child + span + ul,\n      &:first-child + ol,\n      &:first-child + span + ol,\n      &:first-child + pre,\n      &:first-child + span + pre,\n      &:first-child + blockquote,\n      &:first-child + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused ${Y} {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  ${Y}${X} + span + ${X},\n  ${Y}${J} + span + ${J},\n  ${Y} + ${X} + ${J},\n  ${Y} + ${X} + span + ${J},\n  ${Y} + ${J} + ${X},\n  ${Y} + ${J} + span + ${X},\n  ${X} + ${Y} + ${J},\n  ${X} + ${Y} + span ${J},\n  ${J} + ${Y} + ${X},\n  ${J} + ${Y} + span + ${X} {\n    clear: none;\n  }\n\n  ${X} + ${Y} + ${J} > div,\n  ${X} + ${Y} + span + ${J} > div,\n  ${J} + ${Y} + ${X} > div,\n  ${J} + ${Y} + span + ${X} > div,\n  ${Y} + ${J} + ${X} > div,\n  ${Y} + ${J} + span + ${X} > div,\n  ${Y} + ${X} + ${J} > div,\n  ${Y} + ${X} + span + ${J} > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  ${X} + ${Y},\n  ${J} + ${Y} {\n    float: left;\n  }\n\n  ${Y} + ${X} + span + ${J}::after,\n  ${Y} + ${J} + span + ${X}::after,\n  ${X} + ${Y} + ${J}::after,\n  ${X} + ${Y} + span + ${J}::after,\n  ${J} + ${Y} + ${X}::after,\n  ${J} + ${Y} + span + ${X}::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  ${X} + ${Y} + ${J} + *,\n  ${X} + ${Y} + ${J} + span + *,\n  ${J} + ${Y} + ${X} + *,\n  ${J} + ${Y} + ${X} + span + *,\n  ${X} + ${Y} + span + ${J} + *,\n  ${J} + ${Y} + span + ${X} + *,\n  ${Y} + ${X} + span + ${J} + *,\n  ${Y} + ${J} + span + ${X} + *,\n  ${X} + ${Y} + ${J} + * > *,\n  ${X} + ${Y} + ${J} + span + * > *,\n  ${J} + ${Y} + ${X} + * > *,\n  ${J} + ${Y} + ${X} + span + * > *,\n  ${X} + ${Y} + span + ${J} + * > *,\n  ${J} + ${Y} + span + ${X} + * > *,\n  ${Y} + ${X} + span + ${J} + * > *,\n  ${Y} + ${J} + span + ${X} + * > *,\n  .ProseMirror-widget + ${Y} + *,\n  .ProseMirror-widget + ${Y} + span + * {\n    margin-top: 0;\n  }\n`
;var Q=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/table.js"),ee=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),te=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/utils.js"),ne=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/types.js"),oe=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/styles.js"),re=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js"),ie=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/ui/consts.js")
;const se=e=>Object(c.css)([".","{background:",";display:none;position:absolute;z-index:",";","}"],re.b.CONTROLS_INSERT_LINE,ie.h,x.V,e),ae=Object(c.css)(["background-color:",";position:absolute;height:","px;width:","px;border-radius:50%;pointer-events:none;"],ie.f,4,4),le=e=>Object(c.css)([".","{",";","}"],re.b.CONTROLS_INSERT_MARKER,ae,e),ce=e=>Object(c.css)(["border-radius:","px;border-width:0px;display:inline-flex;max-width:100%;text-align:center;margin:0px;padding:0px;text-decoration:none;transition:background 0.1s ease-out 0s,box-shadow 0.15s cubic-bezier(0.47,0.03,0.49,1.38) 0s;outline:none !important;cursor:none;> .","{display:inline-flex;max-height:100%;max-width:100%;}",""],Object(ee.borderRadius)(),re.b.CONTROLS_BUTTON_ICON,e),de=()=>Object(c.css)([".","{position:absolute;z-index:",";bottom:0;}.",",.","{height:","px;width:","px;}.","{","}.","{display:none;}&:hover .","{display:flex;}"],re.b.CONTROLS_INSERT_BUTTON_INNER,x.V+10,re.b.CONTROLS_INSERT_BUTTON_INNER,re.b.CONTROLS_INSERT_BUTTON,20,20,re.b.CONTROLS_INSERT_BUTTON,ce("\n      background: white;\n      box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.31), 0 0 1px rgba(9, 30, 66, 0.31);\n      color: #5E6C84;\n    "),re.b.CONTROLS_INSERT_LINE,re.b.CONTROLS_INSERT_LINE),ue=()=>Object(c.css)([".",":hover{background:",";color:white;cursor:pointer;}"],re.b.CONTROLS_INSERT_BUTTON,"#0065FF"),pe=Object(c.css)([""," "," ",""],de(),ue(),se("\n    width: 2px;\n    left: 9px;\n  ")),he=Object(c.css)([""," "," ",""],de(),ue(),se("\n    height: 2px;\n    top: -11px;\n    left: 19px;\n  ")),me=Object(c.css)([".","."," table tr:first-child td,.","."," table tr:first-child th{position:relative;&::before{content:' ';",";top:-","px;right:-","px;}}"],re.b.TABLE_CONTAINER,re.b.WITH_CONTROLS,re.b.TABLE_CONTAINER,re.b.WITH_CONTROLS,ae,ie.q+13,2),fe=Object(c.css)([".",",.","{height:","px;width:","px;}.","{.","{","}}.",":hover{background:",";color:white;cursor:pointer;}"],re.b.CONTROLS_DELETE_BUTTON_WRAP,re.b.CONTROLS_DELETE_BUTTON,16,16,re.b.CONTROLS_DELETE_BUTTON_WRAP,re.b.CONTROLS_DELETE_BUTTON,ce("\n        background: rgba(9, 30, 66, 0.04);\n        color: #5E6C84;\n      "),re.b.CONTROLS_DELETE_BUTTON,"#FF5630"),be=Object(c.css)([".",",.","{display:block;height:calc(100% - ","px);position:absolute;pointer-events:none;top:","px;z-index:",";width:8px;}.","{background:linear-gradient( to left,rgba(99,114,130,0) 0,"," 100% );left:0px;}.","[data-number-column='true'] >:not(.",").","{left:","px;}.","{background:linear-gradient( to right,rgba(99,114,130,0) 0,"," 100% );left:calc(100% + 2px);}.","{.",",.","{height:calc(100% - ","px);top:","px;}.","{border-left:1px solid ",";}}.",".","{.",",.","{top:","px;}}"],re.b.TABLE_RIGHT_SHADOW,re.b.TABLE_LEFT_SHADOW,Q.h+Q.f+ie.q-2,Q.h+ie.q-1,x.H,re.b.TABLE_LEFT_SHADOW,"rgba(9, 30, 66, 0.13)",re.b.TABLE_CONTAINER,re.b.TABLE_STICKY_SHADOW,re.b.TABLE_LEFT_SHADOW,x.Q-1,re.b.TABLE_RIGHT_SHADOW,"rgba(9, 30, 66, 0.13)",re.b.WITH_CONTROLS,re.b.TABLE_RIGHT_SHADOW,re.b.TABLE_LEFT_SHADOW,Q.h+Q.f-2,Q.h-1,re.b.TABLE_LEFT_SHADOW,ie.f,re.b.WITH_CONTROLS,re.b.TABLE_STICKY,re.b.TABLE_RIGHT_SHADOW,re.b.TABLE_LEFT_SHADOW,ie.l),ge=Object(c.css)(["color:",";background-color:",";border-color:",";z-index:",";"],"#FFFFFF",ie.p,ie.h,ie.a),ye=Object(c.css)([".","{display:none;cursor:pointer;position:absolute;width:calc(100% + ","px);left:-1px;top:-","px;height:","px;&::after{content:' ';","}}."," .","{display:block;}table tr:first-child td.",",table tr:first-child th.","{&.",",&.",",&.","{.","::after{",";}&."," .","::after{background-color:",";border:1px solid ",";border-bottom:none;z-index:",";}}}."," table tr:first-child td.",",."," table tr:first-child th.","{.","::after{",";}}"],re.b.COLUMN_CONTROLS_DECORATIONS,2*Q.c,25+Q.c,25,(e=>Object(c.css)(["background:",";border:1px solid ",";display:block;box-sizing:border-box;padding:0;:focus{outline:none;}",""],ie.n,ie.f,e))(`\n        border-right: ${Q.c}px solid ${ie.f};\n        border-bottom: none;\n        height: ${ie.q}px;\n        width: 100%;\n        position: absolute;\n        top: ${25-ie.q}px;\n        left: 0px;\n        z-index: ${ie.b};\n      `),re.b.WITH_CONTROLS,re.b.COLUMN_CONTROLS_DECORATIONS,re.b.TABLE_CELL,re.b.TABLE_HEADER_CELL,re.b.COLUMN_SELECTED,re.b.HOVERED_COLUMN,re.b.HOVERED_TABLE,re.b.COLUMN_CONTROLS_DECORATIONS,ge,re.b.HOVERED_CELL_IN_DANGER,re.b.COLUMN_CONTROLS_DECORATIONS,ie.o,ie.g,100*x.V,re.b.TABLE_SELECTED,re.b.TABLE_CELL,re.b.TABLE_SELECTED,re.b.TABLE_HEADER_CELL,re.b.COLUMN_CONTROLS_DECORATIONS,ge),ve=Object(c.css)([".",".","{.",",.",",.","{border:1px solid ",";}.","::after{background:",";}}"],re.b.TABLE_CONTAINER,re.b.HOVERED_DELETE_BUTTON,re.b.SELECTED_CELL,re.b.COLUMN_SELECTED,re.b.HOVERED_CELL,ie.g,re.b.SELECTED_CELL,ie.j),Oe=Object(c.css)([":not(.",") .",":not(.","){.","{position:relative;border:1px solid ",";}}"],re.b.IS_RESIZING,re.b.TABLE_CONTAINER,re.b.HOVERED_DELETE_BUTTON,re.b.HOVERED_CELL,ie.h),je=Object(c.css)([":not(.",") .",":not(.","){td.","{background-color:"," !important;border:1px solid ",";}}"],re.b.IS_RESIZING,re.b.TABLE_CONTAINER,re.b.HOVERED_DELETE_BUTTON,re.b.HOVERED_CELL_WARNING,"#FFFAE6","#FFC400"),we=Object(c.css)([".","{.","{background-color:transparent;position:absolute;width:","px;height:100%;top:0;right:-","px;cursor:col-resize;z-index:",";}td.",",th.","{.","::after{content:' ';right:","px;position:absolute;width:","px;height:calc(100% + 1px);background-color:",";z-index:",";top:0;}}table tr:first-child th."," .","::after,table tr:first-child td."," .","::after{top:-","px;height:calc(100% + ","px);}}"],re.b.TABLE_CONTAINER,re.b.RESIZE_HANDLE_DECORATION,ie.c,ie.c/2,ie.d,re.b.WITH_RESIZE_LINE,re.b.WITH_RESIZE_LINE,re.b.RESIZE_HANDLE_DECORATION,(ie.c-2)/2,2,ie.h,2*ie.b,re.b.WITH_RESIZE_LINE,re.b.RESIZE_HANDLE_DECORATION,re.b.WITH_RESIZE_LINE,re.b.RESIZE_HANDLE_DECORATION,ie.q+Q.c,ie.q+Q.c),ke=`\n.${re.b.NODEVIEW_WRAPPER}.${x.G} table tbody tr {\n  th,td {\n    ${Object(te.a)([ne.a.Blanket,ne.a.Border])}\n  }\n}\n`,Ee=Object(c.css)(["."," button{background:",";color:",";cursor:none;}.",":not(.",") button:hover{background:",";color:white !important;cursor:pointer;}.ProseMirror{",";",";",";",";",";",";",";.","{margin-bottom:0;}.","{td.",",th.","{position:relative;overflow:visible;}td.","{background-color:",";}}.","{","}.","{","}"," ."," ."," .",":first-child{margin-top:","px;width:","px;position:fixed !important;z-index:"," !important;box-shadow:0px -8px white;border-right:0 none;}."," .",".sticky{position:fixed !important;z-index:"," !important;background:white;width:","px;height:","px;}.",".sticky .","{border-bottom:0px none;border-right:0px none;height:","px;width:","px;}."," .","{z-index:0;}."," ."," .",".sticky{position:fixed !important;z-index:"," !important;display:flex;border-left:","px solid white;margin-left:-","px;}."," col:first-of-type{border-right:1px solid green;}tr.sticky{padding-top:8px;position:fixed;display:grid;z-index:",";overflow-y:visible;overflow-x:hidden;grid-auto-flow:column;background:white;box-sizing:content-box;margin-top:2px;box-shadow:0 6px 4px -4px ",";margin-left:-1px;}."," .","{left:unset;position:fixed;z-index:",";}.","."," .","{padding-bottom:","px;}tr.sticky th{border-bottom:1px solid ",";margin-right:-1px;}."," tr.sticky > th:last-child{border-right-width:1px;}."," tr.sticky > th:first-child{margin-left:0px;}."," tr.sticky::after{content:' ';width:1px;}."," .sticky + tr{min-height:0px;}.",".","{tr.sticky td.",",tr.sticky th.","{.","::after{right:","px;}}tr.sticky td.",".",",tr.sticky th.",".","{.","::after{right:","px;}}}tr.sticky .",",tr.sticky .","{z-index:1;}."," tr.sticky{padding-top:","px;}.","."," ."," .",":first-child{margin-top:","px;}.",".sticky{border-top:","px solid white;}"," .less-padding{padding:0 ","px;.","{padding:0 ","px;}&.","[data-number-column='true']{padding-left:","px;}.","{left:6px;}.","{left:calc(100% - 6px);}}> .","{}> * ."," .","{margin-left:unset !important;width:100% !important;}",";.","{width:","px;height:","px;display:none;.","{position:relative;",";}.","{position:relative;",";}}.",".sticky{.","{display:none !important;}}.","{position:absolute;top:0;width:","px;height:","px;border:1px solid ",";border-radius:0;border-top-left-radius:","px;background:",";box-sizing:border-box;padding:0;:focus{outline:none;}}.active .","{border-color:",";background:",";}.","[data-number-column='true']{.",",.","{width:","px;}."," .","{border-right-width:0;}}:not(.",") .",":hover{border-color:",";background:",";cursor:pointer;}:not(.",") .",".","{border-color:",";background:",";}.","{width:","px;box-sizing:border-box;display:none;position:relative;",";.","{display:flex;flex-direction:column;}.",":last-child > button{border-bottom-left-radius:","px;}.","{position:relative;margin-top:-1px;}.",":hover,.",".active,.",":hover{z-index:",";}","}:not(.",") .","{"," ","}.","{position:relative;float:right;margin-left:","px;top:","px;width:","px;box-sizing:border-box;}.","{border:1px solid ",";box-sizing:border-box;margin-top:-1px;padding-bottom:2px;padding:10px 2px;text-align:center;font-size:","px;background-color:",";color:",";border-color:",";:first-child{margin-top:0;}:last-child{border-bottom:1px solid ",";}}.","{.",",.","{display:block;}.","{padding-left:1px;.","{border-left:0 none;}.",".active{border-bottom:1px solid ",";border-color:",";background-color:",";position:relative;z-index:",";color:",";}}}:not(.",") .","{.","{cursor:pointer;}.",":hover{border-bottom:1px solid ",";border-color:",";background-color:",";position:relative;z-index:",";color:",";}.",".","{background-color:",";border:1px solid ",";border-left:0;color:",";position:relative;z-index:",";}}."," > table{table-layout:fixed;."," + *{margin-top:0;}.",",.","{position:relative;}.","::after,.","::after{z-index:",";position:absolute;content:'';left:0;right:0;top:0;bottom:0;opacity:0.3;pointer-events:none;}.","{border:1px solid ",";}.","::after{background:",";}th.","::after,td.","::after{background:",";}}.","{position:absolute;top:","px;}.",".","{z-index:",";}.","{left:-","px;}.","{padding-right:","px;margin-right:-","px;padding-top:","px;margin-top:-","px;padding-bottom:","px;margin-bottom:-","px;overflow:auto;position:relative;}}.ProseMirror.","{.","{overflow-x:auto;",";}}.ProseMirror.","{cursor:col-resize;}"],re.b.LAYOUT_BUTTON,"rgba(9, 30, 66, 0.04)","#5E6C84",re.b.LAYOUT_BUTTON,re.b.IS_RESIZING,"#0065FF",Q.j,me,ve,Oe,je,we,ke,re.b.LAST_ITEM_IN_CELL,re.b.TABLE_NODE_WRAPPER,re.b.TABLE_CELL,re.b.TABLE_HEADER_CELL,re.b.TABLE_CELL,ie.i,re.b.CONTROLS_FLOATING_BUTTON_COLUMN,pe,re.b.CONTROLS_FLOATING_BUTTON_ROW,he,fe,re.b.TABLE_STICKY,re.b.NUMBERED_COLUMN,re.b.NUMBERED_COLUMN_BUTTON,10,x.Q,x.J,re.b.TABLE_STICKY,re.b.CORNER_CONTROLS,x.I,ie.q,ie.q,re.b.CORNER_CONTROLS,re.b.CONTROLS_CORNER_BUTTON,ie.q,ie.q,re.b.TABLE_STICKY,re.b.COLUMN_CONTROLS_DECORATIONS,re.b.TABLE_STICKY,re.b.ROW_CONTROLS,re.b.ROW_CONTROLS_BUTTON_WRAP,x.J,ie.q,ie.q,re.b.TABLE_STICKY,ie.e,"rgba(9, 30, 66, 0.13)",re.b.TABLE_STICKY,re.b.TABLE_STICKY_SHADOW,ie.e+1,re.b.WITH_CONTROLS,re.b.TABLE_STICKY,re.b.TABLE_STICKY_SHADOW,ie.q,ie.f,re.b.TABLE_STICKY,re.b.TABLE_STICKY,re.b.TABLE_STICKY,re.b.TABLE_STICKY,re.b.TABLE_CONTAINER,re.b.TABLE_STICKY,re.b.WITH_RESIZE_LINE,re.b.WITH_RESIZE_LINE,re.b.RESIZE_HANDLE_DECORATION,(ie.c-2)/2+1,re.b.WITH_RESIZE_LINE,re.b.SELECTED_CELL,re.b.WITH_RESIZE_LINE,re.b.SELECTED_CELL,re.b.RESIZE_HANDLE_DECORATION,(ie.c-2)/2,re.b.HOVERED_CELL,re.b.SELECTED_CELL,re.b.WITH_CONTROLS,ie.l,re.b.WITH_CONTROLS,re.b.TABLE_STICKY,re.b.NUMBERED_COLUMN,re.b.NUMBERED_COLUMN_BUTTON,ie.l+2,re.b.CORNER_CONTROLS,ie.l-ie.q+2,be,8,re.b.ROW_CONTROLS_WRAPPER,8,re.b.TABLE_CONTAINER,x.Q+8-1,re.b.TABLE_LEFT_SHADOW,re.b.TABLE_RIGHT_SHADOW,re.b.NODEVIEW_WRAPPER,re.b.NODEVIEW_WRAPPER,re.b.TABLE_CONTAINER,ye,re.b.CORNER_CONTROLS,ie.q+1,ie.q+1,re.b.CORNER_CONTROLS_INSERT_ROW_MARKER,le("\n          left: -11px;\n          top: 9px;\n        "),re.b.CORNER_CONTROLS_INSERT_COLUMN_MARKER,le("\n          right: -1px;\n          top: -12px;\n        "),re.b.CORNER_CONTROLS,re.b.CORNER_CONTROLS_INSERT_ROW_MARKER,re.b.CONTROLS_CORNER_BUTTON,ie.q+1,ie.q+1,ie.f,3,ie.n,re.b.CONTROLS_CORNER_BUTTON,ie.h,ie.p,re.b.TABLE_CONTAINER,re.b.CORNER_CONTROLS,re.b.CONTROLS_CORNER_BUTTON,x.T+x.Q,re.b.ROW_CONTROLS,re.b.CONTROLS_BUTTON,re.b.IS_RESIZING,re.b.CONTROLS_CORNER_BUTTON,ie.h,ie.p,re.b.IS_RESIZING,re.b.CONTROLS_CORNER_BUTTON,re.b.HOVERED_CELL_IN_DANGER,ie.g,ie.o,re.b.ROW_CONTROLS,ie.q,le("\n        bottom: -1px;\n        left: -11px;\n      "),re.b.ROW_CONTROLS_INNER,re.b.ROW_CONTROLS_BUTTON_WRAP,3,re.b.ROW_CONTROLS_BUTTON_WRAP,re.b.ROW_CONTROLS_BUTTON_WRAP,re.b.ROW_CONTROLS_BUTTON_WRAP,re.b.CONTROLS_BUTTON,x.V,(e=>Object(c.css)([".","{background:",";border:1px solid ",";display:block;box-sizing:border-box;padding:0;:focus{outline:none;}","}.","::after{content:' ';background-color:transparent;left:-15px;top:0;position:absolute;width:15px;height:100%;z-index:1;}.active .","{color:",";background-color:",";border-color:",";}"],re.b.CONTROLS_BUTTON,ie.n,ie.f,e,re.b.ROW_CONTROLS_BUTTON,re.b.CONTROLS_BUTTON,"#FFFFFF",ie.p,ie.h))(`\n        border-bottom: 1px solid ${ie.f};\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ${ie.q}px;\n\n        .${re.b.CONTROLS_BUTTON_OVERLAY} {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .${re.b.CONTROLS_BUTTON_OVERLAY}:first-child {\n          top: 0;\n        }\n      `),re.b.IS_RESIZING,re.b.ROW_CONTROLS,(()=>Object(c.css)([".",":hover{color:",";background-color:",";border-color:",";cursor:pointer;}"],re.b.CONTROLS_BUTTON,"#FFFFFF",ie.p,ie.h))(),(()=>Object(c.css)(["."," .","{background-color:",";border-color:",";position:relative;z-index:",";}"],re.b.HOVERED_CELL_IN_DANGER,re.b.CONTROLS_BUTTON,ie.o,ie.g,x.V))(),re.b.NUMBERED_COLUMN,x.T-1,x.T,x.Q+1,re.b.NUMBERED_COLUMN_BUTTON,ie.f,Object(ee.fontSize)(),ie.n,ie.m,ie.f,ie.f,re.b.WITH_CONTROLS,re.b.CORNER_CONTROLS,re.b.ROW_CONTROLS,re.b.NUMBERED_COLUMN,re.b.NUMBERED_COLUMN_BUTTON,re.b.NUMBERED_COLUMN_BUTTON,ie.h,ie.h,ie.p,x.V,"#FFFFFF",re.b.IS_RESIZING,re.b.WITH_CONTROLS,re.b.NUMBERED_COLUMN_BUTTON,re.b.NUMBERED_COLUMN_BUTTON,ie.h,ie.h,ie.p,x.V,"#FFFFFF",re.b.NUMBERED_COLUMN_BUTTON,re.b.HOVERED_CELL_IN_DANGER,ie.o,ie.g,"#BF2600",x.V,re.b.TABLE_NODE_WRAPPER,re.b.COLUMN_CONTROLS_DECORATIONS,re.b.SELECTED_CELL,re.b.HOVERED_CELL_IN_DANGER,re.b.SELECTED_CELL,re.b.HOVERED_CELL_IN_DANGER,x.I,re.b.SELECTED_CELL,ie.h,re.b.SELECTED_CELL,ie.k,re.b.HOVERED_CELL_IN_DANGER,re.b.HOVERED_CELL_IN_DANGER,ie.j,re.b.ROW_CONTROLS_WRAPPER,Q.h-1,re.b.ROW_CONTROLS_WRAPPER,re.b.TABLE_LEFT_SHADOW,x.V,re.b.ROW_CONTROLS_WRAPPER,ie.q,re.b.TABLE_NODE_WRAPPER,10,10,10,10,15,15,re.b.IS_RESIZING,re.b.TABLE_NODE_WRAPPER,oe.l,re.b.RESIZE_CURSOR),Se=Object(c.css)([".ProseMirror ."," > table{margin-left:0;margin-right:0;width:100%;}"],re.b.TABLE_NODE_WRAPPER),_e=Object(c.css)([".ProseMirror ."," > table{margin-left:0;margin-right:0;",";}"],re.b.TABLE_NODE_WRAPPER,oe.l),Ce=Object(c.css)([".ProseMirror .","{position:relative;color:",";width:100%;pointer-events:none;display:block;user-select:none;> span{position:absolute;pointer-events:none;}&.align-end > span{right:0;}&.align-center > span{left:0;}}"],"placeholder-decoration","#8993A4")
;var xe=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/blockquote.js"),Te=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/headings.js");const Pe=Object(c.css)([".ProseMirror{",";",";}"],xe.a,Te.a);var Ae=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),Ie=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/overflow-shadow/overflow-shadow.js"),Me=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/code-block/ui/class-names.js")
;const De=Object(c.css)([".ProseMirror .code-block{position:relative;background-image:",";background-repeat:no-repeat;background-color:",";background-attachment:local,scroll,scroll;background-size:8px 100%,8px 100%,8px 100%;background-position:100% 0,100% 0,0 0;font-family:",";border-radius:","px;margin:"," 0 0 0;counter-reset:line;display:flex;min-width:","px;cursor:pointer;overflow-x:auto;.","{flex-shrink:0;text-align:right;background-color:",";padding:","px;span{display:block;line-height:0;font-size:0;&::before{display:inline-block;content:counter(line);counter-increment:line;font-size:","px;line-height:24px;color:",";}}}.","{display:flex;flex:1;code{flex-grow:1;tab-size:4;cursor:text;font-size:","px;line-height:24px;color:",";border-radius:","px;margin:","px;white-space:pre;}}}.ProseMirror li > .code-block{margin:0;}.ProseMirror .code-block.",":not(.danger){","}.ProseMirror .danger.code-block{box-shadow:0 0 0 ","px ",";.","{background-color:",";color:",";}.","{background-color:",";}}.ProseMirror .danger .code-block{.","{background-color:rgba(255,143,115,0.5);color:",";}.","{background-color:rgba(255,189,173,0.5);}}"],Object(Ie.a)({
background:Object(Ae.a)({light:"#F4F5F7",dark:"#283447"}),width:"8px"}),Object(Ae.a)({light:"#F4F5F7",dark:"#283447"}),x.e,Object(ee.borderRadius)(),x.Z,x.O,Me.a.gutter,Object(Ae.a)({light:"#EBECF0",dark:"#121A29"}),Object(ee.gridSize)(),Object(ee.fontSize)(),Object(Ae.a)({light:"#505F79",dark:"#9FB0CC"}),Me.a.content,Object(ee.fontSize)(),Object(Ae.a)({light:"#172B4D",dark:"#DCE5F5"}),Object(ee.borderRadius)(),Object(ee.gridSize)(),x.G,Object(te.a)([ne.a.BoxShadow,ne.a.Blanket]),x.E,x.i,Me.a.gutter,"#FFBDAD",x.j,Me.a.content,x.g,Me.a.gutter,x.j,Me.a.content),Ne=Object(c.css)([".ProseMirror li{position:relative;> p:not(:first-child){margin:4px 0 0 0;}}"]);var Re=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/rule.js");const Le=Object(c.css)([".ProseMirror{",";hr{cursor:pointer;padding:4px 0;margin:calc(","em - 4px) 0;background-clip:content-box;&.","{outline:none;background-color:",";}}}"],Re.a,x.s,x.G,x.D)
;var Be=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/media-single.js"),Fe=n("./node_modules/@atlaskit/media-card/dist/es2019/files/cardImageView/index.js")
;const ze=Object(c.css)([".ProseMirror{"," & [layout='full-width'] .",",& [layout='wide'] .","{margin-left:50%;transform:translateX(-50%);}& [layout^='wrap-'] + [layout^='wrap-']{clear:none;& + p,& + div[class^='fabric-editor-align'],& + ul,& + ol,& + h1,& + h2,& + h3,& + h4,& + h5,& + h6{clear:both !important;}& .","{margin-left:0;margin-right:0;}}.mediaSingleView-content-wrap[layout^='wrap-']{max-width:100%;clear:inherit;}.mediaSingleView-content-wrap[layout='wrap-left']{float:left;}.mediaSingleView-content-wrap[layout='wrap-right']{float:right;}.mediaSingleView-content-wrap[layout='wrap-right'] + .mediaSingleView-content-wrap[layout='wrap-left']{clear:both;}& > .mediaSingleView-content-wrap{.richMedia-resize-handle-right{margin-right:-","px;}.richMedia-resize-handle-left{margin-left:-","px;}}}.richMedia-resize-handle-right,.richMedia-resize-handle-left{display:flex;flex-direction:column;justify-content:center;}.richMedia-resize-handle-right{align-items:flex-end;padding-right:12px;margin-right:-","px;}.richMedia-resize-handle-left{align-items:flex-start;padding-left:12px;margin-left:-","px;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{content:' ';display:flex;width:3px;height:64px;border-radius:6px;}.",":hover .richMedia-resize-handle-left::after,.",":hover .richMedia-resize-handle-right::after{background:",";}."," .richMedia-resize-handle-right::after,."," .richMedia-resize-handle-left::after,."," .richMedia-resize-handle-right:hover::after,."," .richMedia-resize-handle-left:hover::after,.",".is-resizing .richMedia-resize-handle-right::after,.",".is-resizing .richMedia-resize-handle-left::after{background:",";}.__resizable_base__{left:unset !important;width:auto !important;height:auto !important;}.danger > div > div > .media-card-frame,.danger > span > a{background-color:",";box-shadow:0px 0px 0px ","px ",";transition:background-color 0s;transition:box-shadow 0s;}.danger{."," .","::after{border:","px solid ",";}.richMedia-selected .richMedia-resize-handle-right::after,.richMedia-selected .richMedia-resize-handle-left::after{background:",";}div div .media-card-frame,.inlineCardView-content-wrap > span > a{background-color:rgb(255,189,173,0.5);transition:background-color 0s;}div div .media-card-frame::after{box-shadow:none;}}"],Be.a,Be.b,Be.b,Be.b,x.u,x.u,x.t,x.t,Be.b,Be.b,"#B3BAC5",x.G,x.G,Be.b,Be.b,Be.b,Be.b,"#2684FF",x.g,x.C,x.i,Be.b,Fe.b,x.C,x.i,x.i)
;var Ue=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/layout/styles.js"),He=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/panel.js")
;const $e=Object(c.css)([".ProseMirror{.","{cursor:pointer;&.danger{box-shadow:0 0 0 ","px ",";background-color:"," !important;.","{color:"," !important;}}}.","{cursor:text;}.danger .","{&[data-panel-type]{background-color:",";.","{color:",";}}}",";}.",".",":not(.danger){","}"],He.a.prefix,x.E,x.i,x.g,He.a.icon,x.j,He.a.content,He.a.prefix,x.h,He.a.icon,x.j,He.c,He.a.prefix,x.G,Object(te.a)([ne.a.BoxShadow,ne.a.Blanket])),We=Object(c.css)([".ProseMirror{.ProseMirror-fake-text-cursor{display:inline;pointer-events:none;position:relative;}.ProseMirror-fake-text-cursor::after{content:'';display:inline;top:0;position:absolute;border-right:1px solid rgba(0,0,0,0.4);}.ProseMirror-fake-text-selection{display:inline;pointer-events:none;position:relative;background-color:",";}}"],"#B3D4FF"),Ve="mentionView-content-wrap",Ke=Object(c.css)([".","{&."," [data-mention-id] > span{"," color:",";}}.danger{.","."," > span > span{box-shadow:0 0 0 ","px ",";background-color:",";}."," > span > span{background-color:",";color:",";}}"],Ve,x.G,Object(te.a)([ne.a.BoxShadow,ne.a.Background]),"#42526E",Ve,x.G,x.E,x.i,x.h,Ve,"rgba(9, 30, 66, 0.08)","#42526E")
;var qe=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/styles.js");const Ge={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:qe.p,EMOJI_SPRITE:qe.s,EMOJI_IMAGE:qe.o
},Ye=Object(c.css)([".","{.","{cursor:pointer;&."," > span{display:flex;}}&.","{.",",."," > span{border-radius:2px;","}}}"],Ge.EMOJI_CONTAINER,Ge.EMOJI_NODE,Ge.EMOJI_IMAGE,x.G,Ge.EMOJI_SPRITE,Ge.EMOJI_IMAGE,Object(te.a)([ne.a.Blanket,ne.a.BoxShadow])),Xe=Object(ee.gridSize)()/2,Je=Object(ee.fontSizeSmall)(),Ze=4*Xe/Je,Qe=105*Xe,et=2*Xe,tt=Xe/4,nt=2*Xe,ot=Object(c.css)([".editor-emoji{position:relative;display:inline-block;width:20px;height:20px;background-repeat:none;background-size:contain;cursor:pointer;vertical-align:middle;&.editor-emoji-loading{border-radius:","px;background:",";}&.editor-emoji-fallback{display:inline;background:transparent;vertical-align:baseline;}&.ProseMirror-selectednode:empty{outline:none;}&:not(.editor-emoji-fallback){font-size:0px;}&:not(.editor-emoji-fallback)::before{content:attr(data-emoji-shortname);display:block;box-sizing:border-box;width:auto;position:absolute;top:100%;left:50%;transform:translate(-50%,","px);color:",";background-color:",";font-size:","px;line-height:",";max-width:","px;border-radius:","px;overflow:hidden;padding:","px ","px;pointer-events:none;position:absolute;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;z-index:10000;opacity:0;transition:opacity 0.35s;}&:not(.editor-emoji-fallback):hover::before{opacity:1;transition:opacity 0s 0.35s;}&.","{z-index:2;border-radius:2px;","}}"],Object(ee.borderRadius)(),"#F4F5F7",nt,"#FFFFFF","#091E42",Je,Ze,Qe,Object(ee.borderRadius)(),tt,et,x.G,Object(te.a)([ne.a.Blanket,ne.a.BoxShadow]))
;var rt=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/code-mark.js");const it=Object(c.css)(["",""],rt.a),st=Object(c.css)([".ProseMirror span[data-placeholder]{color:",";}"],"#5E6C84");var at=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/styles.js");const lt=Object(c.css)(["a.blockLink{display:block;}"]),ct=Object(c.css)([".ProseMirror{","}"],lt),dt=Object(c.css)([".extensionView-content-wrap,.bodiedExtensionView-content-wrap{margin:"," 0;&:first-of-type{margin-top:0;}&:last-of-type{margin-bottom:0;}&:not(.danger).","{& > span > .extension-container{","}}&.danger > span > .extension-container{box-shadow:0 0 0 ","px ",";background-color:",";}}.extensionView-content-wrap .extension-container{overflow:hidden;}"],x.Z,x.G,Object(te.a)([ne.a.BoxShadow,ne.a.Blanket]),x.E,x.i,x.g)
;var ut=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Expand/index.js"),pt=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/breakout/constants.js"),ht=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/ui/class-names.js");const mt=Object(Ae.a)({light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),ft=Object(c.css)(["color:",";"],Object(Ae.a)({light:"rgba(9, 30, 66, 0.42)",dark:"#d9dde3"})),bt=Object(Ae.a)({dark:"#0C294F"}),gt=Object(Ae.a)({dark:"1px solid #4794ff"}),yt=Object(Ae.a)({dark:"3px"}),vt=Object(Ae.a)({light:"#FFEBE6",dark:"#441C13"}),Ot=Object(Ae.a)({dark:"1px solid #FF7452"}),jt=Object(Ae.a)({light:"#FF5630"}),wt=Object(Ae.a)({dark:"3px"
}),kt=Object(c.css)(["."," > div{display:flex;}.","{"," overflow:hidden;cursor:pointer;box-sizing:border-box;td > &{margin-top:0;}."," svg{",";transform:rotate(90deg);}&.",":not(.danger){","::after{background-color:",";border:",";border-radius:",";}}&.danger{background:",";border:",";border-color:",";border-radius:",";}}.ProseMirror > .",",."," > .","{margin-left:-","px;margin-right:-","px;}.","{"," cursor:text;padding-top:0px;}.","{","}.","{",";overflow:visible;}.","{background:",";border-color:",";.","{padding-top:","px;}}.","{width:100%;}.",":(.","){.expand-content-wrapper{height:auto;}}.",":not(.","){.ak-editor-expand__content{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;}."," svg{",";transform:rotate(0deg);}&:not(.","):not(.danger){background:transparent;border-color:transparent;&:hover{border-color:",";background:",";}}}"],ht.a.icon,ht.a.prefix,ut.d.ContainerStyles,ht.a.iconContainer,ft,x.G,Object(te.a)([ne.a.Blanket,ne.a.Border]),bt,gt,yt,vt,Ot,jt,wt,ht.a.type("expand"),pt.a.BREAKOUT_MARK_DOM,ht.a.type("expand"),x.X,x.X,ht.a.content,ut.d.ContentStyles,ht.a.titleInput,ut.d.TitleInputStyles,ht.a.titleContainer,ut.d.TitleContainerStyles,ht.a.expanded,mt,Object(Ae.a)({
light:"rgba(9, 30, 66, 0.13)",dark:"#283447"}),ht.a.content,ee.gridSize,ht.a.inputContainer,ht.a.prefix,ht.a.expanded,ht.a.prefix,ht.a.expanded,ht.a.iconContainer,ft,x.G,Object(Ae.a)({light:"rgba(9, 30, 66, 0.25)",dark:"#283447"}),mt);var Et=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/alt-text/style.js")
;const St=Object(c.css)([".","{background-color:",";}.","{background-color:",";color:white;}"],"search-match","#B3D4FF","selected-search-match","#2684FF"),_t=Object(c.css)(["[data-decision-wrapper]{cursor:pointer;}."," > [data-decision-wrapper],ol[data-node-type='decisionList'].","{border-radius:4px;","}.danger{.","."," > div{box-shadow:0 0 0 ","px ",";background-color:",";&::after{content:none;}}}"],x.G,x.G,Object(te.a)([ne.a.BoxShadow,ne.a.Blanket]),U.a.DECISION_CONTAINER,x.G,x.E,x.i,x.h),Ct="statusView-content-wrap",xt="status-lozenge-span",Tt=Object(c.css)([".","{> span{display:inline-block;cursor:pointer;line-height:0;}&."," ."," > span{","}}.danger{."," > span{background-color:",";}.","."," ."," > span{box-shadow:0 0 0 ","px ",";}}"],Ct,x.G,xt,Object(te.a)([ne.a.BoxShadow]),xt,x.h,Ct,x.G,xt,x.E,x.i),Pt=Object(c.css)([".","{max-width:calc(100% - 20px);vertical-align:top;word-break:break-all;.card{padding-left:2px;padding-right:2px;."," > a:focus{","}}&."," ."," > a{","}."," > a{z-index:1;position:relative;}&.danger{."," > a{box-shadow:0 0 0 1px ",";z-index:2;}}}.","{."," > div{cursor:pointer;&:hover{background-color:",";}}&."," ."," > div{","}&.danger{."," > div{box-shadow:0 0 0 1px "," !important;}}}.","{."," > div{cursor:pointer;&::after{transition:box-shadow 0s;}}&."," ."," > div{","}&."," ."," > div::after{","}&.danger{.media-card-frame::after{box-shadow:0 0 0 3px "," !important;background:"," !important;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{background:",";}}}"],V.a.INLINE_CARD_CONTAINER,V.a.LOADER_WRAPPER,Object(te.a)([ne.a.BoxShadow]),x.G,V.a.LOADER_WRAPPER,Object(te.a)([ne.a.BoxShadow]),V.a.LOADER_WRAPPER,V.a.LOADER_WRAPPER,x.i,V.a.BLOCK_CARD_CONTAINER,V.a.LOADER_WRAPPER,"#F4F5F7",x.G,V.a.LOADER_WRAPPER,Object(te.a)([ne.a.BoxShadow]),V.a.LOADER_WRAPPER,x.i,V.a.EMBED_CARD_CONTAINER,V.a.LOADER_WRAPPER,x.G,V.a.LOADER_WRAPPER,Object(te.a)([ne.a.BoxShadow]),x.G,V.a.LOADER_WRAPPER,Object(te.a)([ne.a.BoxShadow]),x.i,x.g,x.i),At=Object(c.css)([".","{.","{line-height:initial;cursor:pointer;}&.","{."," > span{","}}}.danger{.","."," ."," > span{box-shadow:0 0 0 ","px ",";}}"],$.a.DATE_CONTAINER,$.a.DATE_WRAPPER,x.G,$.a.DATE_WRAPPER,Object(te.a)([ne.a.BoxShadow]),$.a.DATE_CONTAINER,x.G,$.a.DATE_WRAPPER,x.E,x.i),It=Object(c.css)([".ProseMirror{.embedCardView-content-wrap[layout^='wrap-']{max-width:100%;}.embedCardView-content-wrap[layout='wrap-left']{float:left;}.embedCardView-content-wrap[layout='wrap-right']{float:right;}.embedCardView-content-wrap[layout='wrap-right'] + .embedCardView-content-wrap[layout='wrap-left']{clear:both;}}"])
;var Mt=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/index.js")
;const Dt=c.default.div([".ProseMirror{outline:none;font-size:","px;",";",";",";",";",";",";}.ProseMirror[contenteditable='false'] .taskItemView-content-wrap{pointer-events:none;opacity:0.7;}.ProseMirror-hideselection *::selection{background:transparent;}.ProseMirror-hideselection *::-moz-selection{background:transparent;}.ProseMirror-selectednode{outline:none;}.ProseMirror-selectednode:empty{outline:2px solid #8cf;}"," "," "," "," "," "," "," "," "," "," ",";",";"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," .panelView-content-wrap{box-sizing:border-box;}.mediaGroupView-content-wrap ul{padding:0;}div.fabric-editor-block-mark[class^='fabric-editor-align']{clear:none !important;}.fabric-editor-align-end{text-align:right;}.fabric-editor-align-start{text-align:left;}.fabric-editor-align-center{text-align:center;}.pm-table-header-content-wrap,.pm-table-cell-content-wrap div.fabric-editor-block-mark{p{margin-top:0;}}.hyperlink-floating-toolbar,.","{padding:0;}.hyperlink-open-link{svg{max-width:18px;}&[href]{padding:0 4px;}}"],x.bb,N.a,R.a,L.a,B.a,F.a,z,Pe,it,st,Ce,De,Ne,Le,ze,Ue.c,G,Z,Ee,$e,We,Ke,(({featureFlags:e})=>(null==e?void 0:e.nextEmojiNodeView)?ot:Ye),U.b,at.b,ct,H.a,$.b,dt,kt,St,_t,Tt,W.c,Pt,V.b,At,It,K.b,Et.a.FLOATING_TOOLBAR_COMPONENT)
;var Nt=s.a.forwardRef(((e,t)=>{const n=Object(Mt.c)();return s.a.createElement(Dt,D()({},e,{innerRef:t,featureFlags:n}))}));const Rt=`0.5s ${x.L}`,Lt=2*x.r,Bt=c.default.div(["min-width:340px;height:100%;display:flex;flex-direction:column;box-sizing:border-box;"]);Bt.displayName="FullPageEditorWrapper";const Ft=Object(c.default)(Nt)(["flex-grow:1;height:100%;overflow-y:scroll;position:relative;display:flex;flex-direction:column;scroll-behavior:smooth;",";"],oe.l);Ft.displayName="ScrollContainer";const zt=c.default.div(["display:flex;flex-direction:row;height:calc(100% - ",");box-sizing:border-box;"],"56px");zt.displayName="ContentArea";const Ut=c.default.div(["height:100%;box-sizing:border-box;align-self:flex-end;"]);Ut.displayName="SidebarArea"
;const Ht=c.default.div(["line-height:24px;padding-top:50px;padding-bottom:55px;height:calc( 100% - 105px );width:100%;margin:auto;flex-direction:column;flex-grow:1;max-width:","px;transition:max-width ",";& .ProseMirror{flex-grow:1;box-sizing:border-box;}& .ProseMirror{& > *{clear:both;}> p,> ul,> ol:not(","):not(","),> h1,> h2,> h3,> h4,> h5,> h6{clear:none;}> p:last-child{margin-bottom:24px;}}",";.fabric-editor--full-width-mode{.fabric-editor-breakout-mark,.extension-container,.pm-table-container{width:100% !important;}.fabric-editor-breakout-mark{margin-left:unset !important;transform:none !important;}","}"],(({theme:e,fullWidthMode:t})=>(t?x.p:e.layoutMaxWidth)+Lt),Rt,A.b,I.b,Se,(({containerWidth:e})=>e?`\n        .pm-table-container,\n        .code-block,\n        .extension-container {\n          max-width: ${e-Lt-4}px;\n        }\n\n        [data-layout-section] {\n          max-width: ${e-Lt+2*x.X}px;\n        }\n      `:"\n          .pm-table-container,\n          .code-block,\n          .extension-container {\n            display: none;\n          }\n        "))
;Ht.displayName="EditorContentArea";const $t=c.default.div(["box-sizing:border-box;padding:0 ","px;"],x.r);$t.displayName="EditorContentGutter";var Wt=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ContextPanel/context.js"),Vt=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js"),Kt=n("./node_modules/@atlaskit/editor-core/dist/es2019/commands/index.js"),qt=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/actions.js");const Gt=(e,t)=>{const n=t.currentTarget.querySelector(".ak-editor-content-area"),o=!(!e||!e.hasFocus()),r=t.target,i="INPUT"===r.nodeName,s=!!Object(Vt.b)(r,"[data-editor-popup]"),a="TEXTAREA"===r.nodeName,l=!n,c=!(e=>{for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1})(r.parentNode);(l||c||!1===o)&&!i&&!a&&!s&&e&&Yt(e,t)},Yt=(e,t)=>{const{dispatch:n,dom:o}=e,r=!(!e||!e.hasFocus()),i=Xt(t,o,e,n),s=Object(qt.c)(t,o,e.posAtCoords.bind(e),r)(e.state,n)
;(i||s)&&(e.focus(),t.stopPropagation(),t.preventDefault())},Xt=(e,t,n,o)=>!!(e.clientY>t.getBoundingClientRect().bottom)&&Object(Kt.e)()(n.state,o),Jt=c.default.div(["flex-grow:1;height:100%;"]);Jt.displayName="ClickWrapper";class Zt extends s.a.Component{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const{editorView:t}=this.props;t&&Gt(t,e)}))}render(){return s.a.createElement(Jt,{onClick:this.handleClick},this.props.children)}}Zt.displayName="ClickAreaBlock";var Qt=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ContextPanel/index.js"),en=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js");const tn=c.default.div(["display:flex;"]);class nn extends s.a.Component{constructor(...e){super(...e),r()(this,"transitionEvent",Object(en.y)()),r()(this,"forceComponentUpdate",(e=>{e.propertyName.includes("width")&&this.forceUpdate()})),r()(this,"removeModeChangeListener",(e=>{
e&&this.transitionEvent&&e.removeEventListener(this.transitionEvent,this.forceComponentUpdate)})),r()(this,"addModeChangeListener",(e=>{e&&this.transitionEvent&&e.addEventListener(this.transitionEvent,this.forceComponentUpdate)}))}shouldComponentUpdate(e){const{editorView:t,editorActions:n,items:o,providerFactory:r,eventDispatcher:i,popupsMountPoint:s,popupsBoundariesElement:a,popupsScrollableElement:l,containerElement:c,disabled:d}=this.props;return!(e.editorView===t&&e.editorActions===n&&e.items===o&&e.providerFactory===r&&e.eventDispatcher===i&&e.popupsMountPoint===s&&e.popupsBoundariesElement===a&&e.popupsScrollableElement===l&&e.containerElement===c&&e.disabled===d)}componentDidMount(){this.addModeChangeListener(this.props.contentArea)}UNSAFE_componentWillReceiveProps(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}componentWillUnmount(){
this.removeModeChangeListener(this.props.contentArea)}render(){const{items:e,editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,appearance:i,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:c,containerElement:d,disabled:u,dispatchAnalyticsEvent:p}=this.props;return e&&t?s.a.createElement(tn,null,e.map(((e,h)=>{const m={key:h},f=e({editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,dispatchAnalyticsEvent:p,appearance:i,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:c,containerElement:d,disabled:u});return f&&s.a.cloneElement(f,m)}))):null}}nn.displayName="PluginSlot",r()(nn,"displayName","PluginSlot");var on=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js");var rn=({editorView:e})=>{const[t,n]=s.a.useState(0),[o,r]=s.a.useState(0),[i,a]=function({setContextPanelWidth:e,setContainerWidth:t}){return[s.a.useCallback((({width:t})=>(e(t),null)),[e]),s.a.useCallback((({width:e})=>(t(e),
null)),[t])]}({setContextPanelWidth:n,setContainerWidth:r});return s.a.useEffect((()=>{const n=o-t;if(n<=0||isNaN(n)||!e)return;const{dom:r,state:{tr:i},dispatch:s}=e;return i.setMeta(on.b,{width:n,lineLength:r?r.clientWidth:void 0}),s(i),()=>{}}),[e,t,o]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Wt.a,null,i),s.a.createElement(h.a,null,a))};const sn=s.a.memo((e=>s.a.createElement(zt,{"data-testid":"ak-editor-fp-content-area"},s.a.createElement(Ft,{innerRef:e.scrollContainerRef,allowAnnotation:e.allowAnnotation,className:"fabric-editor-popup-scroll-parent"},s.a.createElement(Zt,{editorView:e.editorView},s.a.createElement(h.a,null,(({width:t})=>s.a.createElement(Ht,{fullWidthMode:"full-width"===e.appearance,innerRef:e.contentAreaRef,containerWidth:t},s.a.createElement($t,{className:["ak-editor-content-area","full-width"===e.appearance?"fabric-editor--full-width-mode":""].join(" ")},e.customContentComponents,s.a.createElement(nn,{editorView:e.editorView,
editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.contentComponents,contentArea:e.contentArea,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:!!e.disabled,containerElement:e.scrollContainer,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent}),e.editorDOMElement)))))),s.a.createElement(Ut,null,e.contextPanel||s.a.createElement(Qt.a,{visible:!1})),s.a.createElement(rn,{editorView:e.editorView}))));var an=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),ln=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin-key.js"),cn=n("./node_modules/@atlaskit/editor-core/dist/es2019/messages.js"),dn=n("./node_modules/@atlaskit/avatar-group/dist/es2019/components/AvatarGroup.js")
;const un=c.default.div(["background:",";border-radius:50%;min-width:","px;margin-left:-","px;"],"#F4F5F7",4*Object(ee.gridSize)(),Object(ee.gridSize)()/2),pn=c.default.div(["margin-right:","px;display:flex;align-items:center;div:last-child button.invite-to-edit{border-radius:50%;height:32px;width:32px;padding:2px;}"],Object(ee.gridSize)()),hn=c.default.div(["display:block;position:absolute;right:1px;bottom:1px;width:13px;height:13px;z-index:",";border-radius:3px;background:",";color:#fff;font-size:9px;line-height:0;padding-top:7px;text-align:center;box-shadow:0 0 1px #fff;box-sizing:border-box;"],x.I,(({color:e})=>e)),mn=e=>{const t=Object(q.d)(e.sessionId).color.solid,n=e.name.substr(0,1).toUpperCase();return s.a.createElement(hn,{color:t,"data-testid":"editor-collab-badge"},n)};var fn=Object(u.a)((e=>({name:e.name,src:e.avatar,size:"medium",presence:s.a.createElement(mn,{name:e.name,sessionId:e.sessionId})})),(([e],[t])=>{const n=e,o=t
;return n.name===o.name&&n.avatar===o.avatar&&n.sessionId===o.sessionId}));const bn=s.a.memo((e=>{const{sessionId:t}=e,n=e.participants.toArray().sort((e=>e.sessionId===t?-1:1)).map(fn);return n.length?s.a.createElement(pn,null,s.a.createElement(dn.a,{appearance:"stack",size:"medium",data:n}),e.children):null}));var gn=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/add.js"),yn=n.n(gn),vn=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js");const On=e=>s.a.createElement(s.a.Fragment,null,e.children),jn=e=>{const{Component:t,onClick:n,selected:o,title:r}=e,i=s.a.useMemo((()=>s.a.createElement(yn.a,{label:r})),[r]);if(!t&&!n)return null;const a=t||On;return s.a.createElement(un,null,s.a.createElement(a,null,s.a.createElement(vn.a,{className:"invite-to-edit",onClick:n,selected:o,title:r,titlePosition:"bottom",iconBefore:i})))};var wn=Object(d.i)((e=>{
const t=e.intl.formatMessage(cn.a.inviteToEditButtonTitle),{isInviteToEditButtonSelected:n,inviteToEditHandler:o,inviteToEditComponent:r}=e,i=s.a.useCallback((({data:e})=>e?s.a.createElement(bn,{sessionId:e.sessionId,participants:e.activeParticipants},s.a.createElement(jn,{title:t,selected:n,onClick:o,Component:r})):null),[n,o,r,t]);return s.a.createElement(an.a,{plugins:{data:ln.a},render:i,editorView:e.editorView})})),kn=n("./node_modules/@atlaskit/width-detector/dist/es2019/WidthObserver/index.js");var En=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/is-full-page.js"),Sn=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Toolbar/types.js");const _n=[{width:650,size:Sn.a.XXL},{width:580,size:Sn.a.XL},{width:540,size:Sn.a.L},{width:490,size:Sn.a.M},{width:410,size:Sn.a.S}],Cn=[{width:610,size:Sn.a.XXL},{width:540,size:Sn.a.XL},{width:460,size:Sn.a.L},{width:450,size:Sn.a.M},{width:370,size:Sn.a.S}],xn=(e,t)=>((e=>Object(En.a)(e)?_n:Cn)(t).find((({width:t})=>e>t))||{
size:Sn.a.XXXS}).size,Tn=c.default.div(["display:flex;@media (max-width:","px){justify-content:space-between;}"],x.x);class Pn extends s.a.Component{shouldComponentUpdate(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}render(){const{appearance:e,editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,items:i,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:c,toolbarSize:d,disabled:u,isToolbarReducedSpacing:p,dispatchAnalyticsEvent:h,containerElement:m}=this.props;return i&&i.length?s.a.createElement(Tn,null,i.map(((f,b)=>{const g={key:b},y=f({editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,appearance:e,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:c,
disabled:u,toolbarSize:d,isToolbarReducedSpacing:p,containerElement:m,isLastItem:b===i.length-1,dispatchAnalyticsEvent:h});return y&&s.a.cloneElement(y,g)}))):null}}Pn.displayName="ToolbarInner";const An=e=>s.a.createElement(Pn,{items:e.items,editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,toolbarSize:e.toolbarSize,isToolbarReducedSpacing:e.toolbarSize<Sn.a.XXL,containerElement:e.containerElement}),In=c.default.div(["width:100%;min-width:254px;position:relative;@media (max-width:","px){grid-column:1 / 2;grid-row:2;width:calc(100% - 30px);margin:0 15px;}"],x.x),Mn=e=>{const t=s.a.createRef(),[n,o]=s.a.useState(void 0),r=((e,{skip:t})=>{const[n,o]=s.a.useState(void 0)
;return s.a.useEffect((()=>{!t&&e.current&&o(Math.round(e.current.getBoundingClientRect().width))}),[t,o,e]),n})(t,{skip:void 0!==n}),i=void 0===n&&void 0===r?void 0:xn(n||r,e.appearance);return s.a.createElement(In,null,s.a.createElement(kn.a,{setWidth:o}),e.editorView&&i?s.a.createElement(An,D()({},e,{toolbarSize:i})):s.a.createElement("div",{ref:t}))},Dn=c.default.div(["position:relative;align-items:center;box-shadow:",";transition:box-shadow 200ms ",";z-index:",";display:flex;height:","px;flex-shrink:0;background-color:white;& object{height:0 !important;}@media (max-width:","px){display:grid;height:calc(","px * 2);}"],(e=>e.showKeyline?`0 ${x.U}px 0 0 #EBECF0`:"none"),x.L,x.v,56,x.x,56);Dn.displayName="MainToolbar";const Nn=c.default.div(["margin:","px;height:","px;width:","px;@media (max-width:","px){grid-column:1;grid-row:1;}"],2*Object(ee.gridSize)(),4*Object(ee.gridSize)(),4*Object(ee.gridSize)(),x.x);Nn.displayName="MainToolbarIconBefore"
;const Rn=c.default.div(["display:flex;justify-content:flex-end;flex-grow:1;min-width:fit-content;@media (max-width:","px){grid-column:1;grid-row:1;}"],x.x);Rn.displayName="MainToolbar";c.default.div(["box-sizing:border-box;justify-content:flex-end;align-items:center;flex-shrink:0;display:flex;padding:24px 0;"]).displayName="SecondaryToolbar";const Ln=s.a.memo((e=>s.a.createElement(Wt.a,null,(({width:t})=>s.a.createElement(Dn,{"data-testid":"ak-editor-main-toolbar",showKeyline:e.showKeyline||t>0},e.beforeIcon&&s.a.createElement(Nn,null,e.beforeIcon),s.a.createElement(Mn,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.primaryToolbarComponents,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,containerElement:e.containerElement
}),s.a.createElement(Rn,null,s.a.createElement(wn,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected}),e.customPrimaryToolbarComponents))))));class Bn extends s.a.Component{constructor(...e){super(...e),r()(this,"state",{showKeyline:!1}),r()(this,"scrollContainer",null),r()(this,"contentAreaRef",(e=>{this.contentArea=e})),r()(this,"scrollContainerRef",(e=>{const t=this.scrollContainer;t&&t.removeEventListener("scroll",this.updateToolbarKeyline),this.scrollContainer=e||null,this.scrollContainer&&(this.scrollContainer.addEventListener("scroll",this.updateToolbarKeyline,!1),this.updateToolbarKeyline())})),r()(this,"updateToolbarKeyline",Object(P.a)((()=>{if(!this.scrollContainer)return!1;const{scrollTop:e}=this.scrollContainer,t=e>x.U
;return t!==this.state.showKeyline&&this.setState({showKeyline:t}),!1}))),r()(this,"handleResize",(()=>{this.scheduledKeylineUpdate=this.updateToolbarKeyline()}))}componentDidMount(){window.addEventListener("resize",this.handleResize,!1)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.scheduledKeylineUpdate&&cancelAnimationFrame(this.scheduledKeylineUpdate)}render(){const{props:e}=this,{showKeyline:t}=this.state;return s.a.createElement(Wt.b,null,s.a.createElement(Bt,{className:"akEditor"},s.a.createElement(Ln,{appearance:e.appearance,collabEdit:e.collabEdit,customPrimaryToolbarComponents:e.customPrimaryToolbarComponents,disabled:!!e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,
primaryToolbarComponents:e.primaryToolbarComponents,providerFactory:e.providerFactory,showKeyline:t,containerElement:this.scrollContainer,beforeIcon:e.primaryToolbarIconBefore}),s.a.createElement(sn,{allowAnnotation:e.allowAnnotation,appearance:e.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:e.contentComponents,contextPanel:e.contextPanel,customContentComponents:e.customContentComponents,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,providerFactory:e.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef})))}}Bn.displayName="FullPageEditor",r()(Bn,"displayName","FullPageEditor")
;var Fn=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/max-content-size/index.js");const zn=Object(c.keyframes)(["50%{background-color:",";}"],"#FF8F73"),Un=Object(c.keyframes)(["0%{background-color:",";}50%{background-color:auto;}100%{background-color:",";}"],"#FF8F73","#FF8F73"),Hn=c.default.div(["&.-flash > div{animation:0.25s ease-in-out ",";}& > div{animation:",";}"],Un,(e=>e.animate?`.25s ease-in-out ${zn}`:"none"));class $n extends s.a.Component{constructor(...e){super(...e),r()(this,"toggle",!1)}render(){const{animate:e,children:t}=this.props;return this.toggle=e&&!this.toggle,s.a.createElement(Hn,{className:this.toggle?"-flash":"",animate:e},t)}}$n.displayName="WithFlash"
;const Wn=c.default.div(["line-height:20px;height:auto;min-height:30px;"," overflow-x:hidden;overflow-y:auto;"," max-width:inherit;box-sizing:border-box;word-wrap:break-word;div > .ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;}"],(e=>e.maxHeight?"max-height: "+e.maxHeight+"px;":""),oe.l);Wn.displayName="ChromelessEditor";const Vn=Object(c.default)(Nt)([""]);Vn.displayName="ContentArea";class Kn extends s.a.Component{constructor(...e){super(...e),r()(this,"appearance","chromeless"),r()(this,"containerElement",null),r()(this,"renderChrome",(({maxContentSize:e})=>{const{editorDOMElement:t,editorView:n,editorActions:o,eventDispatcher:r,providerFactory:i,contentComponents:a,customContentComponents:l,maxHeight:c,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,disabled:h,dispatchAnalyticsEvent:m}=this.props,f=e&&e.maxContentSizeReached;return s.a.createElement($n,{animate:f},s.a.createElement(Wn,{maxHeight:c,innerRef:e=>this.containerElement=e
},s.a.createElement(Vn,null,l,s.a.createElement(nn,{editorView:n,editorActions:o,eventDispatcher:r,providerFactory:i,appearance:this.appearance,items:a,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,containerElement:this.containerElement,disabled:!!h,dispatchAnalyticsEvent:m}),t)))}))}render(){return s.a.createElement(an.a,{plugins:{maxContentSize:Fn.b},render:this.renderChrome})}}Kn.displayName="Editor",r()(Kn,"displayName","ChromelessEditorAppearance");var qn=n("./node_modules/@atlaskit/button/dist/es2019/button-group.js"),Gn=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),Yn=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js"),Xn=n("./node_modules/classnames/index.js"),Jn=n.n(Xn)
;const Zn=c.default.div(["display:flex;flex-direction:column;.less-margin .ProseMirror{margin:12px ","px ","px;}min-width:272px;min-height:150px;height:auto;"," background-color:white;border:1px solid ",";box-sizing:border-box;border-radius:","px;max-width:inherit;word-wrap:break-word;"],8,8,(e=>e.maxHeight?"max-height: "+e.maxHeight+"px;":""),"#DFE1E6",Object(ee.borderRadius)());Zn.displayName="CommentEditor";const Qn=c.default.div(["position:relative;align-items:center;padding:","px ","px 0;display:flex;height:auto;background-color:white;padding-left:","px;& > div > *:first-child{margin-left:0;}.block-type-btn{padding-left:0;}"],Object(ee.gridSize)(),Object(ee.gridSize)(),20);Qn.displayName="MainToolbar";const eo=c.default.div(["display:flex;justify-content:flex-end;align-items:center;flex-grow:1;padding-right:","px;> div{display:flex;flex-shrink:0;}"],20);eo.displayName="MainToolbar"
;const to=Object(c.default)(Nt)(["flex-grow:1;overflow-x:hidden;overflow-y:auto;line-height:24px;.ProseMirror{margin:12px ","px ","px;}.gridParent{margin-left:","px;margin-right:","px;width:calc(100% + ","px);}padding:","px;",";"],14,14,14-at.a,14-at.a,14-at.a,20,_e);to.displayName="ContentArea";const no=c.default.div(["box-sizing:border-box;justify-content:flex-end;align-items:center;display:flex;padding:12px 1px;"]);no.displayName="SecondaryToolbar";class oo extends s.a.Component{constructor(...e){super(...e),r()(this,"appearance","comment"),r()(this,"containerElement",null),r()(this,"handleSave",(()=>{this.props.editorView&&this.props.onSave&&this.props.onSave(this.props.editorView)})),r()(this,"handleCancel",(()=>{this.props.editorView&&this.props.onCancel&&this.props.onCancel(this.props.editorView)})),r()(this,"renderChrome",(({maxContentSize:e,mediaState:t})=>{
const{editorDOMElement:n,editorView:o,editorActions:r,eventDispatcher:i,providerFactory:a,contentComponents:l,customContentComponents:c,customPrimaryToolbarComponents:d,primaryToolbarComponents:u,customSecondaryToolbarComponents:p,popupsMountPoint:m,popupsBoundariesElement:f,popupsScrollableElement:b,maxHeight:g,onSave:y,onCancel:v,disabled:O,dispatchAnalyticsEvent:j,intl:w}=this.props,k=e&&e.maxContentSizeReached;return s.a.createElement($n,{animate:k},s.a.createElement(Zn,{maxHeight:g,className:"akEditor"},s.a.createElement(Qn,{"data-testid":"ak-editor-main-toolbar"},s.a.createElement(Mn,{editorView:o,editorActions:r,eventDispatcher:i,providerFactory:a,appearance:this.appearance,items:u,popupsMountPoint:m,popupsBoundariesElement:f,popupsScrollableElement:b,disabled:!!O,dispatchAnalyticsEvent:j,containerElement:this.containerElement}),s.a.createElement(eo,null,d)),s.a.createElement(Zt,{editorView:o},s.a.createElement(h.a,null,(({width:e})=>s.a.createElement(to,{
innerRef:e=>this.containerElement=e,className:Jn()("ak-editor-content-area",{"less-margin":e<x.w})},c,s.a.createElement(nn,{editorView:o,editorActions:r,eventDispatcher:i,dispatchAnalyticsEvent:j,providerFactory:a,appearance:this.appearance,items:l,popupsMountPoint:m,popupsBoundariesElement:f,popupsScrollableElement:b,containerElement:this.containerElement,disabled:!!O}),n)))),s.a.createElement(rn,{editorView:o})),s.a.createElement(no,null,s.a.createElement(qn.a,null,!!y&&s.a.createElement(Gn.a,{appearance:"primary",onClick:this.handleSave,testId:"comment-save-button",isDisabled:O||t&&!t.allUploadsFinished},w.formatMessage(cn.a.saveButton)),!!v&&s.a.createElement(Gn.a,{appearance:"subtle",onClick:this.handleCancel,isDisabled:O},w.formatMessage(cn.a.cancelButton))),s.a.createElement("span",{style:{flexGrow:1}}),p))}))}render(){return s.a.createElement(an.a,{plugins:{maxContentSize:Fn.b,mediaState:Yn.a},render:this.renderChrome})}}oo.displayName="Editor",
r()(oo,"displayName","CommentEditorAppearance");var ro=Object(d.i)(oo),io=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/plugin-factory.js");const so=c.default.div(["height:100%;",""],(e=>!0!==e.persistScrollGutter&&`min-height: ${e.minHeight}vh`));so.displayName="ClickWrapper";class ao extends s.a.Component{constructor(...e){super(...e),r()(this,"clickElementRef",s.a.createRef()),r()(this,"handleClick",(e=>{const{editorView:t}=this.props;if(!t)return;Gt(t,e);e.clientY>t.dom.getBoundingClientRect().bottom&&this.clickElementRef.current&&this.clickElementRef.current.scrollIntoView(!1)}))}render(){return s.a.createElement(so,{className:"editor-click-wrapper",minHeight:this.props.minHeight,persistScrollGutter:this.props.persistScrollGutter,onClick:this.handleClick,innerRef:this.clickElementRef},this.props.children)}}ao.displayName="ClickAreaMobile"
;const lo=c.default.div(["min-height:30px;width:100%;max-width:inherit;box-sizing:border-box;word-wrap:break-word;div > .ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;}"]);lo.displayName="MobileEditor";const co=Object(c.default)(Nt)([""]);function uo({editorView:e,maxHeight:t,persistScrollGutter:n,children:o}){const r=Object(i.useCallback)((({maxContentSize:r,mobileScroll:i})=>{const a=r&&r.maxContentSizeReached;let l=100;if(i){const{keyboardHeight:e,windowHeight:t,mobilePaddingTop:n}=i;l=100-100*e/t-100*n/t}return s.a.createElement($n,{animate:a},s.a.createElement(lo,{isMaxContentSizeReached:a,maxHeight:t},s.a.createElement(ao,{editorView:e||void 0,minHeight:l,persistScrollGutter:n},s.a.createElement(co,null,s.a.createElement("div",{style:{padding:"0 8px"},className:"ak-editor-content-area"},o)))))}),[o,t,e,n]);return s.a.createElement(an.a,{plugins:{maxContentSize:Fn.b,mobileScroll:io.d},render:r})}
function po({editorView:e,maxHeight:t,persistScrollGutter:n,editorDOMElement:o}){return s.a.createElement(uo,{editorView:e||null,maxHeight:t,persistScrollGutter:n},o,e&&s.a.createElement(rn,{editorView:e}))}co.displayName="ContentArea";var ho=n("./node_modules/@atlaskit/editor-core/dist/es2019/actions/index.js"),mo=n("./node_modules/@atlaskit/editor-core/dist/es2019/create-editor/ReactEditorView.js"),fo=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/EditorContext/index.js"),bo=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/PortalProvider/index.js"),go=n("./node_modules/@atlaskit/editor-core/dist/es2019/version-wrapper.js"),yo=n("./node_modules/@atlaskit/smart-card/dist/es2019/index.js"),vo=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js");function Oo(e){const t=s.a.useContext(e);return s.a.useMemo((()=>({Provider:e.Provider,Consumer:e.Consumer,value:t})),[t,e])}const jo=({children:e})=>{const t=Oo(yo.c),n=Oo(vo.a)
;return s.a.createElement(wo,{card:t,analytics:n},e)};class wo extends s.a.PureComponent{constructor(...e){super(...e),r()(this,"contextState",{})}getChildContext(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}render(){return this.props.children}}wo.displayName="LegacyContextAdapter",r()(wo,"childContextTypes",{contextAdapter:l.a.object});var ko=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/performance/measure-enum.js"),Eo=n("./node_modules/react-loadable/lib/index.js"),So=n.n(Eo),_o=n("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/module-helpers.js"),Co=n("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/manifest-helpers.js"),xo=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),To=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js");function Po(e,t){t&&Object(To.a)(t)({payload:{action:xo.a.INSERTED,actionSubject:xo.b.DOCUMENT,
actionSubjectId:xo.c.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:xo.e.QUICK_INSERT},eventType:xo.d.TRACK}})}var Ao=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js");function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class No extends s.a.Component{constructor(...e){super(...e),
r()(this,"state",{error:void 0}),r()(this,"fireAnalytics",(e=>{const{createAnalyticsEvent:t}=this.props;this.getProductName().then((n=>{t?t({action:xo.a.EDITOR_CRASHED,actionSubject:xo.b.EDITOR,eventType:xo.d.OPERATIONAL,attributes:Mo({product:n,browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},e)}).fire(Ao.b):console.error("Editor Error Boundary: Missing `createAnalyticsEvent` prop.",{channel:Ao.b,product:n,error:e})})).catch((e=>{console.error("Failed to resolve product name from contextIdentifierProvider.",e)}))})),r()(this,"getProductName",(async()=>{const{contextIdentifierProvider:e}=this.props;if(e){const t=await e;if(t.product)return t.product}return"atlaskit"}))}componentDidCatch(e,t){this.fireAnalytics({error:e.toString(),errorInfo:t}),this.setState({error:e},(()=>{if(this.props.rethrow)throw e}))}render(){return this.props.children}}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}No.displayName="ErrorBoundary",r()(No,"defaultProps",{rethrow:!0});const Fo=Object(c.default)(h.b)(["height:100%;"]);class zo extends s.a.Component{constructor(e,t){super(e),r()(this,"prepareExtensionProvider",Object(u.a)((e=>{if(e)return j("function"==typeof e?e(this.editorActions):e)}))),r()(this,"prepareQuickInsertProvider",((e,t)=>{
const n=t&&"boolean"!=typeof t&&t.provider,o=e&&async function(e,t,n){const o=await e.getExtensions();return{getItems:()=>{const e=Object(_o.c)(o,(e=>{const o=So()({loader:e.icon,loading:()=>null});return{title:e.title,description:e.description,icon:()=>s.a.createElement(o,{label:e.title}),keywords:e.keywords,featured:e.featured,categories:e.categories,action:o=>"function"==typeof e.node?(Object(Co.c)(e.node()).then((o=>{Po(e,n),o&&t.replaceSelection(o)})),o("")):(Po(e,n),o(e.node))}}));return Promise.all(e)}}}(e,this.editorActions,this.createAnalyticsEvent);return n&&o?async function(e){const{invokeList:t}=O(e);return{getItems:()=>t("getItems")}}([n,o]):n||o})),r()(this,"handleSave",(e=>{if(this.props.onSave)return this.props.onSave(e)})),r()(this,"handleAnalyticsEvent",(e=>Object(To.a)(this.createAnalyticsEvent)(e))),this.providerFactory=new w.a,this.deprecationWarnings(e),this.onEditorCreated=this.onEditorCreated.bind(this),this.onEditorDestroyed=this.onEditorDestroyed.bind(this),
this.editorActions=(t||{}).editorActions||new ho.a,Object(k.b)(ko.a.EDITOR_MOUNTED),e.performanceTracking&&e.performanceTracking.ttiTracking&&e.performanceTracking.ttiTracking.enabled&&function(e,t=1e3,n=60,o){if(!Object(E.c)())return;const r=performance.now();let i,s={startTime:r,duration:0},a=1e3*n;const l=new(o||PerformanceObserver)((e=>{const t=e.getEntries();t.length&&(i=s,s=t[t.length-1])}));l.observe({entryTypes:["longtask"]});const c=()=>{const n=performance.now(),o=s.startTime+s.duration,d=i?i.startTime+i.duration:o;return i?s.startTime-d>=t?(l.disconnect(),e(d,d-r,a<=0)):n-o>=t||a<=0?(l.disconnect(),e(o,o-r,a<=0)):(a=Math.max(0,a-(n-r)),setTimeout(c,t)):(l.disconnect(),e(d,0,!1))};setTimeout(c,t)}(((e,t,n)=>{this.createAnalyticsEvent&&Object(To.a)(this.createAnalyticsEvent)({payload:{action:xo.a.EDITOR_TTI,actionSubject:xo.b.EDITOR,attributes:{tti:e,ttiFromInvocation:t,canceled:n},eventType:xo.d.OPERATIONAL}})
}),e.performanceTracking.ttiTracking.ttiIdleThreshold,e.performanceTracking.ttiTracking.ttiCancelTimeout);const n=this.prepareExtensionProvider(e.extensionProviders),o=this.prepareQuickInsertProvider(n,e.quickInsert);this.state={extensionProvider:n,quickInsertProvider:o}}componentDidMount(){Object(k.c)(ko.a.EDITOR_MOUNTED,((e,t)=>{if(this.createAnalyticsEvent){const n=n=>{Object(To.a)(this.createAnalyticsEvent)({payload:{action:xo.a.EDITOR_MOUNTED,actionSubject:xo.b.EDITOR,attributes:{duration:e,startTime:t,objectId:n},eventType:xo.d.OPERATIONAL}})};Promise.resolve(this.props.contextIdentifierProvider).then((e=>{n(null==e?void 0:e.objectId)}),n)}})),this.handleProviders(this.props)}componentDidUpdate(e){const{extensionProviders:t,quickInsert:n}=this.props;if(t&&t!==e.extensionProviders||n&&n!==e.quickInsert){const e=this.prepareExtensionProvider(t),o=this.prepareQuickInsertProvider(e,n);this.setState({extensionProvider:e,quickInsertProvider:o},(()=>this.handleProviders(this.props)))
}else this.handleProviders(this.props)}componentWillUnmount(){this.unregisterEditorFromActions(),this.providerFactory.destroy(),Object(k.a)(ko.a.EDITOR_MOUNTED)}onEditorCreated(e){this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),this.props.onEditorReady&&this.props.onEditorReady(this.editorActions)}deprecationWarnings(e){const t=Object(go.a)(),n={allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider \u2013 <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowConfluenceInlineComment:{message:"To integrate inline comments use experimental annotationProvider \u2013 <Editor annotationProviders={{ provider }} />",type:"removed"},transactionTracking:{message:"Deprecated. To enable transaction tracking use performanceTracking prop instead: performanceTracking={{ transactionTracking: { enabled: true } }}",type:"removed"}};Object.keys(n).forEach((o=>{if(e.hasOwnProperty(o)){const e=n[o],r=e.type||"enabled by default"
;console.warn(`${o} property is deprecated. ${e.message||""} [Will be ${r} in editor-core@${t}]`)}})),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn(`Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@${t}]`)}onEditorDestroyed(e){this.unregisterEditorFromActions(),this.props.onDestroy&&this.props.onDestroy()}registerEditorForActions(e,t,n){this.editorActions._privateRegisterEditor(e,t,n)}unregisterEditorFromActions(){this.editorActions&&this.editorActions._privateUnregisterEditor()}handleProviders(e){
const{emojiProvider:t,mentionProvider:n,taskDecisionProvider:o,contextIdentifierProvider:r,collabEditProvider:i,activityProvider:s,presenceProvider:a,macroProvider:l,legacyImageUploadProvider:c,media:d,collabEdit:u,autoformattingProvider:p,searchProvider:h,UNSAFE_cards:m}=e,{extensionProvider:f,quickInsertProvider:b}=this.state;this.providerFactory.setProvider("emojiProvider",t),this.providerFactory.setProvider("mentionProvider",n),this.providerFactory.setProvider("taskDecisionProvider",o),this.providerFactory.setProvider("contextIdentifierProvider",r),this.providerFactory.setProvider("mediaProvider",d&&d.provider),this.providerFactory.setProvider("imageUploadProvider",c),this.providerFactory.setProvider("collabEditProvider",u&&u.provider?u.provider:i),this.providerFactory.setProvider("activityProvider",s),this.providerFactory.setProvider("searchProvider",h),this.providerFactory.setProvider("presenceProvider",a),this.providerFactory.setProvider("macroProvider",l),
m&&m.provider&&this.providerFactory.setProvider("cardProvider",m.provider),this.providerFactory.setProvider("autoformattingProvider",p),f&&this.providerFactory.setProvider("extensionProvider",Promise.resolve(f)),b&&this.providerFactory.setProvider("quickInsertProvider",b)}getBaseFontSize(){return this.props.allowDynamicTextSizing||["comment","chromeless","mobile"].includes(this.props.appearance)?void 0:x.n}render(){const e=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return Bn;case"chromeless":return Kn;case"comment":return ro;case"mobile":return po;default:throw new Error(`Appearance '${e}' is not supported by the editor.`)}}(this.props.appearance),t=Lo(Lo({},this.props),{},{onSave:this.props.onSave?this.handleSave:void 0,analyticsHandler:void 0}),n=s.a.createElement(T.d,{data:{packageName:p.a,packageVersion:p.b,componentName:"editorCore",appearance:Object(S.f)(this.props.appearance)}},s.a.createElement(_.a,{
render:n=>(this.createAnalyticsEvent=n)&&s.a.createElement(No,{createAnalyticsEvent:n,contextIdentifierProvider:this.props.contextIdentifierProvider},s.a.createElement(Fo,null,s.a.createElement(fo.a,{editorActions:this.editorActions},s.a.createElement(jo,null,s.a.createElement(bo.a,{onAnalyticsEvent:this.handleAnalyticsEvent,useAnalyticsContext:this.props.UNSAFE_useAnalyticsContext,render:o=>s.a.createElement(s.a.Fragment,null,s.a.createElement(mo.a,{editorProps:t,createAnalyticsEvent:n,portalProviderAPI:o,providerFactory:this.providerFactory,onEditorCreated:this.onEditorCreated,onEditorDestroyed:this.onEditorDestroyed,allowAnalyticsGASV3:this.props.allowAnalyticsGASV3,disabled:this.props.disabled,render:({editor:t,view:n,eventDispatcher:o,config:r,dispatchAnalyticsEvent:i})=>s.a.createElement(C.a,{dynamicTextSizing:this.props.allowDynamicTextSizing&&"full-width"!==this.props.appearance,baseFontSize:this.getBaseFontSize()},s.a.createElement(e,{appearance:this.props.appearance,
disabled:this.props.disabled,editorActions:this.editorActions,editorDOMElement:t,editorView:n,providerFactory:this.providerFactory,eventDispatcher:o,dispatchAnalyticsEvent:i,maxHeight:this.props.maxHeight,onSave:this.props.onSave?this.handleSave:void 0,onCancel:this.props.onCancel,popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,contentComponents:r.contentComponents,primaryToolbarComponents:r.primaryToolbarComponents,primaryToolbarIconBefore:this.props.primaryToolbarIconBefore,secondaryToolbarComponents:r.secondaryToolbarComponents,insertMenuItems:this.props.insertMenuItems,customContentComponents:this.props.contentComponents,customPrimaryToolbarComponents:this.props.primaryToolbarComponents,customSecondaryToolbarComponents:this.props.secondaryToolbarComponents,contextPanel:this.props.contextPanel,collabEdit:this.props.collabEdit,
allowAnnotation:!!this.props.annotationProviders,persistScrollGutter:this.props.persistScrollGutter}))}),s.a.createElement(bo.c,{portalProviderAPI:o}))})))))}));return this.context.intl?n:s.a.createElement(d.f,{locale:"en"},n)}}zo.displayName="Editor",r()(zo,"defaultProps",{appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}),r()(zo,"contextTypes",{editorActions:l.a.object,intl:d.j})},"./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o);class i{constructor(){r()(this,"listeners",{})}on(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}off(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach((e=>e(t)))}destroy(){
this.listeners={}}}function s(e){return(t,n)=>{if(!t)throw new Error("event name is required!");const o="string"==typeof t?t:t.key;e.emit(o,n)}}},"./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/consts.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return m}));const o=37,r=39,i=38,s=40,a=48,l=49,c=50,d=51,u=52,p=53,h=54,m=[a,l,c,d,u,p,h]},"./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"addAltText",(function(){return l})),n.d(t,"toggleBold",(function(){return c})),n.d(t,"toggleItalic",(function(){return d})),
n.d(t,"toggleUnderline",(function(){return u})),n.d(t,"toggleStrikethrough",(function(){return p})),n.d(t,"toggleCode",(function(){return h})),n.d(t,"pastePlainText",(function(){return m})),n.d(t,"clearFormatting",(function(){return f})),n.d(t,"setNormalText",(function(){return b})),n.d(t,"toggleHeading1",(function(){return g})),n.d(t,"toggleHeading2",(function(){return y})),n.d(t,"toggleHeading3",(function(){return v})),n.d(t,"toggleHeading4",(function(){return O})),n.d(t,"toggleHeading5",(function(){return j})),n.d(t,"toggleHeading6",(function(){return w})),n.d(t,"toggleOrderedList",(function(){return k})),n.d(t,"ctrlBackSpace",(function(){return E})),n.d(t,"toggleBulletList",(function(){return S})),n.d(t,"toggleBlockQuote",(function(){return _})),n.d(t,"insertNewLine",(function(){return C})),n.d(t,"shiftBackspace",(function(){return x})),n.d(t,"splitCodeBlock",(function(){return T})),n.d(t,"splitListItem",(function(){return P})),n.d(t,"insertRule",(function(){return A})),
n.d(t,"undo",(function(){return I})),n.d(t,"moveUp",(function(){return M})),n.d(t,"moveDown",(function(){return D})),n.d(t,"moveLeft",(function(){return N})),n.d(t,"moveRight",(function(){return R})),n.d(t,"indentList",(function(){return L})),n.d(t,"outdentList",(function(){return B})),n.d(t,"redo",(function(){return F})),n.d(t,"redoBarred",(function(){return z})),n.d(t,"openHelp",(function(){return U})),n.d(t,"addLink",(function(){return H})),n.d(t,"addInlineComment",(function(){return $})),n.d(t,"submit",(function(){return W})),n.d(t,"enter",(function(){return V})),n.d(t,"shiftEnter",(function(){return K})),n.d(t,"tab",(function(){return q})),n.d(t,"indent",(function(){return G})),n.d(t,"outdent",(function(){return Y})),n.d(t,"backspace",(function(){return X})),n.d(t,"deleteKey",(function(){return J})),n.d(t,"forwardDelete",(function(){return Z})),n.d(t,"space",(function(){return Q})),n.d(t,"escape",(function(){return ee})),n.d(t,"nextCell",(function(){return te})),
n.d(t,"previousCell",(function(){return ne})),n.d(t,"shiftTab",(function(){return oe})),n.d(t,"toggleTable",(function(){return re})),n.d(t,"addRowBefore",(function(){return ie})),n.d(t,"addRowAfter",(function(){return se})),n.d(t,"addColumnAfter",(function(){return ae})),n.d(t,"addColumnBefore",(function(){return le})),n.d(t,"cut",(function(){return ce})),n.d(t,"copy",(function(){return de})),n.d(t,"paste",(function(){return ue})),n.d(t,"altPaste",(function(){return pe})),n.d(t,"find",(function(){return he})),n.d(t,"TooltipShortcut",(function(){return fe})),n.d(t,"tooltip",(function(){return ge})),n.d(t,"ToolTipContent",(function(){return ye})),n.d(t,"findKeymapByDescription",(function(){return ve})),n.d(t,"findShortcutByDescription",(function(){return Oe})),n.d(t,"findShortcutByKeymap",(function(){return je})),n.d(t,"bindKeymapWithCommand",(function(){return Se})),n.d(t,"findKeyMapForBrowser",(function(){return _e}))
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/consts.js");n.d(t,"DOWN",(function(){return a.a})),n.d(t,"HEADING_KEYS",(function(){return a.b})),n.d(t,"KEY_0",(function(){return a.c})),n.d(t,"KEY_1",(function(){return a.d})),n.d(t,"KEY_2",(function(){return a.e})),n.d(t,"KEY_3",(function(){return a.f})),n.d(t,"KEY_4",(function(){return a.g})),n.d(t,"KEY_5",(function(){return a.h})),n.d(t,"KEY_6",(function(){return a.i})),n.d(t,"LEFT",(function(){return a.j})),n.d(t,"RIGHT",(function(){return a.k})),n.d(t,"UP",(function(){return a.l}))
;const l=Ee("Add Alt Text","Mod-Alt-y"),c=Ee("Bold","Mod-b"),d=Ee("Italic","Mod-i"),u=Ee("Underline","Mod-u"),p=Ee("Strikethrough","Mod-Shift-s"),h=Ee("Code","Mod-Shift-m"),m=Ee("Paste Plain Text","Mod-Shift-v"),f=Ee("Clear formatting","Mod-\\"),b=Ee("Normal text","Mod-Alt-0"),g=Ee("Heading 1","Mod-Alt-1"),y=Ee("Heading 2","Mod-Alt-2"),v=Ee("Heading 3","Mod-Alt-3"),O=Ee("Heading 4","Mod-Alt-4"),j=Ee("Heading 5","Mod-Alt-5"),w=Ee("Heading 6","Mod-Alt-6"),k=Ee("Numbered list","Mod-Shift-7"),E=Ee("Cmd + Backspace","Mod-Backspace"),S=Ee("Bullet list","Mod-Shift-8"),_=ke("Quote","","Cmd-Alt-9"),C=Ee("Insert new line","Shift-Enter"),x=Ee("Shift Backspace","Shift-Backspace"),T=Ee("Split code block","Enter"),P=Ee("Split list item","Enter"),A=Ee("Insert horizontal rule","Mod-Shift--"),I=Ee("Undo","Mod-z"),M=Ee("Move up","ArrowUp"),D=Ee("Move down","ArrowDown"),N=Ee("Move left","ArrowLeft"),R=Ee("Move right","ArrowRight"),L=Ee("Indent List","Tab"),B=Ee("Outdent List","Shift-Tab"),F=ke("Redo","Ctrl-y","Cmd-Shift-z"),z=ke("Redo Barred","Ctrl-Shift-z","Cmd-y"),U=Ee("Open Help","Mod-/"),H=Ee("Link","Mod-k"),$=Ee("Annotate","Mod-Alt-c"),W=Ee("Submit Content","Mod-Enter"),V=Ee("Enter","Enter"),K=Ee("Shift Enter","Shift-Enter"),q=Ee("Tab","Tab"),G=Ee("Indent","Tab"),Y=Ee("Outdent","Shift-Tab"),X=Ee("Backspace","Backspace"),J=Ee("Delete","Delete"),Z=ke("Forward Delete","","Ctrl-d"),Q=Ee("Space","Space"),ee=Ee("Escape","Escape"),te=Ee("Next cell","Tab"),ne=Ee("Previous cell","Shift-Tab"),oe=Ee("Shift Tab","Shift-Tab"),re=Ee("Table","Shift-Alt-t"),ie=Ee("Add Row Above","Ctrl-Alt-ArrowUp"),se=Ee("Add Row Below","Ctrl-Alt-ArrowDown"),ae=Ee("Add Column After","Ctrl-Alt-ArrowRight"),le=Ee("Add Column Before","Ctrl-Alt-ArrowLeft"),ce=Ee("Cut","Mod-x"),de=Ee("Copy","Mod-c"),ue=Ee("Paste","Mod-v"),pe=Ee("Paste","Mod-Shift-v"),he=Ee("Find","Mod-f"),me={
ARROWLEFT:"\u2190",ARROWRIGHT:"\u2192",ARROWUP:"\u2191",ARROWDOWN:"\u2193"},fe=s.default.span(["border-radius:2px;background-color:",";padding:0 2px;"],"#505F79");function be(e){let t;t=i.a.mac?e.mac.replace(/Cmd/i,"\u2318").replace(/Shift/i,"\u21e7").replace(/Ctrl/i,"\u2303").replace(/Alt/i,"\u2325").replace(/Backspace/i,"\u232b").replace(/Enter/i,"\u23ce"):e.windows.replace(/Backspace/i,"\u232b");const n=t.split("-");let o=n[n.length-1];return 1===o.length&&(o=o.toUpperCase()),n[n.length-1]=me[o.toUpperCase()]||o,n.join(i.a.mac?"":"+")}function ge(e,t){if(e){const n=be(e);return t?`${t} ${n}`:n}}const ye=r.a.memo((({description:e,shortcutOverride:t,keymap:n})=>{const o=t||n&&be(n);return o||e?r.a.createElement(r.a.Fragment,null,e,o&&e&&"\xa0",o&&r.a.createElement(fe,null,o)):null}));function ve(e){return we.filter((t=>t.description.toUpperCase()===e.toUpperCase()))[0]}function Oe(e){const t=ve(e);if(t)return je(t)}function je(e){return i.a.mac?e.mac:e.windows}
const we=[k,S,c,d,u,p,h,b,g,y,v,O,j,w,_,C,A,T,P,F,I,he,ee,V,K];function ke(e,t,n,o){return{description:e,windows:t,mac:n,common:o}}function Ee(e,t){return ke(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function Se(e,t,n){const o=n[e];let r=t;n[e]&&(r=(e,n,r)=>o(e,n)||t(e,n,r)),n[e]=r}function _e(e){if(e)return i.a.mac?e.mac:e.windows}},"./node_modules/@atlaskit/editor-core/dist/es2019/messages.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",
description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste link or search recently viewed",description:"Paste link or search recently viewed"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."}});t.a=Object(o.h)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",
description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",
description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",
description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}))
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a),c=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/plugin-key.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/get-participants-count.js");let f=0;class b{constructor(e,t,n,o,r,i,a,l=!1,c){s()(this,"handleRef",(e=>this._handleRef(e))),s()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher&&this.performanceOptions.enabled){Object(u.b)(this.eventDispatcher)(h.a,{payload:e})}})),this.node=e,this.view=t,
this.getPos=n,this.portalProviderAPI=o,this.reactComponentProps=i||{},this.reactComponent=a,this.hasContext=l,this._viewShouldUpdate=c,this.eventDispatcher=r}init(){this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);const{dom:e,contentDOM:t}=this.getContentDOM()||{dom:void 0,contentDOM:void 0};this.domRef&&e&&(this.domRef.appendChild(e),this.contentDOM=t||e,this.contentDOMWrapper=e||t),this.domRef.classList.add(`${this.node.type.name}View-content-wrap`);const{samplingRate:n,slowThreshold:o,enabled:r}=this.performanceOptions;return r&&Object(c.b)(`\ud83e\udd89${this.node.type.name}::ReactNodeView`),this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),r&&Object(c.c)(`\ud83e\udd89${this.node.type.name}::ReactNodeView`,(e=>{++f%n==0&&e>o&&this.dispatchAnalyticsEvent({action:p.a.REACT_NODEVIEW_RENDERED,actionSubject:p.b.EDITOR,eventType:p.d.OPERATIONAL,attributes:{node:this.node.type.name,duration:e,
participants:Object(m.a)(this.view.state)}})})),this}renderReactComponent(e){this.domRef&&e&&this.portalProviderAPI.render(e,this.domRef,this.hasContext)}createDomRef(){return this.node.isInline?document.createElement("span"):document.createElement("div")}getContentDOM(){}_handleRef(e){const t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}render(e,t){return this.reactComponent?l.a.createElement(this.reactComponent,r()({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}update(e,t,n=(()=>!0)){return!(this.node.type!==e.type||!n(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),!0):(this.node=e,!0))}viewShouldUpdate(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}setDomAttrs(e,t){Object.keys(e.attrs||{}).forEach((n=>{t.setAttribute(n,e.attrs[n])}))}get dom(){
return this.domRef}destroy(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}get performanceOptions(){const e=d.a.getState(this.view.state),t=e&&e.performanceTracking&&e.performanceTracking.nodeViewTracking||{},n=t.samplingRate||100,o=t.slowThreshold||7;return{enabled:!!t.enabled,samplingRate:n,slowThreshold:o}}static fromComponent(e,t,n,o,r){return(i,s,a)=>new b(i,s,a,t,n,o,e,!1,r).init()}}b.displayName="ReactNodeView"},"./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/SelectionBasedNodeView.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/react-nodeview.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js");class l extends a.a{constructor(e,t,n,o,a,l,c,d=!1,u){
super(e,t,n,o,a,l,c,d,u),r()(this,"isNodeInsideSelection",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(e<=n&&t>=o)))),r()(this,"isSelectionInsideNode",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(n<e&&t<o)))),r()(this,"isSelectedNode",(e=>{if(e instanceof i.NodeSelection){const{selection:{from:t,to:n}}=this.view.state;return e.node===this.node||this.pos===t&&this.posEnd===n&&e.node.eq(this.node)}return!1})),r()(this,"insideSelection",(()=>{const{selection:{from:e,to:t}}=this.view.state;return this.isSelectedNode(this.view.state.selection)||this.isSelectionInsideNode(e,t)})),r()(this,"onSelectionChange",(()=>{this.update(this.node,[])})),this.updatePos(),this.oldSelection=t.state.selection,this.selectionChangeState=s.b.getState(this.view.state),this.selectionChangeState.subscribe(this.onSelectionChange)}updatePos(){
"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}getPositionsWithDefault(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}viewShouldUpdate(e){const{state:{selection:t}}=this.view,n=this.oldSelection;this.oldSelection=t;const{pos:o,posEnd:r}=this;this.updatePos();const{from:s,to:a}=t,{from:l,to:c}=n;if(this.node.type.spec.selectable){const e=t instanceof i.NodeSelection&&t.from===this.pos,o=n instanceof i.NodeSelection&&n.from===this.pos;if(e&&!o||o&&!e)return!0}const d=this.isNodeInsideSelection(s,a)&&!this.isNodeInsideSelection(l,c),u=!this.isNodeInsideSelection(s,a)&&this.isNodeInsideSelection(l,c),p=this.isNodeInsideSelection(s,a,o,r)&&!this.isNodeInsideSelection(s,a);return!!(d||u||p)}destroy(){this.selectionChangeState.unsubscribe(this.onSelectionChange),super.destroy()}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("./node_modules/@atlaskit/analytics-listeners/dist/es2019/index.js");const r=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/analytics.js").e,i=o.a.editor},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js");const r=e=>({payload:t,channel:n=o.b})=>e&&e(t).fire(n)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/is-performance-api-available.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure-render.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/plugin-key.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/index.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return p(p({},e),{},{attributes:p(p({},e.attributes),{},{duration:t}),eventType:s.d.OPERATIONAL})}var f=e=>({name:"analytics",pmPlugins:()=>[{name:"analyticsPlugin",plugin:()=>function(e){if(!e||!e.createAnalyticsEvent)return;const t=Object(r.a)();return new o.Plugin({key:l.a,state:{init:()=>e,apply:(e,n,o,r)=>{var l;if(null===(l=Object(d.b)(r))||void 0===l?void 0:l.catchAllTracking){const o=Object(a.b)(e);if(o.length>0)for(const{payload:r,channel:a}of o)if(t&&e.docChanged&&r.action!==s.a.INSERTED&&r.action!==s.a.DELETED){
const e=`${r.actionSubject}:${r.action}:${r.actionSubjectId}`;Object(i.a)(e,(e=>{Object(c.a)(n.createAnalyticsEvent)({payload:m(r,e),channel:a})}))}}return n}}})}(e)}]});const b=l.a;t.b=f},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("analyticsPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js":function(e,t,n){"use strict";let o,r,i,s,a,l;n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(o||(o={})),function(e){e.ACTIVATED="activated",e.ADDED="added",e.BROWSER_FREEZE="browserFreeze",e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",
e.CHANGED_LAYOUT="changedLayout",e.CHANGED_REPLACEMENT_TEXT="changedReplacementText",e.CHANGED_TYPE="changedType",e.CHANGED_URL="changedUrl",e.CLEARED="cleared",e.CLICKED="clicked",e.CLOSED="closed",e.COMMITTED="committed",e.CONVERTED="converted",e.COPIED="copied",e.CUT="cut",e.DEACTIVATED="deactivated",e.DECREMENTED="decremented",e.DELETED="deleted",e.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",e.DISMISSED="dismissed",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",e.EDITED="edited",e.EDITOR_CRASHED="unhandledErrorCaught",e.EDITOR_MOUNTED="mounted",e.EDITOR_TTI="tti",e.ERRORED="errored",e.ENTERED="entered",e.FAILED_TO_UNMOUNT="failedToUnmount",e.FIND_NEXT_PERFORMED="findNextPerformed",e.FIND_PERFORMED="findPerformed",e.FIND_PREV_PERFORMED="findPrevPerformed",e.FORMATTED="formatted",e.HELP_OPENED="helpOpened",e.HIGHLIGHTED="highlighted",e.INCREMENTED="incremented",
e.INDENTED="indented",e.INITIALISED="initialised",e.INPUT_PERF_SAMPLING="inputPerfSampling",e.INSERTED="inserted",e.INVOKED="invoked",e.LIST_ITEM_JOINED="listItemJoined",e.NODE_CONTENT_SANITIZED="nodeContentSanitized",e.OPENED="opened",e.OUTDENTED="outdented",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.PROSEMIRROR_RENDERED="proseMirrorRendered",e.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",e.REPLACED_ALL="replacedAll",e.REPLACED_ONE="replacedOne",e.RESOLVED="resolved",e.SELECTED="selected",e.SHOWN="shown",e.SLOW_INPUT="slowInput",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.SYNCHRONY_DISCONNECTED="synchronyDisconnected",e.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",e.SYNCHRONY_ERROR="synchronyError",e.TOGGLE_EXPAND="toggleExpand",e.TRANSACTION_DISPATCHED="transactionDispatched",e.TYPING_FINISHED="typingFinished",e.TYPING_STARTED="typingStarted",e.UNLINK="unlinked",e.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",
e.UPDATED="updated",e.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",e.VIEWED="viewed",e.VISITED="visited",e.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",e.FIXED="fixed",e.RENDERED="rendered"}(r||(r={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.BUTTON="button",e.BLUR="blur",e.CARD="card",e.CLIPBOARD="clipboard",e.CONFIG_PANEL="configPanel",e.CONTEXT_MENU="contextMenu",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.FLOATING_TB="floatingToolbar",e.FORMATTING="autoformatting",e.INSERT_MENU="insertMenu",e.KEYBOARD="keyboard",e.MACRO_BROWSER="macroBrowser",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.PREFILL="prefill",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead"}(i||(i={})),function(e){e.BUTTON="button",e.KEYBOARD="keyboard",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar"}(s||(s={})),function(e){e.BUTTON="button",e.CONFIG_PANEL="configPanel",e.DATE="date",e.DATE_SEGMENT="dateSegment",
e.DOCUMENT="document",e.EDITOR="editor",e.ELEMENT_BROWSER="elementBrowser",e.EMBEDS="embeds",e.EXPAND="expand",e.EXTENSION="extension",e.FEEDBACK_DIALOG="feedbackDialog",e.FIND_REPLACE_DIALOG="findReplaceDialog",e.HELP="help",e.LAYOUT="layout",e.LIST="list",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.NESTED_EXPAND="nestedExpand",e.PANEL="panel",e.PICKER="picker",e.PLUS_MENU="plusMenu",e.SMART_LINK="smartLink",e.TABLE="table",e.TEXT="text",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.TYPEAHEAD_ITEM="typeAheadItem",e.ANNOTATION="annotation",e.SEARCH_RESULT="searchResult",e.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog"}(a||(a={})),function(e){e.ACTION="action",e.ALL="all",e.ALT_TEXT="altText",e.ANNOTATE_BUTTON="annotateButton",e.BLOCK_QUOTE="blockQuote",e.BUTTON_FEEDBACK="feedbackButton",e.BUTTON_HELP="helpButton",e.CANCEL="cancel",e.CARD_BLOCK="blockCard",e.CAPTION="caption",e.CARD_INLINE="inlineCard",e.CELL="cell",e.CODE_BLOCK="codeBlock",e.DATE="date",e.DATE_DAY="day",
e.DATE_MONTH="month",e.DATE_YEAR="year",e.DECISION="decision",e.DIVIDER="divider",e.EMOJI="emoji",e.EXPAND="expand",e.EXTENSION="extension",e.EXTENSION_BLOCK="extension",e.EXTENSION_BODIED="bodiedExtension",e.EXTENSION_INLINE="inlineExtension",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",e.FORMAT_ITALIC="italic",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.HELP_QUICK_INSERT="helpQuickInsert",e.INLINE_COMMENT="inlineComment",e.LAYOUT="layout",e.RICH_MEDIA_LAYOUT="richMediaLayout",e.LINE_BREAK="lineBreak",e.LINK="link",e.LINK_PREVIEW="linkPreview",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.MEDIA_GROUP="mediaGroup",e.MEDIA_LINK="mediaLink",e.MENTION="mention",e.NESTED_EXPAND="nestedExpand",
e.NODE="node",e.PANEL="panel",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockQuote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXPAND="expand",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_NESTED_EXPAND="nestedExpand",e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE="table",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TASK_LIST="taskList",e.PICKER_CLOUD="cloudPicker",e.PICKER_EMOJI="emojiPicker",e.PRODUCT_NAME="productName",e.PLACEHOLDER_TEXT="placeholderText",e.PUNC="punctuation",e.RANGE="range",e.REACT_NODE_VIEW="reactNodeView",e.RESIZED="resized",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",
e.TABLE="table",e.TEXT="text",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",e.UNSUPPORTED_BLOCK="unsupportedBlock",e.UNSUPPORTED_INLINE="unsupportedInline",e.UNSUPPORTED_MARK="unsupportedMark",e.RECENT_ACTIVITIES="recentActivities",e.QUICK_SEARCH="quickSearch",e.LINK_SEARCH_INPUT="linkSearchInput",e.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",e.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults"}(l||(l={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/format-events.js":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(o||(o={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(r||(r={}))},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/general-events.js":function(e,t,n){"use strict";let o,r,i,s;n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(o||(o={})),function(e){e.RENDERER="renderer",e.EDITOR="editor"}(r||(r={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(i||(i={})),function(e){e.LOADING="loading",e.TYPING="typing",e.CLICKING="clicking",e.PASTING="pasting"}(s||(s={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/insert-events.js":function(e,t,n){"use strict";let o,r,i,s;n.d(t,"a",(function(){return o})),function(e){e.EDIT="edit",e.NEW="new"}(o||(o={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(r||(r={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(i||(i={})),
function(e){e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(s||(s={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/list-events.js":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={})),function(e){e.JOIN_SIBLINGS="joinSiblings",e.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",e.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",e.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",e.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",e.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"}(r||(r={}))},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/node-events.js":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(o||(o={})),function(e){e.INLINE_CARD="inline",e.BLOCK_CARD="block",e.URL="url"}(r||(r={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/paste-events.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},r={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",
blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/substitute-events.js":function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(o||(o={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(r||(r={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/table-events.js":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),
n.d(t,"b",(function(){return r})),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn",e.REPLACED="replaced",e.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange"}(o||(o={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(r||(r={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return A}))
;var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(a),c=n("./node_modules/prosemirror-transform/dist/index.es.js"),d=n("./node_modules/prosemirror-model/dist/index.es.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m="atlaskit-analytics";var f;!function(e){e.UNDID="undid",e.REDID="redid"}(f||(f={}));class b extends c.f{constructor(e,t,n=[],o){super(),l()(this,"analyticsEvents",[]),l()(this,"actionsToIgnore",[]),this.handleAnalyticsEvent=e,this.analyticsEvents=t,this.actionsToIgnore=n,this.pos=o}invert(){const e=this.analyticsEvents.filter((e=>-1===this.actionsToIgnore.indexOf(e.payload.action))).map((e=>function(e){return e.payload.action===f.UNDID||e.payload.action===f.REDID}(e)?(e=>p(p({},e),{},{payload:p(p({},e.payload),{},{action:e.payload.action===f.UNDID?f.REDID:f.UNDID})}))(e):function(e){return p(p({},e),{},{payload:{action:f.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:p(p({},e.payload.attributes),{},{actionSubjectId:e.payload.actionSubjectId}),
eventType:"track"}})}(e)));return new b(this.handleAnalyticsEvent,e)}apply(e){for(const t of this.analyticsEvents)this.handleAnalyticsEvent(t.payload,t.channel);return c.h.ok(e)}map(e){let t=this.pos;return"number"==typeof t&&(t=e.map(t)),new b(this.handleAnalyticsEvent,this.analyticsEvents,this.actionsToIgnore,t)}getMap(){return"number"==typeof this.pos?new c.g([this.pos,0,0]):new c.g([])}merge(e){if(e instanceof b){const t=e.analyticsEvents;return new b(this.handleAnalyticsEvent,[...t,...this.analyticsEvents])}return null}toJSON(){return{stepType:m}}static fromJSON(){return new c.e(0,0,d.Slice.empty)}}c.f.jsonID(m,b);var g=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js"),y=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");let v,O;!function(e){e.CURSOR="cursor",e.RANGED="ranged",e.GAP_CURSOR="gapCursor",e.NODE="node",e.CELL="cell"}(v||(v={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",
e.RIGHT="right"}(O||(O={}));var j=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/plugin-key.js"),w=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!t.attributes)return t;const{type:n,position:a}=function(e){
const{selection:t}=e;let n,o;if(t instanceof s.a)n=v.GAP_CURSOR,o=t.side===s.b.LEFT?O.LEFT:O.RIGHT;else if(t instanceof r.a)n=v.CELL;else if(t instanceof i.NodeSelection)n=v.NODE;else if(t.from!==t.to)n=v.RANGED;else{n=v.CURSOR;const{from:e,$from:r}=t;o=e===r.start()?O.START:e===r.end()?O.END:O.MIDDLE}return{type:n,position:o}}(e);t.attributes.selectionType=n,a&&(t.attributes.selectionPosition=a);const l=function(e){const{selection:t}=e;if(t instanceof i.NodeSelection)return t.node.type.name;if(t instanceof r.a)return e.schema.nodes.table.name;const n=Object(o.findParentNode)((t=>t.type!==e.schema.nodes.paragraph))(e.selection);return n?n.node.type.name:e.doc.type.name}(e);return t.action===y.a.INSERTED&&t.actionSubject===y.b.DOCUMENT&&t.attributes?t.attributes.insertLocation=l:t.attributes.nodeLocation=l,t}const C=[y.a.INVOKED,y.a.OPENED];function x(e,t,n,o=g.b){const r=function(e){const t=j.a.getState(e);return t?t.createAnalyticsEvent:void 0}(e);if(n=function(e){
const t=e.action===y.a.INSERTED&&e.actionSubject===y.b.DOCUMENT,n=e.action===y.a.FORMATTED&&e.actionSubject===y.b.TEXT;return!!e.actionSubjectId&&(t||n)&&(e.attributes=E(E({},e.attributes),{},{actionSubjectId:e.actionSubjectId})),e}(n=_(e,n)),r){const{storedMarks:e}=t;t.step(new b(((e,t)=>{Object(w.a)(r)({payload:e,channel:t})}),[{payload:n,channel:o}],C,t.selection.$from.pos)),e&&t.setStoredMarks(e)}return t}function T(e,t){return n=>(o,r,i)=>n(o,(n=>{if(r)if(e instanceof Function){const i=e(o);i&&r(x(o,n,i,t))}else r(x(o,n,e,t))}),i)}function P(e){return t=>{const n=t.handler;return t.handler=(t,o,r,i)=>{let s=n(t,o,r,i);if(s){s=x(t,s,e(t,o,r,i))}return s},t}}function A(e){return e.steps.filter((e=>e instanceof b)).reduce(((e,t)=>[...e,...t.analyticsEvents]),[])}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/commands/index.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y})),
n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return k}));var o=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/annotation.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/plugin-factory.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/types.js"),l=n("./node_modules/prosemirror-state/dist/index.es.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js");const u=e=>(t,n)=>{const r=Object(s.g)(n),{from:i,to:a,head:c}=Object(s.h)(n,r),u=n.schema.marks.annotation.create({id:e,type:o.b.INLINE_COMMENT})
;let p=Object(d.a)(i,a,!1,u,t);return p.setSelection(l.TextSelection.create(p.doc,c)),p},p=(e,t=i.e.TOOLBAR)=>(n,o)=>{const r=Object(s.f)(e,t)(o);return Object(c.a)(o,n,r)},h=(e,t)=>Object(c.a)(t,e,{action:i.a.INSERTED,actionSubject:i.b.ANNOTATION,eventType:i.d.TRACK,actionSubjectId:i.c.INLINE_COMMENT});var m={addAnnotationMark:u,addInlineComment:e=>(t,n)=>{let o=u(e)(t,n);return o=h(o,n),o=p(!1,i.e.TOOLBAR)(o,n),o},addOpenCloseAnalytics:p,addInsertAnalytics:h,addResolveAnalytics:e=>(t,n)=>{const o={action:i.a.RESOLVED,actionSubject:i.b.ANNOTATION,actionSubjectId:i.c.INLINE_COMMENT,eventType:i.d.TRACK,attributes:{method:e}};return Object(c.a)(n,t,o)}},f=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/types.js");const b=(e,t)=>{const n={type:a.a.UPDATE_INLINE_COMMENT_STATE,data:e},o=Object.values(e).every((e=>e));return t&&o?Object(r.a)(n,m.addResolveAnalytics(t)):Object(r.a)(n)},g=()=>Object(r.a)({type:a.a.CLOSE_COMPONENT}),y=()=>Object(r.a)({
type:a.a.INLINE_COMMENT_CLEAR_DIRTY_MARK}),v=e=>(t,n)=>{const{tr:r,selection:{$from:i}}=t,{annotation:s}=t.schema.marks;return!!i.marks().some((e=>e.type===s))&&(r.removeMark(i.start(),i.end(),s.create({id:e,type:o.b.INLINE_COMMENT})),n&&n(r),!0)},O=(e,t=i.e.TOOLBAR)=>{const n=(e=>t=>(!e||Object(s.j)(t)===f.a.VALID)&&{type:a.a.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}})(e);return Object(r.a)(n,m.addOpenCloseAnalytics(e,t))},j=e=>Object(r.a)({type:a.a.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}}),w=(e,t=o.b.INLINE_COMMENT)=>(n,i)=>{const{bookmark:l}=Object(s.g)(n)||{};return!(!l||!i)&&(t===o.b.INLINE_COMMENT&&(e=>Object(r.a)((t=>({type:a.a.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:{[e]:!1},selectedAnnotations:[{id:e,type:o.b.INLINE_COMMENT}],editorState:t}})),m.addInlineComment(e)))(e)(n,i))},k=e=>Object(r.a)({type:a.a.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/index.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/annotation.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/react-nodeview.js"),l=n("./node_modules/prosemirror-keymap/dist/index.es.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/commands/index.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");let p;!function(e){e.COMPONENT="component",e.CONSUMER="consumer",e.ORPHANED="orphaned"}(p||(p={}))
;var h=n("./node_modules/prosemirror-state/dist/index.es.js"),m=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/annotation.js"),f=n("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js"),b=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js");class g extends f.a{createDomRef(){return document.createElement("span")}getContentDOM(){const e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}render(e,t){return r.a.createElement(s.a,{plugins:{inlineCommentState:b.i},editorView:this.view,render:({inlineCommentState:e})=>{const{annotations:n,selectedAnnotations:o,isVisible:i}=e;if(!i)return r.a.createElement("span",{ref:t});const s=this.node.attrs.id,a=!1===n[s],l=o.some((e=>e.id===s)),c=y(a,l);return r.a.createElement("span",{className:c,ref:t})}})}}g.displayName="AnnotationNodeView";const y=(e,t)=>{if(e)return t?m.b.focus:m.b.blur}
;var v=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/plugin-factory.js");const O=async(e,t,n)=>{if(!t||!t.length)return;const o=await(async(e,t)=>{const n=await e.getState(t);let o={};return n.forEach((e=>{e.annotationType===i.b.INLINE_COMMENT&&(o[e.id]=e.state.resolved)})),o})(e,t);n.dispatch&&Object(d.g)(o)(n.state,n.dispatch)},j=(e=!1)=>({annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:e,isVisible:!0}),w=e=>{const{provider:t,portalProviderAPI:n,eventDispatcher:o}=e;return new h.Plugin({key:b.i,state:Object(v.b)(e.dispatch,j(t.disallowOnWhitespace)),view(e){O(t,Object(b.d)(e.state.doc),e);const n=t=>((e,t)=>n=>{Object(d.g)({[n]:!0},p.CONSUMER)(e,t)})(e.state,e.dispatch)(t),o=t=>((e,t)=>n=>{Object(d.g)({[n]:!1})(e,t)})(e.state,e.dispatch)(t),r=t=>((e,t)=>n=>{const{mouseData:{isSelecting:o}}=Object(b.g)(e);o&&Object(d.h)({isSelecting:!1})(e,t)})(e.state,e.dispatch)(t),i=t=>(e=>t=>{const{state:n,dispatch:o}=e
;Object(d.f)(t)(n,o),t&&e.focus()})(e)(t),{updateSubscriber:s}=t;return s&&s.on("resolve",n).on("delete",n).on("unresolve",o).on("create",o).on("setvisibility",i),e.root.addEventListener("mouseup",r),{update(e,n){const{dirtyAnnotations:o}=Object(b.g)(e.state);o&&(Object(d.a)()(e.state,e.dispatch),O(t,Object(b.d)(e.state.doc),e))},destroy(){e.root.removeEventListener("mouseup",r),s&&s.off("resolve",n).off("delete",n).off("unresolve",o).off("create",o).off("setvisibility",i)}}},props:{nodeViews:{annotation:(e,t,r)=>new g(e,t,r,n,o).init()},handleDOMEvents:{mousedown:e=>(Object(b.g)(e.state).mouseData.isSelecting||((e,t)=>()=>{Object(d.h)({isSelecting:!0})(e,t)})(e.state,e.dispatch)(),!1)},decorations(e){const{draftDecorationSet:t}=Object(b.g)(e);return t}}})};var k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/toolbar.js"),E=n("./node_modules/prosemirror-utils/dist/index.js");class S extends r.a.PureComponent{componentDidMount(){const{onViewed:e}=this.props
;e&&e()}render(){return this.props.children}}S.displayName="AnnotationViewWrapper";var _=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/types.js");function C({providers:e,editorView:t,dispatchAnalyticsEvent:n}){const{inlineComment:o}=e,{state:i,dispatch:s}=t,{createComponent:a,viewComponent:l}=o,c=Object(b.g)(i),{bookmark:h,selectedAnnotations:m,annotations:f}=c,g=Object(b.h)(i,c),y=Object(E.findDomRefAtPos)((e=>{const{$from:t,from:n}=e,o=t.index();return!(o<t.parent.childCount&&t.parent.child(o))&&t.nodeBefore&&t.nodeBefore.isText&&t.nodeBefore.marks.find((e=>"annotation"===e.type.name))?n-1:n})(g),t.domAtPos.bind(t));if(h){if(!a)return null;const e=i.doc.textBetween(g.from,g.to);return r.a.createElement("div",{"data-testid":_.b.floatingComponent},r.a.createElement(a,{dom:y,textSelection:e,onCreate:e=>{Object(d.c)(e)(t.state,t.dispatch),!t.hasFocus()&&t.focus()},onClose:()=>{Object(d.e)(!1)(t.state,t.dispatch),!t.hasFocus()&&t.focus()}}))}
const v=m.filter((e=>!1===f[e.id]));if(!l||0===v.length)return null;return m?r.a.createElement(S,{"data-testid":_.b.floatingComponent,key:Object(b.e)(v),onViewed:()=>{if(!n)return;const e={action:u.a.VIEWED,actionSubject:u.b.ANNOTATION,actionSubjectId:u.c.INLINE_COMMENT,eventType:u.d.TRACK,attributes:{overlap:v.length?v.length-1:0}};n(e)}},r.a.createElement(l,{annotations:v,dom:y,onDelete:e=>Object(d.d)(e)(i,s),onResolve:e=>Object(d.g)({[e]:!0},p.COMPONENT)(t.state,t.dispatch),onClose:()=>{Object(d.b)()(t.state,t.dispatch)}})):null}t.a=e=>({name:"annotation",marks:()=>[{name:"annotation",mark:i.c}],pmPlugins:()=>[{name:"annotation",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>{if(e)return w({dispatch:t,portalProviderAPI:n,eventDispatcher:o,provider:e.inlineComment})}},{name:"annotationKeymap",plugin:()=>{if(e)return function(){const e={};return Object(c.bindKeymapWithCommand)(c.addInlineComment.common,Object(d.e)(!0,u.e.SHORTCUT),e),Object(l.b)(e)}()}}],pluginsOptions:{
floatingToolbar(t,n){if(!e)return;const o=Object(b.g)(t);if(o&&o.isVisible&&!o.bookmark&&!o.mouseData.isSelecting){const{isToolbarAbove:o}=e.inlineComment;return Object(k.b)(t,n,o)}}},contentComponent:({editorView:t,dispatchAnalyticsEvent:n})=>e?r.a.createElement(s.a,{plugins:{selectionState:a.b,inlineCommentState:b.i},render:o=>{const i=o.inlineCommentState;return i&&!i.isVisible?null:r.a.createElement(C,{providers:e,editorView:t,dispatchAnalyticsEvent:n})}}):null})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/types.js"),s=n("./node_modules/prosemirror-view/dist/index.es.js")
;function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){let{draftDecorationSet:o}=e;o&&t||(o=s.b.empty);let i=l(l({},e),{},{draftDecorationSet:o});if(i.bookmark=void 0,t&&n){i.bookmark=n.selection.getBookmark();const e=i.bookmark.resolve(n.doc),t=Object(r.a)(e.from,e.to);i.draftDecorationSet=o.add(n.doc,[t])}return i}function u(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>{const n=Object(r.c)(e.selection,e.doc);return n.length!==t.selectedAnnotations.length||n.some((e=>!t.selectedAnnotations.some((t=>t.type===e.id))))?p(p({},t),{},{selectedAnnotations:n}):t},{createPluginState:f,createCommand:b}=Object(o.a)(r.i,((e,t)=>{switch(t.type){case i.a.UPDATE_INLINE_COMMENT_STATE:
return l(l({},e),{},{annotations:l(l({},e.annotations),t.data)});case i.a.INLINE_COMMENT_UPDATE_MOUSE_STATE:const n=Object.assign({},e.mouseData,t.data.mouseData);return l(l({},e),{},{mouseData:n});case i.a.SET_INLINE_COMMENT_DRAFT_STATE:return d(e,t.data.drafting,t.data.editorState);case i.a.INLINE_COMMENT_CLEAR_DIRTY_MARK:return l(l({},e),{},{dirtyAnnotations:!1,annotations:{}});case i.a.CLOSE_COMPONENT:return l(l({},e),{},{selectedAnnotations:[]});case i.a.ADD_INLINE_COMMENT:const o=d(e,t.data.drafting,t.data.editorState);return l(l({},o),{},{selectedAnnotations:[...o.selectedAnnotations,...t.data.selectedAnnotations],annotations:l(l({},e.annotations),t.data.inlineComments)});case i.a.INLINE_COMMENT_SET_VISIBLE:const{isVisible:r}=t.data;return r===e.isVisible?e:l(l({},r?e:d(e,!1)),{},{isVisible:r});default:return e}}),{onSelectionChanged:m,onDocChanged:(e,t)=>e.getMeta("replaceDocument")?p(p({},t),{},{dirtyAnnotations:!0}):m(e,t),mapping:(e,t)=>{
let n,o,{draftDecorationSet:r,bookmark:i}=t;return r&&(n=r.map(e.mapping,e.doc)),i&&(o=i.map(e.mapping)),o===i&&n===r?t:p(p({},t),{},{draftDecorationSet:n,bookmark:o})}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/pm-plugins/types.js":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e[e.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",e[e.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",e[e.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",e[e.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",e[e.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",e[e.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",e[e.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"}(o||(o={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/toolbar.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}))
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/comment.js"),a=n.n(s),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/commands/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/types.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js");const p=Object(i.h)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",
defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),h=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),s=window&&window.getSelection(),a=s&&!s.isCollapsed&&s.getRangeAt(0);if(!a)return n;const l=o.getBoundingClientRect(),{head:c,anchor:d}=t.state.selection,u=t.coordsAtPos(Math.min(c,d)),p=t.coordsAtPos(Math.max(c,d)-Math.min(a.endOffset,1)),h=(u.top||0)-1.5*l.height;let m=0;if(u.top!==p.top){m=c>d?Math.max(u.right,p.right):Math.min(u.left,p.left);const e=a.getClientRects()[0];e.right<m&&(m=e.left+e.width/2)}else m=u.left+(p.right-u.left)/2;return m-=l.width/2,{top:h-i.top+r.scrollTop,left:Math.max(0,m-i.left)}},m=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n
;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),s=window&&window.getSelection(),a=s&&!s.isCollapsed&&s.getRangeAt(0);if(!a)return n;const l=o.getBoundingClientRect(),{head:c,anchor:d}=t.state.selection;let u,p=t.coordsAtPos(Math.min(c,d)),h=t.coordsAtPos(Math.max(c,d)-Math.min(a.endOffset,1));u=c>d&&p.top!==h.top?(h.top||0)+l.height/1.15:(p.top||0)-1.5*l.height;const m=(c>d?h.right:p.left)-l.width/2;return{top:u-i.top+r.scrollTop,left:Math.max(0,m-i.left)}},f=(e,t,n=!1)=>{const{schema:o}=e,i=Object(u.j)(e);if(i===d.a.INVALID)return;const s=t.formatMessage(p.createComment),f=t.formatMessage(p.createCommentInvalid),b={type:"button",showTitle:!0,disabled:i===d.a.DISABLED,testId:d.b.floatingToolbarCreateButton,icon:a.a,tooltipContent:i===d.a.DISABLED?f:r.a.createElement(l.ToolTipContent,{description:s,keymap:l.addInlineComment}),title:s,onClick:(e,t)=>Object(c.e)(!0)(e,t)},{annotation:g}=o.marks,y=Object.keys(o.nodes).reduce(((e,t)=>{
const n=o.nodes[t];return n.allowsMarkType(g)&&e.push(n),e}),[]),v=t.formatMessage(p.toolbar);return{title:v,nodeType:y,items:[b],onPositionCalculated:(n?h:m)(v)}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/types.js":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),function(e){e.INVALID="invalid",e.DISABLED="disabled",e.VALID="valid"}(o||(o={}));const r="ak-editor-annotation",i={prefix:r,floatingComponent:`${r}-floating-component`,floatingToolbarCreateButton:`${r}-toolbar-create-button`,componentSave:`${r}-dummy-save-button`,componentClose:`${r}-dummy-close-button`}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/utils.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return O
})),n.d(t,"f",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"b",(function(){return _})),n.d(t,"k",(function(){return C}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-view/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/annotation.js"),s=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/annotation/index.js"),a=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/annotation.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/annotation/types.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");const u=e=>{if(!e.length)return[];const{annotation:t}=e[0].type.schema.marks;return e.filter((e=>e.type===t)).map((e=>e.attrs.id))},p=(e,t)=>{const n=(e=>{
const{nodeBefore:t,nodeAfter:n}=e,o=t&&e.doc.nodeAt(Math.max(0,e.pos-t.nodeSize-1)),r=n&&e.doc.nodeAt(e.pos+n.nodeSize);return[o&&o.marks||[],r&&r.marks||[]]})(t).map(u);e.sort(((e,t)=>Object(c.w)(n,(t=>t.indexOf(e.id)))-Object(c.w)(n,(e=>e.indexOf(t.id)))))},h=e=>{const t=new Set;return e.descendants((e=>(e.marks.filter((e=>"annotation"===e.type.name)).filter(m).forEach((e=>t.add(e.attrs.id))),!0))),Array.from(t)},m=e=>{const{id:t,annotationType:n}=e.attrs;return function(e){if(!e||"string"!=typeof e)return!1;return!["null","undefined"].includes(e.toLowerCase())}(t)&&function(e){if(!e||"string"!=typeof e)return!1;return Object.values(a.b).includes(e)}(n)},f=(e,t)=>r.a.inline(e,t,{class:`${i.b.draft}`}),b=e=>`view-annotation-wrapper_${e.map((e=>e.id)).join("_")}`,g=(e,t)=>{const{empty:n,$anchor:o,anchor:r}=e;if(!n||!t)return[];const i=t.nodeAt(r);if(!i&&!o.nodeBefore)return[];const s=t.type.schema.marks.annotation,a=o.nodeBefore,l=i&&i.marks||[];let c=[]
;s.isInSet(l)?c=l:a&&s.isInSet(a.marks)&&(c=a.marks);const d=c.filter((e=>"annotation"===e.type.name)).map((e=>({id:e.attrs.id,type:e.attrs.annotationType})));return p(d,o),d};function y(e,t){const{bookmark:n}=t;return n?n.resolve(e.doc):e.selection}const v=new o.PluginKey("inlineCommentPluginKey"),O=e=>v.getState(e),j=e=>{const{from:t,to:n}=e.selection;return Object(s.b)({from:t,to:n},e.doc,e.schema).length},w=(e,t)=>n=>{let o={};return e&&(o={inputMethod:t,overlap:j(n)}),{action:e?d.a.OPENED:d.a.CLOSED,actionSubject:d.b.ANNOTATION,actionSubjectId:d.c.INLINE_COMMENT,eventType:d.d.TRACK,attributes:o}},k=e=>{const{selection:t}=e,{disallowOnWhitespace:n}=O(e);if(t.empty||!(t instanceof o.TextSelection||t instanceof o.AllSelection))return l.a.INVALID;const r=E(e);return r&&t.to-t.from==1?l.a.INVALID:r?l.a.DISABLED:n&&function(e){let t=!1;return e.content().content.descendants((e=>(""===e.textContent.trim()&&(t=!0),!t))),t}(t)?l.a.INVALID:l.a.VALID},E=e=>{
const{selection:t,doc:n,schema:o}=e;return!Object(s.a)({from:t.from,to:t.to},n,o)};function S(e,t){const{schema:{marks:{annotation:n}}}=t;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function _(e,t){if(!e.content.size)return!1;let n=!1;return e.content.forEach((e=>{if(n=n||S(e,t),n)return!0;e.descendants((e=>!S(e,t)||(n=!0,!1)))})),n}function C(e,t){if(!e.content.size)return!1;e.content.forEach((e=>{x(e,t),e.content.descendants((e=>(x(e,t),!0)))}))}function x(e,t){return S(e,t)&&(e.marks=e.marks.filter((e=>"annotation"!==e.type.name||function(e,t){const n=O(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)))),e}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/context-identifier.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=new o.PluginKey("contextIdentiferPlugin"),l=e=>{var t;if(e)return null===(t=a.getState(e))||void 0===t?void 0:t.contextIdentifierProvider};t.a=(e,t)=>new o.Plugin({key:a,state:{init:()=>({}),apply:(e,t)=>e.getMeta(a)?e.getMeta(a):t},view:e=>{const n=(t,n)=>{n&&"contextIdentifierProvider"===t&&n.then((t=>{const n=e.state.tr.setMeta(a,{contextIdentifierProvider:i({},t)});e.dispatch(n)}))}
;return t&&t.subscribe("contextIdentifierProvider",n),{destroy:()=>{t&&t.unsubscribe("contextIdentifierProvider",n)}}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/decoration.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var o=n("./node_modules/prosemirror-view/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/prosemirror-utils/dist/index.js");const s=new r.PluginKey("decorationPlugin");let a;!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(a||(a={}));const l=(e,t,n="danger")=>(l,c)=>{let d,u;if(l.selection instanceof r.NodeSelection){const t=l.selection.node;(Array.isArray(e)?e:[e]).indexOf(t.type)>-1&&(d=l.selection.from,u=t)}const p=Object(i.findParentNodeOfType)(e)(l.selection);return void 0===d&&p&&(d=p.pos,u=p.node),void 0!==d&&void 0!==u&&(c&&c(l.tr.setMeta(s,{action:t?a.DECORATION_ADD:a.DECORATION_REMOVE,
data:o.a.node(d,d+u.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)};t.a=()=>new r.Plugin({key:s,state:{init:()=>({decoration:void 0}),apply(e,t){if(t.decoration){e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0})}const n=e.getMeta(s);if(!n)return t;switch(n.action){case a.DECORATION_ADD:return{decoration:n.data};case a.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations(e){const{doc:t}=e,{decoration:n}=s.getState(e);return n?o.b.create(t,[n]):null}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/react-nodeview.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/prosemirror-state/dist/index.es.js");class s{constructor(){r()(this,"changeHandlers",[]),this.changeHandlers=[]}subscribe(e){this.changeHandlers.push(e)}unsubscribe(e){
this.changeHandlers=this.changeHandlers.filter((t=>t!==e))}notifyNewSelection(e,t){this.changeHandlers.forEach((n=>n(e,t)))}}const a=new i.PluginKey("reactNodeView"),l=new i.Plugin({state:{init:()=>new s,apply:(e,t)=>t},key:a,view:e=>{const t=a.getState(e.state);return{update:e=>{const{from:n,to:o}=e.state.selection;t.notifyNewSelection(n,o)}}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/commands/block-type.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return j}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/types.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),d=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/panel.js");function u(e){return(t,n)=>{const{nodes:o}=t.schema;if(e===i.k.name&&o.paragraph)return h()(t,n);const r=i.d[e];return!!(r&&o.heading&&r.level)&&b(r.level)(t,n)}}function p(e,t){return(n,o)=>{const{nodes:r}=n.schema;if(e===i.k.name&&r.paragraph)return f(t)(n,o);const s=i.d[e];return!!(s&&r.heading&&s.level)&&g(s.level,t)(n,o)}}function h(){return function(e,t){
const{tr:n,selection:{$from:o,$to:r},schema:i}=e;return t&&t(n.setBlockType(o.pos,r.pos,i.nodes.paragraph)),!0}}function m(e){return(t,n,o)=>{const{heading:r,paragraph:i}=t.schema.nodes,s=Object(c.g)(t.doc,t.selection.from,t.selection.to,(e=>e.type===r||e.type===i));let a;for(let e of s){const t=e.node.type===r?e.node.attrs.level:0;if(a){if(t!==a){a=void 0;break}}else a=t}return e(a)(t,n,o)}}function f(e){return m((t=>Object(a.d)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})(h())))}function b(e){return function(t,n){const{tr:o,selection:{$from:r,$to:i},schema:s}=t;return n&&n(o.setBlockType(r.pos,i.pos,s.nodes.heading,{level:e})),!0}}const g=(e,t)=>m((n=>Object(a.d)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:n}})(b(e))));function y(e){
return function(t,n){const{nodes:r}=t.schema;switch(e){case i.a.name:if(r.paragraph&&r.blockquote)return O(r.blockquote)(t,n);break;case i.b.name:if(r.codeBlock)return function(){return function(e,t){const{tr:n}=e,{$to:r}=e.selection,{codeBlock:i}=e.schema.nodes,s=e.doc.nodeAt(r.pos+1),a=s&&s.isText?0:1;return n.replaceRangeWith(r.pos+a,r.pos+a,i.createAndFill()),n.setSelection(o.Selection.near(n.doc.resolve(e.selection.to+a))),t&&t(n),!0}}()(t,n);break;case i.m.name:if(r.panel&&r.paragraph)return O(r.panel)(t,n)}return!1}}const v=(e,t)=>{switch(e){case i.a.name:return Object(a.d)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(y(e));case i.b.name:return Object(a.d)({action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:l.c.CODE_BLOCK,attributes:{inputMethod:t},eventType:l.d.TRACK})(y(e));case i.m.name:return Object(a.d)({action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,
actionSubjectId:l.c.PANEL,attributes:{inputMethod:t,panelType:d.a.INFO},eventType:l.d.TRACK})(y(e));default:return y(e)}};function O(e){return function(t,n){let{tr:i}=t;const{$from:a,$to:l}=t.selection,{paragraph:c}=t.schema.nodes,{alignment:d,indentation:u}=t.schema.marks;i=Object(s.c)(t,[d,u])||i;const p=a.blockRange(l),h=p&&Object(r.m)(p,e);return p&&h?i.wrap(p,h).scrollIntoView():(i.replaceRangeWith(l.pos+1,l.pos+1,e.createAndFill({},c.create())),i.setSelection(o.Selection.near(i.doc.resolve(t.selection.to+1)))),n&&n(i),!0}}const j=(e,t)=>{const{$cursor:n}=e.selection;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){const{tr:o,schema:r}=e,{paragraph:i}=r.nodes,{parent:s}=n;return o.setNodeMarkup(0,i,s.attrs,[]),t&&t(o),!0}return!1}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({normal:{id:"fabric.editor.normal",
defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{
id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",
defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",
description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",
defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/types.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/commands/block-type.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/consts.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(e,t)=>{switch(e){case i.k:return!!t.schema.nodes.paragraph;case i.e:case i.f:case i.g:case i.h:case i.i:case i.j:return!!t.schema.nodes.heading;case i.a:return!!t.schema.nodes.blockquote;case i.b:return!!t.schema.nodes.codeBlock;case i.m:return!!t.schema.nodes.panel}},m=(e,t)=>{if(!t.selection)return i.k;let n;const{$from:o,$to:r}=t.selection;return t.doc.nodesBetween(o.pos,r.pos,(o=>{const r=e.filter((e=>e===((e,t)=>{if(e.type===t.nodes.heading){const t=i.c[e.attrs.level];if(t)return t}else if(e.type===t.nodes.paragraph)return i.k;return i.l})(o,t.schema)));r.length>0&&(n?n!==i.l&&n!==r[0]&&(n=i.l):n=r[0])})),n||i.l
},f=(e,t)=>(0===e?Object(a.g)(l.e.FORMATTING)(t.state,t.dispatch):Object(a.f)(e,l.e.FORMATTING)(t.state,t.dispatch),!0),b=new o.PluginKey("blockTypePlugin"),g=(e,t)=>{let n=0;return new o.Plugin({appendTransaction(e,n,o){if(t){const e=o.doc.resolve(o.doc.content.size-1).node(1),{paragraph:t}=o.schema.nodes;if(e&&e.isBlock&&e.type!==t)return o.tr.insert(o.doc.content.size,o.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init(e,t){const n=i.n.filter((e=>h(e,t))),o=i.o.filter((e=>h(e,t)));return{currentBlockType:m(n,t),blockTypesDisabled:Object(s.a)(t),availableBlockTypes:n,availableWrapperBlockTypes:o}},apply(t,n,o,r){const i=u(u({},n),{},{currentBlockType:m(n.availableBlockTypes,r),blockTypesDisabled:Object(s.a)(r)});return i.currentBlockType===n.currentBlockType&&i.blockTypesDisabled===n.blockTypesDisabled||e(b,i),i}},key:b,props:{handleKeyDown:(e,t)=>{const o=c.b.indexOf(t.keyCode);if(o>-1&&t.altKey){if(r.a.mac&&t.metaKey)return f(o,e)
;if(!r.a.mac&&t.ctrlKey&&n!==t.DOM_KEY_LOCATION_RIGHT)return f(o,e)}else"Alt"===t.key?n=t.location:t.altKey||(n=0);return!1}}})}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/types.js":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/block-type/messages.js");const r={name:"normal",title:o.a.normal,nodeName:"paragraph",tagName:"p"},i={name:"heading1",title:o.a.heading1,nodeName:"heading",tagName:"h1",level:1},s={
name:"heading2",title:o.a.heading2,nodeName:"heading",tagName:"h2",level:2},a={name:"heading3",title:o.a.heading3,nodeName:"heading",tagName:"h3",level:3},l={name:"heading4",title:o.a.heading4,nodeName:"heading",tagName:"h4",level:4},c={name:"heading5",title:o.a.heading5,nodeName:"heading",tagName:"h5",level:5},d={name:"heading6",title:o.a.heading6,nodeName:"heading",tagName:"h6",level:6},u={name:"blockquote",title:o.a.blockquote,nodeName:"blockquote"},p={name:"codeblock",title:o.a.codeblock,nodeName:"codeBlock"},h={name:"panel",title:o.a.infoPanel,nodeName:"panel"},m={name:"other",title:o.a.other,nodeName:""},f=[r,i,s,a,l,c,d],b=[u,p,h],g=(f.concat(b),f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.level]=t),e)),{})),y=f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.name]=t),e)),{})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/breakout/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={
BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/actions.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/plugin-key.js");const r=(e,t)=>e.setMeta(o.a,t),i=e=>t=>r(t,{type:"RESOLVE",url:e}),s=e=>t=>r(t,{type:"QUEUE",requests:e}),a=e=>t=>r(t,{type:"REGISTER",info:e}),l=e=>t=>r(t,{type:"SET_PROVIDER",provider:e}),c=e=>r(e,{type:"SHOW_LINK_TOOLBAR"}),d=e=>r(e,{type:"HIDE_LINK_TOOLBAR"})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/doc.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return k})),
n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"g",(function(){return T}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js"),i=n("./node_modules/prosemirror-history/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/plugin-key.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/actions.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/utils.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),p=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/url.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/paste/md.js");function f(e,t=!0,n){const o=e.marks.find((e=>"link"===e.type.name));if(!o)return!1
;const r=Object(p.c)(m.a.normalizeLinkText(o.attrs.href)),i=Object(p.c)(m.a.normalizeLinkText(e.text||""));if(t&&r!==i)return!1;if(n){if(Object(p.c)(m.a.normalizeLinkText(n))!==r)return!1}return!0}var b=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/node-events.js"),g=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/analytics.js");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n){const{inlineCard:o}=n.nodes,i=[t];return t.type===o&&i.push(n.text(" ")),e.replaceSelection(new r.Slice(r.Fragment.fromArray(i),0,0))}const w=(e,t,n)=>(o,r)=>{const l=s.a.getState(o);if(!l)return!1;const m=l.requests.filter((t=>t.url===e)),b=o.schema,g=Object(c.l)(b,t);let y=o.tr;if(g){const t=m.map((e=>function(e,t,n,o){const{inlineCard:r}=n.nodes,{url:i}=o;if(!Object(p.b)(i))return;const s=e.mapping.map(o.pos),a=e.doc.resolve(s),l=e.doc.nodeAt(s);if(!l||!l.type.isText)return;if(!o.shouldReplaceLink&&!f(l,o.compareLinkText,i))return;const c=[t];return t.type===r&&c.push(n.text(" ")),e.replaceWith(s,s+(l.text||i).length,c),a.node(a.depth-1).type.name}(y,g,b,e))).filter((e=>!!e));if(t.length){const r=t.every((e=>e===t[0]))?t[0]:"mixed",i="inlineCard",[,,s]=e.split("/");Object(d.a)(o,y,{action:n||u.a.INSERTED,actionSubject:u.b.DOCUMENT,actionSubjectId:u.c.SMART_LINK,
eventType:u.d.TRACK,attributes:{inputMethod:m[0].source,nodeType:i,nodeContext:r,domainName:s,fromCurrentDomain:Object(h.d)(e)}})}}return r&&r(Object(a.d)(e)(Object(i.a)(y))),!0},k=(e,t)=>(n,o)=>{if(!s.a.getState(n))return!1;const r=n.tr;return Object(d.a)(n,r,Object(g.a)(t,e)),o&&o(Object(a.d)(e)(r)),!0},E=(e,t,n,o=!0)=>{const{schema:r}=e,{link:i}=r.marks,s=[];return Object(c.k)(t,((e,t)=>{if(!e.isText)return!0;const r=e.marks.find((e=>e.type===i));if(r){if(!f(e,o))return!1;s.push({url:r.attrs.href,pos:t,appearance:"inline",compareLinkText:o,source:n})}return!1})),Object(a.b)(s)(t)},S=(e,t,n,o,r)=>(i,s)=>{let a;return a=o&&r?function(e,t,n,o,r){const{link:i}=e.schema.marks,s=o.attrs.url||o.attrs.data.url;return e.tr.replaceWith(r,r+o.nodeSize,e.schema.text(t||s,[i.create({href:n||s})]))}(i,e,t,o,r):C(i,e,t),n&&Object(d.a)(i,a,{action:u.a.CHANGED_TYPE,actionSubject:u.b.SMART_LINK,eventType:u.d.TRACK,attributes:{newType:b.b.URL}}),s&&s(a.scrollIntoView()),!0},_=e=>(t,n)=>{
if(!(t.selection instanceof o.NodeSelection&&t.selection.node))return!1;const r=C(t,e,e);return E(t,r,u.e.MANUAL),n&&n(r.scrollIntoView()),!0};function C(e,t,n){const r=e.selection instanceof o.NodeSelection&&e.selection.node;if(!r)return e.tr;const{link:i}=e.schema.marks,s=r.attrs.url||r.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||s,[i.create({href:n||s})]),!1)}const x=e=>(t,n)=>{if(!(t.selection instanceof o.NodeSelection&&t.selection.node))return!1;const r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return n&&n(r.scrollIntoView()),!0},T=e=>(t,n)=>{const r=t.selection instanceof o.NodeSelection&&t.selection.node;if(!r){const o=((e,t,n,o=!0)=>{const{schema:r}=e,{link:i}=r.marks,s=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,((e,r)=>{const a=e.marks.find((e=>e.type===i));if(a){const e={url:a.attrs.href,pos:r,appearance:n,compareLinkText:o,source:t,analyticsAction:u.a.CHANGED_TYPE,shouldReplaceLink:!0};s.push(e)}})),Object(a.b)(s)(e.tr)
})(t,u.e.MANUAL,e);return n&&n(o.scrollIntoView()),!1}if(Object(l.a)(r.type)===e)return!1;const i="embed"===e?v(v({},r.attrs),{},{layout:"center"}):r.attrs,{from:s}=t.selection,c=P(e,t.schema.nodes),p=t.tr.setNodeMarkup(s,c,i,r.marks);return Object(d.a)(t,p,{action:u.a.CHANGED_TYPE,actionSubject:u.b.SMART_LINK,eventType:u.d.TRACK,attributes:{newType:e,previousType:Object(l.a)(r.type)}}),n&&n(p.scrollIntoView()),!0},P=(e,t)=>{switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("cardPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),
n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u}));n("./node_modules/prosemirror-state/dist/index.es.js");var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/plugin-key.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js");const a=e=>"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0,l=e=>{const{attrs:t}=e;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},c=(e,t)=>((e,t)=>({title:t&&t.title||e.title,url:t&&t.url||e.url}))(l(e),t),d=e=>r.a.getState(e).cards.find((t=>t.pos===e.selection.from)),u=(e,t)=>{const{blockCard:n,inlineCard:r}=t.schema.nodes,a=[];return Object(i.c)(e.content,((e,o,i)=>{e.type!==n||Object(s.f)(t,i)?a.push(e):a.push(r.createChecked(e.attrs,e.content,e.marks))})),
new o.Slice(o.Fragment.fromArray(a),e.openStart,e.openEnd)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/code-block/ui/class-names.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={gutter:"line-number-gutter",content:"code-content"}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/actions.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return f}));var o=n("./node_modules/prosemirror-collab/dist/index.es.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js"),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/utils.js");const a=(e,t,n)=>{const{doc:o,json:r,version:i}=e;if(o){const{state:e}=t,r=Object(s.e)(o,e,i,n);r.setMeta("isRemote",!0),t.dispatch(r)
}else r&&u(r,void 0,t)},l=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("sessionId",e))},c=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("presence",e))},d=(e,t,n)=>{const{json:o,userIds:r=[]}=e;o&&u(o,r,t,n)},u=(e,t,n,i)=>{if(!e||!e.length)return;const{state:s,state:{schema:a}}=n,l=e.map((e=>r.f.fromJSON(a,e)));let c;if(i&&i.useNativePlugin&&t?c=Object(o.b)(s,l,t):(c=s.tr,l.forEach((e=>c.step(e)))),c){c.setMeta("addToHistory",!1),c.setMeta("isRemote",!0);const{from:t,to:o}=s.selection,[r]=e;t===r.from&&o===r.to&&c.setSelection(s.selection.map(c.doc,c.mapping)),n.dispatch(c)}},p=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("telepointer",e))};function h(e){return e instanceof i.AllSelection}function m(e){return e instanceof i.NodeSelection}const f=e=>({type:"textSelection",anchor:e.anchor,head:h(e)||m(e)?e.head-1:e.head})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/analytics.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),
n.d(t,"a",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");const i=(e,t)=>n=>Object(o.a)(e,t,{action:r.a.SYNCHRONY_ERROR,actionSubject:r.b.EDITOR,eventType:r.d.OPERATIONAL,attributes:{error:n}}),s=(e,t)=>n=>Object(o.a)(e,t,{action:"error"===n?r.a.SYNCHRONY_ENTITY_ERROR:r.a.SYNCHRONY_DISCONNECTED,actionSubject:r.b.EDITOR,eventType:r.d.OPERATIONAL,attributes:{onLine:navigator.onLine,visibilityState:document.visibilityState}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/get-participants-count.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin-key.js");function r(e){if(!e)return 1;const t=o.a.getState(e);return t&&t.participants?t.participants.size():1}},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("collabEditPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-core/node_modules/memoize-one/dist/memoize-one.esm.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/actions.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/analytics.js");const l=((e,t)=>{let n,o;return(...r)=>(o&&t(n,r)||(o=e(...r),n=r),o)})(((e,t,n,o)=>{let r;const i=()=>{Object(a.a)(e.state,e.state.tr)("disconnected")},l=()=>{Object(a.a)(e.state,e.state.tr)("error")},c=()=>{
r&&(r.off("disconnected",i),r.off("error",l))},d=t=>{e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),Object(s.d)(t,e,n)},u=t=>Object(s.c)(t,e),p=t=>Object(s.a)(t,e,n),h=t=>Object(s.e)(t,e),m=t=>Object(s.f)(t,e),f=t=>{const{steps:n}=t,{state:o}=e,{tr:r}=o;n.forEach((e=>r.step(e))),e.dispatch(r)},b=t=>{Object(a.b)(e.state,e.state.tr)(t)},g=({entity:e})=>{c(),n.EXPERIMENTAL_allowInternalErrorAnalytics&&(e.on("disconnected",i),e.on("error",l),r=e)};return t.on("init",d).on("connected",u).on("data",p).on("presence",h).on("telepointer",m).on("local-steps",f).on("error",b).on("entity",g),()=>{c(),t.off("init",d).off("connected",u).off("data",p).off("presence",h).off("telepointer",m).off("local-steps",f).off("error",b).off("entity",g)}}),((e,t)=>t&&t.every(((t,n)=>t===e[n]))));var c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/plugin-key.js");const d=Object(i.a)(((e,t)=>{e.initialize((()=>t.state),(e=>r.f.fromJSON(t.state.schema,e)))}))
;var u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(u),h=n("./node_modules/prosemirror-view/dist/index.es.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e=new Map){this.participants=e}add(e){const t=new Map(this.participants);return e.forEach((e=>{t.set(e.sessionId,e)})),new g(t)}remove(e){
const t=new Map(this.participants);return e.forEach((e=>{t.delete(e)})),new g(t)}update(e,t){const n=new Map(this.participants),o=n.get(e);return o?(n.set(e,f(f({},o),{},{lastActive:t})),new g(n)):this}toArray(){return Array.from(this.participants.values())}get(e){return this.participants.get(e)}size(){return this.participants.size}eq(e){return this.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")===e.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")}}var y=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/utils.js");const v=e=>e instanceof r.e,O="telepointer-dim",j=(e,t)=>{const n=e.doc.resolve(t),r=o.Selection.findFrom(n,-1,!0),i=o.Selection.findFrom(n,1,!0);return r?r.from:i?i.from:t};class w{get decorations(){return this.decorationSet}get activeParticipants(){return this.participants}get sessionId(){return this.sid}constructor(e,t,n,o=!1,r){p()(this,"onError",(e=>console.error(e))),this.decorationSet=e,this.participants=t,
this.sid=n,this.isReady=o,this.onError=r||this.onError}getInitial(e){const t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}apply(e){let{participants:t,sid:n,isReady:o}=this;const r=e.getMeta("presence"),i=e.getMeta("telepointer"),s=e.getMeta("sessionId");let a=e.getMeta("collabInitialised");"boolean"!=typeof a&&(a=o),s&&(n=s.sid);let l=[],c=[];if(r){const{joined:e=[],left:n=[]}=r;t=t.remove(n.map((e=>e.sessionId))),t=t.add(e),n.forEach((e=>{const t=Object(y.c)(e.sessionId,this.decorationSet);t&&(c=c.concat(t))}))}if(i){const{sessionId:o}=i;if(t.get(o)&&o!==n){const t=Object(y.c)(i.sessionId,this.decorationSet);t&&(c=c.concat(t));const{anchor:n,head:r}=i.selection,s=n<r?n:r,a=n>=r?n:r,d=a-s>0;let u=1,h=1;try{u=j(e,d?Math.max(s-1,0):s),h=d?j(e,a):u}catch(p){this.onError(p)}l=l.concat(Object(y.b)(u,h,o,d,this.getInitial(o)))}}if(e.docChanged){try{this.decorationSet=this.decorationSet.map(e.mapping,e.doc,{onRemove:t=>{if(t.pointer&&t.pointer.sessionId){
const n=e.steps.filter(v)[0];if(n){const{sessionId:o}=t.pointer,{slice:{content:{size:r}},from:i}=n,s=j(e,r?Math.min(i+r,e.doc.nodeSize-3):Math.max(i,1));l=l.concat(Object(y.b)(s,s,o,!1,this.getInitial(o)))}}}})}catch(p){this.onError(p)}e.steps.filter(v).forEach((e=>{const{from:t,to:n}=e;this.decorationSet.find(t,n).forEach((e=>{e.from!==e.to&&c.push(e)}))}))}const{selection:d}=e;this.decorationSet.find().forEach((e=>{if(e.type.toDOM){const t=e.type.toDOM.classList.contains(O);e.from===d.from&&e.to===d.to?(t||e.type.toDOM.classList.add(O),e.type.side=-1):(t&&e.type.toDOM.classList.remove(O),e.type.side=0)}})),c.length&&(this.decorationSet=this.decorationSet.remove(c)),l.length&&(this.decorationSet=this.decorationSet.add(e.doc,l));const u=new w(this.decorationSet,t,n,a);return w.eq(u,this)?this:u}static eq(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}static init(e){const{doc:t,onError:n}=e
;return new w(h.b.create(t,[]),new g,void 0,void 0,n)}}const k=(e,t,n,r)=>new o.Plugin({key:c.a,state:{init:e=>w.init(e),apply(t,n,o,r){const i=n.apply(t);return e(c.a,i),i}},props:{decorations(e){return this.getState(e).decorations}},filterTransaction(e,t){const n=c.a.getState(t);return!!e.getMeta("collabInitialised")||!(!n.isReady&&e.docChanged)},view(e){const o=Object(a.b)(e.state,e.state.tr),i=n((({options:e,providerFactory:t,view:n})=>o=>{let r;return c.a.getState(n.state).isReady&&r&&r(),r=l(n,o,e,t),d(o,n),r})({view:e,options:r,providerFactory:t}),o);return{destroy(){t.unsubscribeAll("collabEditProvider"),i&&i.then((e=>{e&&e()}))}}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-view/dist/index.es.js"),i=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/colors.js"),s=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js");const a=["#FF8F73","#FF5630","#BF2600","#FFE380","#FFAB00","#FF8B00","#79F2C0","#36B37E","#006644","#79E2F2","#00B8D9","#008DA6","#4C9AFF","#0065FF","#0747A6","#998DD9","#6554C0","#403294","#A5ADBA","#6B778C","#172B4D"].map((e=>({solid:e,selection:Object(i.U)(e,.2)}))),l=e=>{let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;const n=Math.abs(t)%a.length;return{index:n,color:a[n]}},c=(e,t)=>t.find().reduce(((t,n)=>n.spec.pointer.sessionId===e?t.concat(n):t),[]);const d=(e,t,n,o,i)=>{let a=[];const c=l(n),d=c.index.toString();if(o){const o=`telepointer color-${d} telepointer-selection`;a.push(r.a.inline(e,t,{class:o,"data-initial":i},{pointer:{sessionId:n}}))}const u=document.createElement("span")
;return u.textContent=s.a,u.className=`telepointer color-${d} telepointer-selection-badge`,u.style.cssText=`${function(e){const t=e&&e.color||"black";return`border-left: 1px solid ${t}; border-right: 1px solid ${t}; margin-right: -2px;`}({color:c.color.solid})};`,u.setAttribute("data-initial",i),a.concat(r.a.widget(t,u,{pointer:{sessionId:n},key:`telepointer-${n}`}))},u=(e,t,n,r)=>{const{schema:i,tr:s}=t;let a=(e.content||[]).map((e=>i.nodeFromJSON(e)));if(!!a.length&&(s.setMeta("addToHistory",!1),s.replaceWith(0,t.doc.nodeSize-2,a),s.setSelection(o.Selection.atStart(s.doc)),s.setMeta("replaceDocument",!0),void 0!==typeof n&&r&&r.useNativePlugin)){const e={version:n,unconfirmed:[]};s.setMeta("collab$",e)}return s}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/context-panel/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");function r(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=new o.PluginKey("contextPanelPluginKey");t.a=()=>({name:"contextPanel",pmPlugins:(e=[])=>[{name:"contextPanel",plugin:({dispatch:t})=>function(e,t){return new o.Plugin({key:a,state:{init:(t,n)=>({handlers:e,contents:e.map((e=>e(n)))}),apply(e,n,o,r){let s=n;const l=e.getMeta(a);if(e.docChanged||e.selectionSet||l&&l.changed){
const e=n.handlers.map((e=>e(r)));(e.length!==s.contents.length||e.some((e=>s.contents.indexOf(e)<0)))&&(s=i(i({},s),{},{contents:e}))}return s!==n&&t(a,s),s}}})}(e.filter(Boolean),t)}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/date/utils/formatParse.js":function(t,n,o){"use strict";o.d(n,"d",(function(){return i})),o.d(n,"c",(function(){return s})),o.d(n,"b",(function(){return a})),o.d(n,"a",(function(){return l}));var r=o("./node_modules/@atlaskit/locale/dist/es2019/internal/localization-provider/localization-provider.js");function i(t,n){try{const e=Object(r.a)(n).parseDate(t);if(isNaN(e.getTime()))return null;const o=e.getFullYear();if(o<1e3||o>9999)return null;return{day:e.getDate(),month:e.getMonth()+1,year:o}}catch(e){return null}}function s(e,t){const{day:n,month:o,year:i}=e,s=Object(r.a)(t),a=new Date(i,o-1,n);return s.formatDate(a)}function a(e){const{day:t,month:n,year:o}=e;return new Date(o,n-1,t)}function l(e){return{day:e.getDate(),month:e.getMonth()+1,
year:e.getFullYear()}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/date/utils/internal.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/date/utils/formatParse.js"),r=n("./node_modules/date-fns/add_days/index.js"),i=n.n(r),s=n("./node_modules/date-fns/add_months/index.js"),a=n.n(s),l=n("./node_modules/date-fns/add_years/index.js"),c=n.n(l);function d(e){return void 0!==e&&(e>="0"&&e<="9")}function u(e){for(const t of e){const e=t>="0"&&t<="9",n=-1!==". ,/".indexOf(t);if(!e&&!n)return!1}return!0}function p(e,t,n){if(e>t.length)return;const r=function(e){const t={day:7,month:1,year:1992},n=Object(o.c)(t,e);return n.replace(/\d+/g,(e=>{if(!e)return"";switch(parseInt(e)%100){case 92:return e.replace(/.{1}/g,"y");case 1:return 1===e.length?"m":"mm";case 7:return 1===e.length?"d":"dd"}return""
}))}(n);if(!r)return;const i=r.replace(/[^ymd]+$/g,""),s={d:"day",m:"month",y:"year"},a=s[i[0]],l=s[i[i.length-1]],c=["day","month","year"].filter((e=>e!==a&&e!==l))[0];return function(e,t){let n=e-1,o=!0;const r=t.replace(/[^0-9]+$/g,"");for(;n>=0&&o;)d(r[n])||(o=!1),n-=1;return o}(e,t)?a:function(e,t){let n=e,o=!0;const r=t.replace(/[^0-9]+$/g,"");for(;n<r.length&&o;)d(r[n])||(o=!1),n+=1;return o}(e,t)?l:c}function h(e,t,n){const r=Object(o.b)(e),s="day"===t?i()(r,n):"month"===t?a()(r,n):c()(r,n);return Object(o.a)(s)}function m(e){const t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/editor-disabled/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js");const i=new o.PluginKey("editorDisabledPlugin")
;const{createPluginState:s,getPluginState:a}=Object(r.a)(i,(function(e,t){return t}));t.a=()=>({name:"editorDisabled",pmPlugins:()=>[{name:"editorDisabled",plugin:({dispatch:e})=>function(e){return new o.Plugin({key:i,state:s(e,{editorDisabled:!1}),view:()=>({update(e){if(a(e.state).editorDisabled!==!e.editable){const t=e.state.tr.setMeta(i,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}})})}(e)}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/commands.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return k}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/general-events.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/utils.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/pm-plugins/plugin-factory.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>Object(u.a)({type:"SET_EXPAND_REF",data:{ref:e}},(e=>e.setMeta("addToHistory",!1))),b=(e,t)=>(n,o)=>{if(!t||isNaN(e))return!1;const r={action:s.a.DELETED,actionSubject:t.type===n.schema.nodes.expand?s.b.EXPAND:s.b.NESTED_EXPAND,attributes:{inputMethod:s.e.TOOLBAR},eventType:s.d.TRACK};return t&&o&&o(Object(a.a)(n,n.tr.delete(e,e+t.nodeSize),r)),!0},g=()=>(e,t)=>{const n=Object(d.a)(e);return!!n&&b(n.pos,n.node)(e,t)},y=(e,t,n)=>(o,r)=>{const i=o.doc.nodeAt(t);if(i&&i.type===n&&r){const{tr:n}=o
;n.setNodeMarkup(t,i.type,h(h({},i.attrs),{},{title:e}),i.marks),r(n)}return!0},v=(e,t)=>(n,o)=>{const r=n.doc.nodeAt(e);if(r&&r.type===t&&o){const{tr:i}=n,u=!r.attrs.__expanded;i.setNodeMarkup(e,r.type,h(h({},r.attrs),{},{__expanded:u}),r.marks),!1===u&&Object(d.a)(n)&&i.setSelection(new c.a(i.doc.resolve(e+r.nodeSize),c.b.RIGHT));const p={action:s.a.TOGGLE_EXPAND,actionSubject:t===n.schema.nodes.expand?s.b.EXPAND:s.b.NESTED_EXPAND,attributes:{platform:l.d.WEB,mode:l.c.EDITOR,expanded:u},eventType:s.d.TRACK};o(Object(a.a)(n,i.setMeta("isRemote",!0),p))}return!0},O=e=>{const{expand:t,nestedExpand:n}=e.schema.nodes;return(Object(i.c)(e.selection)?n:t).createAndFill({})},j=(e,t)=>{const n=O(e),o={action:s.a.INSERTED,actionSubject:s.b.DOCUMENT,actionSubjectId:n.type===e.schema.nodes.expand?s.c.EXPAND:s.c.NESTED_EXPAND,attributes:{inputMethod:s.e.INSERT_MENU},eventType:s.d.TRACK};return t&&t(Object(a.a)(e,Object(r.safeInsert)(n)(e.tr).scrollIntoView(),o)),!0},w=e=>(t,n,o)=>{if(o){
const r=o.domAtPos(e).node.parentElement;if(r){k(t,n,o);const e=r.querySelector("input");if(e)return e.focus(),!0}}return!1},k=(e,t,n)=>{const{tr:r,doc:i,selection:s}=e;return n&&!n.hasFocus()&&n.focus(),t&&t(r.setSelection(o.TextSelection.create(i,s.from))),!0}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/pm-plugins/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=new o.PluginKey("expandPlugin"),{createPluginState:c,createCommand:d,getPluginState:u}=Object(r.a)(l,((e,t)=>{switch(t.type){case"SET_EXPAND_REF":return s(s({},e),{},{expandRef:t.data.ref});default:return e}}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/ui/class-names.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o="ak-editor-expand",r={prefix:o,expanded:`${o}__expanded`,titleContainer:`${o}__title-container`,inputContainer:`${o}__input-container`,iconContainer:`${o}__icon-container`,icon:`${o}__icon`,titleInput:`${o}__title-input`,
content:`${o}__content`,type:e=>`${o}__type-${e}`}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/expand/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js");const s=(e,t)=>{const{expand:n,nestedExpand:r}=e.schema.nodes;return Object(o.findSelectedNodeOfType)([n,r])(t||e.selection)||Object(o.findParentNodeOfType)([n,r])(t||e.selection)},a=(e,t)=>e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new r.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e,l=(e,t)=>{const{expand:n,nestedExpand:o}=t.nodes,s=[];return Object(i.c)(e.content,(e=>{e.type===o?s.push(n.createChecked(e.attrs,e.content,e.marks)):s.push(e)})),
new r.Slice(r.Fragment.fromArray(s),e.openStart,e.openEnd)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/commands.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return b}));var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/context-panel/index.js");const i=e=>e.setMeta(r.b,{changed:!0});var s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-factory.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/utils.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return Object(s.a)({type:"UPDATE_STATE",data:e})}function p(e,t){return Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},i)}const h=Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}},i),m=e=>Object(s.a)({type:"UPDATE_STATE",data:{autoSaveResolve:e}},i),f=(Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!0}},i),e=>Object(s.a)({type:"UPDATE_STATE",data:{layout:e}},((t,n)=>{
const o=Object(a.b)(n,!0);return o?t.setNodeMarkup(o.pos,void 0,c(c({},o.node.attrs),{},{layout:e})):t}))),b=()=>Object(s.a)({type:"UPDATE_STATE",data:{element:void 0}},((e,t)=>Object(a.b)(t)?Object(o.removeSelectedNode)(e):Object(o.removeParentNodeOfType)(t.schema.nodes.bodiedExtension)(e)))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-key.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=Object(o.a)(a.a,(function(e,t){switch(t.type){case"UPDATE_STATE":return i(i({},e),t.data);default:return e}}),{mapping(e,t){const{positions:n}=t;if(!n)return t;const o=c({},n);for(const r in o)o[r]=e.mapping.map(o[r]);return c(c({},t),{},{positions:o})}}),p=u.createPluginState,h=u.createCommand,m=u.getPluginState},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("extensionPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/utils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}))
;var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js");const i=(e,t=!1)=>{const{inlineExtension:n,extension:r,bodiedExtension:i}=e.schema.nodes,s=[r,i,n];return Object(o.findSelectedNodeOfType)(s)(e.selection)||t&&Object(o.findParentNodeOfType)(s)(e.selection)||void 0},s=({schema:e,selection:t})=>{const{inlineExtension:n,extension:r}=e.nodes;return Object(o.findSelectedNodeOfType)([n,r])(t)},a=(e,t,n=!1)=>{const i=t&&Object(o.findDomRefAtPos)(t.pos,e);return t&&i.querySelector?n?i.querySelector(".extension-container")||i:Object(r.b)(i,".extension-container")||i.querySelector(".extension-container")||i:void 0}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/fake-text-cursor/cursor.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/prosemirror-view/dist/index.es.js"),a=n("./node_modules/prosemirror-model/dist/index.es.js");class l{constructor(e){r()(this,"pos",void 0),r()(this,"visible",!1),this.pos=e}map(e){return new l(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return i.Selection.near(t)}}class c extends i.Selection{constructor(e){super(e,e)}map(e,t){const n=e.resolve(t.map(this.$head.pos));return new c(n)}static content(){return a.Slice.empty}eq(e){return e instanceof c&&e.head===this.head}toJSON(){return{type:"Cursor",pos:this.head}}static fromJSON(e,t){return new c(e.resolve(t.pos))}getBookmark(){return new l(this.anchor)}}i.Selection.jsonID("fake-text-cursor",c);const d=e=>{if(!(e.selection instanceof c))return null;const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",
s.b.create(e.doc,[s.a.widget(e.selection.head,t,{key:"Cursor"})])}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/feature-flags-from-props.js":function(e,t,n){"use strict";function o(e){var t,n,o;return{newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!e.placeholderBracketHint,placeholderHints:Array.isArray(e.placeholderHints)&&e.placeholderHints.length>0,moreTextColors:"boolean"!=typeof e.allowTextColor&&Boolean(e.allowTextColor&&!0===e.allowTextColor.EXPERIMENTAL_allowMoreTextColors),findReplace:!!e.allowFindReplace,findReplaceMatchCase:"object"==typeof e.allowFindReplace&&Boolean(e.allowFindReplace.allowMatchCase),extensionLocalIdGeneration:"boolean"!=typeof e.allowExtension&&!(!e.allowExtension||!e.allowExtension.allowLocalIdGeneration),
keyboardAccessibleDatepicker:"boolean"==typeof e.allowKeyboardAccessibleDatepicker&&e.allowKeyboardAccessibleDatepicker,addColumnWithCustomStep:!(!e.allowTables||"boolean"==typeof e.allowTables)&&Boolean(e.allowTables.allowAddColumnWithCustomStep),predictableLists:e.UNSAFE_predictableLists,undoRedoButtons:e.UNSAFE_allowUndoRedoButtons,catchAllTracking:null===(t=e.performanceTracking)||void 0===t||null===(n=t.catchAllTracking)||void 0===n?void 0:n.enabled,nextEmojiNodeView:!0===(null===(o=e.featureFlags)||void 0===o?void 0:o.nextEmojiNodeView)}}function r(e){return Object.keys(e).filter((t=>!0===e[t]))}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/EditorContext/index.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=new o.PluginKey("featureFlagsContextPlugin"),l=e=>a.getState(e),c=()=>{const{editorActions:e}=Object(r.b)(),t=null==e?void 0:e._privateGetEditorView();return(null==t?void 0:t.state)?a.getState(t.state):void 0};t.a=(e={})=>({name:"featureFlagsContext",pmPlugins:()=>[{name:"featureFlagsContext",plugin:()=>new o.Plugin({key:a,state:{init:()=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),apply:(e,t)=>t}})}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feedback-dialog/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/version.json"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");var d=(e,t)=>{let n,o="",r="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{
s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let s in i){const t=i[s];if(t.r.test(e)){o=t.s;break}}switch(/Windows/.test(o)&&(n=/Windows (.*)/.exec(o),r=n&&n[1],
o="Windows"),o){case"Mac OS X":n=/Mac OS X (10[\.\_\d]+)/.exec(e),r=n&&n[1];break;case"Android":n=/Android ([\.\_\d]+)/.exec(e),r=n&&n[1];break;case"iOS":n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t),r=n&&n[1]+"."+n[2]+"."+(n[3]||0)}return`${o} ${r}`};var u=e=>{let t,n,o,r,i;return-1!==(r=e.indexOf("OPR/"))?(t="Opera",n=e.substring(r+4)):-1!==(r=e.indexOf("Opera"))?(t="Opera",n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+6)):-1!==(r=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(r+5)):-1!==(r=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(r+7)):-1!==(r=e.indexOf("Safari"))?(t="Safari",n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+7)):-1!==(r=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(r+8)):(o=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))?(t=e.substring(o,r),n=e.substring(r+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),
-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),`${t} ${n}`};var p=(e,t,n,o,r,i,s)=>new Promise((async(a,l)=>{window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:e=>{"function"==typeof e?a(e):l("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:e||[],customfield_11712:`version: ${t}@${o} (${n})\n              Browser: ${u(navigator.userAgent)}\n              OS: ${d(navigator.userAgent,navigator.appVersion)}`},environment:{"Editor Package":t,"Editor Version":o,"Editor Core Version":n,sessionId:r,contentId:i,tabId:s},priority:"1",components:"15306"},window.jQuery.ajax({
url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):l("jQuery is not defined")})),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/insert-block/ui/ToolbarInsertBlock/messages.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}new i.PluginKey("feedbackDialogPlugin");let g,y,v;const O=async e=>new Promise((async(t,n)=>{const o=f(f(f({},{product:"n/a",labels:[],packageName:"",packageVersion:"",sessionId:"",contentId:"",tabId:""}),v),e),r=(e=>{const{product:t,packageName:n,packageVersion:o,labels:r}=e;return[t,n,o,...r||[]].join("|")})(o);if(!g||y!==r)try{g=await p([o.product,...o.labels],o.packageName,a.b,o.packageVersion,o.sessionId,o.contentId,o.tabId),y=r}catch(i){n(i)}t(window.setTimeout(g,0))}));t.a=e=>(v=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:({formatMessage:t})=>[{id:"feedbackdialog",title:t(h.a.feedbackDialog),description:t(h.a.feedbackDialogDescription),
priority:400,keywords:["bug"],icon:()=>r.a.createElement(s.h,{label:t(h.a.feedbackDialog)}),action(t,n){const o=t("");return O(e),Object(l.a)(n,o,{action:c.a.OPENED,actionSubject:c.b.FEEDBACK_DIALOG,attributes:{inputMethod:c.e.QUICK_INSERT},eventType:c.d.UI})}}]}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/raf-schd/esm/index.js"),s=n("./node_modules/prosemirror-state/dist/index.es.js"),a=n("./node_modules/prosemirror-utils/dist/index.js"),l=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/index.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),d=n("./node_modules/react-loadable/lib/index.js");const u=n.n(d)()({
loader:()=>n.e("@atlaskit-internal-editor-core-floating-toolbar").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Toolbar.js")),loading:()=>null});var p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/editor-disabled/index.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/utils.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>Object(a.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e));function y(e){return!!e}t.a=()=>({name:"floatingToolbar",pmPlugins:(e=[])=>[{name:"floatingToolbar",plugin:({dispatch:t,reactContext:n,providerFactory:o})=>function(e){const{floatingToolbarHandlers:t,dispatch:n,reactContext:o,providerFactory:r}=e,l=(e,i,l,c)=>{const{intl:d}=o(),u=t.map((e=>e(c,d,r))).filter(y).map((e=>function(e){if(Array.isArray(e.nodeType))return f(f({},e),{},{nodeType:e.nodeType.filter(y)});return e}(e))),p=u&&((e,t)=>{let n;if(t.find((t=>{const o=Object(a.findSelectedNodeOfType)(t.nodeType)(e);return o&&(n={node:o.node,pos:o.pos,config:t}),!!o})),n)return n;const o={};t.forEach((e=>{Array.isArray(e.nodeType)?e.nodeType.forEach((t=>{o[t.name]=e})):o[e.nodeType.name]=e}));const{$from:r}=e;for(let i=r.depth;i>0;i--){const e=r.node(i),t=o[e.type.name];if(t)return{config:t,node:e,pos:r.pos}}
if(e instanceof s.AllSelection){const e=r.node(0);let t=null;const n=Object(h.b)(e,(e=>(t=o[e.type.name],!!t)));if(n&&t)return{config:t,node:n,pos:r.pos}}})(c.selection,u);return n(v,p),p},c=Object(i.a)(l);return new s.Plugin({key:v,state:{init:()=>{u.preload()},apply:c},view:()=>({destroy:()=>{c.cancel()}})})}({dispatch:t,floatingToolbarHandlers:e,reactContext:n,providerFactory:o})}],contentComponent:({popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:n,editorView:o,providerFactory:i,dispatchAnalyticsEvent:s})=>r.a.createElement(c.a,{plugins:{floatingToolbarState:v,editorDisabledPlugin:p.b},render:({editorDisabledPlugin:a,floatingToolbarState:c})=>{if(!c||!c.config||void 0!==c.config.visible&&!c.config.visible)return null;const{title:d,getDomRef:p=g,items:h,align:m="center",className:f="",height:b,width:y,offset:v=[0,12],forcePlacement:O,onPositionCalculated:j}=c.config,w=p(o);if(!w||a&&a.editorDisabled)return null;let k;const E=Array.isArray(h)?h:h(c.node)
;return j&&(k=e=>j(o,e)),r.a.createElement(l.a,{ariaLabel:d,offset:v,target:w,alignY:"bottom",forcePlacement:O,fitHeight:b,fitWidth:y,alignX:m,stick:!0,mountTo:e,boundariesElement:t,scrollableElement:n,onPositionCalculated:k},r.a.createElement(u,{target:w,items:E,node:c.node,dispatchCommand:e=>e&&e(o.state,o.dispatch,o),editorView:o,className:f,focusEditor:()=>o.focus(),providerFactory:i,popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:n,dispatchAnalyticsEvent:s}))}})});const v=new s.PluginKey("floatingToolbarPluginKey")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Button.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),s=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),a=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/colors.js");const l={danger:{default:{light:"inherit",dark:"inherit"
},hover:{light:"rgba(9, 30, 66, 0.08)",dark:"rgba(9, 30, 66, 0.08)"},active:{light:Object(a.U)("#B3D4FF",.6),dark:Object(a.U)("#B3D4FF",.6)}}},c={danger:{default:{light:"#505F79",dark:"#9FB0CC"},hover:{light:"#FF5630",dark:"#FF5630"},active:{light:"#FF5630",dark:"#FF5630"}}},d=(e,{appearance:t="default",state:n="default",mode:o="light"})=>e[t]&&e[t][n]?e[t][n][o]:"initial",u={"&&":{padding:"0px","&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},p=e=>({background:d(l,e),color:d(c,e)});function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=({title:e,icon:t,iconAfter:n,onClick:o,onMouseEnter:a,onMouseLeave:l,selected:c,disabled:d,href:h,target:f,appearance:g="subtle",children:y,className:v,tooltipContent:O,testId:j,hideTooltipOnClick:w=!0})=>{const k=(t||n)&&!y?u:{};return r.a.createElement(i.a,{content:O||e,hideTooltipOnClick:w,position:"top"},r.a.createElement("div",{onMouseEnter:a,onMouseLeave:l},r.a.createElement(s.a,{className:v,theme:(e,t)=>{
const n=e(t),{buttonStyles:o}=n,r=b(n,["buttonStyles"]);return m({buttonStyles:m(m(m({},o),k),"danger"===g&&p({appearance:g,state:t.state,mode:t.mode}))},r)},"aria-label":e,spacing:"compact",href:h,target:f,appearance:g,"aria-haspopup":!0,iconBefore:t||void 0,iconAfter:n,onClick:o,isSelected:c,isDisabled:d,testId:j},y)))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Dropdown.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-down.js"),c=n.n(l),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Dropdown/index.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Button.js"),p=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),h=n("./node_modules/@atlaskit/item/dist/esm/util/theme.js"),m=n("./node_modules/@atlaskit/item/dist/esm/components/Item.js"),f=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/done.js"),b=n.n(f);const g=175,y=32,v=a.default.span(["display:flex;flex:1;padding:8px;"]),O=a.default.div(["min-width:","px;"],g),j=Object(p.gridSize)(),w=Object(p.gridSize)()/2,k={borderRadius:0,beforeItemSpacing:{compact:w},padding:{compact:{bottom:j,
left:j,right:j,top:j}},height:{compact:y}};class E extends i.Component{render(){const{hide:e,dispatchCommand:t,items:n}=this.props;return s.a.createElement(a.ThemeProvider,{theme:{[h.e]:k}},s.a.createElement(O,null,n.filter((e=>!e.hidden)).map(((n,o)=>s.a.createElement(m.a,{key:o,isCompact:!0,elemBefore:this.renderSelected(n),onClick:()=>{t(n.onClick),e()},"data-testid":n.testId,isDisabled:n.disabled},n.title)))))}renderSelected(e){const{selected:t}=e;if(void 0!==t)return t?s.a.createElement(b.a,{primaryColor:"#0052CC",size:"small",label:"test question"}):s.a.createElement(v,null)}}E.displayName="Dropdown";const S=a.default.span(["margin:0px -4px;"]),_=a.default.div(["display:flex;"]),C=({icon:e})=>s.a.createElement(_,null,e,s.a.createElement(S,null,s.a.createElement(c.a,{label:"Expand dropdown menu"})));class x extends i.Component{constructor(...e){super(...e),r()(this,"state",{isOpen:!1}),r()(this,"renderArrayOptions",(e=>s.a.createElement(E,{hide:this.hide,
dispatchCommand:this.props.dispatchCommand,items:e}))),r()(this,"toggleOpen",(()=>{this.setState({isOpen:!this.state.isOpen})})),r()(this,"hide",(()=>{this.setState({isOpen:!1})}))}render(){const{isOpen:e}=this.state,{title:t,icon:n,options:o,dispatchCommand:r,mountPoint:i,boundariesElement:a,scrollableElement:l,hideExpandIcon:p,disabled:h,tooltip:m,buttonTestId:f}=this.props;let b;if(n){const o=p?n:s.a.createElement(C,{icon:n});b=s.a.createElement(u.a,{testId:f,title:t,icon:o,onClick:this.toggleOpen,selected:e,disabled:h,tooltipContent:m})}else b=s.a.createElement(u.a,{testId:f,iconAfter:s.a.createElement(S,null,s.a.createElement(c.a,{label:"Expand dropdown menu"})),onClick:this.toggleOpen,selected:e,disabled:h,tooltipContent:m},t);const v=Array.isArray(o)?g:o.width,O=Array.isArray(o)?o.length*y+2*w:o.height;return s.a.createElement(d.a,{mountTo:i,boundariesElement:a,scrollableElement:l,isOpen:e,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:v+10,fitHeight:O+10,
trigger:b},Array.isArray(o)?this.renderArrayOptions(o):o.render({hide:this.hide,dispatchCommand:r}))}}x.displayName="Dropdown"},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Separator.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n.n(o);const i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(["background:",";width:1px;height:20px;margin:0 4px;"],"#EBECF0");t.a=()=>r.a.createElement(i,{className:"separator"})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const r=Object.prototype.hasOwnProperty.bind(t);for(let i=0;i<n.length;i++){const o=n[i];if(!r(o))return!1;if(e[o]!==t[o])return!1}
return!0},r=(e,t,n=o)=>{if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0};function i(e,t){let n;return e.descendants((e=>!n&&(!t(e)||(n=e,!1)))),n}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/classnames/index.js"),l=n.n(a),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./node_modules/prosemirror-state/dist/index.es.js"),u=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js")
;const f=new d.PluginKey("gridPlugin"),b=12,g=e=>{const t=Object(m.b)(e);return(e,n,o=[])=>t(f,{visible:e,gridType:n,highlight:o})},y=e=>"wrap-left"===e||"wrap-right"===e?"wrapped":"full",v=["left","right"],O=(e,t,n,o)=>{if(!e.length)return!1;const r=e.reduce(((e,t)=>Math.min(e,t))),i=e.reduce(((e,t)=>Math.max(e,t)));return"left"===t?r<0&&r<=-n&&("number"!=typeof o||r>=-(n+o)):i>b&&i>=b+n&&("number"!=typeof o||i<=b+o)},j=(e,t,n,o)=>{const r=[];if(!o)return r;const i=(e*u.ab-e)/2;return v.forEach((o=>{r.push(s.a.createElement("div",{key:o,className:l()("gridLine",O(n,o,0,4)?"highlight":""),style:{position:"absolute",[o]:`-${i}px`}})),r.push(s.a.createElement("div",{key:o+"-bk",className:l()("gridLine",n.indexOf("full-width")>-1?"highlight":""),style:{position:"absolute",[o]:`-${(t-e-u.d)/2}px`}}))})),r},w=e=>{const t=[];for(let n=0;n<=b;n++){const o={paddingLeft:"8.333333333333334%"};t.push(s.a.createElement("div",{key:n,className:l()("gridLine",e.indexOf(n)>-1?"highlight":""),
style:n<b?o:void 0}))}return t};class k extends s.a.Component{render(){const{highlight:e,shouldCalcBreakoutGridLines:t,theme:n,containerElement:o,editorWidth:r,gridType:i,visible:a}=this.props,c=n.layoutMaxWidth;let d=[...w(e),...j(c,r,e,t)];return s.a.createElement("div",{className:"gridParent"},s.a.createElement("div",{className:l()("gridContainer",i),style:{height:`${o.scrollHeight}px`,display:a?"block":"none"}},d))}}k.displayName="Grid";const E=Object(c.withTheme)(k);t.b=e=>({name:"grid",contentComponent:({editorView:t})=>s.a.createElement(h.a,{plugins:{grid:f,widthState:p.b},render:({grid:n,widthState:o={width:u.o}})=>n?s.a.createElement(E,r()({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:o.width,containerElement:t.dom},n)):null})})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/styles.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
;var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js");const i=12,s=Object(o.css)([".gridParent{width:calc(100% + ","px);margin-left:-","px;margin-right:-","px;transform:scale(1);z-index:",";}.gridContainer{position:fixed;height:100vh;width:100%;pointer-events:none;}.gridLine{border-left:1px solid ",";display:inline-block;box-sizing:border-box;height:100%;margin-left:-1px;transition:border-color 0.15s linear;z-index:0;}.highlight{border-left:1px solid ",";}"],2*i,i,i,r.q,"rgba(9, 30, 66, 0.08)","#2684FF")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/commands.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/plugin-key.js");const r=(e,t)=>(e=e.setMeta(o.a,!0),!!t&&(t(e),!0)),i=(e,t)=>{t(e=e.setMeta(o.a,!1))}},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/help-dialog/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("helpDialogPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/history/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js");let i;!function(e){e.UPDATE="UPDATE"}(i||(i={}));var s=(e,t)=>{switch(t.type){case i.UPDATE:return{canUndo:t.canUndo,canRedo:t.canRedo}}return e};const a=new r.PluginKey("historyPlugin"),l=()=>({canUndo:!1,canRedo:!1}),{createPluginState:c,getPluginState:d}=Object(o.a)(a,s);t.a=()=>({name:"history",pmPlugins:()=>[{name:"history",plugin:({dispatch:e})=>(e=>new r.Plugin({state:c(e,l),key:a,appendTransaction:(e,t,n)=>{
if(e.find((e=>e.docChanged&&!1!==e.getMeta("addToHistory")))){const e=(e=>{const t=(e=>e.plugins.find((e=>"history$"===e.key)))(e);if(t)return t.getState(e)})(n);if(!e)return;const t=e.done.eventCount>0,o=e.undone.eventCount>0,{canUndo:r,canRedo:s}=d(n);if(t!==r||o!==s){const e={type:i.UPDATE,canUndo:t,canRedo:o};return n.tr.setMeta(a,e)}}}}))(e)}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/analytics.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js");function i(e,t){return{action:o.a.INSERTED,actionSubject:o.b.DOCUMENT,actionSubjectId:o.c.LINK,attributes:{inputMethod:e,fromCurrentDomain:Object(r.d)(t)},eventType:o.d.TRACK,nonPrivacySafeAttributes:{linkDomain:Object(r.b)(t)}}}},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/commands.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"k",(function(){return E})),n.d(t,"b",(function(){return S}))
;var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/pm-plugins/main.js"),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/card/pm-plugins/doc.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/analytics.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&n.isText}}function f(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&t.schema.marks.link.isInSet(n.marks)}}function b(e,t,n,i){return Object(s.b)(m(t),((s,a)=>{const l=s.doc.resolve(t),c=s.doc.nodeAt(t),d=s.schema.marks.link,u=d.isInSet(c.marks),h=Object(o.g)(e);if(u&&u.attrs.href===h)return!1;const m=n&&t!==n?n:t-l.textOffset+c.nodeSize,f=s.tr.removeMark(t,m,d);return e.trim()&&f.addMark(t,m,d.create(p(p({},u&&u.attrs||{}),{},{href:h}))),i||f.setMeta(r.e,{type:r.b.HIDE_TOOLBAR}),a&&a(f),!0}))}function g(e,t,n,i){return(s,a)=>{
const l=s.doc.resolve(n),c=s.doc.nodeAt(n);if(!c)return!1;const d=Object(o.g)(e);if(!d)return!1;const u=s.schema.marks.link.isInSet(c.marks),h=s.schema.marks.link,m=i&&n!==i?i:n-l.textOffset+c.nodeSize,f=s.tr;f.insertText(t,n,m);const b=p(p({},u&&u.attrs||{}),{},{href:d});return f.addMark(n,n+t.length,h.create(b)),f.setMeta(r.e,{type:r.b.HIDE_TOOLBAR}),a&&a(f),!0}}function y(e,t,n){return Object(s.b)(f(t),((o,i)=>{const s=o.doc.resolve(t),a=o.doc.nodeAt(t),l=o.schema.marks.link.isInSet(a.marks);if(a&&e.length>0&&e!==a.text){const c=n&&t!==n?n:t-s.textOffset+a.nodeSize,d=o.tr;return d.insertText(e,t,c),d.addMark(t,t+e.length,l),d.setMeta(r.e,{type:r.b.HIDE_TOOLBAR}),i&&i(d),!0}return!1}))}function v(e,t,n,s,a,l){return(d,u)=>{const p=d.schema.marks.link;if(n.trim()){const{tr:h}=d,m=Object(o.g)(n),f=r.e.getState(d).activeText;let b=t;const g=a||s||n;return a&&a===f||(h.insertText(g,e,t),b=e+g.length),h.addMark(e,b,p.create({href:m})),h.setSelection(i.Selection.near(h.doc.resolve(b))),
a&&a!==n||Object(c.e)(d,h,l,!1),h.setMeta(r.e,{type:r.b.HIDE_TOOLBAR}),u&&u(h),!0}return!1}}const O=(e,t,n,o,r,i,s=!1)=>!s||r||i?Object(a.d)(Object(d.a)(e,o))(v(t,n,o,r,i,e)):v(t,n,o,r,i,e),j=(e,t,n,o,r,i)=>Object(a.d)(Object(d.a)(e,o))(v(t,n,o,r,i,e));function w(e){return b("",e)}function k(){return(e,t)=>(t&&t(e.tr.setMeta(r.e,{type:r.b.EDIT_INSERTED_TOOLBAR,inputMethod:l.e.FLOATING_TB})),!0)}function E(e=l.e.TOOLBAR){return function(t,n){if(n){let o=t.tr.setMeta(r.e,{type:r.b.SHOW_INSERT_TOOLBAR,inputMethod:e});o=Object(a.a)(t,o,{action:l.a.INVOKED,actionSubject:l.b.TYPEAHEAD,actionSubjectId:l.c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:l.d.UI}),n(o)}return!0}}function S(){return function(e,t){return t&&t(e.tr.setMeta(r.e,{type:r.b.HIDE_TOOLBAR})),!0}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),
n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return y}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/uuid/index.js"),i=n.n(r),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d,u;!function(e){
e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(d||(d={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(u||(u={}));const p=(e,t)=>n=>{if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){const o=n.doc.resolve(e),r=n.doc.resolve(t),i=n.schema.marks.link;if(o.parent===r.parent&&o.parent.isTextblock&&o.parent.type.allowsMarkType(i)){let o=!0;return n.doc.nodesBetween(e,t,(e=>(o=o&&!e.marks.some((e=>e.type.excludes(i))),o))),o}}return!1},h=(e,t)=>{if(e){if(e.type===u.EDIT_LINK_TOOLBAR||e.type===u.EDIT_INSERTED_TOOLBAR){const{pos:n,deleted:o}=t.mapping.mapResult(e.pos,1),r=t.doc.nodeAt(n);return!o&&r.type.schema.marks.link.isInSet(r.marks)?r===e.node&&n===e.pos?e:l(l({},e),{},{pos:n,node:r}):void 0}return e.type===u.INSERT_LINK_TOOLBAR?l(l({},e),{},{from:t.mapping.map(e.from),
to:t.mapping.map(e.to)}):void 0}},m=(e,t,n)=>{if(!e)switch(t){case d.SHOW_INSERT_TOOLBAR:{const{from:e,to:t}=n.selection;return p(e,t)(n)?{type:u.INSERT_LINK_TOOLBAR,from:e,to:t}:void 0}case d.SELECTION_CHANGE:const e=f(n);return e?l(l({},e),{},{type:u.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===u.EDIT_LINK_TOOLBAR)switch(t){case d.EDIT_INSERTED_TOOLBAR:{const t=f(n);return t?t.pos===e.pos&&t.node===e.node?l(l({},e),{},{type:u.EDIT_INSERTED_TOOLBAR}):l(l({},t),{},{type:u.EDIT_INSERTED_TOOLBAR}):void 0}case d.SELECTION_CHANGE:const t=f(n);return t?t.pos===e.pos&&t.node===e.node?e:l(l({},t),{},{type:u.EDIT_LINK_TOOLBAR}):void 0;case d.HIDE_TOOLBAR:return;default:return e}if(e.type===u.INSERT_LINK_TOOLBAR)switch(t){case d.SELECTION_CHANGE:case d.HIDE_TOOLBAR:return;default:return e}},f=e=>{const{selection:{$from:t}}=e;if((e=>!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks()))(e)||(e=>{const{$from:t,$to:n}=e.selection,o=t.nodeAfter
;return!!o&&0===t.textOffset&&n.pos-t.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)})(e)){const n=t.pos-t.textOffset,o=e.doc.nodeAt(n);return o&&o.isText?{node:o,pos:n}:void 0}},b=e=>{const t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof o.TextSelection?t.content.firstChild.textContent:void 0},g=new o.PluginKey("hyperlinkPlugin"),y=e=>new o.Plugin({state:{init(e,t){const n=p(t.selection.from,t.selection.to)(t);return{activeText:b(t.selection),canInsertLink:n,timesViewed:0,activeLinkMark:m(void 0,d.SELECTION_CHANGE,t)}},apply(t,n,o,r){let a=n;const c=t.getMeta(g)&&t.getMeta(g).type,u=t.getMeta(g)&&t.getMeta(g).inputMethod;if(t.docChanged&&(a={activeText:a.activeText,canInsertLink:p(r.selection.from,r.selection.to)(r),timesViewed:a.timesViewed,inputMethod:u,activeLinkMark:h(a.activeLinkMark,t)}),c){const e=[d.SHOW_INSERT_TOOLBAR,d.EDIT_INSERTED_TOOLBAR].includes(c)?{timesViewed:++a.timesViewed,searchSessionId:i()()}:{
timesViewed:a.timesViewed,searchSessionId:a.searchSessionId};a=l({activeText:a.activeText,canInsertLink:a.canInsertLink,inputMethod:u,activeLinkMark:m(a.activeLinkMark,c,r)},e)}return t.selectionSet&&(a={activeText:b(r.selection),canInsertLink:p(r.selection.from,r.selection.to)(r),activeLinkMark:m(a.activeLinkMark,d.SELECTION_CHANGE,r),timesViewed:a.timesViewed,searchSessionId:a.searchSessionId,inputMethod:u}),Object(s.v)(a,n)||e(g,a),a}},key:g})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return b}));var o=n("./node_modules/linkify-it/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),s=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/url.js")
;const a=/(https?|ftp):\/\/[^\s]+/,l=r()();l.add("sourcetree:","http:");const c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function d(e){if(!e)return null;let t=b(e);return t.length||(t=l.match(e)),t&&t[0]}c.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),l.tlds(c,!1);class u{exec(e){if(e.endsWith(" ")){const t=e.slice(0,e.length-1).split(" "),n=t[t.length-1],o=l.match(n);if(o&&o.length>0){const e=o[o.length-1];return e.input=n,e.length=e.lastIndex-e.index+1,[e]}}return null}}function p(e){if(!e)return"";if(Object(s.b)(e))return e;const t=d(e);return t&&t.url||""}function h(e){return t=>Object(i.e)(t,((t,n)=>{
const o=!n||n.type!==e.nodes.codeBlock,r=t.type.schema.marks.link;if(o&&t.isText&&!r.isInSet(t.marks)){const e=[],n=t.text,o=function(e){const t=[];let n=e&&l.match(e);n&&n.length>0&&n.forEach((e=>{t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(n);let i=0;return o.forEach((n=>{n.start>0&&e.push(t.cut(i,n.start)),e.push(t.cut(n.start,n.end).mark(r.create({href:p(n.href)}).addToSet(t.marks))),i=n.end})),i<n.length&&e.push(t.cut(i)),e}return t}))}function m(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function f(e){if(!window||!window.location)return!1;return window.location.hostname===m(e)}const b=e=>{const t=[];if(!a.test(e))return t;let n,o=0;for(;n=e.substr(o);){const e=(n.match(a)||[""])[0];if(!e)break;{const r=n.search(a),i=r>=0?r+o:r,s=i+e.length;t.push({index:i,lastIndex:s,raw:e,url:e,text:e,schema:""}),o+=s}}return t}},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/insert-block/ui/ToolbarInsertBlock/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a \u201ctask\u201d, \u201cto do item\u201d, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",
description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas \ud83c\udf89 and emotions \ud83d\ude04",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",
defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision you\u2019ve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they\u2019re easy to track",description:"Capture a decision you\u2019ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{
id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",
description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/layout/styles.js":function(e,t,n){
"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/column-layout.js"),s=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),a=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/utils.js"),l=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/types.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js")
;const d=Object(r.gridSize)(),u=1.5*Object(r.gridSize)(),p=Object(o.css)([".ProseMirror{"," [data-layout-section]{margin:","px -","px 0;transition:border-color 0.3s ",";cursor:pointer;[data-layout-column]{flex:1;min-width:0;border:","px solid ",";border-radius:4px;padding:","px;box-sizing:border-box;> div{> *:first-child{margin-top:0;}> .ProseMirror-gapcursor.-right:first-child + *{margin-top:0;}> .ProseMirror-gapcursor:first-child + span + *{margin-top:0;}> .mediaSingleView-content-wrap:first-child .rich-media-item{margin-top:0;}> .ProseMirror-gapcursor.-right:first-child + .mediaSingleView-content-wrap .rich-media-item{margin-top:0;}> .ProseMirror-gapcursor:first-child + span + .mediaSingleView-content-wrap .rich-media-item{margin-top:0;}> [data-node-type='decisionList']{li:first-of-type [data-decision-wrapper]{margin-top:0;}}}[data-layout-content]{height:100%;cursor:text;}}[data-layout-column] + [data-layout-column]{margin-left:","px;}@media screen and (max-width:","px){[data-layout-column] + [data-layout-column]{margin-left:0;}}&.selected [data-layout-column],&:hover [data-layout-column]{border-color:",";}&.selected.danger > [data-layout-column]{background-color:",";border-color:",";}&.",":not(.danger){[data-layout-column]{","}}}}.fabric-editor--full-width-mode .ProseMirror{[data-layout-section]{.","{margin:0 ","px;}}}"],i.a,Object(r.gridSize)()-1,s.X,s.L,s.E,"rgba(9, 30, 66, 0.13)",u,d,s.eb,"rgba(9, 30, 66, 0.25)",s.g,s.i,s.G,Object(a.a)([l.a.Border,l.a.Blanket]),c.b.TABLE_CONTAINER,2)
},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return k}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-view/dist/index.es.js"),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/selection.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/node.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/find.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=new o.PluginKey("listsPredictablePlugin"),b=f,g={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:r.b.empty},y=e=>{const t=[],n=[];return e.nodesBetween(0,e.content.size,((e,o)=>{if(n.length>0){let e=!0;for(;e&&n.length>0;){const t=n[n.length-1];e=o>=t.startPos+t.node.nodeSize,e&&n.pop()}}if(Object(c.d)(e)){
n.push({node:e,startPos:o});const i=o,s=o+e.nodeSize,a=n.length;t.push(r.a.node(i,s,{"data-indent-level":`${a}`}))}})),r.b.empty.add(e,t)},v=(e,t)=>{const{bulletList:n,orderedList:o}=e.doc.type.schema.nodes,r=Object(i.findParentNodeOfType)([n,o])(e.selection),s=!!r&&r.node.type===n,a=!!r&&r.node.type===o,c=!(s||a||Object(l.g)(n,e.selection)),d=!(s||a||Object(l.g)(o,e.selection));if(s!==t.bulletListActive||a!==t.orderedListActive||c!==t.bulletListDisabled||d!==t.orderedListDisabled){return h(h({},t),{},{bulletListActive:s,orderedListActive:a,bulletListDisabled:c,orderedListDisabled:d})}return t},{getPluginState:O,createPluginState:j}=Object(d.a)(f,(()=>e=>e)(),{onDocChanged:(e,t)=>{const n=v(e,t),o=y(e.doc);return h(h({},n),{},{decorationSet:o})},onSelectionChanged:v}),w=e=>h(h({},g),{},{decorationSet:y(e.doc)}),k=e=>new o.Plugin({state:j(e,w),key:f,appendTransaction(e,t,n){const o=e[e.length-1];if(!o.docChanged||!o.selectionSet)return;const r=n.tr
;if(!Object(u.c)(r.selection.$from))return;const i=Object(c.f)({tr:r,direction:c.a.RIGHT});if(r.docChanged){const{orderedList:e,bulletList:t}=i;return Object(s.a)(n,r,{action:a.a.FIXED,actionSubject:a.b.LIST,eventType:a.d.TRACK,attributes:{orderedListsJoined:e,bulletListsJoined:t}}),r}},props:{decorations(e){const{decorationSet:t}=O(e);return t}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/find.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/node.js");function i(e){const t=e.doc.nodeAt(e.pos);let n=null;if(Object(r.d)(t))n=e.pos;else{const t=Object(o.findParentNodeClosestToPos)(e,r.d);n=t&&t.pos}if(null==n)return null;const i=e.doc.nodeAt(n);return i?{node:i,pos:n}:null}function s(e){
const t=e.doc.nodeAt(e.pos),n=Object(r.c)(t)?e:Object(o.findParentNodeClosestToPos)(e,r.c);if(!n||null===n.pos)return null;const i=e.doc.nodeAt(n.pos);return i?{node:i,pos:n.pos}:null}function a(e){const{doc:t}=e;if(e.pos+1>t.content.size)return null;if(0===e.depth)return t.resolve(e.pos+1);const n=t.nodeAt(e.pos),i=e.before(),s=t.nodeAt(i);if(Object(r.d)(n)&&!Object(r.c)(s))return t.resolve(e.pos+1);const l=Object(o.findParentNodeClosestToPos)(e,r.d);if(!l)return null;return a(t.resolve(l.pos))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/node.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d}));var o=n("./node_modules/prosemirror-model/dist/index.es.js");function r(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function i(e){
return Boolean(e&&e.type&&"paragraph"===e.type.name)}function s(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function a(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function l(e){const{bulletList:t}=e.type.schema.nodes;if(!t)return!1;const n=o.Fragment.from(t.createAndFill());return!s(e)&&e.type.validContent(n)}let c;!function(e){e[e.LEFT=1]="LEFT",e[e.RIGHT=-1]="RIGHT"}(c||(c={}));const d=({tr:e,direction:t,forceListType:n})=>{const o={orderedList:0,bulletList:0},{doc:i,selection:{$from:a,$to:d},selection:u}=e,p=a.blockRange(d,l);if(!p)return o;const h=i.nodeAt(p.start),m=r(h)?p.start:0,f=r(h)?p.end:e.doc.content.size,b=[];if(i.nodesBetween(m,f,((o,a,l)=>{const d=i.resolve(a),{nodeBefore:u,nodeAfter:p}=d;if(!(u&&p&&r(u)&&r(p)))return;const h=s(l);if(!h&&u.type!==p.type&&!n)return;const m=d.index(),f=d.posAtIndex(m-1),g=d.posAtIndex(m);if(n&&(e.setNodeMarkup(f,n),e.setNodeMarkup(g,n)),h&&u.type!==p.type){const n=t===c.RIGHT?p.type:u.type;e.setNodeMarkup(f,n)}
b.push(a)})),u.empty&&h&&r(h)){const e=i.resolve(p.start+h.nodeSize),{nodeBefore:t,nodeAfter:n}=e;t&&n&&r(t)&&r(n)&&n.type===t.type&&b.push(e.pos)}for(let r=b.length-1;r>=0;r--){const t=e.doc.nodeAt(b[r]);if(t){const e=o[t.type.name]||0;o[t.type.name]=e+1}e.join(b[r])}return o}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/selection.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return v}))
;var o=n("./node_modules/prosemirror-transform/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists-predictable/utils/node.js");const l=e=>"paragraph"===e.parent.type.name,c=e=>{const t=e.node(-1);return Object(a.c)(e.parent)||Object(a.d)(e.parent)||Object(a.c)(t)},d=(e,t)=>{const{$from:n,$to:r}=t,i=n.blockRange(r);if(!i)return!1;return!!Object(o.m)(i,e)},u=e=>{const{parent:t}=e.selection.$from,{listItem:n}=e.schema.nodes;return e.selection instanceof s.a?Object(a.c)(t):Object(i.hasParentNodeOfType)(n)(e.selection)&&Object(a.e)(t)},p=e=>{const{$from:t}=e.selection,n=e.doc.resolve(t.pos-1);let o=n?n.nodeBefore:null;return e.selection instanceof s.a&&(o=t.nodeBefore),Object(a.d)(o)},h=e=>{const{selection:{from:t,to:n}}=e;let o=null
;return e.doc.nodesBetween(t,n,(e=>(Object(a.d)(e)&&(o=e),!o))),o},m=e=>{let t=0;for(let n=e.depth-1;n>0;n--){const o=e.node(n);Object(a.d)(o)&&(t+=1)}return t},f=e=>{const t=m(e)-1,n=Object(i.findParentNodeClosestToPos)(e,a.c);return{indentLevel:t,itemIndex:e.index(n?n.depth-1:void 0)}},b=({selection:e,doc:t})=>{if(e.empty)return e;const{$from:n,$to:o}=e;if(e instanceof r.NodeSelection){const e=g(n);return new r.TextSelection(e,e)}const i=g(n),s=y(o);return new r.TextSelection(s,i)},g=e=>{const t=e.blockRange(e,a.c);return t&&0===e.textOffset&&t.end-1===e.pos?r.Selection.near(e.doc.resolve(t.end+1),1).$from:e},y=e=>{const t=e.blockRange(e,a.c);return t&&0===e.textOffset&&t.start+1===e.pos?r.Selection.near(e.doc.resolve(t.start-1),-1).$to:e},v=({selection:e})=>{const{$from:t,$to:n}=e,o=t.blockRange(n,a.d);return o||null}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/commands/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),
n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return A})),n.d(t,"d",(function(){return I})),n.d(t,"g",(function(){return U})),n.d(t,"f",(function(){return H})),n.d(t,"h",(function(){return $}))
;var o=n("./node_modules/prosemirror-commands/dist/index.es.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js"),i=n("./node_modules/prosemirror-schema-list/dist/index.es.js"),s=n("./node_modules/prosemirror-state/dist/index.es.js"),a=n("./node_modules/prosemirror-transform/dist/index.es.js"),l=n("./node_modules/prosemirror-utils/dist/index.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),f=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/format-events.js"),b=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),g=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/transforms.js"),y=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/utils.js"),v=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/list-events.js")
;const O={[v.b.JOIN_SIBLINGS]:(e,t,n,o)=>{const r=o.node(-1);if(!r.firstChild)return!1;const i=o.before(-1),s=o.after(-1),a=n.pos-1,l=n.pos,c=o.parent.content,d=r.content.cut(r.firstChild.nodeSize);return Object(u.d)(e,(e=>e.doc.resolve(a)),[[c,a],[d,l]],[[i,s]]),t&&t(e),!0},[v.b.JOIN_DESCENDANT_TO_PARENT]:(e,t,n,o)=>{const r=o.node(-2),i=o.node(-1);if(!i.firstChild||!i.lastChild)return!1;const s=o.before(-2),a=o.before(-1),l=n.after(),c=o.after(-2),d=o.after(-1),p=o.start(-2),h="bulletList"===i.lastChild.type.name||"orderedList"===i.lastChild.type.name,m=1===r.childCount&&!h,f=n.pos,b=l,g=p,y=o.parent.content,v=h?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),O=i.lastChild.content;return Object(u.d)(e,(e=>e.doc.resolve(f)),h?[[y,f],[v,b],[O,g]]:[[y,f],[v,b]],[m?[s,c]:[a,d]]),t&&t(e),!0},[v.b.JOIN_TO_SIBLING_DESCENDANT]:(e,t,n,o,r)=>{if(!r)return!1;const i=o.node(-1);if(!i.firstChild||!i.lastChild)return!1
;const s=o.parent,a=o.before(-1),l=r.after(),c=o.after(-1),d="bulletList"===i.lastChild.type.name||"orderedList"===i.lastChild.type.name,p=r.pos,h=l,m=n.pos-1,f=s.content,b=d?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),g=i.lastChild.content;return Object(u.d)(e,(e=>e.doc.resolve(p)),d?[[f,p],[b,h],[g,m]]:[[f,p],[b,h]],[[a,c]]),t&&t(e),!0}},j=(e,t)=>{const{tr:n,selection:{$head:o}}=e,r=Object(u.k)(o);if(!Object(u.f)(e))return!1;const i=((e,t,n)=>{const{$pos:o,foundNode:r}=e,i=Object(y.e)(o),s=Object(y.f)(t),a=0===t.index(-1),l=Object(y.e)(t);if(!(r&&i&&s&&a&&l))return!1;if(Object(y.f)(o))return[v.b.JOIN_DESCENDANT_TO_PARENT,null];const c=o.parent.lastChild&&("orderedList"===o.parent.lastChild.type.name||"bulletList"===o.parent.lastChild.type.name),d=o.parent.lastChild&&"paragraph"===o.parent.lastChild.type.name;let p,h=n.doc.resolve(o.pos);do{let e=Object(u.k)(h);h=e.$pos,p=e.foundNode}while(p&&!h.parent.isTextblock)
;const m=Object(y.f)(h);return p&&c&&m?[v.b.JOIN_TO_SIBLING_DESCENDANT,h]:!!d&&[v.b.JOIN_SIBLINGS,null]})(r,o,n);if(!i)return!1;const{bulletList:s,orderedList:a}=e.schema.nodes,c=Object(l.findParentNodeOfType)([s,a])(n.selection);let d=h.c.FORMAT_LIST_BULLET;return c&&c.node.type===a&&(d=h.c.FORMAT_LIST_NUMBER),Object(m.a)(e,n,{action:h.a.LIST_ITEM_JOINED,actionSubject:h.b.LIST,actionSubjectId:d,eventType:h.d.TRACK,attributes:{inputMethod:h.e.KEYBOARD,direction:v.a.BACKWARD,scenario:i[0]}}),O[i[0]](n,t,r.$pos,o,i[1])},w={[v.b.JOIN_PARAGRAPH_WITH_LIST]:(e,t,n,o)=>{const r=n.parent,i=n.before(),s=n.after(),a=o.pos,l=r.content;return Object(u.d)(e,(e=>e.doc.resolve(a)),[[l,a]],[[i,s]]),t&&t(e),!0},[v.b.JOIN_SIBLINGS]:(e,t,n,o)=>{const r=n.parent,i=n.nodeAfter;if(!i)return!1;const s=n.before(),a=n.after(),l=o.end(-1),c=o.pos,d=l,p=i.content,h=r.content.cut(i.nodeSize);return Object(u.d)(e,(e=>e.doc.resolve(c)),[[p,c],[h,d]],[[s,a]]),t&&t(e),!0},[v.b.JOIN_DESCENDANT_TO_PARENT]:(e,t,n,o)=>{
const r=n.parent,i=n.nodeAfter;if(!i||!i.lastChild)return!1;const s=i.firstChild;if(!s)return!1;const a=n.before(),l=n.pos,c=o.after(),d=n.after(),p=e.doc.resolve(n.pos+1).after(),h="bulletList"===i.lastChild.type.name||"orderedList"===i.lastChild.type.name,m=1===r.childCount&&!h,f=o.pos,b=c,g=n.pos,y=s.content,v=h?i.content.cut(s.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(s.nodeSize),O=i.lastChild.content;return Object(u.d)(e,(e=>e.doc.resolve(f)),h?[[y,f],[v,b],[O,g]]:[[y,f],[v,b]],[m?[a,d]:[l,p]]),t&&t(e),!0},[v.b.JOIN_PARENT_SIBLING_TO_PARENT_CHILD]:(e,t,n,o)=>{const r=n.parent;if(!r.firstChild||!r.lastChild)return!1;const i=n.before(),s=n.before(),a=n.after(),l="bulletList"===r.lastChild.type.name||"orderedList"===r.lastChild.type.name,c=o.pos,d=o.pos+1,p=s-2,h=r.firstChild.content,m=l?r.content.cut(r.firstChild.nodeSize,r.nodeSize-r.lastChild.nodeSize-2):r.content.cut(r.firstChild.nodeSize),f=r.lastChild.content
;return Object(u.d)(e,(e=>e.doc.resolve(c)),l?[[h,c],[m,d],[f,p]]:[[h,c],[m,d]],[[i,a]]),t&&t(e),!0}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=(e,t)=>{const{$from:n}=e.selection,{listItem:o}=e.schema.nodes,r=Object(u.c)(n);if(!r||!r.nodeBefore||r.nodeBefore.type!==o)return!1
;if(1===r.nodeBefore.childCount&&r.nodeBefore.firstChild.nodeSize<=2){const{tr:o}=e;return t&&t(o.delete(r.pos-r.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},C=(e,t)=>{const{$from:n}=e.selection,{paragraph:o,listItem:i,codeBlock:s,bulletList:c,orderedList:d}=e.schema.nodes,p=e.selection instanceof b.a,h=p?e.doc.resolve(n.pos+1):n;let m=Object(u.c)(h);if(!m)return!1;if(m.nodeBefore&&[c,d].indexOf(m.nodeBefore.type)>-1&&m.nodeAfter&&(m.nodeAfter.type===o||m.nodeAfter.type===s)){let s=m.doc.resolve(m.pos-1);for(;s.parent.type!==o;)s=e.doc.resolve(s.pos-1);let{tr:u}=e;if(p){const e=Object(l.findPositionOfNodeBefore)(u.selection);if("number"!=typeof e)return!1;const t=m.nodeBefore.copy(m.nodeBefore.content.append(r.Fragment.from(i.createChecked({},m.nodeAfter))));u.replaceWith(e,n.pos+m.nodeAfter.nodeSize,t)}else u=e.tr.step(new a.d(s.pos,m.pos+m.nodeAfter.nodeSize,m.pos+1,m.pos+m.nodeAfter.nodeSize-1,e.tr.doc.slice(s.pos,m.pos),0,!0))
;let h=u.doc.resolve(u.mapping.map(m.pos+m.nodeAfter.nodeSize));return h.nodeBefore&&h.nodeAfter&&h.nodeBefore.type===h.nodeAfter.type&&[c,d].indexOf(h.nodeBefore.type)>-1&&(u=u.join(h.pos)),t&&t(u.scrollIntoView()),!0}return!1},x=(e,t)=>{const{selection:n}=e;if(n.empty){const{$from:o}=n,{listItem:i,codeBlock:s}=e.schema.nodes,a=o.node(o.depth),c=o.node(o.depth-1);if(c&&c.type===i){const o=Object(p.e)(c);if(Object(p.i)(a)&&!o)return A(h.e.KEYBOARD)(e,t);if(!Object(l.hasParentNodeOfType)(s)(n))return function(e){return function(t,n){const o=t.selection,i=o.$from,s=o.$to,a=o.node;if(a&&a.isBlock||i.depth<2||!i.sameParent(s))return!1;const l=i.node(-1);if(l.type!==e)return!1;if(l.content.content.length<=1&&0===i.parent.content.size&&0!==l.content.size){if(2===i.depth||i.node(-3).type!==e||i.index(-2)!==i.node(-2).childCount-1)return!1;if(n){let o=r.Fragment.empty;const s=i.index(-1)>0;for(let e=i.depth-(s?1:2);e>=i.depth-3;e--)o=r.Fragment.from(i.node(e).copy(o))
;o=o.append(r.Fragment.from(e.createAndFill()));const a=t.tr.replace(i.before(s?void 0:-1),i.after(-3),new r.Slice(o,s?3:2,2));a.setSelection(t.selection.constructor.near(a.doc.resolve(i.pos+(s?3:2)))),n(a.scrollIntoView())}return!0}const c=s.pos===i.end()?l.contentMatchAt(0).defaultType:void 0,d=t.tr.delete(i.pos,s.pos),u=c&&[void 0,{type:c}];return n&&n(d.split(i.pos,2,u).scrollIntoView()),!0}}(i)(e,t)}}return!1},T=(e,t)=>o.c(j,Object(u.b)([u.f,u.g,y.b],o.c(_,A(h.e.KEYBOARD))),Object(u.b)([u.f,y.a],C))(e,t),P=(e,t)=>{const{tr:n,selection:{$head:o}}=e,r=Object(u.j)(o);if(!Object(u.e)(e))return!1;const i=((e,t)=>{const{$pos:n,foundNode:o}=e,r=t.parent,i=t.node(-1),s=Object(y.e)(t),a=Object(y.f)(t),l=i&&i.lastChild&&(i.lastChild===r||i.childCount>1&&i.child(i.childCount-2)===r&&("orderedList"===i.lastChild.type.name||"bulletList"===i.lastChild.type.name)),c=Object(y.e)(n),d=Object(y.f)(n);if(!(o&&s&&a&&l))return!1;if(!c&&d)return v.b.JOIN_PARAGRAPH_WITH_LIST;if(!c)return!1
;const u=n.nodeAfter,p=n.node(-1),h=t.node(-2),m="listItem"===n.parent.type.name,f=u&&"listItem"===u.type.name,b=u&&f&&u.firstChild&&"paragraph"===u.firstChild.type.name;if(!m&&b)return v.b.JOIN_DESCENDANT_TO_PARENT;if(!m)return!1;const g=p&&p===h;return!(!u||"paragraph"!==u.type.name)&&(g?v.b.JOIN_SIBLINGS:v.b.JOIN_PARENT_SIBLING_TO_PARENT_CHILD)})(r,o);if(!i)return!1;const{bulletList:s,orderedList:a}=e.schema.nodes,c=Object(l.findParentNodeOfType)([s,a])(n.selection);let d=h.c.FORMAT_LIST_BULLET;return c&&c.node.type===a&&(d=h.c.FORMAT_LIST_NUMBER),Object(m.a)(e,n,{action:h.a.LIST_ITEM_JOINED,actionSubject:h.b.LIST,actionSubjectId:d,eventType:h.d.TRACK,attributes:{inputMethod:h.e.KEYBOARD,direction:v.a.FORWARD,scenario:i}}),w[i](n,t,r.$pos,o)};function A(e=h.e.KEYBOARD){return function(t,n){const{listItem:o}=t.schema.nodes,{$from:r,$to:s}=t.selection;if(Object(y.d)(t)){let a=r.blockRange(s,(e=>e.childCount>0&&e.firstChild.type===o));if(!a)return!1
;const d=D(t.selection.$from,t.schema.nodes),u=Object(l.findParentNodeOfTypeClosestToPos)(t.selection.$from,[t.schema.nodes.bulletList,t.schema.nodes.orderedList]);return Object(c.e)(Object(m.d)({action:h.a.INDENTED,actionSubject:h.b.LIST,actionSubjectId:z(u.node.type.name),eventType:h.d.TRACK,attributes:E(E({},F(t)),{},{inputMethod:e,indentDirection:f.a.OUTDENT})}),Object(m.d)({action:h.a.FORMATTED,actionSubject:h.b.TEXT,actionSubjectId:h.c.FORMAT_INDENT,eventType:h.d.TRACK,attributes:{inputMethod:e,previousIndentationLevel:d,newIndentLevel:d-1,direction:f.a.OUTDENT,indentType:f.b.LIST}}),function(e,t){return n=>(o,r)=>n(o,(n=>{const i=o.doc.resolve(t.start),s=o.doc.resolve(t.end),a=n.doc.resolve(n.mapping.map(t.end-1));a.nodeBefore&&a.nodeAfter&&a.nodeBefore.type===a.nodeAfter.type&&s.nodeAfter&&s.nodeAfter.type===e&&s.parent.type===i.parent.type&&n.join(a.pos),r&&r(n.scrollIntoView())}))}(o,a),i.a)(o)(t,n)}return!1}}function I(e=h.e.KEYBOARD){return function(t,n){
const{listItem:o}=t.schema.nodes;if(Object(y.d)(t)){const r=D(t.selection.$from,t.schema.nodes),s=function(e,t){let n,o=t.tr.selection.$to.pos;do{const e=t.doc.resolve(o);if(n=D(e,t.schema.nodes),n>5)return!1;o++}while(n>=e);return!0}(r,t);let a=t.tr;const l=e=>{a=e};return s&&Object(c.e)(Object(m.d)({action:h.a.FORMATTED,actionSubject:h.b.TEXT,actionSubjectId:h.c.FORMAT_INDENT,eventType:h.d.TRACK,attributes:{inputMethod:e,previousIndentationLevel:r,newIndentLevel:r+1,direction:f.a.INDENT,indentType:f.b.LIST}}),i.b)(o)(t,l),Object(m.a)(t,a,{action:h.a.INDENTED,actionSubject:h.b.LIST,actionSubjectId:z("bulletList"),eventType:h.d.TRACK,attributes:E(E({},F(t)),{},{inputMethod:e,canSink:a.docChanged,indentDirection:f.a.INDENT})}),n&&n(a),!0}return!1}}function M(){return function(e,t){const{tr:n}=e,{$from:o,$to:r}=e.selection;return n.doc.nodesBetween(o.pos,r.pos,((t,o)=>{if(t.isTextblock){const t=new s.NodeSelection(n.doc.resolve(n.mapping.map(o))),r=t.$from.blockRange(t.$to)
;if(!r||t.$from.parent.type!==e.schema.nodes.listItem)return!1;const i=r&&Object(a.p)(r);if(null==i)return!1;n.lift(r,i)}})),t&&t(n),!0}}const D=(e,t)=>{const{bulletList:n,orderedList:o}=t;let r=0;for(let i=e.depth-1;i>0;i--){const t=e.node(i);t.type!==n&&t.type!==o||(r+=1)}return r},N=(e,t,n,o,r)=>{const{selection:i}=e,s=i.$from.node(i.$from.depth-2),a=i.$to.node(i.$to.depth-2);if(s&&s.type.name===o&&a&&a.type.name===o){const n=((e,t)=>{const{bulletList:n,orderedList:o,listItem:r}=t;let i;for(let s=e.depth-1;s>0;s--){const t=e.node(s);if(t.type!==n&&t.type!==o||(i=s),t.type!==n&&t.type!==o&&t.type!==r)break}return i})(i.$to,e.schema.nodes);let s=Object(g.a)(e,i.$to.pos,i.$to.end(n),n||0,e.tr);return s=Object(g.b)(e,s),s=Object(m.a)(e,s,{action:h.a.FORMATTED,actionSubject:h.b.TEXT,actionSubjectId:z(o),eventType:h.d.TRACK,attributes:{inputMethod:r}}),t(s),!0}return U(r,o)(e,t,n)};function R(e){return function(t,n,r){if(n&&n(t.tr.setSelection(function(e,t){let{$from:n,$to:o}=t
;const r=n.pos===o.pos;let i=n.pos,a=o.pos;if(r&&i===e.nodeSize-3)return t;if(n.nodeBefore&&!r){i++;let t=e.nodeAt(i);for(;!t||t&&!t.isText;)i++,t=e.nodeAt(i)}return a===i?new s.TextSelection(e.resolve(i)):new s.TextSelection(e.resolve(i),e.resolve(a))}(t.doc,t.selection))),!r)return!1;t=r.state;const{doc:a,selection:{$from:c,$to:u}}=t,p=t.schema.nodes[e],h=Object(l.findParentNodeOfTypeClosestToPos)(a.resolve(c.pos),p),m=h&&u.pos<=h.pos+h.node.nodeSize;if(function(e,t){const{$from:n}=e.selection,o=n.node(-2),r=n.node(-3);return o&&o.type===e.schema.nodes[t]||r&&r.type===e.schema.nodes[t]}(t,e)&&m)return M()(t,n);{m||(M()(t,n),t=r.state);const e=Object(d.e)(t,p);return e&&n&&(n(e),t=r.state),function(e){return o.a(i.c(e),((t,n)=>t.type===n.type&&t.type===e))}(p)(t,n)}}}const L=(e,t)=>{const n=D(t,e.schema.nodes)-1,o=Object(l.findParentNodeOfTypeClosestToPos)(t,e.schema.nodes.listItem);return{indentLevel:n,itemIndex:t.index(o?o.depth-1:void 0)}},B=e=>{
const{tr:t,schema:n}=e,{selection:o,doc:r,selection:{from:i,to:a,empty:c}}=t;if(c)return 1;const d=[];return o instanceof s.TextSelection&&o.$cursor?d.push(i):r.nodesBetween(i,a,((e,t)=>{if(!e.isLeaf)return!0;d.push(t)})),d.reduce(((e,t)=>{const o=Object(l.findParentNodeClosestToPos)(r.resolve(t),(e=>e.type===n.nodes.listItem));if(!o)return e;return e.find((e=>e.pos===o.pos&&e.start===o.start&&e.depth===o.depth))||e.push(o),e}),[]),d.length},F=e=>{const{selection:{$from:t,$to:n}}=e.tr,o=L(e,t),r=L(e,n);return{itemIndexAtSelectionStart:o.itemIndex,itemIndexAtSelectionEnd:r.itemIndex,indentLevelAtSelectionStart:o.indentLevel,indentLevelAtSelectionEnd:r.indentLevel,itemsInSelection:B(e)}},z=e=>"bulletList"===e?h.c.FORMAT_LIST_BULLET:h.c.FORMAT_LIST_NUMBER,U=(e,t)=>(n,o,r)=>{if(r&&o){const i=Object(l.findParentNodeOfTypeClosestToPos)(n.selection.$from,[n.schema.nodes.bulletList,n.schema.nodes.orderedList]);return i&&o(Object(m.a)(n,r.state.tr,{action:h.a.CONVERTED,actionSubject:h.b.LIST,
eventType:h.d.TRACK,actionSubjectId:z(t),attributes:E(E({},F(n)),{},{transformedFrom:z(i.node.type.name),inputMethod:e})})),R(t)(n,o,r)&&o(Object(m.a)(n,r.state.tr,{action:h.a.FORMATTED,actionSubject:h.b.TEXT,actionSubjectId:z(t),eventType:h.d.TRACK,attributes:{inputMethod:e}})),!0}return!1};function H(e,t=h.e.TOOLBAR){return N(e.state,e.dispatch,e,"bulletList",t)}function $(e,t=h.e.TOOLBAR){return N(e.state,e.dispatch,e,"orderedList",t)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an \u201cunordered\u201d list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",
defaultMessage:"Numbered list",description:"A list with ordered items 1\u2026 2\u2026 3\u2026"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/utils.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=new o.PluginKey("listsPlugin"),u=e=>new o.Plugin({state:{init:()=>({bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1}),apply(t,n,o,s){const{bulletList:a,orderedList:c}=s.schema.nodes,u=Object(r.findParentNodeOfType)([a,c])(t.selection),p=!!u&&u.node.type===a,h=!!u&&u.node.type===c,m=!(p||h||Object(i.g)(a,s)),f=!(p||h||Object(i.g)(c,s));if(p!==n.bulletListActive||h!==n.orderedListActive||m!==n.bulletListDisabled||f!==n.orderedListDisabled){
const t=l(l({},n),{},{bulletListActive:p,orderedListActive:h,bulletListDisabled:m,orderedListDisabled:f});return e(d,t),t}return n}},view:()=>({update:({state:e,dispatch:t})=>{const{bulletList:n,orderedList:o}=e.schema.nodes,{alignment:i,indentation:a}=e.schema.marks;if(!Object(r.findParentNodeOfType)([n,o])(e.tr.selection))return;const l=Object(s.c)(e,[i,a]);l&&t(l)}}),key:d})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/transforms.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g}))
;var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/prosemirror-transform/dist/index.es.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/utils.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),l=n("./node_modules/prosemirror-commands/dist/index.es.js");function c(e,t,n){let{$from:r,$to:s}=t;const a=e.schema.nodes.listItem;let l=r.blockRange(s,(e=>!!e.childCount&&!!e.firstChild&&e.firstChild.type===a));if(!l||l.depth<2||r.node(l.depth-1).type!==a)return n;let c=l.end,d=s.end(l.depth);return c<d&&(n.step(new i.d(c-1,d,c,d,new o.Slice(o.Fragment.from(a.create(void 0,l.parent.copy())),1,0),1,!0)),l=new o.NodeRange(n.doc.resolve(r.pos),n.doc.resolve(d),l.depth)),n.lift(l,Object(i.p)(l)).scrollIntoView()}function d(e,t,n,o,i){const{listItem:s}=e.schema.nodes;let a=!1;return i.doc.nodesBetween(t,n,((n,l)=>{if(!a&&n.type===s&&l>t){a=!0;let t=o+3;for(;t>o+2;){
const o=i.doc.resolve(i.mapping.map(l));t=o.depth;const s=i.doc.resolve(i.mapping.map(l+n.textContent.length)),a=new r.TextSelection(o,s);i=c(e,a,i)}}})),i}function u(e,t){const{from:n,to:o}=e.selection,{paragraph:r}=e.schema.nodes,i=[];t.doc.nodesBetween(n,o,((e,t)=>{e.type===r&&i.push({node:e,pos:t})}));for(let a=i.length-1;a>=0;a--){const n=i[a],o=t.doc.resolve(t.mapping.map(n.pos));if(o.depth>0){let r;r=n.node.textContent&&n.node.textContent.length>0?t.doc.resolve(t.mapping.map(n.pos+n.node.textContent.length)):t.doc.resolve(t.mapping.map(n.pos+1));const i=o.blockRange(r);i&&t.lift(i,Object(s.c)(e.schema,o))}}return t}const p=/^\s*[\*\-\u2022](\s+|\s+$)/,h=/^\s*\d[\.\)](\s+|$)/,m=(e,t,n)=>{const{hardBreak:i,bulletList:s,orderedList:c}=n.nodes,d=Object(a.c)(e.content,(e=>e)),u=[s,c],m=d.map(((e,r)=>{const s=((e,t)=>{if(!e.text)return null;const{bulletList:n,orderedList:o}=t.nodes;return[{node:n,matcher:p},{node:o,matcher:h}].reduce(((t,n)=>{if(t)return t
;const o=e.text.match(n.matcher);return o?[n.node,o[0].length]:t}),null)})(e,n),a=r>0&&d[r-1];if(a&&a.type!==i)return e;if(!s||!e.text)return e;const[l,c]=s,u=e.text.substr(c),m=n.nodes.listItem.createAndFill(void 0,n.nodes.paragraph.createChecked(void 0,u.length?n.text(u):void 0));if(!m)return e;const f=l.createChecked(void 0,[m]);return t&&!t.type.validContent(o.Fragment.from(f))?e:f})).filter(((e,t,n)=>e.type!==i?e:t>0&&u.indexOf(n[t-1].type)>-1||t<n.length-1&&u.indexOf(n[t+1].type)>-1?null:e)),f=r.EditorState.create({schema:n});let b;Object(l.a)(((e,t)=>!!t&&(t(e.tr.replaceWith(0,2,m)),!0)),(()=>!0))(f,(e=>{b=e}));const g=b?b.doc.content:o.Fragment.from(m),{paragraph:y}=n.nodes;return y.validContent(g)?o.Fragment.from(y.create(e.attrs,g,e.marks)):g},f=(e,t)=>{const n=[];let r=[],i=null;const{hardBreak:s,paragraph:a}=t.nodes;return e.forEach((e=>{if(i&&i.type===s&&e.type===s)return r.pop(),n.push(a.createChecked(void 0,r)),void(r=[]);r.push(e),i=e})),
r.length&&n.push(a.createChecked(void 0,r)),o.Fragment.from(n.length?n:[a.createAndFill()])},b=(e,t)=>{let n=!1;if(e.content.forEach((e=>{n=n||e.marks.some((e=>e.type===t.marks.code))})),t.nodes.paragraph.validContent(e.content)&&!n){const n=f(e.content,t);return new o.Slice(n,e.openStart+1,e.openEnd+1)}return Object(a.e)(e,((e,n)=>e.type===t.nodes.paragraph?f(e.content,t):e))},g=(e,t)=>Object(a.e)(e,((e,n)=>e.type===t.nodes.paragraph?m(e,n,t):e))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/lists/utils.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}))
;var o=n("./node_modules/prosemirror-transform/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js");const s=(e,t)=>{const{$from:n,$to:r}=t.selection,i=n.blockRange(r);if(!i)return!1;return!!Object(o.m)(i,e)},a=e=>"paragraph"===e.parent.type.name,l=e=>{const t=e.parent.type.name,n=e.node(-1);return"listItem"===t||"orderedList"===t||"bulletList"===t||n&&"listItem"===n.type.name},c=e=>{const{$from:t}=e.selection,{listItem:n,paragraph:o}=e.schema.nodes;return e.selection instanceof i.a?t.parent.type===n:Object(r.hasParentNodeOfType)(n)(e.selection)&&t.parent.type===o},d=e=>{const{$from:t}=e.selection,{bulletList:n,orderedList:o}=e.schema.nodes,r=e.doc.resolve(t.pos-1);let s=r?r.nodeBefore:null;return e.selection instanceof i.a&&(s=t.nodeBefore),!!s&&[n,o].indexOf(s.type)>-1},u=e=>{const{parent:t}=e.selection.$from,{listItem:n,paragraph:o}=e.schema.nodes
;return e.selection instanceof i.a?t.type===n:t.type===o&&Object(r.hasParentNodeOfType)(n)(e.selection)},p=(e,t)=>{let n=t.depth;const{bulletList:o,orderedList:r,listItem:i}=e.nodes;for(let s=t.depth;s>0;s--){const e=t.node(s);if(e.type!==o&&e.type!==r||(n=s),e.type!==o&&e.type!==r&&e.type!==i)break}return n-1}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/max-content-size/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");const r=new o.PluginKey("maxContentSizePlugin");t.a=e=>({name:"maxContentSize",pmPlugins:()=>[{name:"maxContentSize",plugin:({dispatch:t})=>function(e,t){if(!t)return;let n=!1;return new o.Plugin({filterTransaction(o){const i=o.doc&&o.doc.nodeSize>t;return(i||i!==n)&&e(r,{maxContentSizeReached:i}),n=i,!i}})}(t,e)}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/commands/helpers.js":function(t,n,o){"use strict";o.d(n,"b",(function(){return l})),
o.d(n,"a",(function(){return c})),o.d(n,"c",(function(){return d})),o.d(n,"e",(function(){return u})),o.d(n,"f",(function(){return p})),o.d(n,"d",(function(){return h}));var r=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js"),i=o("./node_modules/@atlaskit/adf-schema/dist/es2019/steps/set-attrs.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(e,t)=>{const{mediaNodes:n}=e;return n.reduce(((e,n)=>{if(e)return e;const{node:o}=n;return o.attrs.id===t?n:e}),null)
},c=(e,t,n)=>n?l(e,t):e.mediaGroupNodes[t],d=(e,t)=>e.mediaOptions&&e.mediaOptions.allowMarkingUploadsAsIncomplete&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0,u=(t,n,o)=>(s,a)=>{const l=r.a.getState(s);let d;if(o)d=((e,t)=>{const{mediaNodes:n}=e;return n.filter((e=>e.node.attrs.id===t))})(l,t);else{const e=c(l,t,o);d=e?[e]:[]}const u=s.schema.nodes.media;if(d=d.filter((t=>{let n;try{n=s.doc.nodeAt(t.getPos())}catch(e){return!1}return n&&n.type===u})),0===d.length)return!1;if(a){const e=s.tr;d.forEach((({getPos:t})=>e.step(new i.a(t(),n)))),e.setMeta("addToHistory",!1),a(e)}return!0},p=(e,t,n)=>(o,s)=>{const a=r.a.getState(o),l=c(a,e,n);return!!l&&(s&&s(o.tr.step(new i.a(l.getPos(),t)).setMeta("addToHistory",!1)),!0)},h=(e,t)=>(n,o)=>!!o&&(o(n.tr.step(new i.a(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"file",url:null},t))).setMeta("addToHistory",!1)),!0)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/index.js":function(t,n,o){"use strict"
;var r=o("./node_modules/react/index.js"),i=o.n(r),s=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/media-single.js"),a=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/media-group.js"),l=o("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/media.js"),c=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/main.js"),d=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js"),u=o("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js"),p=o("./node_modules/prosemirror-state/dist/index.es.js"),h=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new p.PluginKey("mediaEditorPlugin"),{createPluginState:y,createCommand:v,getPluginState:O}=Object(h.a)(g,((e,t)=>{switch(t.type){case"open":return f(f({},e),{},{editor:{identifier:t.identifier,pos:t.pos}});case"close":case"upload":return f(f({},e),{},{editor:void 0});case"setMediaClientConfig":return f(f({},e),{},{mediaClientConfig:t.mediaClientConfig});default:return e}}),{mapping:(e,t)=>t.editor?f(f({},t),{},{editor:f(f({},t.editor),{},{pos:e.mapping.map(t.editor.pos)})}):t});function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=e=>t=>{const n=async(e,n)=>{if("mediaProvider"!==e)return;const o=await n;if(!o)return;const r=await o.uploadMediaClientConfig||await o.viewMediaClientConfig,{dispatch:i,state:s}=t;(e=>v({type:"setMediaClientConfig",mediaClientConfig:e}))(r)(s,i,t)};return e.subscribe("mediaProvider",n),{destroy(){e.unsubscribe("mediaProvider",n)}}
},S=({dispatch:e,providerFactory:t})=>new p.Plugin({state:y(e,{}),key:g,view:E(t)});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=new p.PluginKey("mediaAltTextPlugin"),{createPluginState:P,createCommand:A,getPluginState:I}=Object(h.a)(T,((e,t)=>{switch(t.type){case"updateAltText":return C({},e);case"openMediaAltTextMenu":
return C(C({},e),{},{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return C(C({},e),{},{isAltTextEditorOpen:!1});default:return e}}),{onSelectionChanged:(e,t)=>e.getMeta("history$")?t:{isAltTextEditorOpen:!1}}),M=({dispatch:e,providerFactory:t})=>new p.Plugin({state:P(e,{isAltTextEditorOpen:!1}),key:T,view:()=>({update:(e,t)=>{const n=I(e.state),o=I(t);n&&o&&o.isAltTextEditorOpen&&!n.isAltTextEditorOpen&&!e.hasFocus()&&e.focus()}})});var D=o("./node_modules/prosemirror-keymap/dist/index.es.js"),N=o("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),R=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-common.js"),L=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),B=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=A((e=>!!Object(R.e)(e)&&{type:"closeMediaAltTextMenu"})),$=((e,t,n)=>Object(L.d)({action:e,actionSubject:B.b.MEDIA,actionSubjectId:B.c.ALT_TEXT,eventType:B.d.TRACK})(A(t,n)))(B.a.OPENED,(e=>!!Object(R.e)(e)&&{type:"openMediaAltTextMenu"}),(e=>e.setMeta("scrollIntoView",!1)))
;var W=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),V=o("./node_modules/prosemirror-utils/dist/index.js"),K=o("./node_modules/prosemirror-commands/dist/index.es.js"),q=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js");function G(e,t){const{$from:n}=e,o=n.index(n.depth-1),r=n.node(n.depth-1);return r?r.maybeChild(o+t):null}function Y(t){return(n,o)=>{const{$from:r}=n.selection,{paragraph:i}=n.schema.nodes,s=G(n.selection,-2);if(!s)return!1;const a=G(n.selection,-1),l=r.pos-a.nodeSize-s.nodeSize;let c=n.tr;if(function(n){let o=!1;try{o=t(n)}catch(e){}return o}(s))c=c.replace(l-1,l+s.nodeSize);else if(Object(W.q)(n.selection)?c.replace(r.pos,r.pos+r.parent.nodeSize-1):c.replace(r.pos-1,r.pos+r.parent.nodeSize-1),s.type===i){const e=l+s.nodeSize-2;Object(V.safeInsert)(r.parent.content,e)(c)}else{const e=l+s.nodeSize-1;Object(V.safeInsert)(r.parent.copy(r.parent.content),e)(c)}return o&&o(c),!0}}const X=e=>{const t=Object(W.l)(e)
;return(e,n)=>{const{selection:o,schema:r}=e,{$from:i}=o;if(!function(e){if(!e.empty)return!1;const{$from:t}=e;return t.parentOffset<=0}(e.selection))return!1;if(!function(e,t){const{$from:n}=e;return n.parent.type===t}(e.selection,r.nodes.paragraph))return!1;if(!function(e,t,n){const o=G(e,n);return!!o&&o.type===t}(e.selection,r.nodes.mediaSingle,-1))return!1;return"wrap-right"===G(e.selection,-1).attrs.layout?Y(t)(e,n):(n&&Object(K.f)(e,(o=>{t(i.parent)&&!Object(q.d)(e)&&o.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(o)})),!0)}};let J;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(J||(J={}));function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=new p.PluginKey("mediaLinking"),ie={visible:!1,editable:!1,mediaPos:null,link:""};const se=Object(h.a)(re,((e,t)=>{switch(t.type){case J.showToolbar:return Q(Q({},e),{},{visible:!0});case J.setUrl:return Q(Q({},e),{},{editable:!0,link:t.payload});case J.hideToolbar:return Q(Q({},e),{},{visible:!1});case J.unlink:return Q(Q({},e),{},{link:"",visible:!1,editable:!1})}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?ne(ne({},t),{},{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof p.NodeSelection))return ie;const t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return ie;const o=n.marks.find((e=>"link"===e.type.name));return ne(ne({},ie),{},o?{mediaPos:t,editable:!0,link:o.attrs.href}:{mediaPos:t})}
}),{createCommand:ae,getPluginState:le}=se;var ce=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js"),de=o("./node_modules/@atlaskit/editor-core/dist/es2019/commands/index.js");const ue=e=>{const{doc:t,selection:n,schema:o}=e;if(!(t&&n&&n instanceof p.NodeSelection&&n.node.type===o.nodes.mediaSingle))return;const r=t.nodeAt(n.$anchor.pos+1);return r&&r.type===o.nodes.media?r:void 0};var pe=o("./node_modules/@atlaskit/media-client/dist/es2019/utils/with-media-client-hoc.js");const he=async(e,t)=>{if("external"===e.attrs.type)return"external";if(e.attrs.id)try{const n=await Object(pe.a)(t).file.getCurrentState(e.attrs.id,{collectionName:e.attrs.collection});if(n&&"error"!==n.status)return n.mediaType}catch(n){}};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=ae((e=>{const t=le(e);if(t&&null!==t.mediaPos){if(e.doc.nodeAt(t.mediaPos))return{type:J.showToolbar}}return!1})),ye=(e,t,n)=>{if(t&&n){const o=ue(e);if(!o)return!1;const{mediaClientConfig:r}=Object(c.b)(e);if(!r)return!1;he(o,r).then((e=>{"external"!==e&&"image"!==e||ue(n.state)!==o||t(n.state.tr.setMeta(re,{type:J.showToolbar}))}))}return!0},ve=ae({type:J.hideToolbar}),Oe=(e,t,n)=>{ve(e,t,n),n&&n.focus()};function je(e,t,{forceRemove:n=!1,url:o}){const r=le(t);if(!r||null===r.mediaPos)return e
;const i=t.doc.resolve(r.mediaPos),s=t.doc.nodeAt(i.pos);if(!s)return e;const a=t.schema.marks.link,{media:l}=t.schema.nodes;return Object(de.g)(a,((e,t)=>{if(!t||t.type!==l)return;if(n)return!1;const r=Object(ce.g)(o);return e&&e.href===r?void 0:""!==r.trim()&&fe(fe({},e),{},{href:r})}),[l])(i.pos,i.pos+s.nodeSize,e,t),e}const we=(e,t,n,o)=>Object(L.a)(t,e,{action:n,eventType:B.d.TRACK,actionSubject:B.b.MEDIA,actionSubjectId:B.c.LINK,attributes:o}),ke=ae({type:J.unlink},((e,t)=>{const n=je(e,t,{forceRemove:!0});return we(n,t,B.a.DELETED)})),Ee=(e,t)=>{const n=function(e){const{link:t}=e.schema.marks,n=le(e);if(!n||null===n.mediaPos)return;const o=e.doc.resolve(n.mediaPos),r=e.doc.nodeAt(o.pos);if(!r)return;if(!t.isInSet(r.marks))return;return r.marks.find((e=>e.type===t)).attrs.href}(t);return n?e!==n?B.a.EDITED:void 0:B.a.ADDED},Se=(t,n)=>ae({type:J.setUrl,payload:Object(ce.g)(t)},((o,r)=>{const i=Ee(t,r);if(!i)return o;try{const e=je(o,r,{url:t});return we(o,r,i,i===B.a.ADDED?{
inputMethod:n}:void 0),e}catch(e){throw we(o,r,B.a.ERRORED,{action:i}),e}}));const _e=(e,t)=>(n,o)=>{let r=n.tr;if(1!==t.childCount)return!1;if(o){const i=n.schema,s=t.child(0),a=i.nodes.caption.create();r=n.tr.insert(e+s.nodeSize+1,a),r=Ce(r,e,s.nodeSize,a.nodeSize),r.setMeta("scrollIntoView",!1),Object(L.a)(n,n.tr,{action:B.a.ADDED,eventType:B.d.TRACK,actionSubject:B.b.MEDIA_SINGLE,actionSubjectId:B.c.CAPTION}),o(r)}return!0},Ce=(e,t,n,o)=>Object(V.setTextSelection)(t+n+o)(e);const xe=e=>(d.a.getState(e).ignoreLinks=!0,!1),Te=e=>d.a.getState(e).splitMediaGroup(),Pe=(e,t)=>{const{selection:n,schema:o}=e;if(n instanceof p.NodeSelection&&n.node.type===o.nodes.mediaSingle&&o.nodes.caption){if(t){const{from:o,node:r}=n;_e(o,r)(e,t)||((e,t)=>(n,o)=>{if(2!==t.childCount)return!1;if(o){const r=t.child(0),i=t.child(1);let s=n.tr;s=Ce(s,e,r.nodeSize,i.nodeSize),s.setMeta("scrollIntoView",!1),o(s)}return!0})(o,r)(e,t)}return!0}return!1};var Ae=function(e){const t={},{featureFlags:n}=e||{}
;return N.bindKeymapWithCommand(N.undo.common,xe,t),N.bindKeymapWithCommand(N.enter.common,Te,t),Object(u.a)("captions",n)&&(N.bindKeymapWithCommand(N.moveDown.common,Pe,t),N.bindKeymapWithCommand(N.tab.common,Pe,t)),N.bindKeymapWithCommand(N.insertNewLine.common,Te,t),Object(D.b)(t)},Ie=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/attachment.js"),Me=o.n(Ie),De=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js"),Ne=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js");const Re=e=>()=>(e.showMediaPicker(),!0);var Le=({editorView:e,eventDispatcher:t,pluginKey:n,isDisabled:o,isReducedSpacing:r})=>i.a.createElement(Ne.a,{editorView:e,eventDispatcher:t,plugins:{mediaPlugin:n},render:({mediaPlugin:e})=>e.allowsUploads?i.a.createElement(De.a,{onClick:Re(e),disabled:o,title:"Files & images",spacing:r?"none":"default",iconBefore:i.a.createElement(Me.a,{label:"Files & images"})}):null
}),Be=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),Fe=o.n(Be),ze=o("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/with-providers.js"),Ue=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/close.js"),He=o.n(Ue),$e=o("./node_modules/@babel/runtime/helpers/extends.js"),We=o.n($e),Ve=o("./node_modules/@atlaskit/media-card/dist/es2019/utils/lightCards/cardLoading.js"),Ke=o("./node_modules/@atlaskit/media-card/dist/es2019/utils/cardDimensions.js"),qe=o("./node_modules/@atlaskit/media-card/dist/es2019/root/card/cardLoader.js"),Ge=o("./node_modules/@atlaskit/media-filmstrip/dist/es2019/filmstripView/index.js");let Ye=1;const Xe=new Map;class Je extends r.Component{constructor(...e){super(...e),Fe()(this,"state",{animate:!1,offset:0}),Fe()(this,"handleSize",(({offset:e})=>this.setState({offset:e}))),Fe()(this,"handleScroll",(({animate:e,offset:t})=>this.setState({animate:e,offset:t})))}renderCards(){
const{items:e,mediaClientConfig:t,shouldOpenMediaViewer:n,featureFlags:o}=this.props,r=n?{list:e.map((e=>e.identifier))}:void 0;return e.map((e=>{const s=(e=>{switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;{const t=Xe.get(e.id);if(t)return t;Ye++;const n=`${Ye}`;return Xe.set(e.id,n),n}}})(e.identifier);return t?i.a.createElement(qe.a,We()({key:s,mediaClientConfig:t,dimensions:Ke.a,useInlinePlayer:!1,shouldOpenMediaViewer:n,mediaViewerDataSource:r,featureFlags:o},e)):i.a.createElement(Ve.a,{key:s,dimensions:Ke.a})}))}render(){const{testId:e="media-filmstrip"}=this.props,{animate:t,offset:n}=this.state;return i.a.createElement(Ge.a,{animate:t,offset:n,onSize:this.handleSize,onScroll:this.handleScroll,testId:e},this.renderCards())}}Je.displayName="Filmstrip"
;var Ze=o("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js"),Qe=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/react-nodeview.js"),et=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/selection.js"),tt=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js"),nt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/editor-disabled/index.js"),ot=o("./node_modules/uuid/v4.js"),rt=o.n(ot),it=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/index.js"),st=o("./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js"),at=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/commands/helpers.js");class lt{constructor(t){Fe()(this,"updateContextId",(async()=>{const e=this.getAttrs();if(!e||"file"!==e.type)return;const{id:t}=e,n=await this.getObjectId();Object(at.e)(t,{__contextId:n},this.props.isMediaSingle)(this.props.view.state,this.props.view.dispatch)})),
Fe()(this,"hasFileAttributesDefined",(()=>{const e=this.getAttrs();return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId})),Fe()(this,"updateFileAttrs",(async(e=!0)=>{const t=this.getAttrs(),n=await this.props.mediaProvider;if(!n||!n.uploadParams||!t||"file"!==t.type||this.hasFileAttributesDefined())return;const o=n.viewMediaClientConfig,r=Object(pe.a)(o),i={collectionName:t.collection};let s;try{if(s=await r.file.getCurrentState(t.id,i),"error"===s.status)return}catch(p){return}const a=this.getNodeContextId()||await this.getObjectId(),{name:l,mimeType:c,size:d}=s,u={__fileName:l,__fileMimeType:c,__fileSize:d,__contextId:a};ct(t,u)&&Object(at.e)(t.id,u,e)(this.props.view.state,this.props.view.dispatch)})),Fe()(this,"getAttrs",(()=>{const{attrs:e}=this.props.node;if(e)return e})),Fe()(this,"getObjectId",(async()=>{const e=await this.props.contextIdentifierProvider;return e&&e.objectId})),Fe()(this,"uploadExternalMedia",(async t=>{
const{node:n}=this.props,o=await this.props.mediaProvider;if(n&&o){const r=o.uploadMediaClientConfig;if(!r||!n.attrs.url)return;const i=Object(pe.a)(r),s=o.uploadParams&&o.uploadParams.collection;try{const e=await i.file.uploadExternal(n.attrs.url,s),{uploadableFileUpfrontIds:o,dimensions:r}=e;Object(at.d)(t()+1,{id:o.id,collection:s,height:r.height,width:r.width,occurrenceKey:o.occurrenceKey})(this.props.view.state,this.props.view.dispatch)}catch(e){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:B.a.UPLOAD_EXTERNAL_FAIL,actionSubject:B.b.EDITOR,eventType:B.d.OPERATIONAL})}}})),Fe()(this,"getNodeContextId",(()=>{const e=this.getAttrs();if(e&&"file"===e.type)return e.__contextId})),Fe()(this,"updateDimensions",(e=>{Object(at.e)(e.id,{height:e.height,width:e.width},!0)(this.props.view.state,this.props.view.dispatch)})),Fe()(this,"hasDifferentContextId",(async()=>{const e=this.getNodeContextId(),t=await this.getObjectId();return!(!e||!t||e===t)})),
Fe()(this,"isNodeFromDifferentCollection",(async()=>{const e=await this.props.mediaProvider;if(!e||!e.uploadParams)return!1;const t=e.uploadParams.collection,n=this.getAttrs();if(!n||"file"!==n.type)return!1;const{collection:o,__contextId:r}=n;return!(!r&&!(await this.getObjectId())||t===o)})),Fe()(this,"copyNodeFromBlobUrl",(async e=>{const t=this.getAttrs();if(!t||"external"!==t.type)return;const{url:n}=t,o=Object(st.b)(n);if(!o)return;const r=await this.props.mediaProvider;if(!r||!r.uploadParams)return;const i=r.uploadParams.collection,{contextId:s,id:a,collection:l,height:c,width:d,mimeType:u,name:p,size:h}=o,m=r.uploadMediaClientConfig;if(!m||!m.getAuthFromContext)return;const f=Object(pe.a)(m),b=await m.getAuthFromContext(s),g={id:a,collection:l,authProvider:()=>Promise.resolve(b)},y={collection:i,authProvider:m.authProvider,occurrenceKey:rt()()},v=await f.file.copyFile(g,y);Object(at.d)(e()+1,{id:v.id,collection:i,height:c,width:d,__fileName:p,__fileMimeType:u,__fileSize:h
})(this.props.view.state,this.props.view.dispatch)})),Fe()(this,"copyNode",(async()=>{const e=await this.props.mediaProvider,{isMediaSingle:t,view:n}=this.props,o=this.getAttrs();if(!e||!e.uploadParams||!o||"file"!==o.type)return;const r=this.getNodeContextId(),i=e.uploadMediaClientConfig;if(i&&i.getAuthFromContext&&r){const s=Object(pe.a)(i),a=await i.getAuthFromContext(r),l=await this.getObjectId(),{id:c,collection:d}=o,u={id:c,collection:d,authProvider:()=>Promise.resolve(a)},p=e.uploadParams.collection,h={collection:p,authProvider:i.authProvider,occurrenceKey:rt()()},m=await s.file.copyFile(u,h);Object(at.f)(u.id,{id:m.id,collection:p,__contextId:l},t)(n.state,n.dispatch)}})),this.props=t}isMediaBlobUrl(){const e=this.getAttrs();return!(!e||"external"!==e.type||!Object(st.c)(e.url))}async getRemoteDimensions(){const e=await this.props.mediaProvider,{mediaOptions:t}=this.props,n=this.getAttrs();if(!e||!n)return!1;const{height:o,width:r}=n;if("external"===n.type||!n.id)return!1
;const{id:i,collection:s}=n;if(o&&r)return!1;if(t&&!t.allowRemoteDimensionsFetch)return{id:i,height:it.a,width:it.b};const a=e.viewMediaClientConfig,l=Object(pe.a)(a),c=await l.getImageMetadata(i,{collection:s});return!(!c||!c.original)&&{id:i,height:c.original.height||it.a,width:c.original.width||it.b}}async handleExternalMedia(t){if(this.isMediaBlobUrl())try{await this.copyNodeFromBlobUrl(t)}catch(e){await this.uploadExternalMedia(t)}else await this.uploadExternalMedia(t)}}const ct=(e,t)=>e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId,dt=e=>Object(tt.d)(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize);class ut extends i.a.Component{constructor(e){super(e),Fe()(this,"state",{viewMediaClientConfig:void 0}),Fe()(this,"updateNodeAttrs",(e=>{const{view:t,mediaProvider:n,contextIdentifierProvider:o}=e;this.mediaNodes.forEach((e=>{new lt({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1
}).updateFileAttrs(!1)}))})),Fe()(this,"setMediaItems",(e=>{const{node:t}=e;this.mediaNodes=[],t.forEach(((t,n)=>{this.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:()=>e.getPos()+n+1},this.mediaNodes.push(t)}))})),Fe()(this,"getIdentifier",(e=>"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection})),Fe()(this,"isNodeSelected",(e=>{const t=dt(this.props);return t===tt.a.selectedInRange||t===tt.a.selectedInside&&this.props.anchorPos===e})),Fe()(this,"renderChildNodes",(()=>{const{viewMediaClientConfig:e}=this.state,{getPos:t,allowLazyLoading:n,disabled:o,mediaOptions:r}=this.props,s=this.mediaNodes.map(((e,r)=>{const s=()=>t()+r+1;return{identifier:this.getIdentifier(e),isLazy:n,selected:this.isNodeSelected(s()),onClick:()=>{Object(et.g)(this.props.view,s())},actions:[{handler:o?()=>{}:this.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,s),icon:i.a.createElement(He.a,{
label:"delete"})}]}}));return i.a.createElement(Je,{items:s,mediaClientConfig:e,featureFlags:r.featureFlags})})),this.mediaNodes=[],this.mediaPluginState=d.a.getState(e.view.state),this.setMediaItems(e),this.state={viewMediaClientConfig:void 0}}componentDidMount(){this.updateMediaClientConfig(),this.mediaNodes.forEach((async e=>{if("external"===e.attrs.type)return;const{view:t,mediaProvider:n,contextIdentifierProvider:o}=this.props,r=new lt({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1});r.getNodeContextId()||await r.updateContextId();await r.hasDifferentContextId()&&await r.copyNode()}))}UNSAFE_componentWillReceiveProps(e){this.updateMediaClientConfig(),this.setMediaItems(e),!1!==e.isCopyPasteEnabled&&this.updateNodeAttrs(e)}shouldComponentUpdate(e){return!(!((e,t)=>dt(e)!==dt(t)||dt(t)===tt.a.selectedInside&&e.anchorPos!==t.anchorPos)(this.props,e)&&this.props.node===e.node&&this.state.viewMediaClientConfig===this.mediaPluginState.mediaClientConfig)}
updateMediaClientConfig(){const{viewMediaClientConfig:e}=this.state,{mediaClientConfig:t}=this.mediaPluginState;!e&&t&&this.setState({viewMediaClientConfig:t})}render(){return this.renderChildNodes()}}ut.displayName="MediaGroup",Fe()(ut,"displayName","MediaGroup");class pt extends Ze.a{render(e,t){const{providerFactory:n,mediaOptions:o}=e,r=this.getPos;return i.a.createElement(ze.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:n,renderNode:({mediaProvider:e,contextIdentifierProvider:n})=>i.a.createElement(Ne.a,{editorView:this.view,plugins:{reactNodeViewState:Qe.b,editorDisabledPlugin:nt.b},render:({editorDisabledPlugin:s})=>e?i.a.createElement(ut,{node:this.node,getPos:r,view:this.view,forwardRef:t,disabled:(s||{}).editorDisabled,allowLazyLoading:o.allowLazyLoading,mediaProvider:e,contextIdentifierProvider:n,isCopyPasteEnabled:o.isCopyPasteEnabled,anchorPos:this.view.state.selection.$anchor.pos,headPos:this.view.state.selection.$head.pos,mediaOptions:o
}):null})})}}pt.displayName="MediaGroupNodeView";const ht=(e,t,n,o={})=>(r,i,s)=>new pt(r,i,s,e,t,{providerFactory:n,mediaOptions:o}).init();var mt=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js"),ft=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js"),bt=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/grid.js"),gt=o("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),yt=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/styled.js"),vt=o("./node_modules/styled-components/dist/styled-components.browser.esm.js");const Ot=vt.default.div(["& > div{",";position:relative;clear:both;}"],yt.a);Ot.displayName="ResizerWrapper"
;var jt=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/index.js"),wt=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/utils.js"),kt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-single.js"),Et=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-factory.js"),St=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/rich-media-utils.js");class _t extends i.a.Component{constructor(...e){super(...e),Fe()(this,"state",{offsetLeft:Ct(this.insideInlineLike,this.insideLayout,this.props.view.dom,void 0),isVideoFile:!0}),Fe()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:o}}=this.props,r=100*Object(bt.b)(e,this.props.lineLength);this.setState({resizedPctWidth:r});let i=Object(V.hasParentNodeOfType)(o.schema.nodes.table)(o.selection)?n:this.calcUnwrappedLayout(r,e);return r<=100?(!this.wrappedLayout||t&&100===r||(i=n),{width:r,layout:i}):{width:this.props.pctWidth||null,
layout:i}})),Fe()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=gt.W?"wide":"full-width")),Fe()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(bt.a)(e,this.props.lineLength,this.props.gridSize):0})),Fe()(this,"calcPxWidth",(e=>{const{width:t=0,height:n,layout:o,pctWidth:r,lineLength:i,containerWidth:s,fullWidthMode:a,getPos:l,view:{state:c}}=this.props,{resizedPctWidth:d}=this.state,u="function"==typeof l?l():void 0;return Object(kt.a)({origWidth:t,origHeight:n,pctWidth:r,state:c,containerWidth:{width:s,lineLength:i},isFullWidthModeEnabled:a,layout:e||o,pos:u,resizedPctWidth:d})})),Fe()(this,"highlights",((e,t)=>{const n=Object(wt.c)(e,t),{layoutColumn:o,table:r,expand:i,nestedExpand:s}=this.props.view.state.schema.nodes;if(this.$pos&&Object(V.findParentNodeOfTypeClosestToPos)(this.$pos,[o,r,i,s].filter(Boolean)))return[];if(n>gt.W)return["full-width"]
;const{layout:a,lineLength:l,gridSize:c}=this.props,d=Object(bt.a)(n,l,c),u=Math.round(d),p=[];return"wrap-left"===a||"align-start"===a?p.push(0,u):"wrap-right"===a||"align-end"===a?p.push(c,c-u):this.insideInlineLike?p.push(Math.round(d+this.calcColumnLeftOffset())):p.push(Math.floor((c-u)/2),Math.ceil((c+u)/2)),p})),Fe()(this,"saveWrapper",(e=>this.wrapper=e))}componentDidUpdate(){const e=Ct(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}get wrappedLayout(){return it.e.indexOf(this.props.layout)>-1}async componentDidMount(){const{viewMediaClientConfig:e}=this.props;e&&await this.checkVideoFile(e)}UNSAFE_componentWillReceiveProps(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}async checkVideoFile(e){const t=this.$pos;if(!t||!e)return
;const n=this.props.view.state.doc.nodeAt(t.pos+1);if(!n||!n.attrs.id)return;const o=Object(pe.a)(e);try{const e=await o.file.getCurrentState(n.attrs.id,{collectionName:n.attrs.collection});e&&"error"!==e.status&&"image"===e.mediaType&&this.setState({isVideoFile:!1})}catch(r){this.setState({isVideoFile:!1})}}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(it.e.indexOf(e)>-1&&"center"===t&&n){const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props;return this.wrappedLayout||this.insideInlineLike?e:e/2}get insideInlineLike(){const e=this.$pos;if(!e)return!1;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(V.findParentNodeOfTypeClosestToPos)(e,[t])}get insideLayout(){const e=this.$pos;if(!e)return!1
;const{layoutColumn:t}=this.props.view.state.schema.nodes;return!!Object(V.findParentNodeOfTypeClosestToPos)(e,[t])}render(){const{width:e,height:t,layout:n,pctWidth:o,containerWidth:r,fullWidthMode:s,selected:a,view:{state:l},children:c}=this.props;let d,u=this.calcPxWidth();e&&(d=(t/e*100).toFixed(3));const p={};wt.a.forEach((e=>{const t="left"===e?"right":"left";p[e]=["full-width","wide","center"].concat(`wrap-${t}`).concat(`align-${wt.b[t]}`).indexOf(n)>-1,"left"===e&&this.insideInlineLike&&(p[e]=!1)}));const h={$pos:this.$pos,akEditorWideLayoutWidth:gt.W,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return i.a.createElement(Ot,{layout:n,isResized:!!o,containerWidth:r||e,
innerRef:this.saveWrapper,fullWidthMode:s},i.a.createElement(jt.a,We()({},this.props,{ratio:d,width:u,selected:a,enable:p,calcNewSize:this.calcNewSize,snapPoints:Object(St.b)(h),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,handleResizeStart:()=>{const e=Object(Et.c)(l);return!e||!e.dragging},nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),c))}}function Ct(e,t,n,o){let r=0;if(o&&e&&!t){r=o.getBoundingClientRect().left-n.getBoundingClientRect().left}return r}_t.displayName="ResizableMediaSingle";var xt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/index.js"),Tt=o("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js");const Pt=vt.default.figure(["margin:0;"]);Pt.displayName="FigureWrapper"
;const At=vt.default.div(["position:absolute;width:100%;height:100%;"]),It=vt.default.div(["width:100%;position:relative;padding-bottom:","%;"],(e=>e.dimensions.height/e.dimensions.width*100)),Mt=({dimensions:e,children:t,onContextMenu:n})=>i.a.createElement(It,{dimensions:e,onContextMenuCapture:n},i.a.createElement(At,null,t));var Dt=o("./node_modules/react-intl/lib/index.es.js");const Nt=Object(Dt.h)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}}),Rt=vt.default.span(["color:",";width:100%;text-align:center;margin-top:8px !important;display:block;"],"#6B778C");var Lt=({onClick:e})=>i.a.createElement(Rt,{onClick:e,"data-id":"caption-placeholder","data-testid":"caption-placeholder"},i.a.createElement(Dt.c,Nt.placeholder));function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ut extends r.Component{constructor(...t){super(...t),Fe()(this,"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),Fe()(this,"createMediaNodeUpdater",(e=>{const t=this.props.node.firstChild;return new lt(Ft(Ft({},e),{},{isMediaSingle:!0,node:t||this.props.node,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}))})),Fe()(this,"setViewMediaClientConfig",(async e=>{const t=await e.mediaProvider
;if(t){const e=t.viewMediaClientConfig;this.setState({viewMediaClientConfig:e})}})),Fe()(this,"updateMediaNodeAttributes",(async t=>{const n=this.createMediaNodeUpdater(t),{addPendingTask:o}=this.props.mediaPluginState,r=this.props.node.firstChild;if(!r)return;const i=await n.getRemoteDimensions();if(i&&n.updateDimensions(i),"external"===r.attrs.type&&r.attrs.__external){const e=n.handleExternalMedia(this.props.getPos);return o(e),void(await e)}n.getNodeContextId()||await n.updateContextId();if(await n.hasDifferentContextId()){this.setState({isCopying:!0});try{const e=n.copyNode();o(e),await e}catch(e){this.setState({isCopying:!1})}}})),Fe()(this,"selectMediaSingle",(({event:e})=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof Tt.a)return;Object(et.h)(this.props.view,n.selection.from<t?n.selection.from:t,n.selection.to>t?n.selection.to:t+3)}else Object(et.g)(this.props.view,t)})),Fe()(this,"updateSize",((e,t)=>{
const{state:n,dispatch:o}=this.props.view,r=this.props.getPos();if(void 0===r)return;const i=n.tr.setNodeMarkup(r,void 0,Ft(Ft({},this.props.node.attrs),{},{layout:t,width:e}));return i.setMeta("scrollIntoView",!1),o(i)})),Fe()(this,"clickPlaceholder",(()=>{const{view:e,getPos:t,node:n}=this.props;"boolean"!=typeof t&&_e(t(),n)(e.state,e.dispatch)})),Fe()(this,"getLineLength",((e,t)=>{if(Object(St.d)(e,t)){const n=e.state.doc.resolve(t),o=e.nodeDOM(n.pos);if(n.nodeAfter&&St.c.indexOf(n.nodeAfter.attrs.layout)>-1&&o&&o.parentElement)return o.parentElement.offsetWidth;if(o instanceof HTMLElement)return o.offsetWidth}return null}))}UNSAFE_componentWillReceiveProps(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateFileAttrs()}async componentDidMount(){const{contextIdentifierProvider:e}=this.props
;await Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]),this.setState({contextIdentifierProvider:await e})}render(){const{selected:e,getPos:t,node:n,mediaOptions:o,fullWidthMode:r,view:{state:s},view:a}=this.props,{layout:l,width:c}=n.attrs,d=n.firstChild.attrs;let{width:h,height:m}=d;if("external"===d.type){if(Object(R.d)(d)){const e=Object(st.b)(d.url);if(e){const{width:t,height:n}=e;h=h||t,m=m||n}}const{width:e,height:t}=this.state;null===h&&(h=e||it.b),null===m&&(m=t||it.a)}h&&m||(h=it.b,m=it.a);const f={layout:l,width:h,height:m,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:c,fullWidthMode:r};let b=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){const e=t();if(e){const t=s.doc.resolve(e),{table:n}=s.schema.nodes,o=!!Object(V.findParentNodeOfTypeClosestToPos)(t,[n]);b=b&&!o}}
const g=this.getLineLength(a,t())||this.props.lineLength,y=e(),v=Object(u.a)("captions",o.featureFlags)&&2!==n.childCount&&y&&s.selection instanceof p.NodeSelection,O=i.a.createElement(Pt,null,i.a.createElement("div",{ref:this.props.forwardRef}),v&&i.a.createElement(Lt,{onClick:this.clickPlaceholder}));return b?i.a.createElement(_t,We()({},f,{lineLength:g,view:this.props.view,getPos:t,updateSize:this.updateSize,displayGrid:Object(xt.a)(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:o&&o.allowBreakoutSnapPoints,selected:y,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),O):i.a.createElement(it.c,f,O)}}Ut.displayName="MediaSingleNode",Fe()(Ut,"defaultProps",{mediaOptions:{}}),Fe()(Ut,"displayName","MediaSingleNode");class Ht extends Ze.a{constructor(...e){super(...e),Fe()(this,"lastOffsetLeft",0),Fe()(this,"forceViewUpdate",!1),Fe()(this,"selectionType",null),Fe()(this,"checkAndUpdateSelectionType",(()=>{
const e=this.getPos,{selection:t}=this.view.state,n=Object(tt.d)(t.$anchor.pos,t.$head.pos,e(),this.node.nodeSize);return this.selectionType=n,n})),Fe()(this,"isNodeSelected",(()=>(this.checkAndUpdateSelectionType(),null!==this.selectionType)))}createDomRef(){const e=document.createElement("div");return mt.a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}getContentDOM(){const e=document.createElement("div");return e.classList.add("media-content-wrap"),{dom:e}}viewShouldUpdate(e){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==e.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==e.childCount||super.viewShouldUpdate(e)))}getNodeMediaId(e){if(e.firstChild)return e.firstChild.attrs.id}update(e,t,n){return n||(n=(e,t)=>this.getNodeMediaId(e)===this.getNodeMediaId(t)),super.update(e,t,n)}render(e,t){
const{eventDispatcher:n,fullWidthMode:o,providerFactory:r,mediaOptions:s,dispatchAnalyticsEvent:a}=this.reactComponentProps,l=this.getPos;return i.a.createElement(ze.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:r,renderNode:({mediaProvider:e,contextIdentifierProvider:r})=>i.a.createElement(Ne.a,{editorView:this.view,plugins:{width:ft.b,mediaPluginState:d.a},render:({width:c,mediaPluginState:d})=>i.a.createElement(Ut,{width:c.width,lineLength:c.lineLength,node:this.node,getPos:l,mediaProvider:e,contextIdentifierProvider:r,mediaOptions:s,view:this.view,fullWidthMode:o,selected:this.isNodeSelected,eventDispatcher:n,mediaPluginState:d,dispatchAnalyticsEvent:a,forwardRef:t})})})}ignoreMutation(){if(this.dom){const e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],(()=>!0)))}return!0}}Ht.displayName="MediaSingleNodeView";const $t=(e,t,n,o,r={})=>(i,s,a)=>new Ht(i,s,a,e,t,{eventDispatcher:t,
fullWidthMode:r.fullWidthEnabled,providerFactory:n,mediaOptions:r,dispatchAnalyticsEvent:o,isCopyPasteEnabled:r.isCopyPasteEnabled}).init();var Wt=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/remove.js"),Vt=o.n(Wt),Kt=o("./node_modules/@atlaskit/editor-core/dist/es2019/messages.js"),qt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/base/pm-plugins/decoration.js"),Gt=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/media-services/annotate.js"),Yt=o.n(Gt),Xt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Button.js"),Jt=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/floating-toolbar/ui/Separator.js");const Zt=Object(Dt.h)({annotate:{id:"fabric.editor.annotate",defaultMessage:"Annotate",description:"Annotate an image by drawing arrows, adding text, or scribbles."}}),Qt=(e,t)=>{const n=d.a.getState(e);if(!n)return!1
;const{mediaSingle:o}=e.schema.nodes,r=n.selectedMediaContainerNode();if(!r||r.type!==o)return!1;const{id:i,collection:s,occurrenceKey:a}=r.firstChild.attrs;return Object(L.d)({action:B.a.CLICKED,actionSubject:B.b.MEDIA,actionSubjectId:B.c.ANNOTATE_BUTTON,eventType:B.d.UI})(((e,t)=>v({type:"open",identifier:t,pos:e}))(e.selection.from+1,{id:i,collectionName:s,mediaItemType:"file",occurrenceKey:a}))(e,t)};class en extends i.a.Component{constructor(...e){super(...e),Fe()(this,"state",{isImage:!1}),Fe()(this,"onClickAnnotation",(()=>{const{view:e}=this.props;e&&Qt(e.state,e.dispatch)}))}async componentDidMount(){await this.checkIsImage()}async checkIsImage(){const e=Object(pe.a)(this.props.viewMediaClientConfig);if(this.props.id)try{const t=await e.file.getCurrentState(this.props.id,{collectionName:this.props.collection});t&&"error"!==t.status&&"image"===t.mediaType&&this.setState({isImage:!0})}catch(t){}}componentDidUpdate(e){e.id!==this.props.id&&this.setState({isImage:!1},(()=>{
this.checkIsImage()}))}render(){if(!this.state.isImage)return null;const{intl:e}=this.props,t=e.formatMessage(Zt.annotate);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Jt.a,null),i.a.createElement(Xt.a,{title:t,icon:i.a.createElement(Yt.a,{label:t}),onClick:this.onClickAnnotation}))}}en.displayName="AnnotationToolbar";const tn=(e,t)=>(n,o)=>{const r=e.selectedMediaContainerNode();return r&&e.mediaClientConfig?i.a.createElement(en,{key:o,viewMediaClientConfig:e.mediaClientConfig,id:r.firstChild.attrs.id,collection:r.firstChild.attrs.collection,view:n,intl:t}):null};o("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/glyph/editor/success.js");var nn=o("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/icon/glyph/error.js"),on=o.n(nn),rn=o("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),sn=o("./node_modules/@atlaskit/theme/dist/es2019/utils/math.js"),an=o("./node_modules/@atlaskit/theme/dist/es2019/typography.js")
;const ln=vt.default.div([""," font-weight:normal;color:",";margin-top:","px;display:flex;justify-content:baseline;"],an.h200,(e=>e.error?"#DE350B":e.valid?"#00875A":"#6B778C"),Object(sn.multiply)(rn.gridSize,.5)),cn=vt.default.span(["display:flex;margin-right:4px;"]),dn=({children:e})=>i.a.createElement(ln,{error:!0},i.a.createElement(cn,null,i.a.createElement(on.a,{size:"small",label:"error","aria-label":"error"})),e);var un=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-left-large.js"),pn=o.n(un),hn=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/unlink.js"),mn=o.n(hn),fn=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/PanelTextInput/index.js"),bn=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/ToolbarComponents.js"),gn=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/LinkSearchList.js");function yn(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{}
;var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const vn=(e,t)=>e.slice(0,t);class On extends i.a.Component{constructor(e){super(e),Fe()(this,"activityProvider",null),Fe()(this,"handleSubmit",(()=>{const{items:e,url:t,selectedIndex:n}=this.state,o=this.getCurrentInputMethod();if(o)switch(o){case B.e.MANUAL:this.props.onSubmit({url:t,text:t,inputMethod:B.e.MANUAL});break;case B.e.TYPEAHEAD:{const t=e[n];this.setState((()=>({url:t.url}))),this.props.onSubmit&&this.props.onSubmit({url:t.url,text:t.name,inputMethod:B.e.TYPEAHEAD});break}}})),Fe()(this,"handleSelected",((e,t)=>{this.props.onSubmit&&(this.setState((()=>({url:e}))),this.props.onSubmit({text:t,url:e,inputMethod:B.e.TYPEAHEAD}))})),Fe()(this,"handleChange",(async e=>{this.setState({url:e
}),this.activityProvider&&(0===e.length?this.setState({items:vn(await this.activityProvider.getRecentItems(),this.props.limit),selectedIndex:-1}):this.setState({items:vn(await this.activityProvider.searchRecent(e),this.props.limit),selectedIndex:0}))})),Fe()(this,"handleKeyDown",(e=>{const{items:t,selectedIndex:n}=this.state;t&&t.length&&("ArrowDown"===e.key?(e.preventDefault(),this.setState({selectedIndex:(n+1)%t.length})):"ArrowUp"===e.key&&(e.preventDefault(),this.setState({selectedIndex:n>0?n-1:t.length-1})))})),Fe()(this,"handleMouseMove",(e=>{const{items:t}=this.state;if(t){const n=t.findIndex((t=>t.objectId===e));this.setState({selectedIndex:n})}})),Fe()(this,"renderRecentList",(()=>{const{items:e,isLoading:t,selectedIndex:n}=this.state;return i.a.createElement(gn.a,{items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove})})),Fe()(this,"clearValue",(()=>{this.setState({url:""})})),this.state={selectedIndex:-1,isLoading:!1,items:[],
url:e.defaultUrl||""}}UNSAFE_componentWillReceiveProps(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((t=>t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null))}async componentDidMount(){this.props.activityProvider&&(this.activityProvider=await this.props.activityProvider,await this.loadRecentItems(this.activityProvider))}async loadRecentItems(e){try{this.state.url||this.setState({isLoading:!0,items:vn(await e.getRecentItems(),this.props.limit)})}finally{this.setState({isLoading:!1})}}getCurrentInputMethod(){const{items:e,url:t,selectedIndex:n}=this.state;return e&&e.length>0&&n>-1?B.e.TYPEAHEAD:t&&t.length>0?B.e.MANUAL:void 0}render(){const{render:e}=this.props,{url:t}=this.state;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}
On.displayName="RecentLink",Fe()(On,"defaultProps",{limit:5});var jn=function(e){return class extends i.a.Component{constructor(...t){super(...t),Fe()(this,"renderNode",(t=>{const n=this.props,{providerFactory:o}=n,r=yn(n,["providerFactory"]),{activityProvider:s}=t;return i.a.createElement(e,We()({activityProvider:s},r))}))}render(){const{providerFactory:e}=this.props;return i.a.createElement(ze.a,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})}}}(Object(Dt.i)(On));const wn=Object(Dt.h)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}}),kn=vt.default.section(["display:flex;line-height:0;padding:12px 24px 12px 0;margin:0 4px 0 32px;border-top:1px solid ",";align-items:start;display:flex;flex-direction:column;"],"#DE350B"),En=vt.default.span(["padding:4px 8px 4px 0px;"]);class Sn extends i.a.PureComponent{constructor(...e){super(...e),Fe()(this,"state",{validationErrors:[]}),
Fe()(this,"handleSubmit",(({url:e,inputMethod:t})=>{this.props.onSubmit(e,{inputMethod:t})})),Fe()(this,"handleOnBack",(({url:e,inputMethod:t})=>{const{onBack:n}=this.props;n&&n(e,{inputMethod:t})})),Fe()(this,"handleCancel",(()=>{const{onCancel:e}=this.props;e&&e()})),Fe()(this,"handleUnlink",(()=>{const{onUnlink:e}=this.props;e&&e()})),Fe()(this,"handleOnBlur",(e=>{this.props.onBlur(e.url)})),Fe()(this,"renderContainer",(({activityProvider:e,inputProps:{onChange:t,onKeyDown:n,onSubmit:o,value:r},currentInputMethod:s,renderRecentList:a})=>{const{intl:{formatMessage:l},displayUrl:c}=this.props,d=l(wn.backLink),u=l(Kt.b.unlink),p=this.state.validationErrors.map((function(e,t){return i.a.createElement(dn,{key:t},e)}));return i.a.createElement("div",{className:"recent-list"},i.a.createElement(bn.a,{provider:!!e},i.a.createElement(bn.c,null,i.a.createElement(En,null,i.a.createElement(Xt.a,{title:d,icon:i.a.createElement(pn.a,{label:d}),onClick:()=>this.handleOnBack({url:r,inputMethod:s})
})),i.a.createElement(fn.a,{testId:"media-link-input",placeholder:(e=>l(e?Kt.b.placeholder:Kt.b.linkPlaceholder))(!!e),autoFocus:!0,onCancel:this.handleCancel,defaultValue:r,onSubmit:e=>{const t=this.getValidationErrors(e,s);this.setState({validationErrors:t}),t.length||o()},onChange:e=>{this.setState({validationErrors:[]}),t(e)},onKeyDown:n}),Object(ce.g)(c)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Jt.a,null),i.a.createElement(Xt.a,{title:u,icon:i.a.createElement(mn.a,{label:u}),onClick:this.handleUnlink}))),!!p.length&&i.a.createElement(kn,null,p),a()))}))}getValidationErrors(e,t){const{intl:{formatMessage:n}}=this.props;return t===B.e.TYPEAHEAD?[]:e?Object(ce.g)(e)?[]:[n(Kt.b.invalidLink)]:[n(Kt.b.emptyLink)]}render(){const{providerFactory:e,displayUrl:t}=this.props;return i.a.createElement(jn,{defaultUrl:Object(ce.g)(t),providerFactory:e,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})}}Sn.displayName="LinkAddToolbar";var _n=Sn
;function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e){const t=le(e);if(!t||null===t.mediaPos)return!1;const{nodes:{media:n},marks:{link:o}}=e.schema,r=e.doc.nodeAt(t.mediaPos);if(!r||r.type!==n)return!1;const{parent:i}=e.doc.resolve(t.mediaPos);return i&&i.type.allowsMarkType(o)}
var An=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/MediaAndEmbedsToolbar/index.js");const In=Object(Dt.h)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{
id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}});var Mn=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/cross-circle.js"),Dn=o.n(Mn),Nn=o("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),Rn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js")
;const Ln=vt.default.p(["color:",";font-size:12px;padding:12px 40px;line-height:20px;border-top:1px solid ",";margin:0;"],"#7A869A","#EBECF0"),Bn=vt.default.div(["width:","px;display:flex;flex-direction:column;overflow:auto;line-height:2;"],420),Fn=vt.default.section(["display:flex;line-height:0;padding:5px 0;align-items:center;"]),zn=vt.default.section(["display:flex;line-height:0;padding:12px 24px 12px 0;margin:0 12px 0 40px;border-top:1px solid ",";align-items:start;display:flex;flex-direction:column;"],"#DE350B"),Un=vt.default.div(["display:flex;padding:4px 8px;"]),Hn=vt.default.span(["color:",";"],"#97A0AF");class $n extends i.a.Component{constructor(e){super(e),Fe()(this,"state",{showClearTextButton:Boolean(this.props.value),validationErrors:this.props.value?this.getValidationErrors(this.props.value):[],lastValue:this.props.value}),Fe()(this,"closeMediaAltTextMenu",(()=>{const{view:e}=this.props;H(e.state,e.dispatch)})),Fe()(this,"dispatchCancelEvent",(e=>{
const{view:t}=this.props;t.someProp("handleKeyDown",(n=>n(t,e)))})),Fe()(this,"updateAltText",(e=>{const{view:t}=this.props;(e=>A((e=>!!Object(R.e)(e)&&{type:"updateAltText"}),((t,n)=>{const o=Object(R.b)(n),r=t.selection.from+1;return o&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(r,void 0,z(z({},o.attrs),{},{alt:e}))),t})))(0===e.length?null:e)(t.state,t.dispatch)})),Fe()(this,"handleOnChange",(e=>{const t=this.getValidationErrors(e);this.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(()=>{t&&t.length||this.updateAltText(e)}))})),Fe()(this,"handleOnBlur",(()=>{const{value:e}=this.props,t=(this.state.lastValue||e||"").trim();this.handleOnChange(t)})),Fe()(this,"handleClearText",(()=>{this.handleOnChange("")}));const{createAnalyticsEvent:t}=e;this.fireCustomAnalytics=Object(Rn.a)(t)}componentDidMount(){this.prevValue=this.props.value}componentWillUnmount(){this.fireAnalytics(B.a.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(B.a.ADDED),
this.prevValue&&!this.props.value&&this.fireAnalytics(B.a.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(B.a.EDITED)}getValidationErrors(e){const{altTextValidator:t}=this.props;return e&&"function"==typeof t&&t(e)||[]}render(){const{intl:{formatMessage:e}}=this.props,{showClearTextButton:t}=this.state,n=e(In.back),o=i.a.createElement(N.ToolTipContent,{description:n,keymap:N.escape,shortcutOverride:"Esc"}),r=(this.state.validationErrors||[]).map((function(e,t){return i.a.createElement(dn,{key:t},e)}));return i.a.createElement(Bn,null,i.a.createElement(Fn,null,i.a.createElement(Un,null,i.a.createElement(Xt.a,{title:e(In.back),icon:i.a.createElement(pn.a,{label:e(In.back)}),tooltipContent:o,onClick:this.closeMediaAltTextMenu})),i.a.createElement(fn.a,{testId:"alt-text-input",placeholder:e(In.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,
onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),t&&i.a.createElement(Un,null,i.a.createElement(Xt.a,{testId:"alt-text-clear-button",title:e(In.clear),icon:i.a.createElement(Hn,null,i.a.createElement(Dn.a,{label:e(In.clear)})),tooltipContent:e(In.clear),onClick:this.handleClearText}))),!!r.length&&i.a.createElement(zn,null,r),i.a.createElement(Ln,null,e(In.supportText)))}fireAnalytics(e){const{createAnalyticsEvent:t}=this.props;t&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:B.b.MEDIA,actionSubjectId:B.c.ALT_TEXT,eventType:B.d.TRACK}})}}$n.displayName="AltTextEditComponent";var Wn=Object(Nn.a)()(Object(Dt.i)($n)),Vn=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/alt-text/style.js");function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}
function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yn=e=>({type:"custom",render:(t,n)=>{if(!t)return null;const o=Object(R.b)(t.state);return o?i.a.createElement(Wn,{view:t,key:n,value:o.attrs.alt,altTextValidator:e&&e.altTextValidator}):null}})
;var Xn=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/link.js"),Jn=o.n(Xn),Zn=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/shortcut.js"),Qn=o.n(Zn),eo=o("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/url.js"),to=o("./node_modules/@atlaskit/editor-common/dist/es2019/messages/link.js");const no=vt.default.div(["display:flex;align-items:center;margin-right:4px;"]),oo=({editorState:e,mediaLinkingState:t,intl:n,showSeparatorLeft:o,onAddLink:s,onEditLink:a,onOpenLink:l})=>{const[c,u]=Object(r.useState)(!1);if(Object(r.useEffect)((()=>{var t;u(!1);const n=ue(e);if(!n)return;const o=null===(t=d.a.getState(e))||void 0===t?void 0:t.mediaClientConfig;o&&he(n,o).then((e=>{"external"!==e&&"image"!==e||u(!0)}))}),[e]),!c)return null;if(t&&t.editable){const e=Object(eo.b)(t.link),r=n.formatMessage(Kt.b.editLink),s=n.formatMessage(e?to.a.openLink:Kt.b.unableToOpenLink)
;return i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(no,null,i.a.createElement(Jt.a,null)),i.a.createElement(no,null,i.a.createElement(Xt.a,{onClick:a,title:r,tooltipContent:i.a.createElement(N.ToolTipContent,{description:r,keymap:N.addLink})},r)),i.a.createElement(no,null,i.a.createElement(Jt.a,null)),i.a.createElement(Xt.a,{target:"_blank",href:e?t.link:void 0,disabled:!e,onClick:l,title:s,icon:i.a.createElement(Qn.a,{label:s}),className:"hyperlink-open-link"}))}{const e=n.formatMessage(Kt.b.addLink);return i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(no,null,i.a.createElement(Jt.a,null)),i.a.createElement(Xt.a,{testId:"add-link-button",onClick:s,title:e,tooltipContent:i.a.createElement(N.ToolTipContent,{description:e,keymap:N.addLink}),icon:i.a.createElement(Jn.a,{label:e})}))}};function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ao=(e,t)=>(t&&t(Object(V.removeSelectedNode)(e.tr)),!0),lo=(e,t,n={})=>{const{providerFactory:o,allowResizing:r,allowAnnotation:s,allowLinking:a,allowAdvancedToolBarOptions:l,allowResizingInTables:c,allowAltTextOnImages:u,altTextValidator:p}=n,{mediaSingle:h}=e.schema.nodes,m=d.a.getState(e),f=le(e);if(!h||!m)return;const b={title:"Media floating controls",nodeType:h,getDomRef:()=>m.element};if(a&&f&&f.visible&&Pn(e)){
const n=((e,t,n,o,r)=>{const{link:s,visible:a,editable:l,mediaPos:c}=t;if(a&&null!==c&&n.doc.nodeAt(c))return xn(xn({},e),{},{height:360,width:420,forcePlacement:!0,items:[{type:"custom",render:(e,t)=>e&&r?i.a.createElement(_n,{key:t,displayUrl:s,providerFactory:r,intl:o,editing:l,onUnlink:()=>ke(e.state,e.dispatch,e),onBack:(t,n)=>{t.trim()&&n.inputMethod&&Se(t,n.inputMethod)(e.state,e.dispatch,e),Oe(e.state,e.dispatch,e)},onCancel:()=>Oe(e.state,e.dispatch,e),onSubmit:(t,n)=>{Se(t,n.inputMethod)(e.state,e.dispatch,e),Oe(e.state,e.dispatch,e)},onBlur:()=>{Oe(e.state,e.dispatch,e)}}):null}]})})(b,f,e,t,o);if(n)return n}let g=[];if(l){if(g=Object(An.a)(e,t,e.schema.nodes.mediaSingle,r,c),g.length&&s&&g.push({type:"custom",render:tn(m,t)}),a&&Pn(e)){const e=g.length>0;g.push({type:"custom",render:(n,o)=>{if(null==n?void 0:n.state){const r=()=>{if(n){const{state:e,dispatch:t}=n;ge(e,t)}},s=()=>{if(n){const{state:e,dispatch:t}=n;return t(Object(L.a)(e,e.tr,{eventType:B.d.TRACK,
action:B.a.VISITED,actionSubject:B.b.MEDIA,actionSubjectId:B.c.LINK})),!0}};return i.a.createElement(oo,{key:o,editorState:n.state,intl:t,mediaLinkingState:f,onAddLink:r,onEditLink:r,onOpenLink:s,showSeparatorLeft:e})}return null}})}g.length&&g.push({type:"separator"})}if(u){if(I(e).isAltTextEditorOpen)return((e,t)=>qn(qn({},e),{},{width:420,className:Vn.a.FLOATING_TOOLBAR_COMPONENT,items:[Yn(t)]}))(b,{altTextValidator:p});g.push(((e,t)=>{const n=Object(R.b)(t),o=n&&n.attrs.alt?In.editAltText:In.altText,r=e.formatMessage(o);return{title:r,type:"button",onClick:$,showTitle:!0,testId:"alt-text-edit-button",tooltipContent:i.a.createElement(N.ToolTipContent,{description:r,keymap:N.addAltText})}})(t,e),{type:"separator"})}const y=[...g,{type:"button",appearance:"danger",icon:Vt.a,onMouseEnter:Object(qt.b)(h,!0),onMouseLeave:Object(qt.b)(h,!1),title:t.formatMessage(Kt.a.remove),onClick:ao,testId:"media-toolbar-remove-button"}];return io(io({},b),{},{items:y})}
;var co=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/index.js"),uo=o("./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-ui/dist/es2019/modalSpinner.js");class po extends i.a.PureComponent{constructor(){super(...arguments),this.state={SmartMediaEditor:po.SmartMediaEditor,isErrored:!1}}async UNSAFE_componentWillMount(){if(!this.state.SmartMediaEditor)try{const[e,t]=await Promise.all([o.e("@atlaskit-media-client").then(o.bind(null,"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-client/dist/es2019/index.js")),o.e("@atlaskit-internal_smart-media-editor").then(o.bind(null,"./node_modules/@atlaskit/media-editor/dist/es2019/react/smartMediaEditor.js"))]);po.SmartMediaEditor=e.withMediaClient(t.default),this.setState({SmartMediaEditor:po.SmartMediaEditor})}catch(e){console.error(e),this.setState({isErrored:!0})}}render(){const{isErrored:e}=this.state
;return e?null:this.state.SmartMediaEditor?i.a.createElement(this.state.SmartMediaEditor,Object.assign({},this.props)):i.a.createElement(uo.a,{blankedColor:"rgba(9, 30, 66, 0.89)",invertSpinnerColor:!0})}}po.displayName="AsyncSmartMediaEditor",po.displayName="AsyncSmartMediaEditor";class ho extends i.a.PureComponent{constructor(...e){super(...e),Fe()(this,"onUploadStart",((e,t)=>{const{state:n,dispatch:o}=this.props.view;((e,t)=>v({type:"upload",newIdentifier:e},((n,o)=>{const r=O(o).editor;if(!r)return n;const i=n.mapping.map(r.pos),s=n.doc.nodeAt(i),{media:a}=o.schema.nodes;if(!s||s.type!==a)return n;const l=w(w({},s.attrs),{},{id:e.id,collection:e.collectionName||s.attrs.collection,occurrenceKey:e.occurrenceKey,width:t.width,height:t.height});return n.setNodeMarkup(i,void 0,l)})))(e,t)(n,o)})),Fe()(this,"onClose",(()=>{const{state:e,dispatch:t}=this.props.view;(()=>v({type:"close"}))()(e,t)}))}render(){const{mediaEditorState:{editor:e,mediaClientConfig:t}}=this.props
;if(!e||!t)return null;const{identifier:n}=e;return i.a.createElement(po,{identifier:n,mediaClientConfig:t,onUploadStart:this.onUploadStart,onClose:this.onClose})}}ho.displayName="MediaEditor",Fe()(ho,"displayName","MediaEditor");var mo=o("./node_modules/@atlaskit/media-picker/dist/es2019/index.js"),fo=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/error-reporter.js"),bo=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/picker-facade.js");const go={on:()=>{},removeAllListeners:()=>{},emit:()=>{},destroy:()=>{},setUploadParams:()=>{}};class yo extends i.a.Component{constructor(...e){super(...e),Fe()(this,"state",{}),Fe()(this,"handleMediaProvider",(async(e,t)=>{const{mediaState:n,analyticsName:o}=this.props,r=await t;if(!r||!r.uploadParams)return;const i=await r.uploadMediaClientConfig||await r.viewMediaClientConfig;if(!i)return;const s={mediaClientConfig:i,errorReporter:n.options.errorReporter||new fo.a,
featureFlags:n.mediaOptions&&n.mediaOptions.featureFlags},a=await new bo.a("customMediaPicker",s,go,mo.d,o).init();a.onNewMedia(n.insertFile),a.setUploadParams(r.uploadParams);const l={uploadParams:r.uploadParams};this.setState({pickerFacadeInstance:a,config:l,mediaClientConfig:i})}))}componentDidMount(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}componentWillUnmount(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}render(){const{mediaClientConfig:e,config:t,pickerFacadeInstance:n}=this.state;return e&&t&&n?this.props.children({mediaClientConfig:e,config:t,pickerFacadeInstance:n}):null}}yo.displayName="PickerFacadeProvider";const vo=({mediaState:e,featureFlags:t})=>i.a.createElement(yo,{mediaState:e,analyticsName:"clipboard"},(({mediaClientConfig:e,config:n,pickerFacadeInstance:o})=>i.a.createElement(mo.b,{mediaClientConfig:e,config:n,onError:o.handleUploadError,
onPreviewUpdate:o.handleUploadPreviewUpdate,onEnd:o.handleReady,featureFlags:t})));var Oo=o("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/utils.js");function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Eo=({mediaState:e,isActive:t,featureFlags:n,editorDomElement:o,appearance:r})=>i.a.createElement(yo,{mediaState:e,
analyticsName:"dropzone"},(({mediaClientConfig:s,config:a,pickerFacadeInstance:l})=>{const{options:{customDropzoneContainer:c},handleDrag:d}=e,u=o,p="full-page"===r&&Object(Oo.c)(u),h=c||p||u,m=wo(wo({},a),{},{container:h});return t?i.a.createElement(mo.c,{mediaClientConfig:s,config:m,onError:l.handleUploadError,onPreviewUpdate:l.handleUploadPreviewUpdate,onEnd:l.handleReady,onDragEnter:()=>d("enter"),onDragLeave:()=>d("leave"),featureFlags:n}):null}));function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){Co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xo=({mediaState:e,isOpen:t,onBrowseFn:n,featureFlags:o})=>i.a.createElement(yo,{mediaState:e,analyticsName:"browser"},(({mediaClientConfig:e,config:r,pickerFacadeInstance:s})=>{const a=_o(_o({},r),{},{multiple:!0});return i.a.createElement(mo.a,{onBrowseFn:n,isOpen:t,config:a,mediaClientConfig:e,onEnd:s.handleReady,onError:s.handleUploadError,onPreviewUpdate:s.handleUploadPreviewUpdate,featureFlags:o})}));class To extends i.a.Component{constructor(...e){super(...e),Fe()(this,"state",{isPopupOpened:!1}),Fe()(this,"onBrowseFn",(e=>{const{mediaState:t}=this.props;t&&t.setBrowseFn(e)}))}componentDidMount(){const{mediaState:e}=this.props;e.onPopupToggle((e=>{this.setState({isPopupOpened:e})}))}render(){
const{mediaState:e,editorDomElement:t,appearance:n}=this.props,{isPopupOpened:o}=this.state,r=e.mediaOptions&&e.mediaOptions.featureFlags;return i.a.createElement(i.a.Fragment,null,i.a.createElement(vo,{mediaState:e,featureFlags:r}),i.a.createElement(Eo,{mediaState:e,isActive:!o,featureFlags:r,editorDomElement:t,appearance:n}),!e.shouldUseMediaPickerPopup()&&i.a.createElement(xo,{onBrowseFn:this.onBrowseFn,mediaState:e,featureFlags:r}))}}To.displayName="MediaPickerComponents",Fe()(To,"displayName","MediaPickerComponents");var Po=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/insert-block/ui/ToolbarInsertBlock/messages.js"),Ao=o("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/SelectionBasedNodeView.js"),Io=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/imageLoader.js");class Mo extends r.Component{constructor(e){super(e),Fe()(this,"state",{}),Fe()(this,"setViewMediaClientConfig",(async()=>{const e=await this.props.mediaProvider;if(e){
const t=e.viewMediaClientConfig;this.setState({viewMediaClientConfig:t})}})),Fe()(this,"selectMediaSingleFromCard",(({event:e})=>{this.selectMediaSingle(e)})),Fe()(this,"selectMediaSingle",(e=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof Tt.a)return;Object(et.h)(this.props.view,n.selection.from<t?n.selection.from:t-1,n.selection.to>t?n.selection.to:t+2)}else Object(et.g)(this.props.view,t-1)})),Fe()(this,"handleNewNode",(e=>{const{node:t}=e;this.mediaPluginState.handleMediaNodeMount(t,(()=>this.props.getPos()))}));const{view:t}=this.props;this.mediaPluginState=d.a.getState(t.state)}shouldComponentUpdate(e,t){const n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig
;return!(this.props.selected===e.selected&&this.props.uploadComplete===e.uploadComplete&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}async componentDidMount(){this.handleNewNode(this.props);const{contextIdentifierProvider:e}=this.props;this.setState({contextIdentifierProvider:await e}),await this.setViewMediaClientConfig()}componentWillUnmount(){const{node:e}=this.props;this.mediaPluginState.handleMediaNodeUnmount(e)}componentDidUpdate(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}render(){
const{node:e,selected:t,uploadComplete:n,originalDimensions:o,isLoading:r,maxDimensions:s,mediaOptions:a}=this.props,{viewMediaClientConfig:l,contextIdentifierProvider:c}=this.state,{id:d,type:u,collection:p,url:h,alt:m}=e.attrs;if(r||"external"!==u&&(!l||"boolean"==typeof n&&!n))return i.a.createElement(Mt,{dimensions:o},i.a.createElement(Ve.a,null));const f=c&&c.objectId,b="external"===u?{dataURI:h,name:h,mediaItemType:"external-image"}:{id:d,mediaItemType:"file",collectionName:p},g=l||{authProvider:()=>({})};return i.a.createElement(Mt,{dimensions:o,onContextMenu:this.selectMediaSingle},i.a.createElement(qe.a,{mediaClientConfig:g,resizeMode:"stretchy-fit",dimensions:s,originalDimensions:o,identifier:b,selectable:!0,selected:t,disableOverlay:!0,onClick:this.selectMediaSingleFromCard,useInlinePlayer:a&&a.allowLazyLoading,isLazy:a&&a.allowLazyLoading,featureFlags:a&&a.featureFlags,contextId:f,alt:m}))}}Mo.displayName="MediaNode";var Do=Object(Io.a)(Mo);class No extends Ao.a{
constructor(...e){super(...e),Fe()(this,"renderMediaNodeWithState",((e,t)=>({width:n})=>{const o=this.getPos,{mediaOptions:r}=this.reactComponentProps,{selection:s}=this.view.state,a=this.getAttrs(),l="external"===a.type?a.url:"";let{width:c,height:d}=a;if(this.isMediaBlobUrl()){const e=Object(st.b)(l);if(e){const{width:t,height:n}=e;c=c||t,d=d||n}}c=c||it.b,d=d||it.a;const u={width:`${n.width}px`,height:d/c*n.width+"px"},h={width:c,height:d};return i.a.createElement(Do,{view:this.view,node:this.node,getPos:o,selected:(()=>this.isNodeInsideSelection(s.from,s.to)||s instanceof p.NodeSelection&&s.from===o())(),originalDimensions:h,maxDimensions:u,url:l,mediaProvider:e,contextIdentifierProvider:t,uploadComplete:this.uploadComplete(),mediaOptions:r})})),Fe()(this,"renderMediaNodeWithProviders",(({mediaProvider:e,contextIdentifierProvider:t})=>i.a.createElement(Ne.a,{editorView:this.view,plugins:{width:ft.b},render:this.renderMediaNodeWithState(e,t)})))}createDomRef(){
const e=document.createElement("div");return mt.a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}stopEvent(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)){if(2===e.button)return!0}return!1}getAttrs(){const{attrs:e}=this.node;return e}isMediaBlobUrl(){const e=this.getAttrs();return Object(R.d)(e)}uploadComplete(){return Object(at.c)(d.a.getState(this.view.state),this.node.attrs.id)}render(){const{providerFactory:e}=this.reactComponentProps;return i.a.createElement(ze.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:e,renderNode:this.renderMediaNodeWithProviders})}}No.displayName="MediaNodeView";const Ro=(e,t,n,o={})=>(r,i,s)=>new No(r,i,s,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:o}).init();n.a=e=>({name:"media",nodes(){
const{allowMediaGroup:t=!0,allowMediaSingle:n=!1,featureFlags:o}=e||{},r=Object(u.a)("captions",o)?s.b:s.a;return[{name:"mediaGroup",node:a.a},{name:"mediaSingle",node:r},{name:"media",node:l.b}].filter((e=>"mediaGroup"===e.name?t:"mediaSingle"!==e.name||n))},pmPlugins(){const t=[{name:"media",plugin:({schema:t,dispatch:n,eventDispatcher:o,providerFactory:r,errorReporter:i,portalProviderAPI:s,reactContext:a,dispatchAnalyticsEvent:l})=>Object(c.a)(t,{providerFactory:r,nodeViews:{mediaGroup:ht(s,o,r,e),mediaSingle:$t(s,o,r,l,e),media:Ro(s,o,r,e)},errorReporter:i,uploadErrorHandler:e&&e.uploadErrorHandler,waitForMediaUpload:e&&e.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,allowResizing:!(!e||!e.allowResizing)},a,n,e)},{name:"mediaKeymap",plugin:()=>Ae(e)}];return e&&e.allowMediaSingle&&t.push({name:"mediaSingleKeymap",plugin:({schema:e})=>function(e){const t={},n=X(e)
;return N.bindKeymapWithCommand(N.backspace.common,n,t),Object(D.b)(t)}(e)}),e&&e.allowAnnotation&&t.push({name:"mediaEditor",plugin:S}),e&&e.allowAltTextOnImages&&(t.push({name:"mediaAltText",plugin:M}),t.push({name:"mediaAltTextKeymap",plugin:({schema:e})=>function(e){const t={};return N.bindKeymapWithCommand(N.addAltText.common,$,t),N.bindKeymapWithCommand(N.escape.common,H,t),Object(D.b)(t)}()})),e&&e.allowLinking&&(t.push({name:"mediaLinking",plugin:({dispatch:e})=>(e=>new p.Plugin({key:re,state:se.createPluginState(e,ie)}))(e)}),t.push({name:"mediaLinkingKeymap",plugin:({schema:e})=>function(e){const t={};return N.bindKeymapWithCommand(N.addLink.common,ye,t),Object(D.b)(t)}()})),t},contentComponent({editorView:t,eventDispatcher:n,appearance:o}){const r=e&&e.allowAnnotation?i.a.createElement(Ne.a,{editorView:t,plugins:{mediaEditorState:g},eventDispatcher:n,render:({mediaEditorState:e})=>i.a.createElement(ho,{mediaEditorState:e,view:t})}):null
;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne.a,{editorView:t,plugins:{mediaState:d.a},render:({mediaState:e})=>i.a.createElement(To,{editorDomElement:t.dom,mediaState:e,appearance:o})}),r)},secondaryToolbarComponent:({editorView:e,eventDispatcher:t,disabled:n})=>i.a.createElement(Le,{editorView:e,eventDispatcher:t,pluginKey:d.a,isDisabled:n,isReducedSpacing:!0}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"media",title:e(Po.a.filesAndImages),description:e(Po.a.filesAndImagesDescription),priority:400,keywords:["attachment","gif","media","picture"],icon:()=>i.a.createElement(co.j,{label:e(Po.a.filesAndImages)}),action(e,t){d.a.getState(t).showMediaPicker();const n=e("");return Object(L.a)(t,n,{action:B.a.OPENED,actionSubject:B.b.PICKER,actionSubjectId:B.c.PICKER_CLOUD,attributes:{inputMethod:B.e.QUICK_INSERT},eventType:B.d.UI})}}],floatingToolbar:(t,n,o)=>lo(t,n,{providerFactory:o,allowResizing:e&&e.allowResizing,
allowResizingInTables:e&&e.allowResizingInTables,allowAnnotation:e&&e.allowAnnotation,allowLinking:e&&e.allowLinking,allowAdvancedToolBarOptions:e&&e.allowAdvancedToolBarOptions,allowAltTextOnImages:e&&e.allowAltTextOnImages,altTextValidator:e&&e.altTextValidator})}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/picker-facade.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/@atlaskit/media-picker/dist/es2019/index.js");class s{constructor(e,t,n,o=i.d,s){r()(this,"onDragListeners",[]),r()(this,"onStartListeners",[]),r()(this,"eventListeners",{}),r()(this,"handleUploadPreviewUpdate",(e=>{const{file:t,preview:n}=e,o=this.erroredFiles.has(t.id),{dimensions:r,scaleFactor:s}=Object(i.e)(n)?n:{dimensions:void 0,scaleFactor:void 0},a={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:r,scaleFactor:s,status:o?"error":void 0}
;this.eventListeners[t.id]=[],this.onStartListeners.forEach((e=>e(a,(e=>this.subscribeStateChanged(t,e)),this.analyticsName||this.pickerType)))})),r()(this,"subscribeStateChanged",((e,t)=>{const n=this.eventListeners[e.id];n&&n.push(t)})),r()(this,"handleUploadError",(({error:e,fileId:t})=>{const n=this.eventListeners[t];this.erroredFiles.add(t),n&&(n.forEach((n=>n({id:t,status:"error",error:e&&{description:e.description,name:e.name}}))),delete this.eventListeners[t])})),r()(this,"handleMobileUploadEnd",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&n.forEach((e=>e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})))})),r()(this,"handleReady",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&(n.forEach((e=>e({id:t.id,status:"ready"}))),delete this.eventListeners[t.id])})),this.config=t,this.pickerConfig=n,this.mediaPickerFactoryClass=o,this.pickerType=e,this.errorReporter=t.errorReporter,this.analyticsName=s,
this.erroredFiles=new Set}async init(){let e;return"customMediaPicker"===this.pickerType?e=this.picker=this.pickerConfig:"popup"===this.pickerType&&(e=this.picker=await this.mediaPickerFactoryClass(this.config.mediaClientConfig,this.pickerConfig)),e?(e.on("upload-preview-update",this.handleUploadPreviewUpdate),e.on("upload-end",this.handleReady),e.on("upload-error",this.handleUploadError),e.on("mobile-upload-end",this.handleMobileUploadEnd),this):this}get type(){return this.pickerType}get mediaPicker(){return this.picker}destroy(){const{picker:e}=this;if(e){e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[];try{"popup"===this.pickerType&&e.teardown()}catch(t){this.errorReporter.captureException(t)}}}setUploadParams(e){this.picker&&this.picker.setUploadParams(e)}onClose(e){const{picker:t}=this;if("popup"===this.pickerType){const n=t;return n.on("closed",e),
()=>n.off("closed",e)}return()=>{}}show(){if("popup"===this.pickerType)try{this.picker.show()}catch(e){this.errorReporter.captureException(e)}}hide(){"popup"===this.pickerType&&this.picker.hide()}onNewMedia(e){this.onStartListeners.push(e)}onDrag(e){this.onDragListeners.push(e)}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/alt-text/style.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={FLOATING_TOOLBAR_COMPONENT:"pm-alt-text-alt-text-floating-toolbar"}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return Z}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/react-dom/index.js"),l=n.n(a),c=n("./node_modules/prosemirror-state/dist/index.es.js"),d=n("./node_modules/prosemirror-transform/dist/index.es.js"),u=n("./node_modules/prosemirror-view/dist/index.es.js"),p=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/error-reporter.js"),h=n("./node_modules/assert/assert.js"),m=n.n(h),f=n("./node_modules/prosemirror-utils/dist/index.js"),b=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-single.js"),g=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),y=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),v=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/document-filled.js"),O=n.n(v),j=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/colors.js")
;const w=g.default.div(["color:",";background:",";border-radius:","px;margin:5px 3px 25px;width:","px;min-height:","px;display:flex;align-items:center;justify-content:center;"],Object(j.U)("#0052CC",.4)||"#0052CC",Object(j.U)("#0065FF",.6)||"#0065FF",Object(y.borderRadius)(),156,125),k=g.default.div(["background:",";border-radius:","px;margin:2px 0;width:100%;height:2px;"],"#2684FF",Object(y.borderRadius)());var E=({type:e="group"})=>"single"===e?s.a.createElement(k,null):s.a.createElement(w,null,s.a.createElement(O.a,{label:"Document",size:"medium"
})),S=n("./node_modules/prosemirror-model/dist/index.es.js"),_=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),C=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),x=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/selection.js"),T=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-common.js"),P=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js"),A=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js"),I=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),M=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js");const D=(e,t)=>{let n="";return 1===e.length?n=e[0].fileMimeType||"unknown":e.length>1&&(n="multiple"),{action:I.a.INSERTED,actionSubject:I.b.DOCUMENT,actionSubjectId:I.c.MEDIA,attributes:{type:I.c.MEDIA_GROUP,inputMethod:t,fileExtension:n},eventType:I.d.TRACK}};const N=(e,t,n,o)=>{
const{state:r,dispatch:i}=e,{tr:s,schema:a}=r,{media:l,paragraph:c}=a.nodes;if(!l||!t.length)return;const d=R(t,n,l),u=B(r),p=s.doc.resolve(u).parent,h=s.doc.nodeAt(u),m=!function(e){const{schema:t}=e,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(r)&&Object(A.f)(r,S.Fragment.from(r.schema.nodes.mediaGroup.createChecked({},d))),b=function(e,t){const{schema:{nodes:{media:n}}}=e,o=t&&t.type===n;return(Object(_.j)(e)||Object(_.n)(e)||Object(_.m)(e)||Object(P.d)(e)&&(!Object(T.i)(e)||Object(T.f)(e)))&&!o}(r,h);let g=p.type===a.nodes.mediaGroup?d:[a.nodes.mediaGroup.createChecked({},d)];if(m){g=b?g.concat(c.create()):g;const n=F(r);return n?u<=n.start?s.deleteRange(n.start,n.end).insert(u,g):s.insert(u,g).deleteRange(n.start,n.end):s.insert(u,g),Object(M.a)(r,s,D(t,o)),i(s),void U(e)}b&&p.type!==a.nodes.mediaGroup&&g.push(c.create()),Object(M.a)(r,s,D(t,o)),i(Object(f.safeInsert)(S.Fragment.fromArray(g),u)(s))},R=(e,t,n)=>e.map((e=>{const{id:o}=e,r=n.create({id:o,
type:"file",collection:t});return Object(T.a)(e,r),r})),L=e=>{const{schema:{nodes:{mediaGroup:t,listItem:n}}}=e;if(Object(f.hasParentNode)((e=>e.type===n))(e.selection)){const n=(e=>{const{schema:{nodes:{bulletList:t,orderedList:n}}}=e;return Object(C.b)((e=>e.type===t||e.type===n))(e.selection.$from)})(e);if(n){const o=n.pos+n.node.nodeSize,r=e.doc.nodeAt(o);return r&&r.type===t?o+1:o}}},B=e=>{const{$from:t,$to:n}=e.selection,o=L(e);if(o)return o;const r=Object(T.g)(e);return r&&(!Object(T.f)(e)||t.pos<r&&n.pos<r)?r:Object(T.f)(e)?n.pos:Object(P.c)(e)?n.pos+1:Object(P.a)(e)?t.pos-1:n.pos},F=e=>{const{$from:t,$to:n}=e.selection;if(!Object(T.h)(e))return!Object(T.c)(e)||Object(T.g)(e)?z(t.pos,n.pos):z(Object(P.f)(t)-1,Object(P.e)(n))},z=(e,t=e)=>({start:e,end:t}),U=e=>{const{state:t}=e,{doc:n}=t,o=Object(T.g)(t);if(!o)return;const r=n.resolve(o),i=Object(P.e)(r);i+1>=n.nodeSize-1?Object(x.g)(e,o):Object(x.h)(e,i+1)}
;var H=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/commands/helpers.js"),$=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js"),W=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/picker-facade.js"),V=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/is-image.js");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y=["ready","error","cancelled"];class X{constructor(e,t,n,o,i){r()(this,"allowsUploads",!1),r()(this,"ignoreLinks",!1),r()(this,"waitForMediaUpload",!0),r()(this,"allUploadsFinished",!0),r()(this,"showDropzone",!1),r()(this,"layout","center"),r()(this,"mediaNodes",[]),r()(this,"mediaGroupNodes",{}),r()(this,"mobileUploadComplete",{}),r()(this,"pendingTask",Promise.resolve(null)),r()(this,"destroyed",!1),r()(this,"removeOnCloseListener",(()=>{})),r()(this,"onPopupToogleCallback",(()=>{})),r()(this,"pickers",[]),r()(this,"pickerPromises",[]),r()(this,"onContextIdentifierProvider",(async(e,t)=>{t&&(this.contextIdentifierProvider=await t)})),r()(this,"setMediaProvider",(async e=>{if(!e)return this.destroyPickers(),this.allowsUploads=!1,void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta($.a,{allowsUploads:this.allowsUploads})));try{if(this.mediaProvider=await e,!this.mediaProvider.viewMediaClientConfig){
const e=this.mediaProvider.viewMediaClientConfig;e&&(this.mediaProvider.viewMediaClientConfig=e)}m()(this.mediaProvider.viewMediaClientConfig,`MediaProvider promise did not resolve to a valid instance of MediaProvider - ${this.mediaProvider}`)}catch(o){const e=new Error(`Media functionality disabled due to rejected provider: ${o.message}`);return this.errorReporter.captureException(e),this.destroyPickers(),this.allowsUploads=!1,void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta($.a,{allowsUploads:this.allowsUploads})))}this.mediaClientConfig=this.mediaProvider.viewMediaClientConfig,this.allowsUploads=!!this.mediaProvider.uploadMediaClientConfig;const{view:t,allowsUploads:n}=this;!this.destroyed&&t.dom.parentNode&&t.dispatch(t.state.tr.setMeta($.a,{allowsUploads:n})),this.allowsUploads?(this.uploadMediaClientConfig=this.mediaProvider.uploadMediaClientConfig,
this.mediaProvider.uploadParams&&this.uploadMediaClientConfig?await this.initPickers(this.mediaProvider.uploadParams,W.a,this.reactContext):this.destroyPickers()):this.destroyPickers()})),r()(this,"getMediaOptions",(()=>this.options)),r()(this,"hasUserAuthProvider",(()=>!!this.uploadMediaClientConfig&&!!this.uploadMediaClientConfig.userAuthProvider)),r()(this,"insertFile",((e,t,n)=>{const o=q(q({},e),{},{contextId:this.contextIdentifierProvider?this.contextIdentifierProvider.objectId:void 0}),r=this.collectionFromProvider();if(void 0===r)return;this.mediaOptions&&this.mediaOptions.allowMarkingUploadsAsIncomplete&&(this.mobileUploadComplete[o.id]=!1),"error"!==e.status&&this.updateAndDispatch({allUploadsFinished:!1}),Object(b.d)(this.view.state.schema,o.fileMimeType)?Object(b.c)(this.view,o,this.getInputMethod(n),r,this.mediaOptions&&this.mediaOptions.alignLeftOnInsert):N(this.view,[o],r,this.getInputMethod(n)),t(this.handleMediaState);const i=e=>e.status&&-1!==Y.indexOf(e.status)
;i(o)||(this.addPendingTask(new Promise((e=>{t((t=>{i(t)&&e(t)}))}))),this.pendingTask.then((()=>{this.updateAndDispatch({allUploadsFinished:!0})})));const{view:s}=this;s.hasFocus()||s.focus()})),r()(this,"addPendingTask",(e=>{const t=this.pendingTask,n=()=>t;this.pendingTask=e.then(n,n)})),r()(this,"splitMediaGroup",(()=>Object(T.k)(this.view))),r()(this,"onPopupPickerClose",(()=>{this.onPopupToogleCallback(!1)})),r()(this,"shouldUseMediaPickerPopup",(()=>!this.mediaOptions||this.mediaOptions&&void 0===this.mediaOptions.useMediaPickerPopup?this.hasUserAuthProvider():!!this.mediaOptions.useMediaPickerPopup)),r()(this,"showMediaPicker",(()=>{if(this.openMediaPickerBrowser&&!this.shouldUseMediaPickerPopup())return this.openMediaPickerBrowser();this.popupPicker&&(this.popupPicker.show(),this.onPopupToogleCallback(!0))})),r()(this,"setBrowseFn",(e=>{this.openMediaPickerBrowser=e})),r()(this,"onPopupToggle",(e=>{this.onPopupToogleCallback=e})),r()(this,"waitForPendingTasks",((e,t)=>{
if(t&&this.pendingTask===t)return t;const n=this.pendingTask.then((()=>this.waitForPendingTasks(void 0,this.pendingTask)));if(!e)return n;let o;const r=new Promise(((t,n)=>{o=window.setTimeout((()=>n(new Error(`Media operations did not finish in ${e} ms`))),e)}));return Promise.race([r,n.then((e=>(clearTimeout(o),e)))])})),r()(this,"handleMediaNodeRemoval",((e,t)=>{let n=e;n||(n=this.view.state.doc.nodeAt(t())),Object(T.j)(this.view,n,t)})),r()(this,"handleMediaNodeMount",((e,t)=>{this.mediaNodes.unshift({node:e,getPos:t})})),r()(this,"handleMediaNodeUnmount",(e=>{this.mediaNodes=this.mediaNodes.filter((({node:t})=>e!==t))})),r()(this,"findMediaNode",(e=>H.b(this,e))),r()(this,"destroyAllPickers",(e=>{e.forEach((e=>e.destroy())),this.pickers.splice(0,this.pickers.length)})),r()(this,"destroyPickers",(()=>{const{pickers:e,pickerPromises:t}=this;t.length===e.length?this.destroyAllPickers(this.pickers):Promise.all(t).then((e=>this.destroyAllPickers(e))),this.popupPicker=void 0,
this.customPicker=void 0})),r()(this,"getInputMethod",(e=>{switch(e){case"popup":return I.e.PICKER_CLOUD;case"clipboard":return I.e.CLIPBOARD;case"dropzone":return I.e.DRAG_AND_DROP}})),r()(this,"updateMediaNodeAttrs",((e,t,n)=>{const{view:o}=this;if(o)return Object(H.f)(e,t,n)(o.state,o.dispatch)})),r()(this,"handleMediaState",(e=>{switch(e.status){case"error":const{uploadErrorHandler:t}=this.options;t&&t(e);break;case"mobile-upload-end":const n={id:e.publicId||e.id};"string"==typeof e.collection&&(n.collection=e.collection),this.updateMediaNodeAttrs(e.id,n,Object(b.d)(this.view.state.schema,e.fileMimeType)),this.mobileUploadComplete[n.id]=!0,delete this.mediaGroupNodes[e.id]}})),r()(this,"isMobileUploadCompleted",(e=>H.c(this,e))),r()(this,"removeNodeById",(e=>{const{id:t}=e,n=H.a(this,t,Object(V.a)(e.fileMimeType));n&&Object(T.j)(this.view,n.node,n.getPos)})),r()(this,"removeSelectedMediaContainer",(()=>{const{view:e}=this,t=this.selectedMediaContainerNode();if(!t)return!1
;let{from:n}=e.state.selection;return Object(T.j)(e,t.firstChild,(()=>n+1)),!0})),r()(this,"selectedMediaContainerNode",(()=>{const{selection:e,schema:t}=this.view.state;if(e instanceof c.NodeSelection&&(e.node.type===t.nodes.mediaSingle||e.node.type===t.nodes.mediaGroup))return e.node})),r()(this,"handleDrag",(e=>{const t="enter"===e;if(this.showDropzone===t)return;this.showDropzone=t;const{dispatch:n,state:o}=this.view;n(o.tr)})),this.reactContext=n,this.options=t,this.mediaOptions=o,this.dispatch=i,this.waitForMediaUpload=void 0===t.waitForMediaUpload||t.waitForMediaUpload;const{nodes:s}=e.schema;m()(s.media&&(s.mediaGroup||s.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),t.providerFactory.subscribe("mediaProvider",((e,t)=>this.setMediaProvider(t))),t.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=t.errorReporter||new p.a}updateElement(){let e
;const t=this.selectedMediaContainerNode(),{mediaSingle:n}=this.view.state.schema.nodes;t&&t.type===n&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}getDomElement(e){const{selection:t,schema:n}=this.view.state;if(!(t instanceof c.NodeSelection))return;if(t.node.type!==n.nodes.mediaSingle)return;const o=Object(f.findDomRefAtPos)(t.from,e);if(o){if(!o.childNodes.length)return o.parentNode;return o.querySelector("figure")||o}}setView(e){this.view=e}destroy(){if(this.destroyed)return;this.destroyed=!0;const{mediaNodes:e}=this;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}async initPickers(e,t,n){if(this.destroyed||!this.uploadMediaClientConfig)return;const{errorReporter:o,pickers:r,pickerPromises:i}=this;if(!r.length){const s={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:o},a={uploadParams:e,proxyReactContext:n(),useForgePlugins:this.mediaOptions&&this.mediaOptions.useForgePlugins||!1,
featureFlags:this.mediaOptions&&this.mediaOptions.featureFlags};if(this.options.customMediaPicker){const e=new t("customMediaPicker",s,this.options.customMediaPicker).init();i.push(e),r.push(this.customPicker=await e)}else if(this.shouldUseMediaPickerPopup()){const e=new t("popup",s,a).init();i.push(e),r.push(this.popupPicker=await e),this.removeOnCloseListener=this.popupPicker.onClose(this.onPopupPickerClose)}r.forEach((e=>{e.onNewMedia(this.insertFile)}))}r.forEach((t=>t.setUploadParams(e)))}collectionFromProvider(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}updateAndDispatch(e){Object.keys(e).forEach((t=>{const n=t,o=e[n];void 0!==o&&(this[n]=o)})),this.dispatch&&this.dispatch($.a,q({},this))}}const J=e=>$.a.getState(e),Z=(e,t,n,o,r)=>{const i=(e=>{const t=document.createElement("div");return e?l.a.render(s.a.createElement(E,{type:"single"}),t):l.a.render(s.a.createElement(E),t),t})(r&&r.allowDropzoneDropLine)
;return new c.Plugin({state:{init:(e,i)=>new X(i,t,n,r,o),apply(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));const n=e.getMeta($.a);if(n){const{allowsUploads:e}=n;t.updateAndDispatch({allowsUploads:void 0===e?t.allowsUploads:e})}return t}},filterTransaction:(e,t)=>!(e.selectionSet&&Object(f.isNodeSelection)(e.selection)&&e.selection.node.type===t.schema.nodes.media&&e.selection.$anchor.parent.type===t.schema.nodes.mediaSingle),key:$.a,view:e=>{const t=J(e.state);return t.setView(e),t.updateElement(),{update:()=>{t.updateElement()}}},props:{decorations:e=>{if(!J(e).showDropzone)return;const{schema:t,selection:{$anchor:n}}=e;if(e.selection instanceof c.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){const t=u.a.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return u.b.create(e.doc,[t])}return}let o=n.pos
;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(d.n)(e.doc,o,t.nodes.mediaGroup)),null==o)return;const r=[u.a.widget(o,i,{key:"drop-placeholder"})];return u.b.create(e.doc,r)},nodeViews:t.nodeViews,handleTextInput:e=>(J(e.state).splitMediaGroup(),!1)}})}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("mediaPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/is-image.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-common.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return g
})),n.d(t,"i",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return D})),n.d(t,"b",(function(){return N}));var o=n("./node_modules/prosemirror-commands/dist/index.es.js"),r=(n("./node_modules/prosemirror-model/dist/index.es.js"),
n("./node_modules/prosemirror-state/dist/index.es.js")),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/commands/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/is-image.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),h=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js");const m=e=>!(!e||"external"!==e.type||!Object(h.c)(e.url)),f=e=>_(e)||w(e)||y(e)||v(e),b=e=>{const{node:t}=e.selection;return t&&t.type!==e.schema.nodes.media&&t.isBlock},g=e=>{const{node:t}=e.selection;return t&&t.type===e.schema.nodes.mediaSingle},y=e=>{
if(Object(u.a)(e))return k(e,e.selection.$from)},v=e=>{const{selection:t}=e;if(t instanceof p.a){const t=e.selection.$from,n=e.schema.nodes.mediaGroup;return O(t,n)||j(t,n)}},O=(e,t)=>{if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},j=(e,t)=>{if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},w=e=>{if(Object(u.c)(e))return S(e,e.selection.$to)},k=(e,t)=>{let n,o;if(b(e)?(n=t.pos,o=t.nodeBefore):(n=Object(u.f)(t)-1,o=e.doc.resolve(n).nodeBefore),o&&o.type===e.schema.nodes.mediaGroup)return n-o.nodeSize+1},E=e=>{const{$from:t}=e.selection;return t.parent.type===e.schema.nodes.paragraph&&Object(u.a)(e)&&Object(u.c)(e)},S=(e,t,n=!0)=>{let o,r;if(b(e)?(o=t.pos,r=t.nodeAfter):(o=Object(u.e)(t),r=e.doc.nodeAt(o)),r&&r.type===e.schema.nodes.mediaGroup)return n?o+1:o+r.nodeSize-1},_=(e,t,n=!1)=>{const{$from:o}=e.selection;if((t=t||o).parent.type===e.schema.nodes.mediaGroup)return n?Object(u.f)(t):Object(u.e)(t)-1};const C=(e,t,n)=>{
const{id:o}=t.attrs,{state:s}=e,{tr:l,selection:c,doc:d}=s,p=n();l.deleteRange(p,p+t.nodeSize),Object(a.r)(o)&&l.setMeta("addToHistory",!1);const h=d.resolve(p),{nodeBefore:m,parent:f}=h,b=h.index()===f.childCount-1;if(c.from===p&&!b&&!Object(u.b)(s)&&m&&"media"===m.type.name){const e=Object(i.findPositionOfNodeBefore)(l.selection);e&&l.setSelection(r.NodeSelection.create(l.doc,e))}e.dispatch(l)},x=e=>{const{selection:t}=e.state;return t instanceof r.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(o.e)(e.state,e.dispatch),t.$to.nodeAfter?(Object(o.g)(e.state,e.dispatch),Object(s.f)(!1)(e.state,e.dispatch)):Object(s.d)(e.state,e.dispatch),!0)},T=e=>e.length>1&&"_"===e[0]&&"_"===e[1],P=(e,t)=>{Object.keys(t.attrs).filter(T).forEach((n=>{const o=n.substring(2),r=e[o];void 0!==r&&(t.attrs[n]=r)}))},A=(e,t)=>{const{mediaGroup:n,mediaSingle:o,media:r}=t.nodes
;return Object(l.e)(e,((e,t)=>t||e.type!==r?e:o&&(Object(d.a)(e.attrs.__fileMimeType)||"external"===e.attrs.type)?o.createChecked({},e):n.createChecked({},[e])))},I=e=>"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility,M=["DIV","TD"];const D=e=>{const t=(new DOMParser).parseFromString(e,"text/html").body,n=t.querySelector('b[id^="docs-internal-guid-"]');n&&Object(c.g)(t,n);const o=t.querySelectorAll("img");return o.length?(o.forEach((e=>{const n=e.parentElement;if(!n)return;if(I(n)||I(e))return void n.removeChild(e);if(n instanceof HTMLDivElement)return;const o=Object(c.h)(n,(e=>e.parentElement===t||function(e){return!!e&&-1!==M.indexOf(e.tagName)}(e.parentElement)));o&&o.parentElement&&(o.parentElement.insertBefore(e,o.nextElementSibling||o),n.innerText=n.innerText.trim(),Object(c.f)(n))})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e},N=e=>{if(!g(e))return null
;const t=e.tr,n=t.selection.from+1,o=t.doc.nodeAt(n);return o&&o.type===e.schema.nodes.media?o:null}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-single.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return T}))
;var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/index.js"),s=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/grid.js"),a=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/media-common.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/insert.js"),f=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/feature-flags-context/index.js"),b=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/utils/is-image.js"),g=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js")
;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=(e,t)=>({action:p.a.INSERTED,actionSubject:p.b.DOCUMENT,actionSubjectId:p.c.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:p.c.MEDIA_SINGLE},eventType:p.d.TRACK});function w(e){return Object(g.a)(e)&&!Object(l.d)(e.selection,e.doc,c.g)}function k(e,t={}){return function(n,r){
const{tr:i,schema:s}=n,{paragraph:a}=s.nodes,{inputMethod:l,fileExtension:c}=t;let d=0;return w(n)&&(e.push(a.create()),d=1),i.replaceSelection(new o.Slice(o.Fragment.from(e),0,d)),l&&Object(h.a)(n,i,j(l,c)),r&&r(i),!0}}const E=(e,t)=>!!e.nodes.mediaSingle&&Object(b.a)(t),S=(e,t,n)=>{const{state:o,dispatch:r}=e,{mediaSingle:i,media:s}=o.schema.nodes;if(!i)return!1;if(t.type!==s||!Object(b.a)(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)return!1;return k([i.create({},t)],{inputMethod:n,fileExtension:t.attrs.__fileMimeType})(o,r)},_=(e,t,n,i,s)=>{if(void 0===i)return!1;const{state:a,dispatch:l}=e,c=a.selection.$from.node(-1),d=C(a.schema,i,s)(t),u=c&&c.type.validContent(o.Fragment.from(d));let p;if(t.fileName){const e=t.fileName.lastIndexOf(".");p=e>=0?t.fileName.substring(e+1):void 0}if(u)k([d],{fileExtension:p,inputMethod:n})(a,l);else{const{newInsertionBehaviour:t}=Object(f.b)(e.state);let i=null;if(t&&(i=Object(m.b)(d,a.selection.from)(a.tr)),!i){
const t=w(e.state)?o.Fragment.fromArray([d,a.schema.nodes.paragraph.create()]):d;i=Object(r.safeInsert)(t,void 0,!0)(a.tr)}n&&(i=Object(h.a)(a,i,j(n,p))),l(i)}return!0},C=(e,t,n)=>o=>{const{id:r,dimensions:i,contextId:s,scaleFactor:a=1}=o,{width:l,height:c}=i||{height:void 0,width:void 0},{media:u,mediaSingle:p}=e.nodes,h=u.create({id:r,type:"file",collection:t,contextId:s,width:l&&Math.round(l/a),height:c&&Math.round(c/a)}),m=n?{layout:"align-start"}:{};return Object(d.a)(o,h),p.createChecked(m,h)};function x(e,t){const{mediaSingle:n,layoutSection:o,table:i,bulletList:s,orderedList:a,media:l,expand:c}=t.nodes;return t=>{let d=e;return Object(r.hasParentNodeOfType)([o,i,s,a,c])(t)&&(d=Object(u.e)(d,(e=>"mediaSingle"===e.type.name?n.createChecked({},e.content,e.marks):e))),d=Object(u.e)(d,(e=>"media"===e.type.name&&"external"===e.attrs.type?l.createChecked(v(v({},e.attrs),{},{__external:!0}),e.content,e.marks):e)),d}}const T=e=>{
const{origWidth:t,origHeight:n,layout:o,pctWidth:r,containerWidth:s,resizedPctWidth:l}=e,{width:c,lineLength:d}=s,u=P(s,r,t,n),p=P(s,l,t,n);if("wide"===o){if(d){const e=Math.ceil(d*a.ab);return e>c?d:e}}else{if("full-width"===o)return c-a.d;if(u)return i.e.indexOf(o)>-1?p?l<50?p:u:Math.min(u,t):p||u;if("center"===o)return p||Math.min(t,d||c);if(o&&-1!==i.e.indexOf(o)){const e=Math.ceil((d||c)/2);return t<=e?t:e}}return t},P=(e,t,n,o)=>t&&n&&o&&Math.ceil(Object(s.d)(t/100,e.lineLength||e.width))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/commands/insert-mention-query.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/insert-query.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");function s(e){return Object(r.d)({action:i.a.INVOKED,
actionSubject:i.b.TYPEAHEAD,actionSubjectId:i.c.TYPEAHEAD_MENTION,attributes:{inputMethod:e},eventType:i.d.UI})(Object(o.a)("@"))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return et}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/uuid/index.js"),s=n.n(i),a=n("./node_modules/prosemirror-model/dist/index.es.js"),l=n("./node_modules/prosemirror-state/dist/index.es.js"),c=n("./node_modules/lodash/debounce.js"),d=n.n(c)
;var u=n("./node_modules/@atlaskit/mention/dist/es2019/api/MentionResource.js"),p=n("./node_modules/@atlaskit/mention/dist/es2019/util/analytics.js"),h=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),f=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),b=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),g=n("./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/glyph/editor/close.js"),y=n.n(g),v=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js");const O="atlassian.people.context.team.mention.highlight",j={seenCount:0,dontShow:!1},w={seenCount:99,dontShow:!0};class k{static readFromLocalStorage(){try{let e=localStorage.getItem(O);return e||(localStorage.setItem(O,JSON.stringify(j)),e=localStorage.getItem(O)),e?JSON.parse(e):w}catch(e){return w}}static saveToLocalStorage(e){try{localStorage.setItem(O,JSON.stringify(e))}catch(t){}}}m()(k,"markAsDone",(()=>{
const e=k.readFromLocalStorage();e.dontShow=!0,k.saveToLocalStorage(e)})),m()(k,"isHighlightEnabled",(()=>{const e=k.readFromLocalStorage();return e.seenCount<5&&!e.dontShow})),m()(k,"registerRender",(()=>{const e=k.readFromLocalStorage();return e.seenCount+=1,e.seenCount>5&&(e.dontShow=!0),k.saveToLocalStorage(e),e})),m()(k,"getSeenCount",(()=>k.readFromLocalStorage().seenCount)),m()(k,"registerCreateLinkClick",k.markAsDone),m()(k,"registerTeamMention",k.markAsDone),m()(k,"registerClosed",k.markAsDone);var E=n("./node_modules/@atlaskit/mention/dist/es2019/util/i18n.js"),S=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),C=n("./node_modules/@atlaskit/theme/dist/es2019/typography.js")
;const x=S.default.div(["justify-content:flex-end;margin-top:-","px;margin-right:","px;"],.5*Object(_.gridSize)(),.5*Object(_.gridSize)()),T=S.default.div(["",";margin-top:0px;"],C.h400),P=S.default.div(["margin-left:","px;margin-bottom:","px;"],2*Object(_.gridSize)(),.5*Object(_.gridSize)()),A=S.default.div(["display:flex;flex-direction:row;background-color:",";overflow:hidden;line-height:21px;padding-top:","px;padding-bottom:","px;padding-left:","px;padding-right:0px;margin-top:-","px;"],"#EAE6FF",2*Object(_.gridSize)(),2*Object(_.gridSize)(),2*Object(_.gridSize)(),.5*Object(_.gridSize)()),I=S.default.div(["max-width:290px;display:flex;"]),M=S.default.div([""]),D=S.default.div(["opacity:0.8;"]),N=S.default.div(["margin-left:","px;"],2*Object(_.gridSize)());class R extends r.a.Component{constructor(e){super(e),m()(this,"onCreateTeamLinkClick",(()=>{this.setState({isHighlightHidden:!0});const{onCreateTeamLinkClick:e}=this.props;k.registerCreateLinkClick(),e&&e()})),
m()(this,"preventClickOnCard",(e=>{this.elCloseWrapper.current&&this.elCloseWrapper.current.contains(e.target)&&this.onCloseClick();this.elCreateTeamWrapper.current&&this.elCreateTeamWrapper.current.contains(e.target)&&this.onCreateTeamLinkClick(),e.stopPropagation(),e.stopImmediatePropagation()})),m()(this,"onCloseClick",(()=>{this.setState({isHighlightHidden:!0}),this.props.onClose()})),this.elWrapper=r.a.createRef(),this.elCloseWrapper=r.a.createRef(),this.elCreateTeamWrapper=r.a.createRef(),this.state={isHighlightHidden:!1}}componentDidMount(){const{onViewed:e}=this.props;this.addEventHandler(),k.isHighlightEnabled()?(k.registerRender(),e&&e()):this.setState({isHighlightHidden:!0})}componentWillUnmount(){this.removeEventHandler()}addEventHandler(){this.elWrapper.current&&this.elWrapper.current.addEventListener("click",this.preventClickOnCard)}removeEventHandler(){this.elWrapper.current&&this.elWrapper.current.removeEventListener("click",this.preventClickOnCard)}render(){
const{createTeamLink:e}=this.props,{isHighlightHidden:t}=this.state;return t?null:r.a.createElement("div",{ref:this.elWrapper},r.a.createElement(A,null,r.a.createElement(I,null,r.a.createElement(D,null,r.a.createElement("img",{
src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSI2NCIgY3k9IjY0IiBmaWxsPSIjNTI0M2FhIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHI9IjY0Ii8+PHBhdGggZD0ibTgwIDY0Yy02LjYyNzQxNyAwLTEyLTUuMzcyNTgzLTEyLTEyczUuMzcyNTgzLTEyIDEyLTEyIDEyIDUuMzcyNTgzIDEyIDEyLTUuMzcyNTgzIDEyLTEyIDEyem0tMzItMTJjLTYuNjI3NDE3IDAtMTItNS4zNzI1ODMtMTItMTJzNS4zNzI1ODMtMTIgMTItMTIgMTIgNS4zNzI1ODMgMTIgMTItNS4zNzI1ODMgMTItMTIgMTJ6bTEyIDI0YzAtNC40MiAzLjU0OC04IDgtOGgyNGM0LjQyIDAgOCAzLjU0IDggOHYxNC45MmMwIDEyLjEwOC00MCAxMi4xMDgtNDAgMHptOC0xMmgtLjAxMmMtMy4xODQzNTM3LjAwNDI0LTYuMjM2NTQxIDEuMjczNTYxNS04LjQ4NDg0MjcgMy41Mjg2MTQ5LTIuMjQ4MzAxOCAyLjI1NTA1MzQtMy41MDg0NjU2IDUuMzExMDMzLTMuNTAzMTU3MyA4LjQ5NTM4NTF2MTEuMjI4Yy0xMS43ODQgMi4xMzYtMjgtLjI1Mi0yOC03LjkzNnYtMTUuMzA0YzAtNC40MjQgMy41NDgtOC4wMTIgOC04LjAxMmgyNGMyLjEyMjcwODYtLjAwMzE5MTIgNC4xNTkzOTQ2LjgzODYzODYgNS42NjAzNzggMi4zMzk2MjJzMi4zNDI4MTMyIDMuNTM3NjY5NCAyLjMzOTYyMiA1LjY2MDM3OHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjk1Ii8+PC9nPjwvc3ZnPg==",
height:32})),r.a.createElement(M,null,r.a.createElement(P,null,r.a.createElement(T,null,r.a.createElement(E.f,null))),r.a.createElement(N,null,r.a.createElement(E.d,null,(t=>r.a.createElement("div",null,t,r.a.createElement("span",{ref:this.elCreateTeamWrapper},r.a.createElement(E.e,null,(t=>r.a.createElement("a",{href:e,target:"_blank"}," ",t))))))))),r.a.createElement(x,null,r.a.createElement("div",{ref:this.elCloseWrapper},r.a.createElement(E.c,null,(e=>r.a.createElement(v.a,{content:e,position:"bottom"},r.a.createElement(b.a,{appearance:"subtle",iconBefore:r.a.createElement(y.a,{label:"Close",size:"medium"}),spacing:"none"})))))))))}}R.displayName="TeamMentionHighlightInternal",m()(R,"defaultProps",{createTeamLink:"/people/search#createTeam"});var L=Object(f.a)({onClose:e=>{Object(p.g)(e)(p.b.TEAM_MENTION_HIGHLIGHT,p.a.CLOSED,p.b.MENTION,"closeButton")},onCreateTeamLinkClick:e=>{Object(p.g)(e)(p.b.TEAM_MENTION_HIGHLIGHT,p.a.CLICKED,p.b.MENTION,"createTeamLink")},onViewed:e=>{
Object(p.g)(e)(p.b.TEAM_MENTION_HIGHLIGHT,p.a.VIEWED,p.b.MENTION,void 0,k.getSeenCount())}})(R),B=n("./node_modules/@atlaskit/avatar/dist/es2019/Avatar.js"),F=n("./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/glyph/lock-circle.js"),z=n.n(F),U=n("./node_modules/@atlaskit/lozenge/dist/es2019/Lozenge/index.js"),H=n("./node_modules/@atlaskit/mention/dist/es2019/types.js");var $=n("./node_modules/@atlaskit/mention/dist/es2019/components/NoAccessTooltip.js")
;const W=S.default.div(["align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px 14px;text-overflow:ellipsis;vertical-align:middle;"]),V=S.default.span(["position:relative;flex:initial;opacity:",";"],(e=>e.restricted?"0.5":"inherit")),K=S.default.div(["flex:1;min-width:0;margin-left:14px;opacity:",";"],(e=>e.restricted?"0.5":"inherit")),q=S.default.span(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:",";"],"#091E42"),G=S.default.div(["display:flex;flex-direction:column;text-align:right;opacity:",";&{& > span{margin-bottom:2px;}}"],(e=>e.restricted?"0.5":"inherit")),Y=S.default.div(["margin-left:20px;flex:none;color:",";font-size:12px;"],"#7A869A"),X=S.default.div(["background-color:",";display:block;overflow:hidden;list-style-type:none;height:48px;line-height:1.2;cursor:pointer;"],(e=>e.selected?"#EBECF0":"transparent")),J=S.default.div(["padding-left:5px;color:",";"],"#42526E");function Z(e,t,n,o){if(!t)return null
;const i=[],s=o||"";let a=0;if(n){for(let e=0;e<n.length;e++){const o=n[e],r=o.start,s=o.end;r>a&&i.push({value:t.substring(a,r),matches:!1}),i.push({value:t.substring(r,s+1),matches:!0}),a=s+1}a<t.length&&i.push({value:t.substring(a,t.length),matches:!1})}else i.push({value:t,matches:!1});return r.a.createElement(e,null,s,i.map(((e,t)=>e.matches?r.a.createElement("b",{key:t},e.value):e.value)))}const Q=S.default.span(["color:",";font-size:12px;margin-top:2px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],"#7A869A");class ee extends r.a.PureComponent{render(){const{highlight:e,name:t,nickname:n}=this.props.mention,o=e&&e.nickname;return t===n?null:Z(Q,n,o,"@")}}ee.displayName="UserMentionDescriptionByline";var te=n("./node_modules/@babel/runtime/helpers/extends.js"),ne=n.n(te),oe=n("./node_modules/react-intl/lib/index.es.js"),re=n("./node_modules/@atlaskit/mention/dist/es2019/components/i18n.js");class ie extends r.a.PureComponent{constructor(...e){
super(...e),m()(this,"renderByline",((e,t)=>t?e>50?this.getBylineComponent(r.a.createElement(oe.c,re.a.plus50MembersWithYou)):this.getBylineComponent(r.a.createElement(oe.c,ne()({},re.a.memberCountWithYou,{values:{0:e}}))):e>50?this.getBylineComponent(r.a.createElement(oe.c,re.a.plus50MembersWithoutYou)):this.getBylineComponent(r.a.createElement(oe.c,ne()({},re.a.memberCountWithoutYou,{values:{0:e}}))))),m()(this,"getBylineComponent",(e=>r.a.createElement(Q,null,e)))}render(){const{context:e}=this.props.mention;if(!e)return null;const t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}ie.displayName="TeamMentionDescriptionByline";class se extends r.a.PureComponent{render(){const{userType:e}=this.props.mention;switch(e){case H.d[H.d.TEAM]:return r.a.createElement(ie,{mention:this.props.mention});default:return r.a.createElement(ee,{mention:this.props.mention})}}}se.displayName="MentionDescriptionByline";class ae extends r.a.PureComponent{constructor(...e){super(...e),
m()(this,"onMentionSelected",(e=>{(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&this.props.onSelection&&(e.preventDefault(),this.props.onSelection(this.props.mention,e))})),m()(this,"onMentionMenuItemMouseMove",(e=>{this.props.onMouseMove&&this.props.onMouseMove(this.props.mention,e)})),m()(this,"onMentionMenuItemMouseEnter",(e=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.mention,e)}))}render(){const{mention:e,selected:t}=this.props,{id:n,highlight:o,avatarUrl:i,presence:s,name:a,mentionName:l,lozenge:c,accessLevel:d}=e,{status:u,time:p}=s||{},h=Object(H.g)(d),m=o&&o.name,f=t?"#EBECF0":void 0;return r.a.createElement(X,{selected:t,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":n,"data-mention-name":l},r.a.createElement(W,null,r.a.createElement(V,{restricted:h},r.a.createElement(B.a,{src:i,size:"medium",presence:u,borderColor:f
})),r.a.createElement(K,{restricted:h},Z(q,a,m),r.a.createElement(se,{mention:e})),r.a.createElement(G,{restricted:h},function(e){return e?r.a.createElement(U.a,null,e):null}(c),function(e){return e?r.a.createElement(Y,null,e):null}(p)),h?r.a.createElement($.a,{name:a},r.a.createElement(J,null,r.a.createElement(E.a,null,(e=>r.a.createElement(z.a,{label:e}))))):null))}}ae.displayName="MentionItem"
;var le=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/mention.js"),ce=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),de=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js"),ue=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/main.js"),pe=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/ui/InviteItem/index.js"),he=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/mention.js"),me=n.n(he),fe=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js"),be=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/commands/insert-mention-query.js"),ge=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");class ye extends o.PureComponent{constructor(...e){super(...e),
m()(this,"handleInsertMention",(()=>!!this.props.editorView&&(Object(be.a)(ge.e.TOOLBAR)(this.props.editorView.state,this.props.editorView.dispatch),!0)))}render(){return r.a.createElement(fe.a,{spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:"Mention @",iconBefore:r.a.createElement(me.a,{label:"Mention"})})}}ye.displayName="ToolbarMention";var ve=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js"),Oe=n("./node_modules/@atlaskit/mention/dist/es2019/components/Mention/ResourcedMention.js"),je=n("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/provider-factory.js"),we=n("./node_modules/@atlaskit/editor-common/dist/es2019/provider-factory/with-providers.js");class ke extends o.PureComponent{constructor(e){super(e),m()(this,"renderWithProvider",(e=>{const{accessLevel:t,eventHandlers:n,id:o,text:i}=this.props,{mentionProvider:s}=e,a={};return["onClick","onMouseEnter","onMouseLeave"].forEach((e=>{
a[e]=n&&n[e]||(()=>{})})),r.a.createElement(Oe.a,ne()({id:o,text:i,accessLevel:t,mentionProvider:s},a))})),this.providerFactory=e.providers||new je.a}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return r.a.createElement(we.a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}ke.displayName="Mention",m()(ke,"displayName","Mention");var Ee=n("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js"),Se=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/InlineNodeWrapper/index.js");class _e extends Ee.a{createDomRef(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(Se.a)():super.createDomRef()}render(e){const{providerFactory:t,options:n}=e,{id:o,text:i,accessLevel:s}=this.node.attrs;return r.a.createElement(Se.b,{useInlineWrapper:n&&n.useInlineWrapper},r.a.createElement(ke,{id:o,text:i,accessLevel:s,
providers:t}),n&&n.allowZeroWidthSpaceAfter&&ve.a)}}function Ce(e,t,n,o){return(r,i,s)=>new _e(r,i,s,e,t,{providerFactory:n,options:o}).init()}_e.displayName="MentionNodeView";var xe=n("./node_modules/@atlaskit/editor-core/dist/es2019/version.json"),Te=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/utils.js");function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}const Me="mention",De=(e,t,n,o,r={})=>({action:t,actionSubject:e,eventType:n,attributes:Ae({packageName:xe.a,packageVersion:xe.b,componentName:Me,sessionId:o},r)}),Ne={queryLength:0,spaceInQuery:!1},Re=e=>e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:Ne,Le=(e,t)=>{if(e){const n=e.findIndex((e=>e.id===t.id));return-1===n?void 0:n}},Be=e=>"selected"===e;var Fe=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),ze=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/index.js"),Ue=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/index.js"),He=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/insert-block/ui/ToolbarInsertBlock/messages.js"),$e=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js");function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe=[];const Ge=function(e){const t=new Map;return{call:function(n){const o=t.get(n.id);if(o)return o;const r=e(n);return t.set(n.id,r),r},clear:t.clear.bind(t)}}((e=>({title:e.id,render:({isSelected:t,onClick:n,onHover:o})=>r.a.createElement(ae,{mention:e,selected:t,onMouseEnter:o,onSelection:n}),mention:e})));t.a=e=>{let t=s()();const n=n=>{
e&&e.createAnalyticsEvent&&(n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),e.createAnalyticsEvent(n).fire("fabric-elements"))};let o=!1,i="";const c=d()(n,200);return{name:"mention",nodes:()=>[{name:"mention",node:le.a}],pmPlugins:()=>[{name:"mention",plugin:({providerFactory:t,dispatch:o,portalProviderAPI:r,eventDispatcher:i})=>function(e,t,n,o,r,i){let s;const a=(e,t,n)=>{e===p.c&&r(Object(p.e)(t,n))};return new l.Plugin({key:et,state:{init:()=>({}),apply(t,n){const{action:o,params:r}=t.getMeta(et)||{action:null,params:null};let i=n;switch(o){case Ye:return i=Ve(Ve({},n),{},{mentionProvider:r.provider}),e(et,i),i;case Xe:return i=Ve(Ve({},n),{},{mentions:r.results}),e(et,i),i;case Je:return i=Ve(Ve({},n),{},{contextIdentifierProvider:r.context}),e(et,i),i}return i}},props:{nodeViews:{mention:Ce(n,o,t,i)}},view(e){const n=(t,n)=>{switch(t){case"mentionProvider":if(!n)return Ze(void 0)(e.state,e.dispatch);n.then((t=>{s&&s.unsubscribe("mentionPlugin"),s=t,
Ze(t)(e.state,e.dispatch),t.subscribe("mentionPlugin",((t,n,o)=>{(e=>(t,n)=>(n&&n(t.tr.setMeta(et,{action:Xe,params:{results:e}})),!0))(t)(e.state,e.dispatch);let i=0,s=null,a=null;Object(Te.b)(o)?(i=o&&o.teamMentionDuration,s=null,a=t.map((e=>Object(Te.c)(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null)).filter((e=>!!e))):(i=o&&o.duration,a=null,s=t.map((e=>e.id)));const l=((e,t,n,o)=>{const{queryLength:r,spaceInQuery:i}=Re(n);return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:"operational",attributes:{packageName:xe.a,packageVersion:xe.b,componentName:Me,duration:e,userIds:t,teams:o,queryLength:r,spaceInQuery:i}}})(i,s,n||"",a);r(l)}),void 0,void 0,void 0,a)})).catch((()=>Ze(void 0)(e.state,e.dispatch)));break;case"contextIdentifierProvider":if(!n)return Qe(void 0)(e.state,e.dispatch);n.then((t=>{Qe(t)(e.state,e.dispatch)}))}};return t.subscribe("mentionProvider",n),
t.subscribe("contextIdentifierProvider",n),{destroy(){t&&(t.unsubscribe("mentionProvider",n),t.unsubscribe("contextIdentifierProvider",n)),s&&s.unsubscribe("mentionPlugin")}}}})}(o,t,r,i,n,e)}],secondaryToolbarComponent:({editorView:e,disabled:t})=>r.a.createElement(ce.a,{editorView:e,plugins:{typeAheadState:de.a,mentionState:et},render:({typeAheadState:n=Object(ue.a)(),mentionState:o={}})=>o.mentionProvider?r.a.createElement(ye,{editorView:e,isDisabled:t||!n.isAllowed}):null}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"mention",title:e(He.a.mention),description:e(He.a.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:()=>r.a.createElement(Ue.o,{label:e(He.a.mention)}),action(e,t){const n=t.schema.mark("typeAheadQuery",{trigger:"@"}),o=e(t.schema.text("@",[n]));return Object(Fe.a)(t,o,{action:ge.a.INVOKED,actionSubject:ge.b.TYPEAHEAD,actionSubjectId:ge.c.TYPEAHEAD_MENTION,attributes:{inputMethod:ge.e.QUICK_INSERT},eventType:ge.d.UI})}}],
typeAhead:{trigger:"@",customRegex:"\\(?(@)",getHighlight:e=>{const t=tt(e).mentionProvider;if(t){const e=t;if(nt(e)&&e.mentionTypeaheadHighlightEnabled())return r.a.createElement(L,{createTeamLink:e.mentionTypeaheadCreateTeamPath(),onClose:()=>k.registerClosed()})}return null},getItems(e,s,a,{prevActive:l,queryChanged:d},u,p){l||!d||u.getMeta(ze.a)||(Ge.clear(),p($e.a,{payload:{action:ge.a.INVOKED,actionSubject:ge.b.TYPEAHEAD,actionSubjectId:ge.c.TYPEAHEAD_MENTION,attributes:{inputMethod:ge.e.KEYBOARD},eventType:ge.d.UI}}));const h=tt(s),m=!l&&d?qe:h.mentions||qe,f=Ve(Ve({},h.contextIdentifierProvider),{},{sessionId:t});d&&h.mentionProvider&&(o=!0,h.mentionProvider.filter(e||"",f));const b=m.map((e=>Ge.call(e)));if(h.mentionProvider&&e&&m.length<=2){const{inviteExperimentCohort:s,shouldEnableInvite:a,userRole:l}=h.mentionProvider;if(o&&(c(((e,t,n,o,r)=>{const{containerId:i,objectId:s,childObjectId:a}=n||{};return De("feature","exposed","operational",t,{
flagKey:"confluence.frontend.invite.from.mention",value:e,cohort:o,containerId:i,objectId:s,childObjectId:a,userRole:r})})(!!a,t,h.contextIdentifierProvider,s,l)),o=!1),a)return""===i&&0===m.length&&(i=e),0!==m.length||ot(e,i)?[...b,{title:pe.a.id,render:({isSelected:e,onClick:o,onHover:i})=>r.a.createElement(pe.b,{productName:h.mentionProvider?h.mentionProvider.productName:void 0,selected:e,onMount:()=>{n(((e,t,n)=>{const{containerId:o,objectId:r,childObjectId:i}=t||{};return De("inviteItem","rendered","ui",e,{containerId:o,objectId:r,childObjectId:i,userRole:n})})(t,h.contextIdentifierProvider,l))},onMouseEnter:i,onSelection:o,userRole:l}),mention:pe.a}]:b}return b},selectItem(o,r,l,{mode:c}){const d=e&&e.sanitizePrivateContent,p=e&&e.mentionInsertDisplayName,{schema:h}=o,m=tt(o),{mentionProvider:f}=m,{id:b,name:g,nickname:y,accessLevel:v,userType:O}=r.mention,j=y&&y.startsWith("@")?y.slice(1):y,w=p||!j?g:j,E=de.a.getState(o),S=Ve(Ve({},m.contextIdentifierProvider),{},{sessionId:t})
;f&&!Object(Te.a)(r.mention)&&f.recordMentionSelection(r.mention,S);const _=E.queryStarted?Date.now()-E.queryStarted:0;if(f&&f.shouldEnableInvite&&Object(Te.a)(r.mention))return"space"!==c&&(n(((e,t,n,o,r,i,s,a)=>{const{queryLength:l,spaceInQuery:c}=Re(i),{containerId:d,objectId:u,childObjectId:p}=s||{};return De("inviteItem",Be(r)?"clicked":"pressed","ui",o,{duration:e,queryLength:l,spaceInQuery:c,upKeyCount:t,downKeyCount:n,containerId:d,objectId:u,childObjectId:p,userRole:a})})(_,E.upKeyCount,E.downKeyCount,t,c,E.query||"",m.contextIdentifierProvider,f.userRole)),f.onInviteItemClick&&f.onInviteItemClick("mention"),i=""),o.tr;if(n(((e,t,n,o,r,i,s,a,l)=>{const{queryLength:c,spaceInQuery:d}=Re(a);let u=De("mentionTypeahead",Be(r)?"clicked":"pressed","ui",o,{duration:e,position:Le(s,i),keyboardKey:Be(r)?void 0:r,queryLength:c,spaceInQuery:d,isSpecial:Object(H.h)(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,
memberCount:Object(Te.c)(i.userType)&&i.context?i.context.memberCount:null,includesYou:Object(Te.c)(i.userType)&&i.context?i.context.includesYou:null});return l&&(u.containerId=l.containerId||void 0,u.objectId=l.objectId||void 0,u.childObjectId=l.childObjectId||void 0),u})(_,E.upKeyCount,E.downKeyCount,t,c,r.mention,m.mentions,E.query||"",m.contextIdentifierProvider)),t=s()(),f&&Object(Te.c)(O))return k.registerTeamMention(),l(function(e,t,n,o){const{nodes:r,marks:i}=e,{name:s,id:l,accessLevel:c,context:d}=t,p=`${window.location.origin}/people/team/${l}`,h=d&&d.teamLink?d.teamLink:p,m=e.text(s,[i.link.create({href:h})]),f=e.text("("),b=e.text(")"),g=e.text(" "),y=[m,g,f],v=d&&d.members?d.members:[];return v.forEach(((e,t)=>{const{name:i,id:s}=e,a=o?"":`@${i}`;o&&Object(u.d)(n)&&n.cacheMentionName(s,i);const l=r.mention.createChecked({text:a,id:e.id,accessLevel:c,userType:"DEFAULT"});y.push(l),t!==v.length-1&&y.push(g)})),y.push(b),a.Fragment.fromArray(y)}(h,r.mention,f,d))
;const C=d?"":`@${w}`;return d&&Object(u.d)(f)&&f.cacheMentionName(b,w),l(h.nodes.mention.createChecked({text:C,id:b,accessLevel:v,userType:"DEFAULT"===O?null:O}))},dismiss(e){const o=tt(e),{mentionProvider:r}=o;r&&r.shouldEnableInvite&&(i="");const a=de.a.getState(e),l=a.queryStarted?Date.now()-a.queryStarted:0;n(((e,t,n,o,r)=>{const{queryLength:i,spaceInQuery:s}=Re(r);return De("mentionTypeahead","cancelled","ui",o,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:i,spaceInQuery:s})})(l,a.upKeyCount,a.downKeyCount,t,a.query||"")),t=s()()}}}}};const Ye="SET_PROVIDER",Xe="SET_RESULTS",Je="SET_CONTEXT",Ze=e=>(t,n)=>(n&&n(t.tr.setMeta(et,{action:Ye,params:{provider:e}})),!0),Qe=e=>(t,n)=>(n&&n(t.tr.setMeta(et,{action:Je,params:{context:e}})),!0),et=new l.PluginKey("mentionPlugin");function tt(e){return et.getState(e)}const nt=e=>!(!e.mentionTypeaheadHighlightEnabled||!e.mentionTypeaheadCreateTeamPath),ot=(e,t)=>{if(!t)return!0;let n=t.length-1,o=e.slice(n);" "===e[n-1]&&(o=" "+o)
;return!/\s[^\s]+\s/.test(o)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/ui/InviteItem/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/search.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a),c=n("./node_modules/react-intl/lib/index.es.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js")
;const u=d.default.div(["align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px 14px;text-overflow:ellipsis;vertical-align:middle;"]),p=d.default.span(["position:relative;flex:initial;opacity:inherit;width:36px;height:36px;> span{width:18px;height:18px;padding:9px;}"]),h=d.default.div(["flex:1;min-width:0;margin-left:14px;color:",";opacity:",";"],"#5E6C84",(e=>e.restricted?"0.5":"inherit")),m=d.default.div(["background-color:",";display:block;overflow:hidden;list-style-type:none;cursor:pointer;"],(e=>e.selected?"#EBECF0":"transparent")),f=d.default.span(["text-transform:capitalize;"]),b=Object(c.h)({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"}}),g={id:"invite-teammate"};t.b=({productName:e,onMount:t,onMouseEnter:n,onSelection:o,selected:i,userRole:d})=>{
const y=Object(a.useCallback)((e=>{(e=>!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))(e)&&o&&(e.preventDefault(),o(g,e))}),[o]),v=Object(a.useCallback)((e=>{n&&n(g,e)}),[n]);return Object(a.useEffect)((()=>{t&&t()}),[t]),l.a.createElement(m,{selected:i,onMouseDown:y,onMouseEnter:v,"data-id":g.id},l.a.createElement(u,null,l.a.createElement(p,null,l.a.createElement(s.a,{label:"search-icon",primaryColor:"#5E6C84"})),l.a.createElement(h,null,l.a.createElement(c.c,r()({},b.inviteItemTitle,{values:{userRole:d||"basic",productName:l.a.createElement(f,null,e)}})))))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/ui/InviteItem/index.js");const r=e=>"TEAM"===e,i=e=>e&&!isNaN(e.teamMentionDuration),s=e=>e&&e.id===o.a.id},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/actions.js":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_HEIGHT_DIFF="SET_HEIGHT_DIFF",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",e.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP"}(o||(o={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/commands.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return l}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/actions.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/plugin-factory.js");const i=e=>Object(r.a)({type:o.a.SET_KEYBOARD_HEIGHT,keyboardHeight:e}),s=e=>Object(r.a)({type:o.a.SET_HEIGHT_DIFF,heightDiff:e}),a=e=>Object(r.a)({type:o.a.SET_WINDOW_HEIGHT,windowHeight:e}),l=e=>Object(r.a)({
type:o.a.SET_MOBILE_PADDING_TOP,paddingTop:e})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-scroll/actions.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new o.PluginKey("mobileScroll"),{createPluginState:d,getPluginState:u,createCommand:p}=Object(r.a)(c,(function(e,t){switch(t.type){case i.a.SET_KEYBOARD_HEIGHT:return a(a({},e),{},{keyboardHeight:t.keyboardHeight});case i.a.SET_HEIGHT_DIFF:return a(a({},e),{},{heightDiff:t.heightDiff});case i.a.SET_WINDOW_HEIGHT:return a(a({},e),{},{windowHeight:t.windowHeight});case i.a.SET_MOBILE_PADDING_TOP:return a(a({},e),{},{mobilePaddingTop:t.paddingTop})}return e}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mobile-selection/mobile-selection-plugin.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js");const i=new o.PluginKey("mobile-selection"),s=e=>new o.Plugin({view:t=>{const n=t.domAtPos.bind(t);return{update:(t,o)=>{const{state:s,state:{selection:a,doc:l}}=t;if(o.doc.eq(l)&&o.selection.eq(a))return;const c=Object(r.findDomRefAtPos)(a.$anchor.pos,n),{top:d,left:u}=c.getBoundingClientRect(),{nodeTypes:p,markTypes:h}=(({selection:e,doc:t})=>{const n=new Set,o=new Set;return t.nodesBetween(e.from,e.to,(e=>(n.add(e.type.name),e.marks.forEach((e=>o.add(e.type.name))),!0))),{nodeTypes:Array.from(n),markTypes:Array.from(o)}})(s);e(i,{rect:{top:Math.round(d),left:Math.round(u)},selection:s.selection.toJSON(),nodeTypes:p,markTypes:h})}}}}),a=()=>({name:"mobileSelection",pmPlugins:()=>[{name:"mobileSelection",plugin:({dispatch:e})=>s(e)}]})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/paste/md.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}))
;var o=n("./node_modules/markdown-it/index.js"),r=n.n(o),i=n("./node_modules/linkify-it/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/hyperlink/utils.js");const l=(e,t,n)=>[].concat(e.slice(0,t),n,e.slice(t+1)),c=e=>/^<a[>\s]/i.test(e),d=e=>/^<\/a\s*>/i.test(e),u=e=>{const t=e.tokens,n=new s.a;for(let o=0,r=t.length;o<r;o++){if("inline"!==t[o].type||!n.pretest(t[o].content))continue;let r=t[o].children,i=0;for(let s=r.length-1;s>=0;s--){const u=r[s];if("link_close"!==u.type){if("html_inline"===u.type&&(c(u.content)&&i>0&&i--,d(u.content)&&i++),!(i>0)&&"text"===u.type&&n.test(u.content)){const i=u.content;let c=Object(a.f)(i);c.length||(c=n.match(i)||[]);const d=[];let p=u.level,h=0;for(let t=0;t<c.length;t++){const{url:n}=c[t],o=e.md.normalizeLink(n);if(!e.md.validateLink(o))continue;let r=c[t].text
;r=c[t].schema?"mailto:"!==c[t].schema||/^mailto:/i.test(r)?e.md.normalizeLinkText(r):e.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const s=c[t].index;if(s>h){const t=new e.Token("text","",0);t.content=i.slice(h,s),t.level=p,d.push(t)}let a=new e.Token("link_open","a",1);a.attrs=[["href",o]],a.level=p++,a.markup="linkify",a.info="auto",d.push(a),a=new e.Token("text","",0),a.content=r,a.level=p,d.push(a),a=new e.Token("link_close","a",-1),a.level=--p,a.markup="linkify",a.info="auto",d.push(a),h=c[t].lastIndex}if(h<i.length){const t=new e.Token("text","",0);t.content=i.slice(h),t.level=p,d.push(t)}t[o].children=r=l(r,s,d)}}else for(s--;r[s].level!==u.level&&"link_open"!==r[s].type;)s--}}};const p=r()("zero",{html:!1});p.enable(["entity","escape","newline"]),p.use((e=>e.core.ruler.push("custom-linkify",u)))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/fallback.js":function(e,t,n){
"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("./node_modules/react/index.js"),r=n.n(o);function i({label:e=""}){return r.a.createElement("svg",{"aria-label":e,width:40,height:40},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},r.a.createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),r.a.createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),r.a.createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),r.a.createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),r.a.createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),r.a.createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"
})))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return k})),n.d(t,"p",(function(){return E})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return C})),n.d(t,"i",(function(){return x})),n.d(t,"h",(function(){return T})),n.d(t,"g",(function(){return P}))
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/react-loadable/lib/index.js"),s=n.n(i);function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const l=s()({loader:()=>n.e("179bcc5780").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/action.js")).then((e=>e.default)),loading:()=>null}),c=s()({loader:()=>n.e("ff32f6bd81").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/code.js")).then((e=>e.default)),loading:()=>null}),d=s()({
loader:()=>n.e("f182fb8f97").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/date.js")).then((e=>e.default)),loading:()=>null}),u=s()({loader:()=>n.e("b2ccd9e698").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/decision.js")).then((e=>e.default)),loading:()=>null}),p=s()({loader:()=>n.e("097ea5dafd").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/divider.js")).then((e=>e.default)),loading:()=>null}),h=s()({loader:()=>n.e("1ede5b5378").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/emoji.js")).then((e=>e.default)),loading:()=>null}),m=s()({loader:()=>n.e("80c1145005").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/images.js")).then((e=>e.default)),loading:()=>null}),f=s()({
loader:()=>n.e("4d1130fbda").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/layout.js")).then((e=>e.default)),loading:()=>null}),b=s()({loader:()=>n.e("7aaeb39f60").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/link.js")).then((e=>e.default)),loading:()=>null}),g=s()({loader:()=>n.e("e751f24c2f").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/list-number.js")).then((e=>e.default)),loading:()=>null}),y=s()({loader:()=>n.e("2ce788718a").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/list.js")).then((e=>e.default)),loading:()=>null}),v=s()({loader:()=>n.e("110c50ddda").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/mention.js")).then((e=>e.default)),loading:()=>null}),O=s()({
loader:()=>n.e("41c38eacca").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/panel-error.js")).then((e=>e.default)),loading:()=>null}),j=s()({loader:()=>n.e("8fa80bee80").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/panel-note.js")).then((e=>e.default)),loading:()=>null}),w=s()({loader:()=>n.e("cfaf49e46d").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/panel-success.js")).then((e=>e.default)),loading:()=>null}),k=s()({loader:()=>n.e("56c17732ce").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/panel-warning.js")).then((e=>e.default)),loading:()=>null}),E=s()({loader:()=>n.e("a43bc68a85").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/panel.js")).then((e=>e.default)),loading:()=>null}),S=s()({
loader:()=>n.e("7c28f8380e").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/quote.js")).then((e=>e.default)),loading:()=>null}),_=s()({loader:()=>n.e("6918864a23").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/status.js")).then((e=>e.default)),loading:()=>null}),C=s()({loader:()=>n.e("29a9a6dd30").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/table.js")).then((e=>e.default)),loading:()=>null});s()({loader:()=>Promise.resolve().then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/fallback.js")).then((e=>e.default)),loading:()=>null});const x=e=>{let{level:t}=e,o=a(e,["level"]);const i=s()({loader:()=>function(e){switch(e){case 1:return n.e("71b3b4c47f").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading1.js"));case 2:
return n.e("5484614adb").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading2.js"));case 3:return n.e("5a4ceb446e").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading3.js"));case 4:return n.e("10e8afe510").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading4.js"));case 5:return n.e("d386d8691d").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading5.js"));case 6:default:return n.e("8dd68378bb").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/heading6.js"))}}(t).then((e=>e.default)),loading:()=>null});return r.a.createElement(i,o)},T=s()({loader:()=>n.e("444b52ac71").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/feedback.js")).then((e=>e.default)),loading:()=>null}),P=s()({
loader:()=>n.e("b96d5c658a").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/expand.js")).then((e=>e.default)),loading:()=>null})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/commands.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/insert.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/plugin-key.js");const i=()=>(e,t)=>(t&&t(e.tr.setMeta(r.a,{isElementBrowserModalOpen:!0})),!0),s=()=>(e,t)=>(t&&t(e.tr.setMeta(r.a,{isElementBrowserModalOpen:!1})),!0),a=e=>(t,n)=>{const r=e.action(((e,n={})=>Object(o.a)(e,n)(t,t.tr,t.selection.head)),t);return r&&n&&n(r),!0}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/index.js":function(t,n,o){"use strict";o.d(n,"b",(function(){return $}))
;var r=o("./node_modules/react/index.js"),i=o.n(r),s=o("./node_modules/prosemirror-state/dist/index.es.js"),a=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),l=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js"),c=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/plugin-key.js"),d=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/search.js"),u=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),p=o("./node_modules/@babel/runtime/helpers/extends.js"),h=o.n(p),m=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=o("./node_modules/react-intl/lib/index.es.js"),b=o("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),g=o("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),y=o("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),v=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/components/ModalTransition.js"),O=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/components/ModalWrapper.js"),j=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/styled/Content.js"),w=o("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/question-circle.js"),k=o.n(w),E=o("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ElementBrowser/components/ElementBrowserLoader.js")
;function S(e){return[{title:e.formatMessage(_.all),name:"all"},{title:e.formatMessage(_.formatting),name:"formatting"},{title:e.formatMessage(_["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(_.media),name:"media"},{title:e.formatMessage(_.visuals),name:"visuals"},{title:e.formatMessage(_.navigation),name:"navigation"},{title:e.formatMessage(_["external-content"]),name:"external-content"},{title:e.formatMessage(_.communication),name:"communication"},{title:e.formatMessage(_.reporting),name:"reporting"},{title:e.formatMessage(_.admin),name:"admin"},{title:e.formatMessage(_.development),name:"development"}]}const _=Object(f.h)({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",
defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"
},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}}),C=Object(f.h)({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}}),x=e=>{const[t,n]=Object(r.useState)(),{helpUrl:o,intl:s}=e,a=Object(r.useCallback)((e=>{n(e)}),[n]),l=Object(r.useCallback)((t=>{e.onInsertItem(t)}),[e]),c=Object(r.useCallback)((e=>i.a.createElement(P,h()({},e,{onInsert:()=>l(t),beforeElement:o?A(o,s.formatMessage(C.help)):void 0}))),[l,t,o,s]),d=Object(r.useCallback)((t=>{"Escape"===t.key&&e.onClose()}),[e]),u={Body:Object(r.useCallback)((()=>i.a.createElement(D,null,i.a.createElement(E.a,{categories:S(e.intl),getItems:e.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:a,onInsertItem:l}))),[e.intl,e.getItems,a,l]),Footer:c};return i.a.createElement("div",{"data-editor-popup":!0,onClick:T,onKeyDown:d
},i.a.createElement(v.b,null,e.isOpen&&i.a.createElement(O.a,{stackIndex:1,key:"element-browser-modal",onClose:e.onClose,height:"664px",width:"x-large",autoFocus:!1,components:u,shouldCloseOnEscapePress:!1})))};x.displayName="ModalElementBrowser";const T=e=>e.stopPropagation(),P=({onInsert:e,onClose:t,showKeyline:n,beforeElement:o})=>i.a.createElement(j.d,{showKeyline:n,style:{padding:16}},o||i.a.createElement("span",null),i.a.createElement(I,null,i.a.createElement(M,null,i.a.createElement(y.a,{appearance:"primary",onClick:e,testId:"ModalElementBrowser__insert-button"},"Insert")),i.a.createElement(M,null,i.a.createElement(y.a,{appearance:"subtle",onClick:t,testId:"ModalElementBrowser__close-button"},"Close")))),A=(e,t)=>i.a.createElement(y.a,{iconBefore:i.a.createElement(k.a,{label:"help",size:"medium"}),appearance:"subtle-link",href:e,target:"_blank",testId:"ModalElementBrowser__help-button"
},t),I=m.default.div(["display:inline-flex;margin:0 -4px;"]),M=m.default.div(["flex:1 0 auto;margin:0 4px;"]),D=m.default.div(["display:flex;flex:1 1 auto;box-sizing:border-box;padding:","px ","px 0 10px;overflow:hidden;background-color:",";border-radius:","px;"],16,16,Object(b.a)({light:"#FFFFFF",dark:"#283447"})(),Object(g.borderRadius)());var N=Object(f.i)(x),R=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/commands.js");const L=({quickInsertState:e,editorView:t,helpUrl:n})=>{const o=Object(r.useCallback)(((t,n)=>Object(d.b)(e,{})(t,n)),[e]),s=Object(r.useCallback)((()=>{t.hasFocus()||t.focus()}),[t]),a=Object(r.useCallback)((e=>{Object(R.a)()(t.state,t.dispatch),s(),Object(R.b)(e)(t.state,t.dispatch)}),[t.dispatch,t.state,s]),l=Object(r.useCallback)((()=>{Object(R.a)()(t.state,t.dispatch),s()}),[t.dispatch,t.state,s]);return i.a.createElement(N,{getItems:o,onInsertItem:a,helpUrl:n,isOpen:e&&e.isElementBrowserModalOpen||!1,onClose:l})}
;var B=({editorView:e,helpUrl:t})=>{const n=Object(r.useCallback)((({quickInsertState:n})=>i.a.createElement(L,{quickInsertState:n,editorView:e,helpUrl:t})),[e,t]);return i.a.createElement(u.a,{plugins:{quickInsertState:c.a},render:n})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.a=t=>({name:"quickInsert",pmPlugins:t=>[{name:"quickInsert",
plugin:({providerFactory:n,reactContext:o,dispatch:r})=>function(t,n,o,r){return new s.Plugin({key:c.a,state:{init:()=>({isElementBrowserModalOpen:!1,lazyDefaultItems:()=>$(t||[],o)}),apply(e,t){const n=e.getMeta(c.a);if(n){if(Object.keys(n).some((e=>t[e]!==n[e]))){const e=z(z({},t),n);return r(c.a,e),e}}return t}},view(t){const o=async(n,o)=>{if(o)try{const e=await o,n=await e.getItems();(e=>(t,n)=>(n&&n(t.tr.setMeta(c.a,e)),!0))({provider:e,providedItems:n})(t.state,t.dispatch)}catch(e){console.error("Error getting items from quick insert provider",e)}};return n.subscribe("quickInsertProvider",o),{destroy(){n.unsubscribe("quickInsertProvider",o)}}}})}(t,n,o().intl,r)}],pluginsOptions:{typeAhead:{trigger:"/",headless:t?t.headless:void 0,getItems:(e,n,o,{prevActive:r,queryChanged:i},s,u)=>{!r&&i&&u(l.a,{payload:{action:a.a.INVOKED,actionSubject:a.b.TYPEAHEAD,actionSubjectId:a.c.TYPEAHEAD_QUICK_INSERT,attributes:{inputMethod:a.e.KEYBOARD},eventType:a.d.UI}});const p=c.a.getState(n)
;return Object(d.b)(p,t)(e)},selectItem:(e,t,n)=>t.action(n,e)}},contentComponent:({editorView:e})=>t&&t.enableElementBrowser?i.a.createElement(B,{editorView:e,helpUrl:t.elementBrowserHelpUrl}):null});const H={},$=(e,t)=>(H[t.locale]||(H[t.locale]=e.reduce(((e,n)=>"function"==typeof n?e.concat(n(t)):e.concat(n)),[])),H[t.locale])},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("quickInsertPluginKey")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/search.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n("./node_modules/fuse.js/dist/fuse.js"),r=n.n(o),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js");const s={threshold:.3,keys:[{name:"title",weight:.5},{name:"priority",weight:.3},{name:"keywords",weight:.15
},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};function a(e,t){const n=new r.a(t,s);return""===e?t.slice(0).sort(((e,t)=>(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY))):n.search(e)}const l=(e,t)=>(n,o)=>{const r=t&&t.disableDefaultItems?[]:e.lazyDefaultItems(),s=e.providedItems,l=s?Object(i.f)([...r,...s],(e=>e.title)):r;return a(n||"","all"!==o&&o?l.filter((e=>e.categories&&e.categories.includes(o))):l)},c=({providedItems:e,lazyDefaultItems:t},n)=>()=>{const o=n&&n.disableDefaultItems?[]:t();return(e?Object(i.f)([...o,...e],(e=>e.title)):o).filter((e=>e.featured))}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return b}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/direction.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-valid-target-node.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/types.js");const p={[s.a.LEFT]:-1,[s.a.RIGHT]:1,[s.a.UP]:-1,[s.a.DOWN]:1,[s.a.BACKWARD]:-1,[s.a.FORWARD]:1};const h=(e,t)=>(n,u,h)=>{const{doc:m,schema:f,selection:b,tr:g}=n;let y=Object(s.b)(e)?b.$from:b.$to,v=b.empty
;if(b instanceof o.TextSelection){if(!t||!t(e.toString()))return!1;if(e===s.a.UP&&!Object(d.b)(n)&&Object(l.e)(m,f,y,-1)||e===s.a.DOWN&&(Object(d.d)(n)||Object(l.e)(m,f,y,1)))return!1;y=m.resolve(Object(s.b)(e)?y.before():y.after()),v=!1}if(b instanceof o.NodeSelection){if(b.node.isInline)return!1;if(e===s.a.UP||e===s.a.DOWN)return!1}if(!function(e,t){const{doc:n,schema:r,selection:i}=t;let a=Object(s.b)(e)?i.$from:i.$to;if(i instanceof o.TextSelection){if((e===s.a.UP&&!Object(d.b)(t)||e===s.a.DOWN&&!Object(d.d)(t))&&Object(l.b)(n,a,r,p[e]))return!1;if(e===s.a.LEFT||e===s.a.RIGHT){const t=Object(l.b)(n,a,r,p[e]),{mediaSingle:o}=r.nodes;if(t&&t.type===o&&("wrap-right"===t.attrs.layout||"wrap-left"===t.attrs.layout))return!1}}if(i instanceof o.NodeSelection&&(e===s.a.LEFT||e===s.a.RIGHT)){const e=n.nodeAt(i.$from.pos),{mediaSingle:t}=r.nodes;if(e&&e.type===t&&("wrap-right"===e.attrs.layout||"wrap-left"===e.attrs.layout))return!1}return!0}(e,n))return!1
;if(b instanceof a.a&&Object(c.a)(Object(s.b)(e)?y.nodeBefore:y.nodeAfter)&&(Object(s.b)(e)&&b.side===a.b.LEFT||Object(s.c)(e)&&b.side===a.b.RIGHT))return u&&u(g.setSelection(new a.a(y,b.side===a.b.RIGHT?a.b.LEFT:a.b.RIGHT)).scrollIntoView()),!0;if(h){const e=h.domAtPos.bind(h),t=Object(r.findDomRefAtPos)(y.pos,e);if(t&&t.textContent===i.a)return!1}const O=a.a.findFrom(y,Object(s.b)(e)?-1:1,v);return!!O&&(Object(c.a)(Object(s.c)(e)?O.$from.nodeBefore:O.$from.nodeAfter)?(u&&u(g.setSelection(O).scrollIntoView()),!0):(u&&u(g.setSelection(new a.a(O.$from,Object(s.c)(e)?a.b.LEFT:a.b.RIGHT)).scrollIntoView()),!0))},m=e=>(t,n)=>{if(t.selection instanceof a.a){const{$from:i,$anchor:l}=t.selection;let{tr:c}=t;if(Object(s.b)(e)){if("left"===t.selection.side)return c.setSelection(new a.a(l,a.b.RIGHT)),n&&n(c),!0;c=Object(r.removeNodeBefore)(t.tr)}else i.nodeAfter&&(c=c.delete(i.pos,i.pos+i.nodeAfter.nodeSize))
;return n&&n(c.setSelection(o.Selection.near(c.doc.resolve(c.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1},f=(e,t=a.b.LEFT)=>(n,o)=>{if(e>n.doc.content.size)return!1;const r=n.doc.resolve(e);return!!a.a.valid(r)&&(o&&o(n.tr.setSelection(new a.a(r,t))),!0)},b=(e,t,n,r)=>(i,s)=>{if(!u.c.get(i))return!1;const l=((e,t,n,o)=>{const r=t.getBoundingClientRect();if(e.clientY<r.top)return{position:0,side:a.b.LEFT};if(r.left>0){const t=n({left:r.left,top:e.clientY});if(t&&t.inside>-1){const n=o.doc.resolve(t.inside).before(1),i=e.clientX<r.left?a.b.LEFT:a.b.RIGHT;let s;if(i===a.b.LEFT)s=n;else{const e=o.doc.nodeAt(n);e&&(s=n+e.nodeSize)}return{position:s,side:i}}}return null})(e,t,n,i);if(!l)return!1;const d=void 0!==l.position?i.doc.resolve(l.position):null;if(null===d)return!1;if((l.side===a.b.LEFT?Object(c.a)(d.nodeAfter):Object(c.a)(d.nodeBefore))&&a.a.valid(d))return i.selection instanceof a.a&&s&&s(i.tr.setSelection(o.Selection.near(d))),
s&&s(i.tr.setSelection(new a.a(d,l.side))),!0;if(!1===r){const e=o.Selection.findFrom(d,l.side===a.b.LEFT?1:-1,!0);if(e)return s&&s(i.tr.setSelection(e)),!0}return!1}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/direction.js":function(e,t,n){"use strict";let o;function r(e){return-1!==[o.UP,o.LEFT,o.BACKWARD].indexOf(e)}function i(e){return-1!==[o.RIGHT,o.DOWN,o.FORWARD].indexOf(e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/prosemirror-state/dist/index.es.js"),s=n("./node_modules/prosemirror-model/dist/index.es.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-valid-target-node.js");let l;!function(e){e.LEFT="left",e.RIGHT="right"}(l||(l={}));const c="gapcursor";class d extends i.Selection{constructor(e,t=l.LEFT){super(e,e),r()(this,"visible",!1),this.side=t}static valid(e){const{parent:t,nodeBefore:n,nodeAfter:o}=e;if(!(Object(a.a)(n)?n:Object(a.a)(o)?o:null)||t.isTextblock)return!1;const r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findFrom(e,t,n=!1){const o=1===t?l.RIGHT:l.LEFT;if(!n&&d.valid(e))return new d(e,o);let r=e.pos,i=null;for(let s=e.depth;;s--){const n=e.node(s);if(o===l.RIGHT?e.indexAfter(s)<n.childCount:e.index(s)>0){i=n.maybeChild(o===l.RIGHT?e.indexAfter(s):e.index(s)-1);break}if(0===s)return null;r+=t
;const a=e.doc.resolve(r);if(d.valid(a))return new d(a,o)}for(;i=o===l.RIGHT?i.firstChild:i.lastChild,null!==i;){r+=t;const n=e.doc.resolve(r);if(d.valid(n))return new d(n,o)}return null}static fromJSON(e,t){return new d(e.resolve(t.pos),t.side)}map(e,t){const n=e.resolve(t.map(this.head));return d.valid(n)?new d(n,this.side):i.Selection.near(n)}eq(e){return e instanceof d&&e.head===this.head}content(){return s.Slice.empty}getBookmark(){return new u(this.anchor)}toJSON(){return{pos:this.head,type:c,side:this.side}}}i.Selection.jsonID(c,d);class u{constructor(e){this.pos=e}map(e){return new u(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return d.valid(t)?new d(t):i.Selection.near(t)}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}))
;var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/unsupported-content/styles.js");const s=e=>e===r.b.LEFT;function a(e,t,n,o=-1){let r=t,i=null;const{mediaSingle:s,media:a,mediaGroup:l}=n.nodes;do{if(r=e.resolve(-1===o?r.before():r.after()),!r)return null;if(i=(-1===o?r.nodeBefore:r.nodeAfter)||r.parent,!i||i.type===n.nodes.doc)return null;if(i.type===s||i.type===a||i.type===l)return i}while(r.depth>0);return null}const l=(e,t,n,o)=>{let r=n,i=-1===o?r.nodeBefore:r.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;r.depth>0;){if(r=e.resolve(-1===o?r.before():r.after()),!r)return!1;if(i=(-1===o?r.nodeBefore:r.nodeAfter)||r.parent,!i||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}let s=i;for(;s&&s.firstChild;)if(s=s.firstChild,s&&(s.isTextblock||s.isText))return!0;return!1}
;function c(e){let t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((e=>"breakout"===e.type.name))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}const d=e=>{if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="caption-placeholder"]'))return!0;let t,n=e;for(;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(o.b.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){const n=t.querySelector(`.${o.b.ROW_CONTROLS_WRAPPER}`),r=e&&e.classList&&e.classList.contains(o.b.COLUMN_CONTROLS_DECORATIONS);return n&&n.contains(e)||r}return!!e.closest(`.${i.a.BLOCK_CONTAINER}`)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-ignored.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;const o=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],r=e=>!!e&&-1!==o.indexOf(e.type.name)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-valid-target-node.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/utils/is-ignored.js");const r=e=>!!e&&!Object(o.a)(e)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/types.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");const r=new o.PluginKey("selection"),i=new o.PluginKey("gapCursorPlugin");let s,a;!function(e){e.Before="Before",e.Start="Start",e.Inside="Inside",e.End="End"}(s||(s={})),function(e){
e[e.Before=-1]="Before",e[e.After=1]="After"}(a||(a={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y}));var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/uuid.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin-key.js"),c=n("./node_modules/prosemirror-utils/dist/index.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={text:"",color:"neutral"},m=(e=-2)=>(t,n)=>{const o=t(n.schema.nodes.status.createChecked(u(u({},h),{},{localId:i.b.generate()}))),s=o.selection.from+e;return o.setSelection(r.NodeSelection.create(o.doc,s)).setMeta(l.a,{showStatusPickerAt:s,isNew:!0})},f=e=>(t,n)=>{const{schema:s}=t,a=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||i.b.generate()}):e,d=u(u({},h),a);let p=t.tr
;const{showStatusPickerAt:m}=l.a.getState(t);if(!m){const e=s.nodes.status.createChecked(d),i=o.Fragment.fromArray([e,t.schema.text(" ")]);if(Object(c.canInsert)(p.selection.$from,i))p.insert(p.selection.from,i).setSelection(r.NodeSelection.create(p.doc,p.selection.from-i.size));else{const e=r.NodeSelection.create(p.doc,p.selection.from-p.selection.$anchor.parentOffset-1);p.insert(e.to,i).setSelection(r.NodeSelection.create(p.doc,e.to+1))}return p.setMeta(l.a,{showStatusPickerAt:p.selection.from,isNew:!0}).scrollIntoView(),n&&n(p),!0}return!!t.doc.nodeAt(m)&&(p.setNodeMarkup(m,s.nodes.status,d).setSelection(r.NodeSelection.create(p.doc,m)).setMeta(l.a,{showStatusPickerAt:m}).scrollIntoView(),n&&n(p),!0)},b=(e,t)=>Object(s.d)({action:a.a.INSERTED,actionSubject:a.b.DOCUMENT,actionSubjectId:a.c.STATUS,attributes:{inputMethod:e},eventType:a.d.TRACK})(f(t)),g=e=>(t,n)=>(n(t.tr.setMeta(l.a,{showStatusPickerAt:e,isNew:!1})),!0),y=()=>e=>{
const{state:t,dispatch:n}=e,{showStatusPickerAt:o}=l.a.getState(t);if(!o)return;const i=t.tr.doc.nodeAt(o);if(!i)return;let s=t.tr;s=s.setMeta(l.a,{showStatusPickerAt:null,isNew:!1}),i.attrs.text?s.selection.from===o&&(s=s.setSelection(r.Selection.near(t.tr.doc.resolve(o+2)))):s=s.delete(o,o+1),n(s),e.focus()}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("statusPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin.js":function(e,t,n){"use strict"
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-view/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/whitespace.js"),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./node_modules/react-intl/lib/index.es.js"),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./node_modules/@atlaskit/status/dist/es2019/element.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/nodeviews/ReactNodeView.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/InlineNodeWrapper/index.js");const f=Object(d.h)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"}}),b=u.default.span(["opacity:",";"],(e=>e.placeholderStyle?.5:1));class g extends c.a.Component{constructor(e){super(e),
a()(this,"handleClick",(e=>{e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}))}render(){const{text:e,color:t,localId:n,style:o,intl:{formatMessage:r}}=this.props,i=e||r(f.placeholder);return c.a.createElement(b,{placeholderStyle:!e},c.a.createElement(p.a,{text:i,color:t,localId:n,style:o,onClick:this.handleClick}))}}g.displayName="StatusContainerView",a()(g,"displayName","StatusContainerView");const y=Object(d.i)(g);class v extends h.a{createDomRef(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(m.a)():super.createDomRef()}setDomAttrs(e,t){const{color:n,localId:o,style:r}=e.attrs;t.dataset.color=n,t.dataset.localId=o,t.dataset.style=r}render(e){const{options:t}=e,{text:n,color:o,localId:r,style:s}=this.node.attrs;return c.a.createElement(m.b,{useInlineWrapper:t&&t.useInlineWrapper},c.a.createElement(y,{view:this.view,text:n,color:o,style:s,localId:r}),t&&t.allowZeroWidthSpaceAfter&&i.a)}}
function O(e,t,n){return(o,r,i)=>new v(o,r,i,e,t,{options:n}).init()}v.displayName="StatusNodeView";var j=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/plugin-key.js"),w=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/utils.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=(e,t,n,s)=>new o.Plugin({state:{
init:()=>({isNew:!1,showStatusPickerAt:null}),apply(t,n,r){const i=t.getMeta(j.a);if(i){const t=E(E({},n),i);return e(j.a,t),t}if(t.docChanged&&n.showStatusPickerAt){const{pos:o,deleted:r}=t.mapping.mapResult(n.showStatusPickerAt),i=r?null:o,s=E(E({},n),{},{showStatusPickerAt:i});if(s.showStatusPickerAt!==n.showStatusPickerAt)return e(j.a,s),s}if(!t.selection.eq(r.selection)){const i=t.selection.from,s=t.doc.nodeAt(i);let a=null;if(s&&s.type===r.schema.nodes.status&&t.selection instanceof o.NodeSelection&&(a=i),a!==n.showStatusPickerAt){const t=E(E({},n),{},{isNew:!1,showStatusPickerAt:a});return e(j.a,t),t}}return n}},filterTransaction:(e,t)=>{if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof o.TextSelection&&t.selection instanceof o.NodeSelection){const{isNew:n,showStatusPickerAt:o}=j.a.getState(t),r=e.doc.nodeAt(e.selection.from);if(n&&o&&r&&r.type===t.schema.nodes.status)return!1}return!0},appendTransaction:(e,t,n)=>{let o=!1,r=n.tr
;if(e.find((e=>e.selectionSet))){let e=Object(w.b)(t.selection),i=Object(w.b)(n.selection);if(e&&(i&&e.localId!==i.localId||!i)&&Object(w.a)(e)){const e=t.selection.from;r.delete(r.mapping.map(e),r.mapping.map(e+1)),o=!0}}return o?r:void 0},key:j.a,props:{nodeViews:{status:O(t,n,s)},decorations(e){const{tr:t}=e,n=t.doc.nodeAt(t.selection.from);if(s&&s.allowZeroWidthSpaceAfter&&n&&n.type===e.schema.nodes.status){const n=()=>document.createTextNode(i.a),o=r.a.widget(t.selection.from,n,{side:1,key:"#status-zero-width-char-decoration"}),{doc:s}=e;return r.b.create(s,[o])}return null}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/status/utils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");const r=e=>{if(e&&e instanceof o.NodeSelection){if("status"===e.node.type.name)return e.node.attrs||null}return null},i=e=>e&&(e.text&&0===e.text.trim().length||""===e.text)},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/commands/insert.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return P}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),s=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/add-column.js"),a=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/clone-tr.js");var l=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-rect.js"),c=n("./node_modules/prosemirror-utils/dist/index.js"),d=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,{map:t,tableStart:n,table:o},r){let i=n;for(let c=0;c<r;c++)i+=o.child(c).nodeSize;const s=[];let a=r>0?-1:0;(function(e,t,n){const o=Object(d.a)(t.type.schema).header_cell;for(let r=0;r<e.width;r++){const i=t.nodeAt(e.map[r+n*e.width]);if(i&&i.type!==o)return!1}return!0})(t,o,r+a)&&(a=0===r||r===t.height?null:0);for(let c=0,u=t.width*r;c<t.width;c++,
u++)if(r>0&&r<t.height&&t.map[u]===t.map[u-t.width]){const r=t.map[u],i=o.nodeAt(r);if(!i)throw new Error(`addRow: node not found at pos ${r}`);const{attrs:s}=i;e.setNodeMarkup(n+r,void 0,p(p({},s),{},{rowspan:s.rowspan+1})),c+=s.colspan-1}else{let e;if(null==a)e=Object(d.a)(o.type.schema).cell;else{const n=t.map[u+a*t.width],r=o.nodeAt(n);if(!r)throw new Error(`addRow: invalid node at mapped pos ${n}`);e=r.type}s.push(e.createAndFill())}const l=Object(d.a)(o.type.schema).row.create(null,s);return e.insert(i,l),e}var f=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-cells-in-row.js"),b=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/set-cell-attrs.js");const g=(e,t)=>n=>{let o=[];const r=Object(f.a)(e)(n.selection);if(r)for(let e=r.length-1;e>=0;e--)t(r[e],n)&&o.push(r[e]);return o},y=(e,t)=>n=>{const o=Object(i.c)(n.selection);if(o){const s=r.b.get(o.node),l=e-1;if(t&&l>=0)return Object(a.a)((e=>t=>{const n=Object(i.c)(t.selection);if(n){
const o=r.b.get(n.node);if(e>=0&&e<=o.height){const r=n.node,i=Object(d.a)(r.type.schema);let s=n.start;for(let t=0;t<e+1;t++)s+=r.child(t).nodeSize;const a=r.child(e);let l=[],u=0;if(a.forEach((e=>{if(1===e.attrs.rowspan){u+=e.attrs.colspan;const t=i[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&l.push(t)}})),u<o.width){let n=[];for(let o=e;o>=0;o--){let r=g(o,((t,n)=>{const r=t.node.attrs.rowspan;return r>1&&o+r>e}))(t);n.push(...r)}n.length&&n.forEach((e=>{t=Object(b.a)(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return Object(c.safeInsert)(i.row.create(a.attrs,l),s)(t)}}return t})(l)(n));if(e>=0&&e<=s.height)return Object(a.a)(m(n,{map:s,tableStart:o.start,table:o.node},e))}return n}
;var v=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/create-table.js"),O=n("./node_modules/@atlaskit/adf-schema/dist/es2019/steps/table/add-column.js"),j=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/plugin-factory.js"),w=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/nodes.js"),k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/row-controls.js"),E=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/get-allow-add-column-custom-step.js");function S(e,t=!1){return t?function(e){return t=>{const n=Object(i.c)(t.selection);return n?t.step(O.a.create(t.doc,n.pos,e)):t}}(e):(e=>t=>{const n=Object(i.c)(t.selection);if(n){const o=r.b.get(n.node);if(e>=0&&e<=o.width)return Object(a.a)(Object(s.a)(t,{map:o,tableStart:n.start,table:n.node},e))}return t})(e)}const _=(e,t)=>{if(!Object(i.c)(e.selection))return!1;if(t){t(S(Object(l.a)(e).left,Object(E.a)(e))(e.tr))}return!0},C=(e,t)=>{
if(!Object(i.c)(e.selection))return!1;if(t){t(S(Object(l.a)(e).right,Object(E.a)(e))(e.tr))}return!0},x=e=>(t,n)=>{const s=S(e,Object(E.a)(t))(t.tr),a=Object(i.c)(s.selection);if(!a)return!1;const l=r.b.get(a.node).positionAt(0,e,a.node);return n&&n(s.setSelection(o.Selection.near(s.doc.resolve(a.start+l)))),!0},T=(e,t)=>(n,s)=>{const a=Object(w.b)(n);if(0===e&&a)return!1;const l=a&&e>1||!a&&e>0?Object(k.a)(n.schema)(e)(n.tr):y(e)(n.tr),c=Object(i.c)(l.selection);if(!c)return!1;if(s){const{selection:i}=n;if(t){const t=r.b.get(c.node).positionAt(e,0,c.node);l.setSelection(o.Selection.near(l.doc.resolve(c.start+t)))}else l.setSelection(i.map(l.doc,l.mapping));s(l)}return!0},P=(e,t)=>{if(!Object(j.c)(e))return!1;const n=Object(v.a)(e.schema);return t&&t(Object(c.safeInsert)(n)(e.tr).scrollIntoView()),!0}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/default-table-selection.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={
hoveredColumns:[],hoveredRows:[],isInDanger:!1}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return x}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),a=n("./node_modules/prosemirror-transform/dist/index.es.js");var l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/default-table-selection.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-key.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/sort-step.js");function u(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>{const n=e.steps.find((e=>e instanceof d.a));return n&&t&&t.pos===n.pos?n.next:void 0},f=(e,t)=>{if(!e.getMeta(c.a))return t},b=({tr:e,table:t})=>n=>{if(!(t&&t.node))return p(p({},n),{},{targetCellPosition:void 0})
;const{tableCell:o,tableHeader:r}=e.doc.type.schema.nodes,s=Object(i.findParentNodeOfType)([o,r])(e.selection),a=s?s.pos:void 0;return n.targetCellPosition===a?n:p(p({},n),{},{targetCellPosition:a})},g=({tr:e,table:t})=>n=>{const o=t&&t.node;return!o||(e=>{const[t]=e.steps;if(!(t&&t instanceof a.e))return!1;const{slice:{content:n},from:o,to:r}=t,i=n.firstChild;return o===r&&1===n.childCount&&!!i&&!!i.text&&1===i.text.length})(e)?n:p(p(p({},n),l.a),{},{tableNode:o,ordering:m(e,t),resizeHandleColumnIndex:f(e,n.resizeHandleColumnIndex)})},y=(e,t)=>(e=>t=>n=>t.table?e.reduce(((e,n)=>n(t)(e)),n):n.targetCellPosition?p(p({},n),{},{targetCellPosition:void 0}):n)([b,g])({tr:e,table:Object(s.c)(e.selection)})(t);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=new o.PluginKey("tablePlugin"),{createPluginState:_,createCommand:C,getPluginState:x}=Object(r.a)(S,((e,t)=>{switch(t.type){case"TOGGLE_HEADER_COLUMN":return O(O({},e),{},{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return O(O({},e),{},{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return O(O(O({},e),t.data),l.a);case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return O(O(O({},e),t.data),{},{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":return O(O({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return O(O({},e),{},{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:O(O(O({},e),t.data),{},{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":
return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:O(O(O({},e),t.data),{},{insertRowButtonIndex:void 0});case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?O(O({},e),{},{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"HIDE_RESIZE_HANDLE_LINE":return O(O(O({},e),t.data),{},{resizeHandleColumnIndex:void 0});case"ADD_RESIZE_HANDLE_DECORATIONS":return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex?e:O(O({},e),t.data);case"SET_TABLE_SIZE":return e.tableWidth!==t.data.tableWidth||e.tableHeight!==t.data.tableHeight?O(O({},e),t.data):e;case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return O(O({},e),t.data);default:return e}}),{mapping:(e,t)=>{if(e.docChanged){let n={};if(t.targetCellPosition){const{pos:o,deleted:r}=e.mapping.mapResult(t.targetCellPosition);n={
targetCellPosition:r?void 0:o}}let o={};if(t.tablePos){const{pos:n,deleted:r}=e.mapping.mapResult(t.tablePos,-1);o={tablePos:r?void 0:n}}return k(k(k({},t),n),o)}return t},onDocChanged:y,onSelectionChanged:y})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-factory.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-key.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=Object(o.a)(r.a,((e,t)=>{switch(t.type){case"STOP_RESIZING":return s(s({},e),{},{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return s(s({},e),{},{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return s(s({},e),{},{dragging:t.data.dragging});case"SET_LAST_CLICK":const{lastClick:n}=t.data;return s(s({},e),{},{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?c(c({},t),{},{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),p=u.createCommand,h=u.createPluginState,m=u.getPluginState},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/table-resizing/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("tableFlexiColumnResizing")},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var o=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/nodes/tableNodes.js"),r=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/table.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l;!function(e){e.ASC="asc",e.DESC="desc"}(l||(l={}));let c;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(c||(c={}));const d=s(s({},r.a),{},{COLUMN_CONTROLS:`${o.l}-column-controls`,COLUMN_CONTROLS_DECORATIONS:`${o.l}-column-controls-decoration`,COLUMN_SELECTED:`${o.l}-column__selected`,ROW_CONTROLS_WRAPPER:`${o.l}-row-controls-wrapper`,ROW_CONTROLS:`${o.l}-row-controls`,ROW_CONTROLS_INNER:`${o.l}-row-controls__inner`,
ROW_CONTROLS_BUTTON_WRAP:`${o.l}-row-controls__button-wrap`,ROW_CONTROLS_BUTTON:`${o.l}-row-controls__button`,CONTROLS_BUTTON:`${o.l}-controls__button`,CONTROLS_BUTTON_ICON:`${o.l}-controls__button-icon`,CONTROLS_INSERT_BUTTON:`${o.l}-controls__insert-button`,CONTROLS_INSERT_BUTTON_INNER:`${o.l}-controls__insert-button-inner`,CONTROLS_INSERT_BUTTON_WRAP:`${o.l}-controls__insert-button-wrap`,CONTROLS_INSERT_LINE:`${o.l}-controls__insert-line`,CONTROLS_BUTTON_OVERLAY:`${o.l}-controls__button-overlay`,LAYOUT_BUTTON:`${o.l}-layout-button`,CONTROLS_INSERT_MARKER:`${o.l}-controls__insert-marker`,CONTROLS_INSERT_COLUMN:`${o.l}-controls__insert-column`,CONTROLS_INSERT_ROW:`${o.l}-controls__insert-row`,CONTROLS_DELETE_BUTTON_WRAP:`${o.l}-controls__delete-button-wrap`,CONTROLS_DELETE_BUTTON:`${o.l}-controls__delete-button`,CONTROLS_FLOATING_BUTTON_COLUMN:`${o.l}-controls-floating__button-column`,CONTROLS_FLOATING_BUTTON_ROW:`${o.l}-controls-floating__button-row`,
CORNER_CONTROLS:`${o.l}-corner-controls`,CORNER_CONTROLS_INSERT_ROW_MARKER:`${o.l}-corner-controls__insert-row-marker`,CORNER_CONTROLS_INSERT_COLUMN_MARKER:`${o.l}-corner-controls__insert-column-marker`,CONTROLS_CORNER_BUTTON:`${o.l}-corner-button`,NUMBERED_COLUMN:`${o.l}-numbered-column`,NUMBERED_COLUMN_BUTTON:`${o.l}-numbered-column__button`,HOVERED_COLUMN:`${o.l}-hovered-column`,HOVERED_ROW:`${o.l}-hovered-row`,HOVERED_TABLE:`${o.l}-hovered-table`,HOVERED_CELL:`${o.l}-hovered-cell`,HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:`${o.l}-hovered-cell__warning`,HOVERED_DELETE_BUTTON:`${o.l}-hovered-delete-button`,WITH_CONTROLS:`${o.l}-with-controls`,RESIZING_PLUGIN:`${o.l}-resizing-plugin`,RESIZE_CURSOR:`${o.l}-resize-cursor`,IS_RESIZING:`${o.l}-is-resizing`,RESIZE_HANDLE:`${o.l}-resize-handle`,RESIZE_HANDLE_DECORATION:`${o.l}-resize-decoration`,CONTEXTUAL_SUBMENU:`${o.l}-contextual-submenu`,
CONTEXTUAL_MENU_BUTTON_WRAP:`${o.l}-contextual-menu-button-wrap`,CONTEXTUAL_MENU_BUTTON:`${o.l}-contextual-menu-button`,CONTEXTUAL_MENU_ICON:`${o.l}-contextual-submenu-icon`,SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:`${o.l}-table__selected`,TABLE_CELL:o.i,TABLE_HEADER_CELL:o.k,TABLE_STICKY:`${o.l}-sticky`,TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:`${o.l}-last-item-in-cell`,WITH_RESIZE_LINE:`${o.l}-column-resize-line`})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/ui/consts.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"n",(function(){return a})),n.d(t,"m",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"q",(function(){return b})),
n.d(t,"l",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return w}));var o=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/table.js"),r=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),i=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js");const s=Object(i.a)({light:"#FFFFFF",dark:"#1B2638"}),a=Object(i.a)({light:r.R,dark:r.S}),l=Object(i.a)({light:"#6B778C",dark:"#9FB0CC"}),c=Object(i.a)({light:r.M,dark:r.N}),d="#B3D4FF",u="#4C9AFF",p="#0065FF",h="#FFEBE6",m="#FF5630",f="#FFBDAD",b=r.T,g=o.h+8-o.c,y=10*r.V,v=y+1,O=10,j=y+r.Y,w=j+2},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/get-allow-add-column-custom-step.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/plugin-factory.js");function r(e){const t=Object(o.c)(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/nodes.js":function(t,n,o){"use strict";o.d(n,"f",(function(){return l})),o.d(n,"d",(function(){return d})),o.d(n,"a",(function(){return u})),o.d(n,"b",(function(){return p})),o.d(n,"c",(function(){return h})),o.d(n,"g",(function(){return m})),o.d(n,"e",(function(){return f})),o.d(n,"h",(function(){return b})),o.d(n,"i",(function(){return g}));var r=o("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),i=o("./node_modules/prosemirror-utils/dist/index.js"),s=o("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),a=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/pm-plugins/plugin-factory.js");const l=e=>!!e.type.spec.isolating,c=(t,n)=>{
const o=r.b.get(n),i=o.cellsInRect({left:0,top:0,right:1,bottom:o.height});for(let r=0;r<i.length;r++)try{const e=n.nodeAt(i[r]);if(e&&e.type!==t.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},d=(e,t)=>{const n=r.b.get(t);for(let o=0;o<n.width;o++){const r=t.nodeAt(n.map[o]);if(r&&r.type!==e.schema.nodes.tableHeader)return!1}return!0},u=e=>y(e,s.c,c,!1),p=e=>y(e,s.c,d,!1),h=e=>y(e,s.c,((e,t)=>!!t.attrs.isNumberColumnEnabled),!1),m=e=>{const{permittedLayouts:t}=a.d.getState(e).pluginConfig,{bodiedExtension:n,layoutSection:o,expand:r}=e.schema.nodes;return!Object(i.hasParentNodeOfType)([r,o,n])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},f=e=>v(e).reduce(((e,t)=>e+t),0),b=(e,t)=>{let n=v(e),o=v(t);return!1===n.every(((e,t)=>e===o[t]))},g=(e,t)=>{const n=r.b.get(t),o=r.b.get(e);return n.width!==o.width};function y(e,t,n,o){const r=t(e.selection);return r?n(e,r.node,r.pos):o}function v(e){
if(!e.content.firstChild)return[];let t=[];return e.content.firstChild.content.forEach((e=>{if(Array.isArray(e.attrs.colwidth)){const n=e.attrs.colspan||1;t.push(...e.attrs.colwidth.slice(0,n))}})),t}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/row-controls.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),r=(n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),
n("./node_modules/prosemirror-utils/dist/index.js")),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selected.js"),s=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-selection-rect.js"),a=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/types.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=e=>{const t=[];if(e.lastChild){const n=e.lastChild.childNodes;for(let e=0,o=n.length;e<o;e++){const o=n[e];if(t[e]=o.getBoundingClientRect().height+1,o.classList.contains("sticky")&&0===e){const n=window.getComputedStyle(o),r=Object(l.e)(n.paddingTop||"");t[e]-=r?r+1:1}}}return t},m=(e,t,n=0)=>{const o=Object(s.a)(t);if(!o)return null;let r=0,i=n;for(let s=0;s<o.top;s++){const t=e[s];t&&(i+=t-1)}const a=[];for(let s=o.top;s<o.bottom;s++){const t=e[s];t&&(r+=t-1,a.push(s))}return{top:i+r/2-8,indexes:a}},f=e=>{const t=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o)continue;let r=e.length;for(let t=n+1,i=e.length;t<i;t++)if(e[t]){r=t;break}t.push({startIndex:n,endIndex:r,height:o})}return t},b=(e,t,n=[],o,r)=>{const s=[];return(Object(i.b)(e)(t)||n.indexOf(e)>-1&&!r)&&(s.push(c.b.HOVERED_CELL_ACTIVE),o&&s.push(c.b.HOVERED_CELL_IN_DANGER)),
s.join(" ")},g=e=>t=>n=>{const i=Object(a.c)(n.selection);if(!i)return n;const s=o.b.get(i.node),l=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>s.height)return n;const c=i.node,{nodes:{tableRow:d}}=e,p=s.cellsInRect({left:0,right:s.width,top:l,bottom:l+1}),h=l*s.width,m=t*s.width,f=s.map.slice(h,h+s.width),b=s.map.slice(m,m+s.width);let g=[],y=[];for(let e=0;e<f.length;){const t=f[e],o=t+i.start,r=n.doc.nodeAt(o);if(!r)continue;const s=u(u({},r.attrs),{},{colspan:1,rowspan:1}),a=r.type.createAndFill(s);if(!a)return n;if(b.indexOf(t)>-1)y.push({pos:o,node:r});else if(p.indexOf(t)>-1){if(r.attrs.colspan>1){const t=r.type.createAndFill(u(u({},s),{},{colspan:r.attrs.colspan}));if(!t)return n;g.push(t),e+=r.attrs.colspan;continue}g.push(a)}else g.push(a);e++}y.forEach((e=>{n.setNodeMarkup(e.pos,void 0,u(u({},e.node.attrs),{},{rowspan:e.node.attrs.rowspan+1}))}));const v=c.child(l);let O=i.start
;for(let e=0;e<t;e++)O+=c.child(e).nodeSize;return Object(r.safeInsert)(d.createChecked(v.attrs,g,v.marks),O)(n)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/table/utils/sort-step.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js");const i="atlaskit-table-sorting-ordering";class s extends r.f{constructor(e,t,n){super(),this.prev=t,this.next=n,this.pos=e}invert(){return new s(this.pos,this.next,this.prev)}apply(e){return r.h.ok(e)}map(){return null}getMap(){return new r.g([0,0,0])}toJSON(){return{stepType:i}}static fromJSON(){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID(i,s)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/tasks-and-decisions/commands.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f}))
;var o=n("./node_modules/prosemirror-commands/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/adf-schema/dist/es2019/utils/uuid.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/insert-events.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/tasks-and-decisions/pm-plugins/plugin-key.js");const p=(e,t)=>{const{decisionList:n,decisionItem:o,taskList:r,taskItem:i}=t.nodes;return"taskList"===e?{list:r,item:i}:{list:n,item:o}},h=(e,t,n=l.e.TOOLBAR,i,s)=>{
const{state:a}=e,{schema:c}=a,d=m(a,t,n,(({tr:e,list:t,item:n,listLocalId:o,itemLocalId:r})=>b(e,t,n,c,a,o,r)),(({state:e,tr:t,item:n,itemLocalId:o})=>{const{$to:i}=e.selection,s=i.end(i.depth);return t.split(s,1,[{type:n,attrs:{localId:o}}]).setSelection(new r.TextSelection(t.doc.resolve(s+i.depth)))}),i,s);return Object(o.a)(((e,t)=>!!d&&(t&&t(d),!0)),["taskList","decisionList"])},m=(e,t,n,o,r,d,h)=>{const{schema:m}=e,{list:f,item:b}=p(t,m),{tr:g}=e,{$to:y}=e.selection,v=Object(i.findParentNodeOfType)(f)(e.selection),O=((e={})=>{const{objectId:t,containerId:n}=e;return{objectId:t,containerId:n,userContext:t?a.a.EDIT:a.a.NEW}})(u.a.getState(e).contextIdentifierProvider);let j,w,k;if(v){if(y.node().textContent.length>=0){k=v.node.childCount+1,d=d||v.node.attrs.localId;const t=Object(i.findParentNodeOfType)(b)(e.selection);w=t?e.doc.resolve(t.pos).index()+1:0,j=r||o}}else w=0,k=1,j=o;if(d=d||s.b.generate(),h=h||s.b.generate(),j){let o=j({state:e,tr:g,list:f,item:b,listLocalId:d,
itemLocalId:h});return o&&(o=Object(c.a)(e,o,((e,t,n,o,r,i,s)=>{let a,c,d;return t&&({containerId:a,objectId:c,userContext:d}=t),{action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:"taskList"===e?l.c.ACTION:l.c.DECISION,eventType:l.d.TRACK,attributes:{inputMethod:n,containerAri:a,objectAri:c,userContext:d,localId:o,listLocalId:r,position:i,listSize:s}}})(t,O,n,h,d,w||0,k||0))),o}return null},f=(e,t)=>t.depth-e.depth,b=(e,t,n,o,a,l=s.b.generate(),c=s.b.generate())=>{const{selection:u}=a,{$from:p,$to:h}=u;if(p.parent!==h.parent)return null;const{paragraph:m,blockquote:b,decisionList:g,taskList:y,decisionItem:v,taskItem:O,mediaGroup:j}=o.nodes;if(p.parent.type===j)return null;const w=t.create({localId:l},[n.create({localId:c})]);if(u instanceof d.a)return Object(i.safeInsert)(w)(e);if(((e,t)=>{const{paragraph:n,blockquote:o,decisionList:r,taskList:s}=e.nodes;return Object(i.hasParentNodeOfType)([o,n,r,s])(t)})(o,u)){const{type:o,childCount:a}=u.$from.node(),l=t.create({
localId:s.b.generate()},[n.create({localId:s.b.generate()},p.node(p.depth).content)]),c=Object(i.findParentNodeOfType)(y)(u)||Object(i.findParentNodeOfType)(g)(u),d=Object(i.findParentNodeOfType)(O)(u)||Object(i.findParentNodeOfType)(v)(u);if(c&&d){let t,n,o=u.from;return c.node.firstChild===d.node?(t=c.start-1,n=d.start+d.node.nodeSize,1===c.node.childCount&&(n=c.start+c.node.nodeSize-1)):(t=d.start-1,n=d.start+d.node.nodeSize,o+=2),e.replaceWith(t,n,l),e=Object(i.setTextSelection)(o)(e)}const j=[b];o===m&&a>0&&j.push(m);let w=e;w=Object(i.replaceParentNodeOfType)(j,l)(e);const k=f(h,w.selection.$to);if(w!==(e=e.setSelection(new r.TextSelection(e.doc.resolve(h.pos+k)))))return e}return Object(i.safeInsert)(w)(e)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/tasks-and-decisions/pm-plugins/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("tasksAndDecisionsPlugin")},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/commands/change-color.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/pm-plugins/main.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/color.js"),a=n("./node_modules/prosemirror-state/dist/index.es.js"),l=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js");var c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/disabled.js");const u=e=>(t,n)=>{const{textColor:u}=t.schema.marks;if(u){const u=i.c.getState(t),p=Object(s.b)(t),h=function(e,t,n){
const i=n.find((({value:t})=>t===e)),s=n.find((({value:e})=>e===t)),a=i?i.label:e,l=s?s.label:t||"";return Object(o.d)({action:r.a.FORMATTED,actionSubject:r.b.TEXT,actionSubjectId:r.c.FORMAT_COLOR,eventType:r.d.TRACK,attributes:{newColor:a.toLowerCase(),previousColor:l.toLowerCase()}})}(e,p,u.paletteExpanded||u.palette);return!u.disabled&&(e===u.defaultColor?(h((()=>(e,t)=>{const{schema:n,selection:o}=e,{textColor:r}=n.marks;let s=e.tr;if(o instanceof a.TextSelection){const{from:t,to:n,$cursor:i}=o;s=i?e.tr.removeStoredMark(r):e.tr.removeMark(t,n,r)}return o instanceof l.a&&o.forEachCell(((e,t)=>{const n=t,o=t+e.nodeSize;s.doc.nodesBetween(s.mapping.map(n),s.mapping.map(o),((e,t)=>{if(!e.isText)return!0;const i=Math.max(t,s.mapping.map(n)),a=Math.min(t+e.nodeSize,s.mapping.map(o));return s.removeMark(i,a,r),!0}))})),t&&t(s.setMeta(i.c,{action:i.a.RESET_COLOR})),!0})())(t,n),!0):(h((e=>(t,n)=>{const{textColor:o}=t.schema.marks;let r=t.tr;return Object(d.a)(t)?(n&&n(r.setMeta(i.c,{
action:i.a.DISABLE})),!1):(n&&(t.tr.setMeta(i.c,{action:i.a.SET_COLOR,color:e}),t.tr.scrollIntoView(),Object(c.i)(o,{color:e})(t,n)),!0)})(e))(t,n),!0))}return!1}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/text-color.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/pm-plugins/main.js"),l=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(l),d=n("./node_modules/react-intl/lib/index.es.js"),u=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),p=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),h=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-down.js"),m=n.n(h),f=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/background-color.js"),b=n.n(f),g=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/index.js"),y=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/textColorPalette.js"),v=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Dropdown/index.js"),O=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/styles.js"),j=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js"),w=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/commands/change-color.js"),E=n("./node_modules/@atlaskit/icon/cjs/components/Icon.js"),S=n.n(E)
;const _=()=>r.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"})),C=()=>r.a.createElement(S.a,{glyph:_,label:"Text color icon"});var x=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),T=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js")
;const P=x.default.div(["display:flex;margin-top:","px;padding:","px;padding-bottom:0;border-top:1px solid #dfe1e6;> button{flex-grow:1;}"],Object(T.gridSize)()/2,Object(T.gridSize)()/2),A=x.default.div(["position:relative;"]),I=x.default.div(["position:absolute;left:0;right:0;top:16px;margin:auto;width:12px;height:3px;border-radius:",";",";"],Object(T.borderRadius)()+"px",(({gradientColors:e,selectedColor:t})=>t?`background: ${t}`:`background: ${e}`)),M=e=>`\n    linear-gradient(\n      to right,\n      ${e.map(((t,n)=>{const o=100/e.length,r=n+1;return 0===n?`${t} ${r*o}%,`:n===e.length-1?`${t} ${(r-1)*o}%`:`\n            ${t} ${(r-1)*o}%,\n            ${t} ${r*o}%,\n          `})).join("\n")}\n    );\n    `,D=M(["#6554C0","#00B8D9","#FF991F","#DE350B"]),N=M(["#97A0AF","#B3BAC5","#DFE1E6","#B3BAC5"]);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=Object(d.h)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""},moreColors:{id:"fabric.editor.textColor.moreColors",defaultMessage:"More colors",description:"More colors"},lessColors:{id:"fabric.editor.textColor.lessColors",defaultMessage:"Fewer colors",description:"Fewer colors"}});class z extends r.a.Component{constructor(...e){super(...e),c()(this,"state",{isOpen:!1,isShowingMoreColors:!1}),
c()(this,"changeColor",(e=>k.a(e)(this.props.editorView.state,this.props.editorView.dispatch))),c()(this,"changeTextColor",((e,t)=>{if(!t){const{pluginState:{palette:t,paletteExpanded:n,defaultColor:o}}=this.props,{isShowingMoreColors:r}=this.state,i=(n||t).find((t=>t.value===e)),s=e!==o&&!y.a.some((t=>t.value===e));return this.dispatchAnalyticsEvent(this.buildExperimentalAnalyticsSelectColor({color:(i?i.label:e).toLowerCase(),isShowingMoreColors:r,isNewColor:s})),this.handleOpenChange({isOpen:!1,logCloseEvent:!1}),this.changeColor(e)}return!1})),c()(this,"toggleOpen",(()=>{this.handleOpenChange({isOpen:!this.state.isOpen,logCloseEvent:!0})})),c()(this,"handleOpenChange",(({isOpen:e,logCloseEvent:t})=>{const{pluginState:{palette:n,color:o}}=this.props,{isShowingMoreColors:r}=this.state,i=!n.find((e=>e.value===o));this.setState({isOpen:e,isShowingMoreColors:i||r}),t&&this.dispatchAnalyticsEvent(this.buildExperimentalAnalyticsPalette(e?w.a.OPENED:w.a.CLOSED,{isShowingMoreColors:i||r,
noSelect:!1===e}))})),c()(this,"hide",(e=>{const{isOpen:t,isShowingMoreColors:n}=this.state;e.defaultPrevented||!0===t&&(this.dispatchAnalyticsEvent(this.buildExperimentalAnalyticsPalette(w.a.CLOSED,{isShowingMoreColors:n,noSelect:!0})),this.setState({isOpen:!1}))})),c()(this,"handleShowMoreToggle",(e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.setState((e=>(this.dispatchAnalyticsEvent(this.buildExperimentalAnalyticsShowMore(e.isShowingMoreColors?w.a.CLOSED:w.a.OPENED,{showMoreButton:!e.isShowingMoreColors,showLessButton:e.isShowingMoreColors})),{isShowingMoreColors:!e.isShowingMoreColors})))}))}render(){const{isOpen:e,isShowingMoreColors:t}=this.state,{popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i,isReducedSpacing:s,pluginState:a,pluginState:{paletteExpanded:l},intl:{formatMessage:c},showMoreColorsToggle:d,disabled:h}=this.props,f=c(F.textColor),y=t&&l?l:a.palette;let w;return document.body.clientWidth<=740&&(w=242),
r.a.createElement(O.f,null,r.a.createElement(v.a,{mountTo:n,boundariesElement:o,scrollableElement:i,isOpen:e&&!a.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,zIndex:p.v,fitWidth:w,trigger:r.a.createElement(j.a,{spacing:s?"none":"default",disabled:h||a.disabled,selected:e,"aria-label":f,title:f,onClick:this.toggleOpen,iconBefore:r.a.createElement(O.i,null,r.a.createElement(A,null,r.a.createElement(C,null),r.a.createElement(I,{selectedColor:a.color!==a.defaultColor&&a.color,gradientColors:a.disabled?N:D})),r.a.createElement(O.e,null,r.a.createElement(m.a,{label:f})))})},r.a.createElement(g.a,{palette:y,onClick:e=>this.changeTextColor(e,a.disabled),selectedColor:a.color}),d&&r.a.createElement(P,null,r.a.createElement(u.a,{appearance:"subtle",onClick:this.handleShowMoreToggle,iconBefore:r.a.createElement(b.a,{label:""})},c(t?F.lessColors:F.moreColors)))),r.a.createElement(O.g,null))}getCommonExperimentalAnalyticsAttributes(){const{showMoreColorsToggle:e}=this.props
;return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:e?"subject":"control"}}buildExperimentalAnalyticsPalette(e,t){return{action:e,actionSubject:w.b.TOOLBAR,actionSubjectId:w.c.FORMAT_COLOR,eventType:w.d.TRACK,attributes:L(L({},this.getCommonExperimentalAnalyticsAttributes()),t)}}buildExperimentalAnalyticsShowMore(e,t){return{action:e,actionSubject:w.b.TOOLBAR,actionSubjectId:w.c.FORMAT_COLOR,eventType:w.d.TRACK,attributes:L(L({},this.getCommonExperimentalAnalyticsAttributes()),t)}}buildExperimentalAnalyticsSelectColor(e){return{action:w.a.FORMATTED,actionSubject:w.b.TEXT,actionSubjectId:w.c.FORMAT_COLOR,eventType:w.d.TRACK,attributes:L(L({},this.getCommonExperimentalAnalyticsAttributes()),e)}}dispatchAnalyticsEvent(e){const{dispatchAnalyticsEvent:t}=this.props;t&&t(e)}}z.displayName="ToolbarTextColor";var U=Object(d.i)(z);const H=e=>{if(e&&"boolean"!=typeof e)return e};t.a=e=>({name:"textColor",marks:()=>[{name:"textColor",mark:i.c}],pmPlugins:()=>[{
name:"textColor",plugin:({dispatch:t})=>Object(a.b)(t,H(e))}],primaryToolbarComponent({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i,isToolbarReducedSpacing:l,dispatchAnalyticsEvent:c,disabled:d}){const u=H(e),p=u&&u.EXPERIMENTAL_allowMoreTextColors;return r.a.createElement(s.a,{plugins:{textColor:a.c},render:({textColor:e})=>r.a.createElement(U,{pluginState:e,isReducedSpacing:l,editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i,showMoreColorsToggle:p,dispatchAnalyticsEvent:c,disabled:d})})}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/textColorPalette.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/common.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/color.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/disabled.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u;!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(u||(u={}));const p=new o.PluginKey("textColorPlugin");function h(e,t){return new o.Plugin({key:p,state:{init:(e,n)=>function(e,t){const n=t&&t.defaultColor||s.a,o=t&&t.EXPERIMENTAL_allowMoreTextColors||!1,l=[{value:n.color,label:n.label,border:i.a},...o?r.b:r.a],d={color:Object(s.b)(e),disabled:Object(a.a)(e),palette:l,defaultColor:n.color};if(o){const e=l.slice(0,7),t=l.slice(7,14),n=l.slice(14),o=t.concat(e).concat(n),r=o[0];return o[0]=o[7],o[7]=r,c(c({},d),{},{palette:e,paletteExpanded:o})}return d}(n,t),apply(t,n,o,r){const i=t.getMeta(p)||{};let l;switch(i.action){case u.RESET_COLOR:l=c(c({},n),{},{color:n.defaultColor});break;case u.SET_COLOR:l=c(c({},n),{},{color:i.color,disabled:!1});break;case u.DISABLE:l=c(c({},n),{},{disabled:!0});break
;default:l=c(c({},n),{},{color:Object(s.b)(r),disabled:Object(a.a)(r)})}return n&&n.color!==l.color||n&&n.disabled!==l.disabled?(e(p,l),l):n}}})}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/color.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o={color:"#172B4D".toLowerCase(),label:"Dark gray"},r=e=>{const{$from:t,$to:n,$cursor:r}=e.selection,{textColor:i}=e.schema.marks;let s,a=[];r?a.push(i.isInSet(e.storedMarks||r.marks())||void 0):e.doc.nodesBetween(t.pos,n.pos,(e=>{if(e.isLeaf){const t=i.isInSet(e.marks)||void 0;return a.push(t),!t}return!0})),a=a.filter((e=>(!e||!s||e.attrs.color!==s.attrs.color)&&(s=e,!0)));const l=a.filter((e=>!!e));return l.length>1||1===l.length&&a.length>1?null:l.length?l[0].attrs.color:o.color}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-color/utils/disabled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js");const r=e=>{const{textColor:t}=e.schema.marks;if(t){const{empty:n,ranges:r,$cursor:i}=e.selection;return!((!n||i)&&!1!==Object(o.a)(e.doc,r,t))||!!Object(o.b)(t,e.storedMarks||i&&i.marks())}return!0}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/clear-formatting.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js");const i=(e,t,n,o)=>{e.forEachCell(((e,r)=>{t.nodesBetween(r,r+e.nodeSize,n,o)}))};var s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js")
;const l=["heading","codeBlock","blockquote"],c=["em","code","strike","strong","underline","textColor","subsup"],d={em:s.c.FORMAT_ITALIC,code:s.c.FORMAT_CODE,strike:s.c.FORMAT_STRIKE,strong:s.c.FORMAT_STRONG,underline:s.c.FORMAT_UNDERLINE,textColor:s.c.FORMAT_COLOR,subsup:"subsup"};function u(e){return function(e){return function(t,n){const{tr:r}=t,u=[];return c.forEach((e=>{const{from:n,to:s}=r.selection,a=t.schema.marks[e];a&&(r.selection instanceof o.a?i(r.selection,r.doc,((n,o)=>n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(r.doc.rangeHasMark(o,o+n.nodeSize,a)&&(u.push(d[e]),r.removeMark(o,o+n.nodeSize,a)),!1))):r.doc.rangeHasMark(n,s,a)&&(u.push(d[e]),r.removeMark(n,s,a)))})),l.forEach((e=>{const n=t.schema.nodes[e],{$from:s,$to:a}=r.selection;r.selection instanceof o.a?i(r.selection,r.doc,p(t,r,n,e,u)):r.doc.nodesBetween(s.pos,a.pos,p(t,r,n,e,u))})),r.setStoredMarks([]),u.length&&e&&Object(a.a)(t,r,{action:s.a.FORMATTED,eventType:s.d.TRACK,
actionSubject:s.b.TEXT,actionSubjectId:s.c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:u}}),n&&n(r),!0}}(e)}function p(e,t,n,o,i){return function(s,a){if(s.type===n){if(n.isTextblock)return t.setNodeMarkup(a,e.schema.nodes.paragraph),i.push(o),!1;{let e=t.doc.resolve(a+1),n=t.doc.resolve(a+s.nodeSize-1);const l=e.blockRange(n);if(l){const e=Object(r.p)(l);(e||0===e)&&(i.push(o),t.lift(l,e))}}}return!0}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/text-formatting.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return O})),
n.d(t,"m",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return E}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/utils.js");const l=()=>(e,t)=>{const{code:n}=e.schema.marks,{empty:o,$cursor:r}=e.selection;if(!o||!r)return!1;const{storedMarks:i}=e.tr;if(n){const o=Object(a.d)(e,n.create()),s=e.doc.rangeHasMark(r.pos,r.pos,n),l=e.doc.rangeHasMark(r.pos,r.pos+1,n),c=!(s||l||i&&!i.length),d=!s&&l&&(!i||!i.length);if(!o&&d)return t&&t(e.tr.addStoredMark(n.create())),!0;if(o&&c)return t&&t(e.tr.removeStoredMark(n)),!0}return!1},c=()=>(e,t)=>{
const{code:n}=e.schema.marks,{empty:r,$cursor:i}=e.selection;if(!r||!i)return!1;const{storedMarks:s}=e.tr;if(n){const r=n&&Object(a.d)(e,n.create()),l=Object(a.c)(e,i.pos),c=Object(a.c)(e,i.pos-1),d=Object(a.c)(e,i.pos-2),u=l&&!c&&Array.isArray(s),p=c&&!d&&(null===s||Array.isArray(s)&&!!s.length),h=(u&&Array.isArray(s)&&!s.length||!u&&null===s)&&!c&&d,m=!l&&c&&Array.isArray(s)&&!s.length;if(!r&&h){const r=e.tr.setSelection(o.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(r.removeStoredMark(n)),!0}if(!r&&m)return t&&t(e.tr.addStoredMark(n.create())),!0;if(r&&p){const r=e.tr.setSelection(o.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(r.addStoredMark(n.create())),!0}const f=0===i.index(i.depth-1);if(r&&(u||!i.nodeBefore&&f))return t&&t(e.tr.removeStoredMark(n)),!0}return!1},d=()=>(e,t)=>{const{em:n}=e.schema.marks;return!!n&&Object(r.i)(n)(e,t)},u=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_ITALIC,
attributes:{inputMethod:e}})(d()),p=()=>(e,t)=>{const{strike:n}=e.schema.marks;return!!n&&Object(r.i)(n)(e,t)},h=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_STRIKE,attributes:{inputMethod:e}})(p()),m=()=>(e,t)=>{const{strong:n}=e.schema.marks;return!!n&&Object(r.i)(n)(e,t)},f=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_STRONG,attributes:{inputMethod:e}})(m()),b=()=>(e,t)=>{const{underline:n}=e.schema.marks;return!!n&&Object(r.i)(n)(e,t)},g=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_UNDERLINE,attributes:{inputMethod:e}})(b()),y=()=>(e,t)=>{const{subsup:n}=e.schema.marks;return!!n&&Object(r.i)(n,{type:"sup"})(e,t)},v=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_SUPER,
attributes:{inputMethod:e}})(y()),O=()=>(e,t)=>{const{subsup:n}=e.schema.marks;return!!n&&Object(r.i)(n,{type:"sub"})(e,t)},j=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_SUB,attributes:{inputMethod:e}})(O()),w=()=>(e,t)=>{const{code:n}=e.schema.marks;return!!n&&Object(r.i)(n)(e,t)},k=({inputMethod:e})=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_CODE,attributes:{inputMethod:e}})(w()),E=(e,t,n)=>Object(i.d)({action:s.a.FORMATTED,actionSubject:s.b.TEXT,eventType:s.d.TRACK,actionSubjectId:s.c.FORMAT_CODE,attributes:{inputMethod:s.e.FORMATTING}})(((e,t,n)=>(o,i)=>{if(o.selection.empty){const{nodeBefore:s}=o.doc.resolve(e),{nodeAfter:a}=o.doc.resolve(t),l=s&&s.text&&s.text.endsWith("`"),c=a&&a.text&&a.text.startsWith("`");if(l&&c){let s=o.tr.replaceRangeWith(e-1,t+1,o.schema.text(n));if(i){const n=o.schema.marks.code.create()
;s=Object(r.a)(s.mapping.map(e-1),s.mapping.map(t+1),!1,n,s).setStoredMarks([n]),i(s)}return!0}}return!1})(e,t,n))},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/pm-plugins/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var o=n("./node_modules/prosemirror-commands/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/text-formatting.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/utils.js");const c=new r.PluginKey("textFormatting"),d=e=>{const{em:t,code:n,strike:r,strong:i,subsup:s,underline:a}=e.schema.marks,c={};if(n&&(c.codeActive=Object(l.a)(e,n.create()),c.codeDisabled=!Object(o.h)(n)(e)),
t&&(c.emActive=Object(l.a)(e,t),c.emDisabled=!!c.codeActive||!Object(o.h)(t)(e)),r&&(c.strikeActive=Object(l.a)(e,r),c.strikeDisabled=!!c.codeActive||!Object(o.h)(r)(e)),i&&(c.strongActive=Object(l.a)(e,i),c.strongDisabled=!!c.codeActive||!Object(o.h)(i)(e)),s){const t=s.create({type:"sub"}),n=s.create({type:"sup"});c.subscriptActive=Object(l.a)(e,t),c.subscriptDisabled=!!c.codeActive||!Object(o.h)(s,{type:"sub"})(e),c.superscriptActive=Object(l.a)(e,n),c.superscriptDisabled=!!c.codeActive||!Object(o.h)(s,{type:"sup"})(e)}return a&&(c.underlineActive=Object(l.a)(e,a),c.underlineDisabled=!!c.codeActive||!Object(o.h)(a)(e)),c},u=e=>new r.Plugin({state:{init:(e,t)=>d(t),apply(t,n,o,r){const i=d(r);return Object(s.v)(n,i)?n:(e(c,i),i)}},key:c,props:{handleKeyDown(e,t){const{state:n,dispatch:o}=e;return t.key===i.moveRight.common?a.c()(n,o):t.key===i.moveLeft.common&&a.b()(n,o)},handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e,{schema:s,selection:{$from:{parent:{type:l}}}}=r
;return!!l.allowsMarkType(s.marks.code)&&Object(a.a)(t,n,o)(r,i)}}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/ui/ToolbarAdvancedTextFormatting/toolbar-messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",
description:"Whether the text selection is written above the line in a slightly smaller size"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/ui/ToolbarTextFormatting/toolbar-messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or \u201cstrong\u201d formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."}})},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/text-formatting/commands/clear-formatting.js");const i=(e,t)=>{const{code:n}=e.schema.marks,o=t>=0&&e.doc.nodeAt(t);return!!o&&!!o.marks.filter((e=>e.type===n)).length},s=(e,t)=>{const{from:n,to:o,empty:r}=e.selection;if(r)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());let i=!1;return e.doc.nodesBetween(n,o,(e=>{i=i||t.isInSet(e.marks)})),i},a=(e,t)=>{const{$from:n,from:r,to:i,empty:s}=e.selection;if(s)return!!t.isInSet(e.storedMarks||n.marks());let a=!1;return e.selection instanceof o.a?e.selection.forEachCell(((n,o)=>{const r=o,i=o+n.nodeSize;a||(a=e.doc.rangeHasMark(r,i,t))
})):a=e.doc.rangeHasMark(r,i,t),a},l=e=>(e=>r.a.filter((t=>{if(e.schema.marks[t]){const{$from:n,empty:o}=e.selection,{marks:r}=e.schema;return o?!!r[t].isInSet(e.storedMarks||n.marks()):a(e,r[t])}return!1})).length>0)(e)||(e=>{let{from:t,to:n}=e.selection,o=!1;return e.doc.nodesBetween(t,n,(e=>-1===r.b.indexOf(e.type.name)||(o=!0,!1))),o})(e)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/dismiss.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/utils/find-query-mark.js");const i=()=>(e,t)=>{const n=Object(r.a)(e);if(null===n)return!1;const{start:i,end:s}=n,{schema:a}=e,l=a.marks.typeAheadQuery;if(-1===i)return!1;const{typeAheadHandler:c}=o.a.getState(e);return c&&c.dismiss&&c.dismiss(e),t&&t(e.tr.removeMark(i,s,l).removeStoredMark(l)),!0}},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/insert-query.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js");function i(e,t=!1){return(n,i)=>{if(!i)return!1;if(t){const{tr:t,selection:r}=n,s=r.$from.marks();return i(t.setSelection(o.TextSelection.create(t.doc,r.$from.pos-1,r.$from.pos)).replaceSelectionWith(n.doc.type.schema.text(e,[n.schema.marks.typeAheadQuery.create({trigger:e}),...s]),!1)),!0}return i(Object(r.safeInsert)(n.schema.text(e,[n.schema.marks.typeAheadQuery.create({trigger:e})]))(n.tr)),!0}}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/select-item.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}))
;var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/insert.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/actions.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/utils/find-query-mark.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/mentions/utils.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/dismiss.js");const d=(e="selected")=>(t,n)=>{const{active:o,currentIndex:r,items:i,typeAheadHandler:a}=s.a.getState(t);return!(!o||!a)&&(a.selectItem&&i[r]?h(a,i[r],e)(t,n):f(t,((e,o)=>m(e,o)(t,n))))},u=(e="selected")=>(t,n)=>{const{active:o,items:r,typeAheadHandler:i}=s.a.getState(t);return!!(o&&i&&i.selectItem)&&(1===r.length?h(i,r[0],e)(t,n):(r&&0!==r.length||Object(c.a)()(t,n),!1))},p=e=>(t,n)=>{
const{active:o,items:r,typeAheadHandler:i}=s.a.getState(t);return!!(o&&i&&i.selectItem&&r[e])&&h(i,r[e])(t,n)},h=(e,t,n="selected")=>(a,c)=>f(a,((d,u)=>{const p=e.selectItem(a,t,((e,t={})=>{let n=a.tr;return n=n.setMeta(s.a,{action:i.a.SELECT_CURRENT}).replaceWith(d,u,o.Fragment.empty),Object(r.a)(e,t)(a,n,d)}),{mode:n});return Object(l.a)(t.mention)?!("space"===n||!c)&&(c(a.tr.delete(d,u)),!0):!1===p?m(d,u)(a,c):(c&&c(p),!0)})),m=(e,t)=>(n,o)=>{const{query:r,trigger:i}=s.a.getState(n),a=n.schema.text(i+r);return o&&o(n.tr.replaceWith(e,t,a)),!0},f=(e,t)=>{const n=Object(a.a)(e);return!(!n||-1===n.start)&&t(n.start,n.end)}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/type-ahead-query.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/input-rules.js"),l=n("./node_modules/prosemirror-keymap/dist/index.es.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/keymaps/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/dismiss.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/select-item.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/actions.js");function m(){const e={};return c.bindKeymapWithCommand(c.enter.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&Object(u.b)("enter")(e,t)
}),e),c.bindKeymapWithCommand(c.moveUp.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(p.a,{action:h.a.SELECT_PREV})),!0)}),e),c.bindKeymapWithCommand(c.moveDown.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(p.a,{action:h.a.SELECT_NEXT})),!0)}),e),c.bindKeymapWithCommand(c.insertNewLine.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&Object(u.b)("shift-enter")(e,t)}),e),c.bindKeymapWithCommand(c.tab.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&Object(u.b)("tab")(e,t)}),e),c.bindKeymapWithCommand(c.escape.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&(window.event&&window.event.stopPropagation(),Object(d.a)()(e,t))}),e),c.bindKeymapWithCommand(c.space.common,((e,t)=>{const n=p.a.getState(e);return!(!n||!n.active)&&Object(u.d)("space")(e,t)}),e),Object(l.b)(e)}
var f=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/main.js"),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=n.n(b),y=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/index.js"),O=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),j=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),w=n("./node_modules/@atlaskit/theme/dist/es2019/utils/math.js");var k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/ui/TypeAheadItemsList.js"),E=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),S=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/fire-analytics-event.js"),_=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js")
;const C=y.default.div(["background:",";border-radius:","px;box-shadow:0 0 1px ",",0 4px 8px -2px ",";padding:","px 0;width:320px;max-height:380px;overflow-y:auto;-ms-overflow-style:-ms-autohiding-scrollbar;position:relative;"],"#FFFFFF",Object(j.borderRadius)(),"rgba(9, 30, 66, 0.31)","rgba(9, 30, 66, 0.25)",Object(w.divide)(j.gridSize,2));class x extends r.a.Component{constructor(...e){super(...e),g()(this,"composing",!1),g()(this,"shouldFireRendered",!1),g()(this,"handleKeyPress",(()=>{this.composing=!0})),g()(this,"handleMouseMove",(()=>{this.composing=!1})),g()(this,"fireRendered",(()=>{if(this.shouldFireRendered){var e;const t={action:E.a.RENDERED,actionSubject:E.b.TYPEAHEAD,eventType:E.d.OPERATIONAL,attributes:{time:this.renderStart?performance.now()-this.renderStart:void 0,items:null===(e=this.props.items)||void 0===e?void 0:e.length,initial:""===this.props.query}};Object(S.a)(this.props.createAnalyticsEvent)({channel:_.b,payload:t}),this.renderStart=void 0,
this.shouldFireRendered=!1}})),g()(this,"fireItemViewed",(()=>{if(this.props.currentIndex!==this.sentIndex){var e;const t={action:E.a.VIEWED,actionSubject:E.b.TYPEAHEAD_ITEM,eventType:E.d.OPERATIONAL,attributes:{index:this.props.currentIndex,items:null===(e=this.props.items)||void 0===e?void 0:e.length}};Object(S.a)(this.props.createAnalyticsEvent)({channel:_.b,payload:t}),this.sentIndex=this.props.currentIndex}})),g()(this,"componentDidMount",(()=>{window.addEventListener("keypress",this.handleKeyPress),window.addEventListener("mousemove",this.handleMouseMove),this.fireRendered(),this.fireItemViewed()})),g()(this,"componentWillUnmount",(()=>{window.removeEventListener("keypress",this.handleKeyPress),window.removeEventListener("mousemove",this.handleMouseMove)})),g()(this,"componentDidUpdate",(()=>{this.fireRendered(),this.fireItemViewed()})),g()(this,"insertByIndex",(e=>{Object(u.a)(e)(this.props.editorView.state,this.props.editorView.dispatch)})),g()(this,"setCurrentIndex",(e=>{
this.composing||e!==this.props.currentIndex&&(e=>(t,n)=>(n&&n(t.tr.setMeta(p.a,{action:h.a.SET_CURRENT_INDEX,params:{currentIndex:e}})),!0))(e)(this.props.editorView.state,this.props.editorView.dispatch)}))}componentWillReceiveProps(e){var t,n,o,r;(null!==(t=null===(n=this.props.items)||void 0===n?void 0:n.map((({title:e})=>e)).join("-"))&&void 0!==t?t:"")!==(null!==(o=null===(r=e.items)||void 0===r?void 0:r.map((({title:e})=>e)).join("-"))&&void 0!==o?o:"")&&(this.renderStart=performance.now(),this.shouldFireRendered=!0)}render(){const{active:e,items:t,isLoading:n,anchorElement:o,currentIndex:i,popupsMountPoint:s,popupsBoundariesElement:a,popupsScrollableElement:l,highlight:c}=this.props;return e&&o&&t&&t.length?r.a.createElement(v.a,{zIndex:O.k,target:o,mountTo:s,boundariesElement:a,scrollableElement:l,fitHeight:300,fitWidth:340,offset:[0,8]},r.a.createElement(C,{className:"fabric-editor-typeahead"},c,Array.isArray(t)?r.a.createElement(k.b,{insertByIndex:this.insertByIndex,
setCurrentIndex:this.setCurrentIndex,items:t,currentIndex:i}):!t&&n?"loading...":"no items")):null}}x.displayName="TypeAhead",g()(x,"displayName","TypeAhead");t.a=e=>({name:"typeAhead",marks:()=>[{name:"typeAheadQuery",mark:i.a}],pmPlugins:(e=[])=>[{name:"typeAhead",plugin:({dispatch:t,reactContext:n})=>Object(f.b)(t,n,e)},{name:"typeAheadInputRule",plugin:({schema:t})=>Object(a.a)(t,e)},{name:"typeAheadKeymap",plugin:()=>m()}],contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i})=>r.a.createElement(s.a,{plugins:{typeAhead:p.a},render:({typeAhead:s=Object(f.a)()})=>{if(s.typeAheadHandler&&s.typeAheadHandler.headless)return null;const{queryMarkPos:a}=s;let l=null;if(null!==a)try{l=t.domAtPos(a)}catch(d){return null}const c=l?l.node.childNodes[l.offset]:void 0;return r.a.createElement(x,{editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i,anchorElement:c,active:s.active,isLoading:!!s.itemsLoader,
items:s.items,currentIndex:s.currentIndex,highlight:s.highlight,createAnalyticsEvent:null==e?void 0:e.createAnalyticsEvent,query:s.query})}})})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={SELECT_PREV:"SELECT_PREV",SELECT_NEXT:"SELECT_NEXT",SELECT_CURRENT:"SELECT_CURRENT",SET_CURRENT_INDEX:"SET_CURRENT_INDEX",SET_QUERY:"SET_QUERY",ITEMS_LIST_UPDATED:"ITEMS_LIST_UPDATED"}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/input-rules.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/input-rules.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js");let i="";function s(e,t){const n=t.map((e=>e.customRegex||e.trigger)).join("|");if(!n.length)return
;const s=new RegExp(`(^|[.!?\\s\ufffc])(${n})$`),a=Object(o.a)(s,((t,n)=>{const o=r.a.getState(t),i=n[3]||n[2];if(!o.isAllowed||!i)return null;const s=e.mark("typeAheadQuery",{trigger:i}),{tr:a,selection:l}=t,c=l.$from.marks();return a.replaceSelectionWith(e.text(i,[s,...c]),!1)})),l=Object(o.c)("type-ahead",{rules:[a]});return i=l.key,l}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/main.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return b})),o.d(n,"b",(function(){return g}))
;var r=o("./node_modules/prosemirror-state/dist/index.es.js"),i=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js"),s=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/dismiss.js"),a=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/insert-query.js"),l=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/actions.js"),c=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js");var d=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/commands/select-item.js"),u=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/utils/find-query-mark.js");function p(e,t,n,o){let r=!1;return t.nodesBetween(n,o,(t=>{!r&&e.isInSet(t.marks)&&(r=!0)})),r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e=!1,t=!0){return{isAllowed:t,active:!1,prevActiveState:e,query:null,trigger:null,typeAheadHandler:null,currentIndex:0,items:[],itemsLoader:null,queryMarkPos:null,queryStarted:0,upKeyCount:0,downKeyCount:0}}function g(e,t,n){return new r.Plugin({key:c.a,state:{init:()=>b(),apply(o,r,i,s){const a=o.getMeta(c.a)||{},{action:d,params:u}=a;switch(d){case l.a.SET_CURRENT_INDEX:return function({dispatch:e,pluginState:t,params:n}){
if(!n)return t;const o=m(m({},t),{},{currentIndex:n.currentIndex||0===n.currentIndex?n.currentIndex:t.currentIndex});return e(c.a,o),o}({dispatch:e,pluginState:r,tr:o,params:u});case l.a.SELECT_PREV:return function({dispatch:e,pluginState:t}){const n=t.currentIndex-1,o=m(m({},t),{},{currentIndex:n<0?t.items.length-1:n,upKeyCount:++t.upKeyCount});return e(c.a,o),o}({dispatch:e,pluginState:r,tr:o});case l.a.SELECT_NEXT:return function({dispatch:e,pluginState:t}){const n=t.currentIndex+1,o=m(m({},t),{},{currentIndex:n>t.items.length-1?0:n,downKeyCount:++t.downKeyCount});return e(c.a,o),o}({dispatch:e,pluginState:r,tr:o});case l.a.ITEMS_LIST_UPDATED:return function({dispatch:e,pluginState:t,tr:n}){const o=n.getMeta(c.a).items,r=m(m({},t),{},{items:o,itemsLoader:null,currentIndex:0});return e(c.a,r),r}({dispatch:e,pluginState:r,tr:o});case l.a.SELECT_CURRENT:const{from:i,to:a}=o.selection,{typeAheadQuery:d}=s.schema.marks;return o.doc.rangeHasMark(i-1,a,d)?y({dispatch:e,reactContext:t,
typeAhead:n,state:s,pluginState:r,tr:o}):function({dispatch:e}){const t=b(!1);return e(c.a,t),t}({dispatch:e,pluginState:r,tr:o});case l.a.SET_QUERY:return function({dispatch:e,pluginState:t,params:n}){if(!n)return t;const o=m(m({},t),{},{query:"string"==typeof n.query?n.query:null});return e(c.a,o),o}({dispatch:e,pluginState:r,tr:o,params:u});default:return y({dispatch:e,reactContext:t,typeAhead:n,state:s,pluginState:r,tr:o})}}},view:()=>({update(e){const t=c.a.getState(e.state);if(!t)return;const{state:n,dispatch:o}=e,{doc:r,selection:i}=n,{from:a,to:d}=i,{typeAheadQuery:u}=n.schema.marks;!t.active||t.query||t.trigger?t.active&&0===(t.query||"").indexOf(" ")?Object(s.a)()(n,o):t.active||!t.prevActiveState||r.rangeHasMark(a-1,d,u)?t.active&&t.itemsLoader&&t.itemsLoader.promise.then((t=>(e=>(t,n)=>(n&&n(t.tr.setMeta(c.a,{action:l.a.ITEMS_LIST_UPDATED,items:e})),!0))(t)(e.state,o))):Object(s.a)()(n,o):Object(s.a)()(n,o)}}),appendTransaction(e,t,n){const o=c.a.getState(n)
;if(o.active&&o.query&&o.typeAheadHandler&&o.typeAheadHandler.forceSelect&&o.typeAheadHandler.forceSelect(o.query,o.items)){let e;return Object(d.b)()(n,(t=>e=t)),e}return null},props:{handleDOMEvents:{input(e,t){const{state:n,dispatch:o}=e,{selection:i,schema:s}=n;return!!(i instanceof r.TextSelection&&i.$cursor&&s.marks.typeAheadQuery.isInSet(i.$cursor.marks()))&&((e=>(t,n)=>{const o=Object(u.a)(t),r=p(t.schema.marks.typeAheadQuery,t.doc,t.selection.from,t.selection.to);return null!==o&&!1!==r&&(n&&n(t.tr.setMeta(c.a,{action:l.a.SET_QUERY,params:{query:e}})),!0)})(t.data)(n,o),!1)},compositionend:(e,t)=>{const{state:o,dispatch:i}=e,{selection:s,schema:l}=o;return!(!(-1!==n.map((e=>e.trigger)).indexOf(t.data)&&s instanceof r.TextSelection&&s.$cursor)||l.marks.typeAheadQuery.isInSet(s.$cursor.marks()))&&(Object(a.a)(t.data,!0)(o,i),!0)}}}})}function y({dispatch:t,reactContext:n,typeAhead:o,pluginState:r,state:s,tr:a}){
const{typeAheadQuery:l}=s.schema.marks,{doc:d,selection:h}=s,{from:f,to:g}=h,y=p(l,d,f-1,g),v=Object(i.p)(l,s);if(!v&&!y){if(r&&r.active===y&&r.isAllowed===v)return r;const e=b(r.active,v);return t(c.a,e),e}const{nodeBefore:O}=h.$from;if(!y||!O||!r){const e=b(!!r&&r.active);return r&&!r.active&&r.isAllowed||t(c.a,e),e}const j=l.isInSet(O.marks||[]);if(!j||!j.attrs.trigger)return r;const w=O.textContent||"",k=j.attrs.trigger.replace(/([^\x00-\xFF]|[\s\n])+/g,"");if(!w.includes(k)){const e=m(m({},b(!0)),{},{active:!0});return t(c.a,e),e}const E=w.replace(/^([^\x00-\xFF]|[\s\n])+/g,"").replace(k,""),S=o.find((e=>e.trigger===k));let _=[],C=null,x=null;try{const{intl:e}=n();_=S.getItems(E,s,e,{prevActive:r.prevActiveState,queryChanged:E!==r.query||k!==r.trigger},a,t),S.getHighlight&&(x=S.getHighlight(s)),r.itemsLoader&&r.itemsLoader.cancel(),Array.isArray(_)||(C=function(e){let t=!1;return{promise:new Promise(((n,o)=>{e.then((e=>!t&&n(e))).catch((e=>!t&&o(e)))})),cancel(){t=!0}}}(_),
_=r.items)}catch(e){}const T=Object(u.a)(s),P={isAllowed:v,query:E,trigger:k,typeAheadHandler:S,active:!0,prevActiveState:r.active,items:_,itemsLoader:C,currentIndex:r.currentIndex,queryMarkPos:null!==T?T.start:null,queryStarted:Date.now(),upKeyCount:0,downKeyCount:0,highlight:x};return t(c.a,P),P}},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/pm-plugins/plugin-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("./node_modules/prosemirror-state/dist/index.es.js").PluginKey)("typeAheadPlugin")},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/ui/TypeAheadItemsList.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@atlaskit/item/dist/esm/util/theme.js"),c=n("./node_modules/@atlaskit/item/dist/esm/components/ItemGroup.js"),d=n("./node_modules/@atlaskit/item/dist/esm/components/Item.js"),u=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),p=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),h=n("./node_modules/@atlaskit/theme/dist/es2019/colors.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/styles.js"),f=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/quick-insert/assets/fallback.js");const b={overflow:"hidden"},g={[l.e]:{padding:{default:{bottom:12,left:12,right:12,top:12}},beforeItemSpacing:{default:()=>12},borderRadius:()=>0,hover:{text:h.text,secondaryText:"#6B778C"},selected:{background:Object(u.a)({light:"#F4F5F7",
dark:"#3B475C"}),text:Object(u.a)({light:"#172B4D",dark:"#B8C7E0"}),secondaryText:Object(u.a)({light:"#6B778C",dark:"#8C9CB8"})}}},y=a.default.div(["width:40px;height:40px;overflow:hidden;border:1px solid rgba(223,225,229,0.5);border-radius:","px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;div{width:40px;height:40px;}"],Object(p.borderRadius)()),v=a.default.div(["display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;line-height:1.4;"]),O=a.default.div(["white-space:initial;.item-description{font-size:11.67px;color:",";margin-top:4px;}"],"#6B778C"),j=a.default.div(["flex:0 0 auto;"]),w=e=>s.a.createElement(f.default,{label:e});function k({items:e,currentIndex:t,insertByIndex:n,setCurrentIndex:o}){return Array.isArray(e)?s.a.createElement(a.ThemeProvider,{theme:g},s.a.createElement(c.a,null,e.map(((e,r)=>s.a.createElement(E,{key:e.key||e.title,item:e,index:r,currentIndex:t,insertByIndex:n,setCurrentIndex:o}))))):null}
class E extends s.a.Component{constructor(...e){super(...e),r()(this,"state",{ref:null}),r()(this,"insertByIndex",(()=>{this.props.insertByIndex(this.props.index)})),r()(this,"setCurrentIndex",(()=>{this.isSelected(this.props)||this.props.setCurrentIndex(this.props.index)})),r()(this,"handleRef",(e=>{const t=(e=>e&&e.ref)(e)?e.ref:e;this.setState({ref:t})}))}shouldComponentUpdate(e){return this.isSelected(this.props)!==this.isSelected(e)}isSelected(e){return e.index===e.currentIndex}componentDidUpdate(){const e=this.state.ref;this.props.index===this.props.currentIndex&&e&&function(e){const{offsetTop:t,offsetHeight:n,offsetParent:o}=e,{offsetHeight:r,scrollTop:i}=o,s=t+n>r+i?1:i>t?-1:0;0!==s&&o&&(o.scrollTop=1===s?t+n-r:t)}(e)}render(){const{item:e}=this.props;return e.render?s.a.createElement("div",{onMouseMove:this.setCurrentIndex,ref:this.handleRef,style:b},s.a.createElement(e.render,{onClick:this.insertByIndex,onHover:this.setCurrentIndex,isSelected:this.isSelected(this.props)
})):s.a.createElement(d.a,{onClick:this.insertByIndex,onMouseMove:this.setCurrentIndex,elemBefore:s.a.createElement(y,null,e.icon?e.icon():w(e.title)),isSelected:this.isSelected(this.props),"aria-describedby":e.title,ref:this.handleRef},s.a.createElement(v,null,s.a.createElement(O,null,s.a.createElement("div",{className:"item-title"},e.title),e.description&&s.a.createElement("div",{className:"item-description"},e.description)),s.a.createElement(j,null,e.keyshortcut&&s.a.createElement(m.h,null,e.keyshortcut))))}}E.displayName="TypeAheadItemComponent"},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/type-ahead/utils/find-query-mark.js":function(e,t,n){"use strict";function o(e){const{doc:t,schema:n}=e,{typeAheadQuery:o}=n.marks,{from:r,to:i}=e.selection;return function(e,t,n,o){let r={start:-1,end:-1};return t.nodesBetween(n,o,((t,n)=>{-1===r.start&&e.isInSet(t.marks)&&(r={start:n,end:n+Math.max(t.textContent.length,1)})})),r}(o,t,r-1,i)}n.d(t,"a",(function(){return o}))},
"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/undo-redo/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."}})},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/unsupported-content/styles.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),i=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/utils.js"),s=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/selection/types.js");const a={
BLOCK_CONTAINER:"unsupportedBlockView-content-wrap",INLINE_CONTAINER:"unsupportedInlineView-content-wrap"},l=`.${a.INLINE_CONTAINER} > span`,c=`.${a.BLOCK_CONTAINER} > div`,d=Object(o.css)(["",",","{cursor:pointer;}.","",",.","","{","}.danger{.","",",.","","{border:","px solid ",";background-color:",";}}"],c,l,r.G,c,r.G,l,Object(i.a)([s.a.Background,s.a.Border]),r.G,c,r.G,l,r.E,r.i,r.h)},"./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("./node_modules/prosemirror-state/dist/index.es.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=new o.PluginKey("widthPlugin");t.a=()=>({name:"width",pmPlugins:()=>[{name:"width",plugin:({dispatch:e})=>function(e){return new o.Plugin({key:a,state:{init:()=>({width:document.body.offsetWidth}),apply(t,n){const o=t.getMeta(a);if(!o)return n;const r=i(i({},n),o);return!r||n.width===r.width&&n.lineLength===r.lineLength?n:(e(a,r),r)}}})}(e)}],contentComponent({editorView:e,containerElement:t}){const n={lineLength:e.dom.clientWidth};t&&(n.width=t.offsetWidth);const o=e.state.tr.setMeta(a,n);return e.dispatch(o),null}})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/CollapsedEditor/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){
return O}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/editor.js"),l=n("./node_modules/@babel/runtime/helpers/extends.js"),c=n.n(l),d=n("./node_modules/prop-types/index.js"),u=n.n(d),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/EditorContext/index.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithEditorActions/index.js");class m extends s.a.Component{constructor(...e){super(...e),r()(this,"handleSave",(e=>()=>{this.props.onSave(e)})),r()(this,"handleCancel",(e=>()=>{this.props.onCancel(e)})),r()(this,"handleChange",(e=>()=>{this.props.onChange(e)}))}render(){if(this.context.editorActions){const{editorActions:e}=this.context;return s.a.createElement(a.a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,
onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}return s.a.createElement(p.a,null,s.a.createElement(h.a,{render:e=>s.a.createElement(a.a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}))}}m.displayName="EditorWithActions",r()(m,"contextTypes",{editorActions:u.a.object.isRequired});var f=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),g=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js")
;const y=f.default.input(["input&{background-color:white;border:1px solid ",";border-radius:","px;box-sizing:border-box;height:40px;padding-left:20px;padding-top:12px;padding-bottom:12px;font-size:14px;width:100%;font-weight:400;line-height:1.42857142857143;letter-spacing:-0.005em;color:",";&:hover{border-color:",";cursor:text;}}"],b.K,Object(g.borderRadius)(),"#5E6C84","#C1C7D0");class v extends i.PureComponent{constructor(...e){super(...e),r()(this,"focusHandler",(e=>{this.input&&this.input.blur(),this.props.onFocus&&this.props.onFocus(e)})),r()(this,"handleInputRef",(e=>{this.input=e}))}render(){const e=this.props.text||"Type something\u2026";return s.a.createElement(y,{innerRef:this.handleInputRef,onFocus:this.focusHandler,placeholder:e})}}v.displayName="ChromeCollapsed";class O extends s.a.Component{constructor(...e){super(...e),r()(this,"handleEditorRef",((e,t)=>{t&&"function"==typeof t&&t(e),this.editorComponent=e}))}UNSAFE_componentWillReceiveProps(e){
!this.props.isExpanded&&e.isExpanded&&(this.shouldTriggerExpandEvent=!0)}componentDidUpdate(){this.shouldTriggerExpandEvent&&this.editorComponent&&(this.shouldTriggerExpandEvent=!1,this.props.onExpand&&this.props.onExpand())}render(){const e=s.a.Children.only(this.props.children);if(e.type!==a.a&&e.type!==m)throw new Error("Expected child to be of type `Editor`");return this.props.isExpanded?s.a.cloneElement(e,{ref:t=>this.handleEditorRef(t,e.ref)}):s.a.createElement(v,{onFocus:this.props.onFocus,text:this.props.placeholder})}}O.displayName="CollapsedEditor"},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/common.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/chromatism/dist/chromatism.esm.js");const r=function(e,t){const{r:n,g:r,b:i}=o.a.convert(e).rgb;return`rgba(${n}, ${r}, ${i}, ${t})`}("#172B4D",.12)},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/getColorMessage.js":function(e,t,n){
"use strict";function o(e,t){let n=e[t];return n||console.warn(`Text color palette does not have an internationalization message for color ${t.toUpperCase()}.\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n`),n}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/paletteMessages.js":function(e,t,n){"use strict";var o=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(o.h)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",
description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",
defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"}})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/textColorPalette.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}))
;var o=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/marks/text-color.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/getColorMessage.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/paletteMessages.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/Palettes/common.js");const a=(e,t)=>{const n=e.toLowerCase().replace(" ","-"),o=Object(r.a)(i.a,n);return{value:t,label:e,border:s.a,message:o}},l=[],c=[];o.a.forEach(((e,t)=>{l.push(a(e,t))})),o.b.forEach(((e,t)=>{c.push(a(e,t))}))},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ColorPalette/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/chromatism/dist/chromatism.esm.js"),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),l=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/done.js"),d=n.n(c),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");const p=u.default.button(["height:26px;width:26px;background:",";padding:0;border-radius:4px;border:1px solid ",";cursor:pointer;display:block;"],"#091E42","#FFFFFF"),h=u.default.span(["border:1px solid transparent;margin:1px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:hover{border-color:",";}"],"#C1C7D0");var m=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js");const f=Object(l.h)({selected:{id:"fabric.editor.selected",defaultMessage:"Selected",description:"If the item is selected or not."}});class b extends o.PureComponent{constructor(...e){
super(...e),a()(this,"onMouseDown",(e=>{e.preventDefault()})),a()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){const{tabIndex:e,value:t,label:n,isSelected:o,borderColor:i,checkMarkColor:s="#FFFFFF",intl:{formatMessage:a}}=this.props;return r.a.createElement(m.a,{content:n},r.a.createElement(h,null,r.a.createElement(p,{onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:e,className:""+(o?"selected":""),style:{backgroundColor:t||"transparent",border:`1px solid ${i}`}},o&&r.a.createElement(d.a,{primaryColor:s,label:a(f.selected)}))))}}b.displayName="Color";var g=Object(l.i)(b),y=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js");const v=u.default.div(["padding:0 ","px;display:flex;"],Object(y.gridSize)());function O(e,t){return t.sort(((t,n)=>i.a.difference(n,e)-i.a.difference(t,e)))[0]}t.a=Object(l.i)((e=>{
const{palette:t,cols:n=7,onClick:o,selectedColor:i,className:s,intl:{formatMessage:a}}=e,l=r.a.useMemo((()=>t.reduce(((e,t,o)=>{const r=Math.floor(o/n);return e[r]=e[r]||[],e[r].push(t),e}),[])),[t,n]);return r.a.createElement(r.a.Fragment,null,l.map((e=>r.a.createElement(v,{className:s,key:`row-first-color-${e[0].value}`},e.map((({value:e,label:t,border:n,message:s})=>r.a.createElement(g,{key:e,value:e,borderColor:n,label:s?a(s):t,onClick:o,isSelected:e===i,checkMarkColor:O(e,["#FFFFFF","#42526E"])})))))))}))},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ConfigPanel/LoadingState.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js");const s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(["display:flex;justify-content:center;margin-top:64px;"]);t.a=()=>r.a.createElement(s,null,r.a.createElement(i.a,{size:"small"}))},
"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ContextPanel/context.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i);const{Provider:a,Consumer:l}=s.a.createContext({width:0,broadcastWidth:()=>{}});class c extends s.a.Component{constructor(e){super(e),r()(this,"state",{width:0}),r()(this,"broadcastSidebarWidth",(e=>{e!==this.state.width&&this.setState({width:e})}))}render(){const{width:e}=this.state;return s.a.createElement(a,{value:{width:e,broadcastWidth:this.broadcastSidebarWidth}},this.props.children)}}c.displayName="ContextPanelWidthProvider"},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ContextPanel/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}))
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a),c=n("./node_modules/@atlaskit/editor-core/node_modules/react-transition-group/esm/Transition.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/ContextPanel/context.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/context-panel/index.js"),f=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithEditorActions/index.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}
return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=d.default.div(["will-change:width;width:","px;height:100%;transition:width ","ms ",";overflow:hidden;box-shadow:inset 2px 0 0 0 ",";"],(e=>e.visible?e.panelWidth:0),500,u.L,"#EBECF0"),O=d.default.div(["box-sizing:border-box;padding:16px 16px 0px;width:","px;height:100%;overflow-y:auto;"],(e=>e.panelWidth));class j extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{mounted:!1,currentPluginContent:void 0}),s()(this,"showPluginContent",(()=>{
const{pluginContent:e}=this.props,{currentPluginContent:t}=this.state;if(t)return l.a.createElement(c.a,{timeout:this.state.mounted?500:0,in:!!e,mountOnEnter:!0,unmountOnExit:!0,onExited:()=>this.unsetPluginContent()},t)})),s()(this,"showProvidedContent",(e=>{const{children:t}=this.props;if(t)return l.a.createElement(c.a,{timeout:this.state.mounted?500:0,in:e,mountOnEnter:!0,unmountOnExit:!0},t)}))}static getDerivedStateFromProps(e,t){return e.pluginContent!==t.currentPluginContent?g(g({},t),{},{currentPluginContent:e.pluginContent}):null}unsetPluginContent(){this.setState({currentPluginContent:void 0})}componentDidMount(){this.setState({mounted:!0})}render(){const{currentPluginContent:e}=this.state,t=e?360:this.props.width||360,n=!!this.props.visible,o=n||!!this.state.currentPluginContent;return l.a.createElement(p.a,null,(({broadcastWidth:e})=>(e(o?t:0),l.a.createElement(v,{panelWidth:t,visible:o},l.a.createElement(O,{panelWidth:t
},this.showPluginContent()||this.showProvidedContent(n))))))}}j.displayName="SwappableContentArea";class w extends l.a.Component{render(){return l.a.createElement(f.a,{render:e=>{const t=e._privateGetEventDispatcher(),n=e._privateGetEditorView();return t?l.a.createElement(h.a,{eventDispatcher:t,plugins:{contextPanel:m.b},render:({contextPanel:e})=>{const t=e&&e.contents.find(Boolean);return l.a.createElement(j,r()({},this.props,{editorView:n,pluginContent:t}))}}):l.a.createElement(j,r()({editorView:n},this.props))}})}}w.displayName="ContextPanel",s()(w,"defaultProps",{width:360})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/Dropdown/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/droplist/dist/esm/components/Droplist.js"),l=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/Popup/index.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/with-outer-listeners.js");class d extends i.PureComponent{constructor(e){super(e),r()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),r()(this,"updatePopupPlacement",(e=>{this.setState({popupPlacement:e})})),this.state={popupPlacement:["bottom","left"]}}renderDropdown(){const{target:e,popupPlacement:t}=this.state,{children:n,mountTo:o,boundariesElement:r,scrollableElement:i,onOpenChange:c,fitHeight:d,fitWidth:u,zIndex:p}=this.props;return s.a.createElement(l.a,{target:e,mountTo:o,boundariesElement:r,scrollableElement:i,onPlacementChanged:this.updatePopupPlacement,fitHeight:d,fitWidth:u,zIndex:p},s.a.createElement("div",{style:{height:0,minWidth:u||0}
},s.a.createElement(a.a,{disabled:!0,isOpen:!0,onOpenChange:c,appearance:"tall",position:t.join(" "),shouldFlip:!1,shouldFitContainer:!0},n)))}render(){const{trigger:e,isOpen:t}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{ref:this.handleRef},e),t?this.renderDropdown():null)}}d.displayName="Dropdown";const u=Object(c.a)(d);t.a=u},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/EditorContext/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/actions/index.js");const d=s.a.createContext({}),u=()=>s.a.useContext(d);class p extends s.a.Component{constructor(e){super(e),this.editorActions=e.editorActions||new c.a}getChildContext(){return{editorActions:this.editorActions}}
render(){return s.a.createElement(d.Provider,{value:this.getChildContext()},this.props.children)}}p.displayName="LegacyEditorContext",r()(p,"childContextTypes",{editorActions:l.a.object})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ElementBrowser/components/ElementBrowserLoader.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/react-loadable/lib/index.js"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js");const c=a.default.div(["display:flex;align-items:center;justify-content:center;height:100%;width:100%;"]),d=s()({loader:()=>n.e("@atlaskit-internal-editor-element-browser").then(n.bind(null,"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ElementBrowser/ElementBrowser.js")),loading:()=>r.a.createElement(c,null,r.a.createElement(l.a,{size:"medium"}))});t.a=d},
"./node_modules/@atlaskit/editor-core/dist/es2019/ui/InlineNodeWrapper/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/react/index.js"),r=n.n(o);function i(){const e=document.createElement("span");return e.contentEditable="false",e.classList.add("inline-node--mobile"),e}const s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span(["display:block;"]),a=({useInlineWrapper:e,children:t})=>e?r.a.createElement(s,null,t):r.a.createElement(r.a.Fragment,null,t);a.displayName="InlineNodeWrapper",t.b=a},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/LinkSearchList.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}))
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(a),c=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),d=n("./node_modules/date-fns/distance_in_words/index.js"),u=n.n(d),p=n("./node_modules/date-fns/difference_in_calendar_days/index.js"),h=n.n(p),m=n("./node_modules/date-fns/format/index.js"),f=n.n(m),b=n("./node_modules/react-intl/lib/index.es.js"),g=n("./node_modules/@atlaskit/editor-core/dist/es2019/messages.js")
;const y=s.default.li(["background-color:",";padding:8px 12px;cursor:pointer;display:flex;margin-top:0;"],(e=>e.selected?"#F4F5F7":"transparent")),v=s.default.span(["overflow:hidden;"]),O=s.default.div(["color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:20px;"],"#172B4D"),j=s.default.div(["color:",";line-height:14px;font-size:","px;"],"#7A869A",Object(c.fontSizeSmall)()),w=s.default.span(["min-width:16px;margin-top:3px;margin-right:12px;img{max-width:16px;}"]);class k extends r.a.PureComponent{constructor(...e){super(...e),l()(this,"handleSelect",(e=>{e.preventDefault();const{item:t,onSelect:n}=this.props;n(t.url,t.name)})),l()(this,"handleMouseMove",(()=>{const{onMouseMove:e,item:t}=this.props;e(t.objectId)}))}renderIcon(){const{item:{icon:e,iconUrl:t}}=this.props;return e?r.a.createElement(w,null,e):t?r.a.createElement(w,null,r.a.createElement("img",{src:t})):null}renderWithSpaces(e,t,n=""){
return r.a.createElement(r.a.Fragment,null,"\xa0 \u2022",r.a.createElement("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"},"\xa0 ",e," ",t," ",n))}renderAbsoluteOrRelativeDate(e,t){const{intl:n}=this.props;let o="";switch(t){case"updated":o=n.formatMessage(g.a.timeUpdated);break;case"viewed":o=n.formatMessage(g.a.timeViewed)}return h()(e,Date.now())<-7?this.renderWithSpaces(o,f()(e,"MMMM DD, YYYY")):this.renderWithSpaces(o,u()(e,Date.now()),n.formatMessage(g.a.timeAgo))}renderTimeStamp(){const{lastUpdatedDate:e,lastViewedDate:t}=this.props.item;return t?this.renderAbsoluteOrRelativeDate(t,"viewed"):e?this.renderAbsoluteOrRelativeDate(e,"updated"):void 0}render(){const{item:e,selected:t}=this.props;return r.a.createElement(y,{"data-testid":"link-search-list-item",selected:t,onMouseMove:this.handleMouseMove,onClick:this.handleSelect
},this.renderIcon(),r.a.createElement(v,null,r.a.createElement(O,null,e.name),r.a.createElement(j,null,e.container,this.renderTimeStamp())))}}k.displayName="LinkSearchListItem";var E=Object(b.i)(k);const S=s.default.div(["padding-top:0;"]),_=s.default.div(["text-align:center;min-height:80px;margin-top:30px;"]),C=s.default.ul(["padding:0;list-style:none;"]);class x extends o.PureComponent{render(){const{onSelect:e,onMouseMove:t,items:n,selectedIndex:o,isLoading:s}=this.props;let a,l;return n&&n.length>0&&(a=r.a.createElement(C,null,n.map(((n,i)=>r.a.createElement(E,{item:n,selected:o===i,onMouseMove:t,onSelect:e,key:n.objectId}))))),s&&(l=r.a.createElement(_,null,r.a.createElement(i.a,{size:"medium"}))),r.a.createElement(S,null,a,l)}}x.displayName="LinkSearchList"},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/LinkSearch/ToolbarComponents.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}))
;var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");const r="\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n",i=o.default.div(["",""],r),s=o.default.div(["width:","px;display:flex;flex-direction:column;overflow:auto;padding:0;",";line-height:initial;"],420,(({provider:e})=>Object(o.css)(["width:","px;"],e?420:360)))},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/MediaAndEmbedsToolbar/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-utils/dist/index.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/messages.js"),s=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wrap-left.js"),a=n.n(s),l=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wrap-right.js"),c=n.n(l),d=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wide.js"),u=n.n(d),p=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-full-width.js"),h=n.n(p),m=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-left.js"),f=n.n(m),b=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-right.js"),g=n.n(b),y=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-center.js"),v=n.n(y),O=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/rich-media-utils.js"),j=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/width/index.js"),w=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),k=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/utils.js"),E=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),S=n("./node_modules/react-intl/lib/index.es.js")
;const _=Object(S.h)({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),C=[{value:"align-start",icon:f.a},{value:"center",icon:v.a},{value:"align-end",icon:g.a}],x=[{value:"wrap-left",icon:a.a},{value:"wrap-right",icon:c.a}],T=[{value:"wide",icon:u.a},{value:"full-width",icon:h.a}],P={"wrap-left":_.wrapLeft,center:i.a.alignImageCenter,"wrap-right":_.wrapRight,wide:i.a.layoutWide,"full-width":i.a.layoutFullWidth,"align-end":i.a.alignImageRight,"align-start":i.a.alignImageLeft},A=(e,t)=>(n,r)=>{const{node:i}=n.selection,{layout:s}=i.attrs,{mediaSingle:a}=n.schema.nodes;if(!r)return!1;const l=j.b.getState(n);if(!i||i.type!==t||!l)return!1;const c=((e,t)=>{const{embedCard:n}=t.nodes
;return e.type===n?e.attrs.originalWidth||w.b:e.firstChild&&e.firstChild.attrs.width||e.attrs.width})(i,n.schema),d=Object(O.a)(e,i.attrs,void 0,c,l.lineLength),u=n.tr.setNodeMarkup(n.selection.from,void 0,d);return u.setMeta("scrollIntoView",!1),u.setSelection(o.NodeSelection.create(u.doc,n.selection.from)),r(Object(k.a)(n,u,{eventType:E.d.TRACK,action:E.a.SELECTED,actionSubject:E.b[i.type===a?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:E.c.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:s,currentLayoutType:e}})),!0},I=(e,t,n,o)=>e.map((e=>{const{value:r}=e;return{type:"button",icon:e.icon,title:n.formatMessage(P[r]),selected:t===r,onClick:A(r,o)}}));t.a=(e,t,n,i,s)=>{const{selection:a}=e;if(!(a instanceof o.NodeSelection)||!a.node||!n||((e,{nodes:t},n)=>Object(r.hasParentNodeOfType)([t.bodiedExtension,t.listItem,t.expand,t.nestedExpand,...n?[]:[t.table]].filter(Boolean))(e))(a,e.schema,s))return[];const{layout:l}=a.node.attrs;let c=[...I(C,l,t,n),{type:"separator"},...I(x,l,t,n)]
;return i||(c=c.concat([{type:"separator"},...I(T,l,t,n)])),c}},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/PanelTextInput/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/PanelTextInput/styles.js"),l=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js");class c extends i.PureComponent{constructor(e){super(e),r()(this,"onMouseDown",(()=>{const{onMouseDown:e}=this.props;e&&e()})),r()(this,"onBlur",(e=>{const{onBlur:t}=this.props;t&&t(e)})),r()(this,"handleChange",(()=>{const{onChange:e}=this.props;this.input&&this.setState({value:this.input.value}),e&&this.input&&e(this.input.value)})),r()(this,"handleKeydown",(e=>{const{onUndo:t,onRedo:n,onSubmit:o,onCancel:r}=this.props;13===e.keyCode&&o?(e.preventDefault(),
o(this.input.value)):27===e.keyCode&&r?r(e):"function"==typeof t&&this.isUndoEvent(e)?(e.preventDefault(),t()):"function"==typeof n&&this.isRedoEvent(e)&&(e.preventDefault(),n()),this.props.onKeyDown&&this.props.onKeyDown(e)})),r()(this,"handleRef",(e=>{e instanceof HTMLInputElement?(this.input=e,this.props.autoFocus&&(this.focusTimeoutId=window.setTimeout((()=>this.focus())))):this.input=void 0})),this.state={value:e.defaultValue||""}}UNSAFE_componentWillReceiveProps(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})}componentWillUnmount(){window.clearTimeout(this.focusTimeoutId)}render(){const{placeholder:e,width:t,maxLength:n,testId:o,ariaLabel:r}=this.props,{value:i}=this.state;return s.a.createElement(a.a,{"data-testid":o||"",type:"text",placeholder:e,value:i,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,innerRef:this.handleRef,width:t,maxLength:n,"aria-label":r})}focus(){const{input:e}=this
;if(e){const t="object"==typeof this.props.autoFocus?this.props.autoFocus:{};e.focus(t)}}isUndoEvent(e){return 90===e.keyCode&&(l.a.mac&&e.metaKey&&!e.shiftKey||!l.a.mac&&e.ctrlKey)}isRedoEvent(e){return!l.a.mac&&e.ctrlKey&&89===e.keyCode||l.a.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}c.displayName="PanelTextInput"},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/PanelTextInput/styles.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.input(["input&{background:transparent;border:0;border-radius:0;box-sizing:content-box;color:",";flex-grow:1;font-size:13px;line-height:20px;padding:0;",";min-width:145px;&::-ms-clear{display:none;}&:focus{outline:none;}&::placeholder{color:",";opacity:0.5;}}"],"#505F79",(e=>e.width?`width: ${e.width}px`:""),"#172B4D")},
"./node_modules/@atlaskit/editor-core/dist/es2019/ui/PortalProvider/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g}));var o,r,i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a),c=n("./node_modules/react-dom/index.js"),d=n("./node_modules/prop-types/index.js"),u=n.n(d),p=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");class f extends h.a{constructor(e,t){super(),s()(this,"portals",new Map),s()(this,"setContext",(e=>{this.context=e})),this.onAnalyticsEvent=e,this.useAnalyticsContext=t}render(e,t,n=!1){this.portals.set(t,{children:e,hasReactContext:n});const o=this.useAnalyticsContext?l.a.createElement(v,null,e()):e()
;Object(c.unstable_renderSubtreeIntoContainer)(this.context,o,t)}forceUpdate(){this.portals.forEach(((e,t)=>{if(!e.hasReactContext&&!this.useAnalyticsContext)return;const n=this.useAnalyticsContext?l.a.createElement(v,null,e.children()):e.children();Object(c.unstable_renderSubtreeIntoContainer)(this.context,n,t)}))}remove(e){this.portals.delete(e);try{Object(c.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:m.a.FAILED_TO_UNMOUNT,actionSubject:m.b.EDITOR,actionSubjectId:m.c.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:m.d.OPERATIONAL}})}}}f.displayName="PortalProviderAPI";class b extends l.a.Component{constructor(e){super(e),this.portalProviderAPI=new f(e.onAnalyticsEvent,e.useAnalyticsContext)}render(){return this.props.render(this.portalProviderAPI)}componentDidUpdate(){this.portalProviderAPI.forceUpdate()}}
b.displayName="PortalProvider",s()(b,"displayName","PortalProvider");class g extends l.a.Component{constructor(e){super(e),s()(this,"handleUpdate",(e=>this.setState({portals:e}))),e.portalProviderAPI.setContext(this),e.portalProviderAPI.on("update",this.handleUpdate),this.state={portals:new Map}}render(){const{portals:e}=this.state;return l.a.createElement(l.a.Fragment,null,Array.from(e.entries()).map((([e,t])=>Object(c.createPortal)(t,e))))}}g.displayName="PortalRenderer";const y={getAtlaskitAnalyticsContext(){},getAtlaskitAnalyticsEventHandlers(){}},v=(r=o=class extends l.a.Component{render(){const{value:e}=this.context.contextAdapter.analytics||{value:y};return l.a.createElement(p.a.Provider,{value:e},this.props.children)}},s()(o,"contextTypes",{contextAdapter:u.a.object}),r)},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/classnames/index.js"),l=n.n(a),c=n("./node_modules/re-resizable/lib/index.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/grid/index.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/utils.js"),p=n("./node_modules/@atlaskit/editor-common/dist/es2019/styles/shared/media-single.js"),h=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js");const f=(e,t)=>t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e;class b extends s.a.Component{constructor(...e){super(...e),r()(this,"resizable",s.a.createRef()),r()(this,"state",{isResizing:!1}),r()(this,"handleResizeStart",(e=>{const{innerPadding:t=0,handleResizeStart:n,highlights:o,displayGrid:r,layout:i,width:s,snapPoints:a}=this.props
;if(e.preventDefault(),n&&!n(e))return!1;this.setState({isResizing:!0},(()=>{const e=o(s+t,a);r(e.length>0,Object(d.c)(i),e)}))})),r()(this,"handleResize",((e,t,n,o)=>{const{highlights:r,calcNewSize:i,scaleFactor:s,snapPoints:a,displayGrid:l,layout:c,updateSize:u,innerPadding:p=0}=this.props,h=this.resizable.current,{isResizing:m}=this.state;if(!h||!h.state.original||!m)return;const b=f(h.state.original.width+o.width*(s||1),a),g=i(b+p,!1);g.layout!==c&&u(g.width,g.layout);const y=r(b,a);l(y.length>0,Object(d.c)(g.layout),y),h.updateSize({width:b,height:"auto"}),h.setState({isResizing:!0})})),r()(this,"handleResizeStop",((e,t,n,o)=>{const{highlights:r,calcNewSize:i,snapPoints:s,displayGrid:a,layout:l,updateSize:c,dispatchAnalyticsEvent:p,nodeType:h}=this.props,b=this.resizable.current,{isResizing:g}=this.state;if(!b||!b.state.original||!g)return;const y=f(b.state.original.width+o.width,s),v=i(Object(u.c)(y,s),!0),O=r(y,s);p&&p(((e,t,n)=>{const o="embed"===e?m.b.EMBEDS:m.b.MEDIA_SINGLE
;return{action:m.a.EDITED,actionSubject:o,actionSubjectId:m.c.RESIZED,attributes:{size:t,layout:n},eventType:m.d.UI}})(h,v.width,v.layout)),a(O.length>0,Object(d.c)(v.layout),O),this.setState({isResizing:!1},(()=>{c(v.width,v.layout),a(!1,Object(d.c)(l))}))}))}render(){const e={},t={},{innerPadding:n=0,width:o,pctWidth:r,selected:i,layout:a,enable:d,children:m,ratio:f}=this.props,{isResizing:b}=this.state;u.a.forEach((o=>{t[o]=`richMedia-resize-handle-${o}`,e[o]={width:"24px",[o]:-13-n+"px",zIndex:h.Y,pointerEvents:"auto"}}));const g=l()(p.b,`image-${a}`,this.props.className,{"is-resizing":b,"not-resized":!r,"richMedia-selected":i,"rich-media-wrapped":"wrap-left"===a||"wrap-right"===a});let y;return f&&(y={position:"absolute",width:"100%",paddingBottom:`${f}%`,top:0,pointerEvents:"none"}),s.a.createElement(c.Resizable,{ref:this.resizable,size:{width:o,height:"auto"},className:g,handleClasses:t,handleStyles:e,handleWrapperStyle:y,enable:d,onResize:this.handleResize,
onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},m)}}b.displayName="Resizer"},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/Resizer/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>0===t.length?e:t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t)),r=["left","right"],i={left:"start",right:"end"}},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/Toolbar/types.js":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(o||(o={}))},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/ToolbarButton/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),l=n("./node_modules/@babel/runtime/helpers/extends.js"),c=n.n(l),d=n("./node_modules/@atlaskit/button/dist/es2019/button.js"),u=e=>s.a.createElement(d.a,c()({},e,{style:{alignItems:"center"}}));const p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(["display:flex;height:100%;"]);class h extends s.a.PureComponent{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const{disabled:t,onClick:n,onItemClick:o,item:r}=this.props;!t&&n&&n(e),!t&&r&&o&&o(r)}))}render(){const e=s.a.createElement(u,{appearance:"subtle","aria-haspopup":!0,testId:this.props.testId,className:this.props.className,href:this.props.href,"aria-label":this.props["aria-label"],iconAfter:this.props.iconAfter,iconBefore:this.props.iconBefore,isDisabled:this.props.disabled,
isSelected:this.props.selected,onClick:this.handleClick,spacing:this.props.spacing||"default",target:this.props.target,shouldFitContainer:!0},this.props.children),t=this.props.hideTooltip?null:this.props.title;return this.props.title?s.a.createElement(a.a,{content:t,hideTooltipOnClick:!0,position:this.props.titlePosition},s.a.createElement(p,null,e)):e}}h.displayName="ToolbarButton",r()(h,"defaultProps",{className:"",titlePosition:"top"})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithEditorActions/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a);class c extends s.a.Component{constructor(...e){super(...e),r()(this,"onContextUpdate",(()=>{this.forceUpdate()}))}componentDidMount(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}componentWillUnmount(){
this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}render(){return this.props.render(this.context.editorActions)}}c.displayName="WithEditorActions",r()(c,"contextTypes",{editorActions:l.a.object.isRequired})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithPluginState/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/performance/measure.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/event-dispatcher/index.js"),u=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/types/enums.js"),p=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/consts.js"),h=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/analytics/plugin-key.js"),m=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/collab-edit/get-participants-count.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends s.a.Component{constructor(e,t){super(e),r()(this,"listeners",{}),r()(this,"debounce",null),r()(this,"notAppliedState",{}),r()(this,"isSubscribed",!1),r()(this,"callsCount",0),r()(this,"state",{}),r()(this,"handlePluginStateChange",((e,t,n,o)=>r=>{(this.state[e]!==r||o)&&this.updateState({stateSubset:{[e]:r},pluginName:t,performanceOptions:n})})),r()(this,"updateState",(({stateSubset:e,pluginName:t,performanceOptions:n})=>{this.notAppliedState=b(b({},this.notAppliedState),e),this.debounce&&window.clearTimeout(this.debounce)
;const o=!1!==this.props.debounce?e=>window.setTimeout(e,0):e=>e();this.debounce=o((()=>{const e=`\ud83e\udd89${t}::WithPluginState`;n.trackingEnabled&&Object(c.b)(e),this.setState(this.notAppliedState,(()=>{n.trackingEnabled&&Object(c.c)(e,(e=>{if(++this.callsCount%n.samplingRate==0&&e>n.slowThreshold){const n=this.getEditorView();this.dispatchAnalyticsEvent({action:u.a.WITH_PLUGIN_STATE_CALLED,actionSubject:u.b.EDITOR,eventType:u.d.OPERATIONAL,attributes:{plugin:t,duration:e,participants:Object(m.a)(n&&n.state)}})}}))})),this.debounce=null,this.notAppliedState={}}))})),r()(this,"dispatchAnalyticsEvent",(e=>{const t=this.getEventDispatcher();if(t){Object(d.b)(t)(p.a,{payload:e})}})),r()(this,"onContextUpdate",(()=>{this.subscribe(this.props)})),this.state=this.getPluginsStates(e.plugins,this.getEditorView(e,t))}getEditorView(e,t){const n=e||this.props,o=t||this.context
;return n.editorView||o&&o.editorActions&&o.editorActions._privateGetEditorView()||o&&o.editorSharedConfig&&o.editorSharedConfig.editorView}getEventDispatcher(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}getPluginsStates(e,t){return t&&e?Object.keys(e).reduce(((n,o)=>{const r=e[o];return r?(n[o]=r.getState(t.state),n):n}),{}):{}}subscribe(e){const t=e.plugins,n=this.getEventDispatcher(e),o=this.getEditorView(e);if(!n||!o||this.isSubscribed)return;const r=h.a.getState(o.state),i=r&&r.performanceTracking&&r.performanceTracking.uiTracking||{},s=!0===i.enabled,a=i.samplingRate||100,l=i.slowThreshold||4;this.isSubscribed=!0;const c=this.getPluginsStates(t,o);this.setState(c),Object.keys(t).forEach((e=>{const o=t[e];if(!o)return;const r=o.key,i=c[e],d=i&&i.subscribe,u=this.handlePluginStateChange(e,r,{
samplingRate:a,slowThreshold:l,trackingEnabled:s},d);d?i.subscribe(u):n.on(o.key,u),this.listeners[o.key]={handler:u,pluginKey:o}}))}unsubscribe(){const e=this.getEventDispatcher(),t=this.getEditorView();e&&t&&this.isSubscribed&&(Object.keys(this.listeners).forEach((n=>{const o=this.listeners[n].pluginKey.getState(t.state);o&&o.unsubscribe?o.unsubscribe(this.listeners[n].handler):e.off(n,this.listeners[n].handler)})),this.listeners=[])}subscribeToContextUpdates(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}unsubscribeFromContextUpdates(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}componentDidMount(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}UNSAFE_componentWillReceiveProps(e){this.isSubscribed||this.subscribe(e)}componentWillUnmount(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}render(){const{render:e}=this.props
;return e(this.state)}}y.displayName="WithPluginState",r()(y,"displayName","WithPluginState"),r()(y,"contextTypes",{editorActions:l.a.object,editorSharedConfig:l.a.object})},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/styles.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return y}));var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),i=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js")
;const s=Object(r.gridSize)()+"px",a=o.default.span(["display:inline-flex;align-items:center;& > div{display:flex;}"]),l=o.default.span(["background:",";width:1px;height:24px;display:inline-block;margin:0 8px;"],"#EBECF0"),c=o.default.span(["display:flex;align-items:center;> div,> span{display:flex;}> div > div{display:flex;}margin-left:","px;min-width:",";"],(({isSmall:e})=>e?4:0),(({isSmall:e})=>e?"40px":"auto")),d=o.default.span(["margin-left:-8px;"]),u=o.default.div(["display:flex;"]),p=c,h=o.default.span(["display:flex;min-width:80px;align-items:center;overflow:hidden;justify-content:center;flex-direction:column;padding:0 ",";"],(e=>"none"===e.spacing?"8px":"6px")),m=Object(o.css)(["box-shadow:0 0 1px rgba(9,30,66,0.31),0 4px 8px -2px rgba(9,30,66,0.25);"]),f=`\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: ${s};\n    width: ${s};\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: ${s};\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n`,b=o.default.div(["background-color:rgba(223,225,229,0.5);color:",";border-radius:","px;padding:4px;line-height:12px;font-size:11.67px;align-self:flex-end;@media (max-width:","px){display:none;}"],"#7A869A",Object(r.borderRadius)(),i.x),g=o.default.span(["user-select:all;"]),y=o.default.div(["&::before{background:",";}"],(e=>e.selectedColor))
},"./node_modules/@atlaskit/editor-core/dist/es2019/ui/with-outer-listeners.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/react-dom/index.js"),l=n.n(a);function c(e){return class extends i.PureComponent{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const t=l.a.findDOMNode(this);(!t||e.target instanceof Node&&!t.contains(e.target))&&this.props.handleClickOutside&&this.props.handleClickOutside(e)})),r()(this,"handleKeydown",(e=>{"Escape"===e.code&&this.props.handleEscapeKeydown?this.props.handleEscapeKeydown(e):"Enter"===e.code&&this.props.handleEnterKeydown&&this.props.handleEnterKeydown(e)}))}componentDidMount(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}componentWillUnmount(){
this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}render(){return s.a.createElement(e,this.props)}}}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/action.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/plugin-key.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/extension/commands.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/media/pm-plugins/plugin-key.js");async function a(e){const t=e.state&&r.a.getState(e.state);t&&t.showContextPanel&&await new Promise((t=>{Object(i.b)(t)(e.state,e.dispatch)}))}async function l(e){const t=e.state&&s.a.getState(e.state)
;return t&&t.waitForMediaUpload&&await t.waitForPendingTasks(),e.state.doc}function c(e){return(t,n)=>{let{tr:r}=t,i=!1;const s=e=>{const t=e.selection.toJSON();r.setSelection(o.Selection.fromJSON(r.doc,t)),e.steps.forEach((e=>{r.step(e)})),i=!0};return e.forEach((e=>e(t,s))),!(!n||!i)&&(n(r),!0)}}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/commands.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return j}))
;var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),i=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js");const s={"\u2026":"...","\u2192":"->","\u2190":"<-","\u2013":"--","\u201c":'"',"\u201d":'"',"\u2018":"'","\u2019":"'"},a=new RegExp(`[${Object.keys(s).join("")}]`,"g"),l=(e,t,n)=>{const{schema:o}=n.doc.type,{mention:r,text:l,emoji:c}=o.nodes;Object(i.g)(n.doc,e,t,(e=>{const{mention:t,text:n,emoji:o}=e.nodes;return(e,r,i)=>{if(e.type===t||e.type===o||e.type===n)return i.isTextblock}})(o)).forEach((({node:t,pos:o})=>{if(t.type===r||t.type===c)((e,t,n,o)=>{const r=o.mapping.map(e),{schema:i}=o.doc.type;o.replaceWith(r,r+t,i.text(n))})(o,t.nodeSize,t.attrs.text,n);else if(t.type===l&&t.text){((e,t,n)=>{const o=t.substr(e-1),{schema:r}=n.doc.type;let i;for(;i=a.exec(o);){const{0:t,index:o}=i,a=n.mapping.map(e+o),l=r.text(s[t]);n.replaceWith(a,a+t.length,l)}})(o>e?o:e,t.text,n)}}))}
;var c=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js");const d=(e,t)=>function(n,o,r){return Array.isArray(e)||(e=[e]),!e.some((e=>!e(n,r)))&&(t(n,o,r)||!1)},u=e=>{const{empty:t,$from:n}=e.selection;return t&&(0===n.parentOffset||e.selection instanceof c.a)},p=e=>{const{empty:t,$from:n}=e.selection;return t&&(n.end()===n.pos||e.selection instanceof c.a)},h=e=>{const{$from:t}=e.selection;return!(t.depth>1)||(e.selection instanceof c.a&&0===t.parentOffset||0===t.index(t.depth-1))};function m(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const f=(e,t,n,o,r)=>{const{schema:i}=r.doc.type,{code:s}=i.marks;return o.type===s&&l(e,t,r),r.doc.nodesBetween(r.mapping.map(e),r.mapping.map(t),((i,s)=>{if(!i.isText)return!0;const a=Math.max(s,r.mapping.map(e)),l=Math.min(s+i.nodeSize,r.mapping.map(t))
;return n?r.removeMark(a,l,o):r.addMark(a,l,o),!0})),r},b=(e,t)=>(n,i)=>{const s=e.create(t);if(n.selection instanceof o.TextSelection&&n.selection.$cursor){const e=n.tr;return s.isInSet(n.storedMarks||n.selection.$cursor.marks())?e.removeStoredMark(s):e.addStoredMark(s),!!i&&(i(e),!0)}return(e=>(t,n)=>{const o=t.tr;if(t.selection instanceof r.a){let n=!1;const r=[];t.selection.forEachCell(((o,i)=>{r.push({node:o,pos:i});const s=i,a=i+o.nodeSize;n||(n=t.doc.rangeHasMark(s,a,e))}));for(let t=r.length-1;t>=0;t--){const i=r[t],s=i.pos,a=s+i.node.nodeSize;f(s,a,n,e,o)}}else{const{$from:n,$to:r}=t.selection,i=t.doc.rangeHasMark(n.pos,r.pos,e);f(n.pos,r.pos,i,e,o)}return!!o.docChanged&&(n&&n(o),!0)})(s)(n,i)},g=e=>(t,n,o)=>e(t,(e=>{e.scrollIntoView(),n&&n(e)}),o),y=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},v=e=>{let t=e
;for(;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},O=(e,t,n,r)=>{n.forEach((t=>{let[n,o]=t;e.insert(e.mapping.map(o),n)})),r.forEach((t=>{let[n,o]=t;e.delete(e.mapping.map(n),e.mapping.map(o))})),e.setSelection(new o.TextSelection(t(e)))},j=e=>(t,n)=>(n&&n(t.tr.setSelection(new o.NodeSelection(t.doc.resolve(e)))),!0)},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/count-nodes.js":function(e,t,n){"use strict";function o(e){const t={};return e.doc.descendants((e=>(e.type.name in t?t[e.type.name]++:t[e.type.name]=1,!0))),t}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js":function(t,n,o){"use strict";o.d(n,"g",(function(){return p})),o.d(n,"e",(function(){return h})),o.d(n,"i",(function(){return m})),o.d(n,"f",(function(){return f})),o.d(n,"h",(function(){return g})),o.d(n,"a",(function(){return y})),o.d(n,"l",(function(){return v})),
o.d(n,"d",(function(){return j})),o.d(n,"b",(function(){return w})),o.d(n,"j",(function(){return k})),o.d(n,"k",(function(){return E})),o.d(n,"c",(function(){return S}));var r=o("./node_modules/prosemirror-model/dist/index.es.js"),i=o("./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/traverse.js"),s=o("./node_modules/@atlaskit/mention/dist/es2019/api/MentionResource.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/validate-using-spec.js"),u=o("./node_modules/@atlaskit/editor-common/dist/es2019/utils/track-unsupported-content.js");function p(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function h(e){if(e.isInline)return(e=>e.isText?!!e.textContent.trim():"hardBreak"!==e.type.name)(e);if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(let t=0;t<e.childCount;t++){if(h(e.child(t)))return!0}return!1}function m(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&p(e.firstChild))return!0;const t=[],n=[];return e.forEach((e=>{e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((e=>!!e.childCount&&!(1===e.childCount&&p(e.firstChild))||e.isAtom)).length}function f(e){const t=e.content.firstChild;return!(1!==e.childCount||!t)&&p(t)}function b(e){return 1===e.depth}function g(e){
const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.node();return!!r&&(p(r)&&b(o))}function y(e){const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.nodeBefore;if(!r)return!1;if("text"===r.type.name&&"{"===r.text){return 0===o.node().marks.length&&b(o)}return!1}function v(t,n,o,i,s,a){if(!n)return;let l;if("string"==typeof n)try{if(s){l=s.parse(n).toJSON()}else l=JSON.parse(n)}catch(e){return void console.error(`Error processing value: ${n} isn't a valid JSON`)}else l=n;if(Array.isArray(l))console.error(`Error processing value: ${l} is an array, but it must be an object.`);else try{if("doc"===l.type&&(Array.isArray(l.content)&&0===l.content.length&&l.content.push({type:"paragraph",content:[]}),l.version||(l.version=1)),s)return r.Node.fromJSON(t,l);const e=Object(d.a)(t,l,a);let n=O(e,o,i);const c=r.Node.fromJSON(t,n);return c.check(),a&&Object(u.a)(c,t,a),c}catch(e){
return void console.error(`Error processing document:\n${e.message}\n\n`,JSON.stringify(l))}}const O=(e,t,n)=>n&&t?function(e,t){const n=new Map;let o=!1;const r=Object(i.a)(e,{mention:e=>{if(e.attrs&&e.attrs.text){o=!0;const t=e.attrs.text,r=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,r)}return l(l({},e),{},{attrs:l(l({},e.attrs),{},{text:""})})}});if(o&&t){const e=(o,r)=>{r&&r.then((o=>{Object(s.d)(o)&&(n.forEach(((e,t)=>{o.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))};t.subscribe("mentionProvider",e)}return r}(e,t):e,j=e=>{let t=-1,n=-1;return e.steps.forEach((e=>{e.getMap().forEach(((e,o,r,i)=>{t=r<t||-1===t?r:t,n=i<n||-1===n?i:n}))})),-1!==t?{from:t,to:n}:null},w=e=>t=>{let n=null;for(let o=t.depth;o>0;o--){const r=t.node(o);e(r)&&(n={pos:o>0?t.before(o):0,start:t.start(o),depth:o,node:r})}return n},k=e=>e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end();function E(e,t,n){
const o=j(e);o&&e.doc.nodesBetween(o.from,o.to,t,n)}function S(e){let t={};return e.nodesBetween(0,e.nodeSize-2,(e=>{t[e.type.name]=(t[e.type.name]||0)+1})),t}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js":function(e,t,n){"use strict";function o(e,t){let n=e;for(;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function r(e,t){const n=document.createDocumentFragment();Array.from(t.children).forEach((e=>{n.appendChild(e)})),e.replaceChild(n,t)}function i(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){const t=e.parentElement;t.removeChild(e),e=t}}n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return d}));const s=(e,t)=>{if(!e)return!1;if(e.classList&&e.classList.contains)return e.classList.contains(t);if(!e.className)return!1
;return-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t)};function a(e,t){if(!e)return null;let n=e;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);do{const e=n.matches?n.matches:n.msMatchesSelector;if(e&&e.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function l(e,t){return a(e,t)}function c(e){if(!e.endsWith("px"))return;const t=parseInt(e,10);return Number.isNaN(t)?void 0:t}function d(e,t){return function(e,t){const n=[];for(let o=0;o<e.childElementCount;o++)n.push(t(e.children[o],o,e));return n}(e,t)}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"x",(function(){
return v})),n.d(t,"y",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"r",(function(){return w})),n.d(t,"l",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return _})),n.d(t,"o",(function(){return C})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return T})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return A})),n.d(t,"s",(function(){return I})),n.d(t,"e",(function(){return M})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return N})),n.d(t,"w",(function(){return R})),n.d(t,"t",(function(){return L}));var o=n("./node_modules/prosemirror-commands/dist/index.es.js"),r=(n("./node_modules/prosemirror-model/dist/index.es.js"),n("./node_modules/prosemirror-state/dist/index.es.js")),i=(n("./node_modules/prosemirror-transform/dist/index.es.js"),
n("./node_modules/@atlaskit/editor-json-transformer/dist/es2019/index.js")),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/fake-text-cursor/cursor.js"),a=n("./node_modules/prosemirror-utils/dist/index.js"),l=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),c=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js"),d=n("./node_modules/@atlaskit/editor-core/dist/es2019/utils/dom.js");function u(e){const{selection:t,doc:n}=e;if(t instanceof r.NodeSelection){if("media"===t.node.type.name){const e=n.nodeAt(t.anchor-3);return!(!e||"paragraph"!==e.type.name)}if("mediaGroup"===t.node.type.name){const e=t.$anchor.nodeBefore;return!(!e||"paragraph"!==e.type.name)}}return t instanceof r.TextSelection&&!t.empty||!Object(c.b)(e)}function p(e){const{selection:t,doc:n}=e;if(t instanceof r.NodeSelection){if("media"===t.node.type.name){const e=n.nodeAt(t.$head.after());return!(!e||"paragraph"!==e.type.name)}
if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof r.TextSelection&&!t.empty||!Object(c.d)(e)}function h(e){const t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function m(e){return e.$cursor||void 0}function f(e,t){if(t.selection instanceof s.a)return!0;if(!function(e,t){return Object(o.h)(e)(t)}(e,t))return!1;const{empty:n,$cursor:r,ranges:i}=t.selection;if(n&&!r)return!1;let a=t=>function(e,t){return!t.type.excludes(e)&&!e.excludes(t.type)}(e,t);return!(t.tr.storedMarks&&!t.tr.storedMarks.every(a))&&(r?r.marks().every(a):i.every((({$from:e,$to:n})=>{let o=0!==e.depth||t.doc.marks.every(a);return t.doc.nodesBetween(e.pos,n.pos,(e=>{o=o&&e.marks.every(a)})),o})))}function b(e,t,n){const o=g(t,e.$to).depth;if(0===o)return!1;const r=t.resolve(e.$to.after(o));return!!r.nodeAfter&&n(r.nodeAfter)}function g(e,t){const n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t
;let o=t.node(t.depth),r=t;for(;t.depth>=1;)o=(t=e.resolve(t.before(t.depth))).node(t.depth),o&&-1!==n.indexOf(o.type.name)&&(r=t);return r}const y=new i.JSONTransformer;function v(e){return y.encode(e)}function O(){const e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(const n in t)if(void 0!==e.style[n])return t[n]}function j(e){const t=function(e){const t=[];if(e.selection){const{$from:n,$to:o}=e.selection,{blockquote:r,panel:i,orderedList:s,bulletList:a,listItem:l,codeBlock:c,decisionItem:d,decisionList:u,taskItem:p,taskList:h}=e.schema.nodes;e.doc.nodesBetween(n.pos,o.pos,(e=>{e.isBlock&&[r,i,s,a,l,c,d,u,p,h].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),{panel:n}=e.schema.nodes;return t.filter((e=>e!==n)).length>0}const w=e=>0===e.indexOf("temporary:"),k=e=>{
const{doc:t,paragraph:n,codeBlock:o,blockquote:r,panel:i,heading:s,listItem:a,bulletList:c,orderedList:d,taskList:u,taskItem:p,decisionList:h,decisionItem:m,media:f,mediaGroup:b,mediaSingle:g}=e.nodes,y=e=>{switch(e.type){case f:case b:case g:return!1;case n:case o:case s:case p:case m:return 0===e.content.size;case r:case i:case a:return 2===e.content.size&&y(e.content.firstChild);case c:case d:return 4===e.content.size&&y(e.content.firstChild);case u:case h:return 2===e.content.size&&y(e.content.firstChild);case t:let v=!0;return e.content.forEach((e=>{v=v&&y(e)})),v;default:return Object(l.i)(e)}};return y},E=e=>{const{table:t,tableCell:n}=e.schema.nodes;return Object(a.hasParentNodeOfType)([t,n])(e.selection)},S=e=>{const{tableCell:t,tableHeader:n}=e.schema.nodes;return Object(a.hasParentNodeOfType)([t,n])(e.selection)},_=e=>Object(d.a)(e,"td")||Object(d.a)(e,"th"),C=e=>{const{content:t}=e;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name
},x=e=>Object(a.hasParentNodeOfType)(e.schema.nodes.layoutSection)(e.selection),T=e=>Object(a.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection);function P(e,t,n,o){const r=[];return e.nodesBetween(t,n,((e,t,n)=>{o(e,t,n)&&r.push({node:e,pos:t})})),r}function A(e=[],t=(e=>e)){const n=new Set;return e.forEach((e=>n.add(t(e)))),e.filter((e=>{const o=t(e);return!!n.has(o)&&(n.delete(o),!0)}))}const I=e=>e instanceof r.TextSelection;function M(e,...t){const n=[e,...t];return function(e){return n.reduceRight(((e,t)=>t(e)),e)}}function D(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>t(e(...n))))}function N(e={},t={}){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.reduce(((n,o)=>n&&e[o]===t[o]),!0)}function R(e,t){return e.reduce(((e,n)=>e+t(n)),0)}function L(e){return null!=e}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/input-rules.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){
return s})),n.d(t,"a",(function(){return a}));var o=n("./node_modules/prosemirror-inputrules/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js");function i(e,t=!1){const n=e.handler;return e.handler=(e,o,i,s)=>{const a=t?l(e,i,s):c(e,i,s);if(!e.selection.$from.parent.type.spec.code&&e.selection instanceof r.TextSelection&&!a)return n(e,o,i,s)},e}function s(e,{rules:t}){return Object(o.b)({rules:t})}function a(e,t,n=!1){return i(new o.a(e,t),n)}const l=(e,t,n)=>{const{doc:o,schema:{marks:r}}=e;let i=!1;const s=e=>e.type===r.code||e.type===r.link||e.type===r.typeAheadQuery;return o.nodesBetween(t,n,(e=>{i=i||e.marks.filter(s).length>0})),i},c=(e,t,n)=>{const{doc:o,schema:{marks:r}}=e;let i=!1;const s=e=>e.type===r.code;return o.nodesBetween(t,n,(e=>{i=i||e.marks.filter(s).length>0})),i}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/insert.js":function(t,n,o){"use strict";o.d(n,"b",(function(){return b})),o.d(n,"a",(function(){return y}))
;var r=o("./node_modules/prosemirror-utils/dist/index.js"),i=o("./node_modules/prosemirror-model/dist/index.es.js"),s=o("./node_modules/prosemirror-state/dist/index.es.js"),a=o("./node_modules/prosemirror-transform/dist/index.es.js"),l=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/document.js"),c=o("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js"),d=o("./node_modules/@atlaskit/editor-core/dist/es2019/utils/selection.js");let u;!function(e){e.Before="before",e.After="after"}(u||(u={}));const p=(e,t)=>t.resolve(e.after()).node().lastChild===e.node(),h=(e,t)=>t.resolve(e.before()).node().firstChild===e.node(),m=(e,t,n,o,r)=>h(o,e.doc)&&t===u.Before||p(o,e.doc)&&t===u.After?e.insert(n[t](),r):e.insert(o[t](),r),f=(e,t)=>[t.bulletList,t.orderedList,t.panel].includes(e),b=(e,t)=>n=>{const{nodes:o}=n.doc.type.schema,s=[o.rule,o.mediaSingle];if(e instanceof i.Fragment||!s.includes(e.type)||(e=>{const{nodes:t}=e.doc.type.schema
;return Object(r.hasParentNodeOfType)([t.orderedList,t.bulletList])(e.selection)})(n))return null;if(!n.selection.empty||Object(r.isNodeSelection)(n.selection))return null;const{$from:a}=n.selection,c=t?n.doc.resolve(t):Object(r.isNodeSelection)(n.selection)?n.doc.resolve(a.pos+1):a;let d;const b=c.end(),y=c.start();if(Object(l.g)(c.parent)?p(c,n.doc)?d=u.After:h(c,n.doc)&&(d=u.Before):c.pos===b?d=u.After:c.pos===y&&(d=u.Before),!d)return null;if(Object(l.g)(c.parent)&&Object(r.canInsert)(n.doc.resolve(c[d]()),e))return g(n.replaceWith(c.before(),c.after(),e),-1);let v=c;for(;v.depth>0;){const t=n.doc.resolve(v[d]()),o=t.node();if(Object(r.canInsert)(v,e))return g(n.insert(v.pos,e),e.nodeSize);if(f(o.type,n.doc.type.schema.nodes))return g(m(n,d,t,v,e),e.nodeSize);v=t}return g(n.insert(v.pos,e),e.nodeSize)},g=(e,t)=>{const n=e.steps[e.steps.length-1];if(!(n instanceof a.e||n instanceof a.d))return null;const o=n.to+n.slice.openStart+t
;return e.setSelection(new c.a(e.doc.resolve(o),c.b.RIGHT)).scrollIntoView()},y=(t,n={})=>(o,a,l)=>{if(!t)return a;const c=t instanceof i.Fragment;let u;try{u=t instanceof i.Node||c?t:"string"==typeof t?o.schema.text(t):i.Node.fromJSON(o.schema,t)}catch(e){return console.error(e),a}if(u.isText)a=a.replaceWith(l,l,u);else if(u.isBlock)a=Object(r.safeInsert)(Object(d.f)(o,u),void 0,!0)(a);else if(u.isInline||c){const e=c?u:i.Fragment.fromArray([u,o.schema.text(" ")]);if(a=a.replaceWith(l,l,e),d.b){const e=document.getSelection();e&&e.empty()}a=n.selectInlineNode?a.setSelection(s.NodeSelection.create(a.doc,l)):a.setSelection(s.Selection.near(a.doc.resolve(l+e.size)))}return a}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/is-full-page.js":function(e,t,n){"use strict";function o(e){return"full-page"===e||"full-width"===e}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/mark.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o
})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a}));const o=(e,t,n)=>{for(let o=0;o<t.length;o++){const{$from:r,$to:i}=t[o];let s=0===r.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(r.pos,i.pos,(e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return s}return!1},r=(e,t)=>!!t&&t.some((t=>t.type!==e&&t.type.excludes(e))),i=(e,t)=>{const{selection:n,schema:o}=e;let{tr:r}=e;const i=t.filter(Boolean);if(0===i.length)return;let s=!1;const a=e=>i.indexOf(e.type)>-1;return e.doc.nodesBetween(n.from,n.to,((t,n)=>{if(t.type===o.nodes.paragraph&&t.marks.some(a)){s=!0;const o=e.doc.resolve(n),i=t.marks.filter((e=>t=>!e(t))(a));r=r.setNodeMarkup(o.pos,void 0,t.attrs,i)}})),s?r:void 0},s=(e,t)=>{const{tr:n}=e;return a(n,t),n},a=(e,t)=>{const{from:n,to:o}=e.selection,r=[]
;return e.doc.nodesBetween(n,o,((i,s,a)=>!i.isText&&(!(!["expand","layoutSection"].includes(i.type.name)||!(s<n||s>o))||void i.marks.forEach((n=>{if(!a.type.allowsMarkType(n.type)||t&&!t.allowsMarkType(n.type)){const t=i.marks.filter((e=>e.type!==n.type)),o=s>0?s:0,a=i.marks.filter((e=>e.type===n.type));r.push({node:i,marksRemoved:a}),e.setNodeMarkup(o,void 0,i.attrs,t)}}))))),r}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/nodes.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p}));const o=e=>{const t=[];return(e.steps||[]).forEach((n=>{const{to:o,from:r,slice:i}=n,s=i&&i.content?i.content.size:0;for(let a=r;a<=o+s;a++)if(a<=e.doc.content.size){const n=e.doc.resolve(a).node(1)
;n&&!t.find((e=>e===n))&&t.push(n)}})),t},r=e=>{try{e.check()}catch(t){return!1}return!0},i=e=>e.every(r),s=(e,t)=>t&&e&&e.type===t,a=(e,t)=>s(e,t.nodes.paragraph),l=(e,t)=>s(e,t.nodes.text),c=(e,t)=>s(e,t.marks.link);let d;!function(e){e[e.selectedInRange=0]="selectedInRange",e[e.selectedInside=1]="selectedInside"}(d||(d={}));const u=(e,t,n,o)=>{const r=Math.min(e,t),i=Math.max(e,t),s=n,a=n+o;return e===t?null:r<=s&&a<i||r<s&&a<=i?d.selectedInRange:s<=e&&t<=a?d.selectedInside:null},p=(e,t,n)=>{const o="embed"===n||"block"===n?void 0:-1,r=e.selection.$from.node(o);return r&&r.type.validContent(t)}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/performance/measure-enum.js":function(e,t,n){"use strict";t.a={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time"}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/plugin-state-factory.js":function(e,t,n){"use strict"
;function o(e){return"function"==typeof e}function r(e,t,n={}){const{mapping:r,onDocChanged:i,onSelectionChanged:s}=n;return{createPluginState:(n,a)=>({init:(e,t)=>o(a)?a(t):a,apply:(o,a)=>{const l=r?r(o,a):a;let c=l;const d=o.getMeta(e);return d&&(c=t(l,d)),i&&o.docChanged?c=i(o,c):s&&o.selectionSet&&(c=s(o,c)),c!==l&&n(e,c),c}}),createCommand:(t,n)=>(r,i)=>{if(i){const s=n?n(r.tr,r):r.tr,a=o(t)?t(r):t;if(!s||!a)return!1;i(s.setMeta(e,a))}return!0},getPluginState:t=>e.getState(t)}}n.d(t,"a",(function(){return r}))},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/prosemirror/position.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js")
;function i(e){const{selection:t,doc:n}=e;return n.nodeSize-t.$to.pos-2===t.$to.depth}function s(e){const{selection:t}=e;return t.$from.pos===t.$from.depth}function a(e){const{selection:t}=e,{$to:n}=t;return!(t instanceof r.a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||d(n)===n.pos+1)}function l(e){const{selection:t}=e,{$from:n}=t;return!(t instanceof r.a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||c(n)===n.pos)}function c(e){return e.start(e.depth)}function d(e){return e.end(e.depth)+1}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/rich-media-utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}))
;var o=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/index.js"),r=n("./node_modules/@atlaskit/editor-common/dist/es2019/ui/MediaSingle/grid.js"),i=n("./node_modules/prosemirror-utils/dist/index.js"),s=n("./node_modules/@atlaskit/editor-shared-styles/dist/es2019/consts/consts.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
const d=["center","wide","full-width"],u=["wrap-left","wrap-right"],p=(e,t)=>{if("number"!=typeof t||isNaN(t)||!e)return!1;const n=e.state.doc.resolve(t),{expand:o,nestedExpand:r,layoutColumn:s}=e.state.schema.nodes;return!!Object(i.findParentNodeOfTypeClosestToPos)(n,[o,r,s])},h=(e,t,n=12,r,i)=>{let s=t.width;const a=t.layout,c=d.indexOf(a)>-1,u=d.indexOf(e)>-1,p=o.e.indexOf(e)>-1,h=o.e.indexOf(a)>-1;if(c&&Object(o.d)(e,r,i))(!s||s>=100||"center"!==a)&&(s=50);else if(e!==a&&["full-width","wide"].indexOf(a)>-1)s=void 0;else if(s){const e=Math.round(s/100*n);let t=e;h&&u?(t=2*Math.floor(t/2),s=void 0):c&&p&&(e<=1?t=2:e>=n&&(t=10)),t!==e&&(s=t/n*100)}return l(l({},t),{},{layout:e,width:s})};function m({$pos:e,akEditorWideLayoutWidth:t,allowBreakoutSnapPoints:n,containerWidth:o,gridSize:i,gridWidth:a,insideInlineLike:l,insideLayout:c,isVideoFile:d,lineLength:u,offsetLeft:p,wrappedLayout:h}){const m=[];for(let s=0;s<a;s++){const e=Object(r.c)(s,u,a);m.push(c?e:e-p)}m.push(u-p)
;const f=h||l?1:2,b=Object(r.c)(f,u,i);let g=m.filter((e=>e>=b));if(!e)return g;g=d?g.filter((e=>e>320)):g;if("doc"===e.parent.type.name&&n){g.push(t);const e=o-s.d;e>t&&g.push(e)}return g=g.sort(((e,t)=>e-t)),g}},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/selection.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-common/dist/es2019/utils/browser.js"),s=n("./node_modules/@atlaskit/editor-core/dist/es2019/plugins/selection/gap-cursor/selection.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=(e,t)=>{const{state:n,dispatch:o}=e;if(!isFinite(t))return;o(n.tr.setSelection(r.NodeSelection.create(n.doc,t)))};function u(e,t,n){const{state:o,dispatch:i}=e;i(o.tr.setSelection(r.TextSelection.create(o.doc,t,n)))}const p=(e,t)=>{if(e.selection.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(l(l({},t.attrs),{},{
layout:"default"}),t.content,t.marks);const n=e.schema.marks.breakout;if(n&&n.isInSet(t.marks)){const e=n.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,e)}}return t},h=i.a.chrome&&!i.a.android&&i.a.chrome_version>=58,m=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},f=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0},b=(e,t)=>e>=0&&e<=t.doc.resolve(0).end(),g=(e,t)=>e instanceof r.NodeSelection?r.NodeSelection.create(t,e.from):e instanceof r.TextSelection?r.TextSelection.create(t,e.from,e.to):e instanceof s.a?new s.a(t.resolve(e.from),e.side):e instanceof o.a?new o.a(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0},"./node_modules/@atlaskit/editor-core/dist/es2019/utils/slice.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),
n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l}));var o=n("./node_modules/prosemirror-model/dist/index.es.js");function r(e){return e.content}function i(e,t,n=null){const s=[];for(let a=0,l=e.childCount;a<l;a++){const l=e.child(a),c=l.isLeaf?t(l,n,a):t(l.copy(i(l.content,t,l)),n,a);c&&(c instanceof o.Fragment?s.push(...r(c)):Array.isArray(c)?s.push(...c):s.push(c))}return o.Fragment.fromArray(s)}function s(e,t){const n=i(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function a(e,t){const n=[];for(let o=0;o<e.childCount;o++){const r=t(e.child(o),o,e);Array.isArray(r)?n.push(...r):n.push(r)}return o.Fragment.fromArray(n)}function l(e,t){const n=[];for(let r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof o.Fragment?e:e.content));return n}},"./node_modules/@atlaskit/editor-core/dist/es2019/version-wrapper.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("./node_modules/@atlaskit/editor-core/dist/es2019/version.json");const r=()=>[Number(o.b.split(".")[0])+1,0,0].join(".")},"./node_modules/@atlaskit/editor-core/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/editor-core","b":"137.0.1"}')},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}))
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/editor-core/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js"),l=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/constants.js");const c={light:"#FFFFFF",dark:"#1B2638"},d=(e="light")=>c[e];function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p=Object(i.memo)((function(e){let{primaryColor:t,secondaryColor:n,size:o,mode:i}=e,a=u(e,["primaryColor","secondaryColor","size","mode"]);return Object(s.b)("span",r()({
css:Object(s.a)(o&&`height: ${l.a[o]}`,";",o&&`width: ${l.a[o]}`,";color:",t||"currentColor",";display:inline-block;fill:",n||d(i),";flex-shrink:0;line-height:1;> svg{",o&&`height: ${l.a[o]}`,";",o&&`width: ${l.a[o]}`,";max-height:100%;max-width:100%;overflow:hidden;pointer-events:none;vertical-align:bottom;}stop{stop-color:currentColor;}")},a))}));var h=Object(i.memo)((function(e){const{glyph:t,dangerouslySetGlyph:n,primaryColor:o,secondaryColor:i,size:l,testId:c,label:d}=e,u=n?{dangerouslySetInnerHTML:{__html:n}}:{children:t?Object(s.b)(t,{role:"presentation"}):null};return Object(s.b)(a.a.Consumer,null,(({mode:e})=>Object(s.b)(p,r()({mode:e,primaryColor:o,secondaryColor:i,size:l,"data-testid":c,role:d?"img":"presentation","aria-label":d||void 0},u))))}))},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-down.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="ChevronDownIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-left-large.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M9.005 10.995l4.593-4.593a.99.99 0 111.4 1.4l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9.005 12.41a1 1 0 010-1.414z"/></svg>'},e));s.displayName="ChevronLeftLargeIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-right-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}
const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));s.displayName="ChevronRightCircleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/chevron-right.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="ChevronRightIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/comment.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e));s.displayName="CommentIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/copy.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M10 19h8V8h-8v11zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2.001 2.001 0 018 19.008V7.992z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13H5zm2 0h8V5H7v11z"/></g></svg>'},e));s.displayName="CopyIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/cross-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M13.477 9.113l-4.36 4.386a1 1 0 101.418 1.41l4.36-4.386a1 1 0 00-1.418-1.41z" fill="inherit"/><path d="M9.084 10.501l4.358 4.377a1 1 0 101.418-1.411L10.5 9.09a1 1 0 00-1.417 1.411z" fill="inherit"/></g></svg>'},e));s.displayName="CrossCircleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/document-filled.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 00.994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="DocumentFilledIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/add.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"))
;function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAddIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-center.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignCenterIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-center.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignImageCenterIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-left.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignImageLeftIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-image-right.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignImageRightIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-left.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignLeftIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/align-right.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorAlignRightIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/attachment.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));s.displayName="EditorAttachmentIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/background-color.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.818 12.56l4.243 4.243 4.242-4.242-4.242-4.243-4.243 4.243zm-1.414 1.415a1.995 1.995 0 010-2.828l4.243-4.243a1.995 1.995 0 012.828 0l4.243 4.243c.78.78.786 2.041 0 2.828l-4.243 4.243a1.996 1.996 0 01-2.828 0l-4.243-4.243zM6.5 13h11l-5.44 5.218L6.5 13zm2.732-8.925a1 1 0 011.414 0l3.536 3.536-1.414 1.414L9.232 5.49a1 1 0 010-1.415zM18 16s1.5 2 1.5 3.5c0 1-1 1.5-1.5 1.5s-1.5-.4-1.5-1.5C16.5 18 18 16 18 16z" fill="currentColor"/></svg>'},e));s.displayName="EditorBackgroundColorIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/bold.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorBoldIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/bullet-list.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorBulletListIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/close.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 00-.712.003l-.7.701a.496.496 0 00-.004.712l3.185 3.184L7.4 15.185a.507.507 0 00.004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 00.712-.004l.701-.7a.496.496 0 00.003-.712l-3.186-3.186 3.186-3.184a.507.507 0 00-.003-.712l-.7-.7a.508.508 0 00-.36-.153.5.5 0 00-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorCloseIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/code.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorCodeIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/collapse.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));s.displayName="EditorCollapseIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/date.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorDateIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/decision.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{
value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorDecisionIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/done.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.356 10.942a.497.497 0 00-.713 0l-.7.701a.501.501 0 00-.003.71l3.706 3.707a.501.501 0 00.705.003l7.712-7.712a.493.493 0 00-.006-.708l-.7-.7a.504.504 0 00-.714 0l-6.286 6.286a.506.506 0 01-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e));s.displayName="EditorDoneIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/edit.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"))
;function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.148 6.852a.502.502 0 01.708.004l2.288 2.288a.5.5 0 01.004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorEditIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/emoji.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 5a7 7 0 110 14 7 7 0 010-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 006.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 110-2 1 1 0 010 2zm3 0a1 1 0 110-2 1 1 0 010 2zm.27 1.583a.626.626 0 01.932.834A3.63 3.63 0 0112 15.125a3.63 3.63 0 01-2.698-1.204.625.625 0 01.93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorEmojiIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 00-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 00-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 001.414 1.414l2.121-2.12 2.121 2.12a1 1 0 101.415-1.414l-2.122-2.121zM12 20a8 8 0 110-16 8 8 0 010 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorErrorIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/expand.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));s.displayName="EditorExpandIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/file.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorFileIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/hint.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorHintIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/horizontal-rule.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorHorizontalRuleIcon"
;var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/image.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorImageIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/info.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm0-8.5a1 1 0 00-1 1V15a1 1 0 002 0v-2.5a1 1 0 00-1-1zm0-1.125a1.375 1.375 0 100-2.75 1.375 1.375 0 000 2.75z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorInfoIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/italic.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorItalicIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-three-equal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}
const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorLayoutThreeEqualIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-three-with-sidebars.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorLayoutThreeWithSidebarsIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-equal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorLayoutTwoEqualIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-left-sidebar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorLayoutTwoLeftSidebarIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/layout-two-right-sidebar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorLayoutTwoRightSidebarIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/link.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));s.displayName="EditorLinkIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-center.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMediaCenterIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-full-width.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{
default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMediaFullWidthIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wide.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMediaWideIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wrap-left.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMediaWrapLeftIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/media-wrap-right.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMediaWrapRightIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/mention.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMentionIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/more.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorMoreIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/note.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}
const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 4h8a2 2 0 012 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-5zm0 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorNoteIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/number-list.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorNumberListIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/remove.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorRemoveIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/search.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.823 15.883a5.5 5.5 0 111.06-1.06l2.647 2.647c.293.293.53.59 0 1.06-.53.47-.767.293-1.06 0l-2.647-2.647zM11.5 15.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor"/></svg>'},e));s.displayName="EditorSearchIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/success.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 10-1.338 1.487l2.5 2.25a1 1 0 001.555-.279l2.75-5.25a1 1 0 00-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorSuccessIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/table.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorTableIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/task.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorTaskIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/text-style.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorTextStyleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/unlink.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e))
;s.displayName="EditorUnlinkIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/editor/warning.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorWarningIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/emoji/keyboard.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'
},e));s.displayName="EmojiKeyboardIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));s.displayName="ErrorIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/hipchat/chevron-down.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 000 1.49l4.547 4.557a1 1 0 001.416 0l4.55-4.558a1.051 1.051 0 10-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 00-1.487 0z" fill="currentColor"/></svg>'},e));s.displayName="HipchatChevronDownIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/hipchat/chevron-up.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.294 8.708l-.001.001-4.549 4.559a1.051 1.051 0 101.486 1.488l.001-.001 3.77-3.776 3.768 3.776a1.05 1.05 0 001.486.001h.001a1.054 1.054 0 00.001-1.489l-4.548-4.558a1 1 0 00-1.415-.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="HipchatChevronUpIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/link.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"))
;function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 000 1.437 1.047 1.047 0 001.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 01.203 3.81l-2.903 2.852a2.646 2.646 0 01-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 00-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="M11.144 19.543l.937-.92a1.002 1.002 0 000-1.437 1.047 1.047 0 00-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 01-.203-3.81l2.903-2.852a2.646 2.646 0 013.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 00.357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e));s.displayName="LinkIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/media-services/annotate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 00-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 01-.332.054.946.946 0 01-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 01-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 011.155.601.92.92 0 01-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'
},e));s.displayName="MediaServicesAnnotateIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/media-services/text.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));s.displayName="MediaServicesTextIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/question-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><circle fill="inherit" cx="12" cy="18" r="1"/><path d="M15.89 9.05a3.975 3.975 0 00-2.957-2.942C10.321 5.514 8.017 7.446 8 9.95l.005.147a.992.992 0 00.982.904c.552 0 1-.447 1.002-.998a2.004 2.004 0 014.007-.002c0 1.102-.898 2-2.003 2H12a1 1 0 00-1 .987v2.014a1.001 1.001 0 002.004 0v-.782c0-.217.145-.399.35-.472A3.99 3.99 0 0015.89 9.05" fill="inherit"/></g></svg>'},e));s.displayName="QuestionCircleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/quote.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="QuoteIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/search.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.436 15.085l3.94 4.01a1 1 0 01-1.425 1.402l-3.938-4.006a7.5 7.5 0 111.423-1.406zM10.5 16a5.5 5.5 0 100-11 5.5 5.5 0 000 11z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="SearchIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/shortcut.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"))
;function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 002 0V4a1 1 0 00-1-1h-4a1 1 0 000 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 10-1.414-1.414l-8 8a1 1 0 001.414 1.414z"/></g></svg>'},e));s.displayName="ShortcutIcon";var a=s;t.default=a},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/status.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 001.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e));s.displayName="StatusIcon";var a=s;t.default=a
},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/undo.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));s.displayName="UndoIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/warning.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 01-1-1V9a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));s.displayName="WarningIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/components/ModalTransition.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i);const{Consumer:a,Provider:l}=s.a.createContext({isOpen:!0,onExited:()=>{}}),c=e=>s.a.Children.count(e)>0&&s.a.Children.map(e,(e=>!!e)).filter(Boolean).length>0;class d extends s.a.Component{constructor(...e){super(...e),r()(this,"state",{currentChildren:void 0}),r()(this,"onExited",(()=>{this.setState({currentChildren:this.props.children})}))}static getDerivedStateFromProps(e,t){const{currentChildren:n}=t;return{currentChildren:c(n)&&!c(e.children)?n:e.children}}render(){return s.a.createElement(l,{value:{onExited:this.onExited,isOpen:c(this.props.children)}},this.state.currentChildren)}}d.displayName="Transition";const u=a;t.b=d},
"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/components/ModalWrapper.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ue}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/react/index.js"),l=n.n(a),c=n("./node_modules/@atlaskit/portal/dist/es2019/components/Portal.js"),d=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),u=n("./node_modules/exenv/index.js"),p=n("./node_modules/react-uid/dist/es2015/Control.js"),h=n("./node_modules/@atlaskit/analytics-next/dist/es2019/utils/createAndFireEvent.js"),m=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsContext.js"),f=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),b=n("./node_modules/@atlaskit/blanket/dist/es2019/Blanket.js");const g={values:["small","medium","large","x-large"],widths:{small:400,medium:600,
large:800,"x-large":968},defaultValue:"medium"};var y=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=n("./node_modules/@atlaskit/editor-core/node_modules/@emotion/core/dist/core.browser.esm.js"),O=n("./node_modules/@atlaskit/theme/dist/es2019/colors.js"),j=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js");const w=({widthName:e,widthValue:t})=>"number"==typeof t?`${t}px`:e?`${g.widths[e]}px`:t||"auto",k=Object(y.a)("div",{target:"e1jegfaa0"})("height:100vh;left:0;overflow-y:auto;position:absolute;top:",(e=>e.scrollDistance),"px;width:100%;z-index:",d.layers.modal,";-webkit-overflow-scrolling:touch;"),E=e=>Object(v.a)("display:flex;flex-direction:column;height:","calc(100% - 119px)",";left:0;right:0;margin-left:auto;margin-right:auto;max-width:","calc(100% - 120px)",";top:",60,"px;width:",w(e),";z-index:",d.layers.modal(),";pointer-events:none;"),S={name:"1ah4hvs",styles:"height:100%;left:0;position:fixed;top:0;max-width:100%;width:100%;"
},_=Object(y.a)("div",{target:"e1jegfaa1"})(E,";position:absolute;@media (max-width:480px){",S,";}"),C=Object(y.a)("div",{target:"e1jegfaa2"})("margin:",60,"px auto;position:relative;width:",w,";z-index:",d.layers.modal,";@media (max-width:480px){",S,";margin:0;}"),x=Object(y.a)("div",{target:"e1jegfaa3"})(E,";position:fixed;@media (max-width:480px){",S,";}"),T=Object(y.a)("div",{target:"e1jegfaa4"})((e=>e.isChromeless?null:`\n          background-color: ${(({isChromeless:e})=>e?"transparent":Object(j.a)({light:"#FFFFFF",dark:"#283447"})())(e)};\n          border-radius: ${Object(d.borderRadius)()}px;\n          box-shadow: ${(({isChromeless:e})=>e?"none":"\n      0 0 0 1px rgba(9, 30, 66, 0.08), 0 2px 1px rgba(9, 30, 66, 0.08),\n      0 0 20px -6px rgba(9, 30, 66, 0.31)\n    ")(e)};\n        `)," color:",O.text,";display:flex;flex-direction:column;height:",(e=>(({heightValue:e})=>"number"==typeof e?`${e}px`:e||"auto")({heightValue:e.heightValue
})),";max-height:100%;outline:0;pointer-events:auto;@media (max-width:480px){height:100%;max-height:100%;border-radius:0;}");_.displayName="PositionerAbsolute",T.displayName="Dialog",k.displayName="FillScreen",C.displayName="PositionerRelative",x.displayName="PositionerFixed";var P=n("./node_modules/@atlaskit/editor-core/node_modules/react-transition-group/esm/Transition.js");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=({in:e,stackIndex:t=0,onExited:n,onEntered:o,children:r})=>l.a.createElement(P.a,{in:e,timeout:{enter:0,exit:500},onExited:n,onEntered:o,appear:!0},(n=>{const o=e&&"exited"===n?"entering":n,i={transition:"transform 500ms cubic-bezier(0.23, 1, 0.32, 1)",transform:"translate3d(0, 32px, 0)"},s={entering:{},entered:{transform:t>0?`translate3d(0, ${8*t}px, 0)`:null},exiting:{transform:"translate3d(0, -32px, 0)"},exited:{}};return r({fade:I(I({},{transition:"opacity 250ms",opacity:1}),{entering:{opacity:0},entered:{},exiting:{opacity:0},exited:{}}[o]),slide:I(I({},i),s[o])})}))
;var N=n("./node_modules/raf-schd/esm/index.js"),R=n("./node_modules/react-scrolllock/dist/index.js"),L=n.n(R),B=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/styled/Content.js"),F=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js");function z(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const U=e=>l.a.createElement("span",e);class H extends l.a.Component{render(){const{actions:e,appearance:t,component:n,onClose:o,showKeyline:i}=this.props;return n||e?n&&e?(console.warn("You can provide `component` OR `actions`, not both."),null):n?l.a.createElement(n,{appearance:t,onClose:o,showKeyline:i
}):l.a.createElement(B.d,{showKeyline:i},l.a.createElement(U,null),l.a.createElement(B.b,null,e?e.map(((e,n)=>{let{text:o}=e,i=z(e,["text"]);const s=0!==n?"subtle":t||"primary";return l.a.createElement(B.a,{key:n},l.a.createElement(F.a,r()({appearance:s},i),o))})):null)):null}}H.displayName="ModalFooter";var $=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/error.js"),W=n.n($),V=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/icon/glyph/warning.js"),K=n.n(V);const q=({appearance:e})=>{if(!e)return null;const t="danger"===e?W.a:K.a;return Object(v.b)("span",{css:Object(B.i)(e)},Object(v.b)(t,{label:`${e} icon`}))};class G extends l.a.Component{render(){const{id:e,appearance:t,component:n,heading:o,onClose:r,showKeyline:i,isHeadingMultiline:s,testId:a}=this.props;return n||o?n&&o?(console.warn("You can provide `component` OR `heading`, not both."),null):n?l.a.createElement(n,{id:e,testId:a,appearance:t,onClose:r,showKeyline:i,isHeadingMultiline:s
}):Object(v.b)(B.e,{showKeyline:i},Object(v.b)(B.f,null,Object(v.b)(q,{appearance:t}),Object(v.b)(B.g,{isHeadingMultiline:s,id:e,"data-testid":a&&`${a}-heading`},o))):null}}function Y(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}G.displayName="ModalHeader",s()(G,"defaultProps",{isHeadingMultiline:!0});class X extends l.a.Component{constructor(...e){super(...e),s()(this,"escapeIsHeldDown",!1),s()(this,"_isMounted",!1),s()(this,"scrollContainer",null),s()(this,"state",function(){return{showFooterKeyline:!1,showHeaderKeyline:!1,showContentFocus:!1,tabbableElements:[]}}()),s()(this,"determineKeylines",Object(N.a)((()=>{if(!this.scrollContainer)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=this.scrollContainer,o=e>2,r=e<=t-n-2,i=t>n;this.setState({showHeaderKeyline:o,showFooterKeyline:r,showContentFocus:i})}))),s()(this,"getScrollContainer",(e=>{e&&(this.scrollContainer=e)})),s()(this,"handleKeyUp",(()=>{this.escapeIsHeldDown=!1})),
s()(this,"handleKeyDown",(e=>{const{onClose:t,shouldCloseOnEscapePress:n,stackIndex:o=0}=this.props,r="Escape"===e.key;this.escapeIsHeldDown||(r&&(this.escapeIsHeldDown=!0),!this._isMounted||o>0||r&&n&&t(e))})),s()(this,"handleStackChange",(e=>{const{onStackChange:t}=this.props;t&&t(e)}))}componentDidMount(){if(this._isMounted=!0,document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){const e=this.scrollContainer;window.addEventListener("resize",this.determineKeylines,!1),e.addEventListener("scroll",this.determineKeylines,!1),this.determineKeylines()}this.props.header&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the header prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),
this.props.footer&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the footer prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.body&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the body prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.components.Body&&(this.scrollContainer instanceof HTMLElement||console.warn("@atlaskit/modal-dialog: Warning - Ref must attach to a DOM element; check you are using forwardRef and attaching the ref to an appropriate element. Check the examples for more details."))}UNSAFE_componentWillReceiveProps(e){const{stackIndex:t}=this.props;e.stackIndex&&e.stackIndex!==t&&this.handleStackChange(e.stackIndex)}componentWillUnmount(){if(this._isMounted=!1,document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){
const e=this.scrollContainer;window.removeEventListener("resize",this.determineKeylines,!1),e.removeEventListener("scroll",this.determineKeylines,!1)}}render(){const{actions:e,appearance:t,body:n,children:o,components:i,footer:s,header:a,heading:c,isChromeless:d,isHeadingMultiline:u,onClose:p,shouldScroll:h,testId:m,headingId:f}=this.props,{showFooterKeyline:b,showHeaderKeyline:g,showContentFocus:y}=this.state,{Container:O="div",Body:j}=i,w=j||n||B.c;return Object(v.b)(O,{css:B.j,"data-testid":m},d?o:Object(v.b)(l.a.Fragment,null,Object(v.b)(G,{id:f,appearance:t,component:i.Header?i.Header:a,heading:c,onClose:p,isHeadingMultiline:u,showKeyline:g,testId:m}),this.scrollContainer instanceof HTMLElement?Object(v.b)(R.TouchScrollable,null,(e=>Object(v.b)(w,r()({tabIndex:y?0:void 0,css:Object(B.h)(h)},w.hasOwnProperty("styledComponentId")?{innerRef:Y([e,this.getScrollContainer])}:{ref:Y([e,this.getScrollContainer])}),o))):Object(v.b)(w,r()({tabIndex:y?0:void 0,css:Object(B.h)(h)
},w.hasOwnProperty("styledComponentId")?{innerRef:this.getScrollContainer}:{ref:this.getScrollContainer}),o),Object(v.b)(H,{actions:e,appearance:t,component:i.Footer?i.Footer:s,onClose:p,showKeyline:b})),Object(v.b)(L.a,null))}}X.displayName="Content",s()(X,"defaultProps",{autoFocus:!1,components:{},isChromeless:!1,stackIndex:0,isHeadingMultiline:!0});var J=n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),Z=n.n(J),Q=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),ee=n.n(Q),te=(n("./node_modules/prop-types/index.js"),n("./node_modules/focus-lock/dist/es2015/index.js")),ne=n("./node_modules/react-clientside-effect/lib/index.es.js"),oe=n("./node_modules/focus-lock/dist/es2015/focusIsHidden.js"),re=n("./node_modules/focus-lock/dist/es2015/focusInside.js"),ie=n("./node_modules/focus-lock/dist/es2015/focusMerge.js");function se(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var ae=function(){return function(){
return document&&document.activeElement===document.body}()||Object(oe.a)()},le=null,ce=null,de=null,ue=!1,pe=function(){return!0};function he(e,t,n,o){var r=null,i=e;do{var s=o[i];if(s.guard)s.node.dataset.focusAutoGuard&&(r=s);else{if(!s.lockItem)break;if(i!==e)return;r=null}}while((i+=n)!==t);r&&(r.node.tabIndex=0)}var me=function(e){return e&&"current"in e?e.current:e},fe=function(){var e=!1;if(le){var t=le,n=t.observed,o=t.persistentFocus,r=t.autoFocus,i=t.shards,s=n||de&&de.portaledElement,a=document&&document.activeElement;if(s){var l=[s].concat(i.map(me).filter(Boolean));if(a&&!function(e){return(le.whiteList||pe)(e)}(a)||(o||ue||!ae()||!ce&&r)&&(!s||Object(re.a)(l)||function(e){return de&&de.portaledElement===e}(a)||(document&&!ce&&a&&!r?(a.blur(),document.body.focus()):(e=Object(te.b)(l,ce),de={})),ue=!1,ce=document&&document.activeElement),document){var c=document&&document.activeElement,d=Object(ie.b)(l),u=d.find((function(e){return e.node===c}));if(u){d.filter((function(e){
var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")}));var p=d.indexOf(u);he(p,d.length,1,d),he(p,-1,-1,d)}}}}return e},be=function(e){fe()&&e&&(e.stopPropagation(),e.preventDefault())},ge=function(){return se(fe)},ye=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||function(e,t){de={observerNode:e,portaledElement:t}}(n,t)},ve=function(){ue=!0};var Oe=Object(ne.a)((function(e){return e.filter((function(e){return!e.disabled})).slice(-1)[0]}),(function(e){e&&!le&&function(){document.addEventListener("focusin",be,!0),document.addEventListener("focusout",ge),window.addEventListener("blur",ve)}();var t=le,n=t&&e&&e.onActivation===t.onActivation;le=e,t&&!n&&t.onDeactivation(),e?(ce=null,n&&t.observed===e.observed||e.onActivation(),fe(),se(fe)):(!function(){document.removeEventListener("focusin",be,!0),document.removeEventListener("focusout",ge),window.removeEventListener("blur",ve)}(),ce=null)}))((function(){
return null})),je={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},we=function(e){var t=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:je}),t,t&&l.a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:je}))};we.propTypes={},we.defaultProps={children:null};var ke=function(e){var t=e.children;return l.a.createElement("div",null,t)};ke.propTypes={};var Ee=l.a.Fragment?l.a.Fragment:ke,Se=[],_e=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,s()(ee()(ee()(t)),"state",{observed:void 0}),s()(ee()(ee()(t)),"onActivation",(function(){t.originalFocusedElement=t.originalFocusedElement||document&&document.activeElement,t.state.observed&&t.props.onActivation&&t.props.onActivation(t.state.observed),t.isActive=!0})),
s()(ee()(ee()(t)),"onDeactivation",(function(){t.isActive=!1,t.props.returnFocus&&t.originalFocusedElement&&t.originalFocusedElement.focus&&(t.originalFocusedElement.focus(),t.originalFocusedElement=null),t.props.onDeactivation&&t.props.onDeactivation(t.state.observed)})),s()(ee()(ee()(t)),"onFocus",(function(e){t.isActive&&ye(e)})),s()(ee()(ee()(t)),"onBlur",ge),s()(ee()(ee()(t)),"setObserveNode",(function(e){t.state.observed!==e&&t.setState({observed:e})})),s()(ee()(ee()(t)),"isActive",!1),s()(ee()(ee()(t)),"originalFocusedElement",null),t}return Z()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,o=t.disabled,i=t.noFocusGuards,s=t.persistentFocus,a=t.autoFocus,c=(t.allowTextSelection,t.group),d=t.className,u=t.whiteList,p=t.shards,h=void 0===p?Se:p,m=t.as,f=void 0===m?"div":m,b=t.lockProps,g=void 0===b?{}:b,y=this.state.observed;var v=r()(((e={})[te.a.FOCUS_DISABLED]=o&&"disabled",e[te.a.FOCUS_GROUP]=c,e),g),O=!0!==i,j=O&&"tail"!==i
;return l.a.createElement(Ee,null,O&&[l.a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:o?-1:0,style:je}),l.a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:o?-1:1,style:je})],l.a.createElement(f,r()({ref:this.setObserveNode},v,{className:d,onBlur:this.onBlur,onFocus:this.onFocus}),l.a.createElement(Oe,{observed:y,disabled:o,persistentFocus:s,autoFocus:a,whiteList:u,shards:h,onActivation:this.onActivation,onDeactivation:this.onDeactivation}),n),j&&l.a.createElement("div",{"data-focus-guard":!0,tabIndex:o?-1:0,style:je}))},t}(a.Component);_e.propTypes={},_e.defaultProps={disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var Ce=_e;class xe extends l.a.Component{componentDidMount(){const{isEnabled:e,autoFocus:t}=this.props;if("function"==typeof t&&e){const e=t()
;e&&e.focus&&e.focus()}}render(){const{isEnabled:e,autoFocus:t,shouldReturnFocus:n}=this.props;return l.a.createElement(Ce,{disabled:!e,autoFocus:!!t,returnFocus:n},this.props.children)}}function Te(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}xe.displayName="FocusLock",s()(xe,"defaultProps",{autoFocus:!0,isEnabled:!0,shouldReturnFocus:!0});var Pe=function(e){let{scrollBehavior:t}=e,n=Te(e,["scrollBehavior"]),o=_;return"outside"===t?o=C:"inside-wide"===t&&(o=x),l.a.createElement(o,n)};const Ae="@atlaskit/modal-dialog",Ie="11.2.8";function Me(){return window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0}
class De extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{dialogNode:null,scrollDistance:u.canUseDOM?Me():0,isExiting:!1}),s()(this,"handleWindowScroll",(()=>{Me()!==this.state.scrollDistance&&window.scrollTo(window.pageXOffset,this.state.scrollDistance)})),s()(this,"handleOverlayClick",(e=>{this.props.shouldCloseOnOverlayClick&&this.props.onClose(e)}))}componentDidMount(){const e=Me();Me()!==this.state.scrollDistance&&this.setState({scrollDistance:e}),window.addEventListener("scroll",this.handleWindowScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleWindowScroll)}render(){
const{actions:e,appearance:t,autoFocus:n,body:o,children:r,components:i,footer:s,header:a,height:c,isBlanketHidden:d,isChromeless:u,isHeadingMultiline:h,isOpen:m,onClose:f,onCloseComplete:y,onOpenComplete:v,onStackChange:O,shouldCloseOnEscapePress:j,stackIndex:w,heading:E,width:S,scrollBehavior:_,testId:C}=this.props,{scrollDistance:x}=this.state,P=null!=w&&w>0,A=S&&-1!==g.values.indexOf(S.toString())?S:void 0,I=A?void 0:S;return l.a.createElement(D,{in:m,onExited:y,onEntered:v,stackIndex:w},(({fade:g,slide:y})=>l.a.createElement(k,{style:g,"aria-hidden":P,scrollDistance:x},l.a.createElement(xe,{isEnabled:0===w&&m,autoFocus:n},l.a.createElement(b.a,{isTinted:!d,onBlanketClicked:this.handleOverlayClick}),l.a.createElement(Pe,{style:y,scrollBehavior:_,widthName:A,widthValue:I},l.a.createElement(p.b,null,l.a.createElement(p.a,null,((n,d)=>l.a.createElement(T,{heightValue:c,isChromeless:u,role:"dialog","aria-labelledby":`dialog-heading-${n}`,"data-testid":C,tabIndex:-1
},l.a.createElement(X,{actions:e,appearance:t,components:i,footer:s,heading:E,headingId:`dialog-heading-${n}`,testId:C&&`${C}-dialog-content`,isHeadingMultiline:h,header:a,onClose:f,shouldScroll:"inside"===_||"inside-wide"===_,shouldCloseOnEscapePress:j,onStackChange:O,isChromeless:u,stackIndex:w,body:o},r))))))))))}}De.displayName="Modal",s()(De,"defaultProps",{autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isBlanketHidden:!1,isChromeless:!1,isOpen:!0,stackIndex:0,width:"medium",isHeadingMultiline:!0,onClose:()=>{}});const Ne=Object(h.a)("atlaskit");var Re=Object(m.a)({componentName:"modalDialog",packageName:Ae,packageVersion:Ie})(Object(f.a)({onClose:Ne({action:"closed",actionSubject:"modalDialog",attributes:{componentName:"modalDialog",packageName:Ae,packageVersion:Ie}})})(De)),Le=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/components/ModalTransition.js");let Be=[]
;class Fe extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{stackIndex:0}),s()(this,"update",(()=>{const e=Be.indexOf(this.update);this.state.stackIndex!==e&&this.setState({stackIndex:e})}))}componentDidMount(){Be.forEach((e=>e()))}componentWillUnmount(){-1!==Be.indexOf(this.update)&&(Be=Be.filter((e=>e!==this.update)),Be.forEach((e=>e())))}componentDidUpdate(e){e.isOpen&&!this.props.isOpen&&(Be=Be.filter((e=>e!==this.update)),Be.forEach((e=>e())))}render(){return-1===Be.indexOf(this.update)&&(Be=[this.update,...Be]),this.props.children(this.state.stackIndex)}}Fe.displayName="StackConsumer";var ze=Fe;class Ue extends l.a.Component{constructor(...e){super(...e),s()(this,"onModalClosed",(e=>t=>{e&&e(),this.props.onCloseComplete&&this.props.onCloseComplete(t)}))}render(){return l.a.createElement(Le.a,null,(({isOpen:e,onExited:t})=>l.a.createElement(c.a,{zIndex:d.layers.modal()},l.a.createElement(ze,{isOpen:e},(n=>l.a.createElement(Re,r()({},this.props,{isOpen:e,
stackIndex:this.props.stackIndex||n,onCloseComplete:this.onModalClosed(t)}),this.props.children))))))}}Ue.displayName="ModalWrapper",s()(Ue,"defaultProps",{autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isChromeless:!1,width:"medium",isHeadingMultiline:!0,onClose:()=>{}})},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/es2019/styled/Content.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O}))
;var o=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),r=n("./node_modules/@atlaskit/editor-core/node_modules/@emotion/core/dist/core.browser.esm.js"),i=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),s=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),a=n("./node_modules/@atlaskit/theme/dist/es2019/utils/math.js");const l=3*Object(s.gridSize)(),c=Object(i.a)({light:"#EBECF0",dark:"#1B2638"}),d={name:"16lxyy0",styles:"display:flex;flex-direction:column;flex:1 1 auto;max-height:100%;min-height:0;"},u=Object(o.a)("header",{target:"e1mr0vem0"})("align-items:center;display:flex;flex:0 0 auto;justify-content:space-between;transition:box-shadow 200ms;position:relative;padding:",l,"px ",l,"px ",l-2,"px ",l,"px;box-shadow:",(e=>e.showKeyline?`0 2px 0 0 ${c(e)}`:"none"),";"),p=Object(o.a)("h4",{target:"e1mr0vem1"})({name:"1n6zx0p",
styles:"align-items:center;display:flex;font-size:20px;font-style:inherit;font-weight:500;letter-spacing:-0.008em;line-height:1;margin:0;min-width:0;"}),h=Object(o.a)("span",{target:"e1mr0vem2"})("flex:1 1 auto;min-width:0;word-wrap:break-word;width:100%;",(e=>!e.isHeadingMultiline&&"\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    "),";"),m={danger:"#DE350B",warning:"#FF991F"},f=e=>Object(r.a)("color:",m[e],";margin-right:",Object(s.gridSize)(),"px;flex:0 0 auto;"),b=e=>Object(r.a)("flex:1 1 auto;",e?`\n        overflow-y: auto;\n        overflow-x: hidden;\n        padding: 2px ${l}px;\n      `:`\n        padding: 0 ${l}px;\n      `," @media (max-width:480px){overflow-y:auto;height:100%;}&:focus{outline-offset:-1px;outline-style:dotted;outline-color:","#172B4D",";outline-width:thin;}"),g=Object(o.a)("div",{target:"e1mr0vem3"})((e=>b(e.shouldScroll)),";"),y=Object(o.a)("footer",{target:"e1mr0vem4"
})("position:relative;align-items:center;display:flex;flex:0 0 auto;justify-content:space-between;transition:box-shadow 200ms;padding:",l-2,"px ",l,"px ",l,"px ",l,"px;box-shadow:",(e=>e.showKeyline?`0 -2px 0 0 ${c(e)}`:"none"),";"),v=Object(o.a)("div",{target:"e1mr0vem5"})("display:inline-flex;margin:0 -",Object(a.divide)(s.gridSize,2),"px;"),O=Object(o.a)("div",{target:"e1mr0vem6"})("flex:1 0 auto;margin:0 ",Object(a.divide)(s.gridSize,2),"px;")},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/textfield/dist/es2019/text-field.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/editor-core/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hooks/usePlatformLeafEventHandler.js"),l=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js"),c=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js");const d="#F4F5F7",u="#121A29",p="#DE350B",h="#DE350B",m={light:"#FAFBFC",dark:"#0E1624"},f={light:"#FFFFFF",dark:"#0E1624"},b={light:"#EBECF0",dark:"#1B2638"},g={light:"#4C9AFF",dark:"#B3D4FF"},y={light:"transparent",dark:"transparent"},v={light:"#091E42",dark:"#B8C7E0"},O="#A5ADBA",j="#56637A",w={light:"#7A869A",dark:"#56637A"};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=Object(c.fontSize)(),C=Object(c.gridSize)(),x={light:{backgroundColor:m.light,backgroundColorFocus:d,backgroundColorHover:d,borderColor:m.light,borderColorFocus:g.light,textColor:O},dark:{backgroundColor:m.dark,backgroundColorFocus:u,backgroundColorHover:u,borderColor:m.dark,borderColorFocus:g.dark,textColor:j}},T={light:{backgroundColor:m.light,backgroundColorFocus:f.light,backgroundColorHover:b.light,borderColor:p,borderColorFocus:g.light},dark:{backgroundColor:m.dark,backgroundColorFocus:f.dark,backgroundColorHover:b.dark,
borderColor:h,borderColorFocus:g.dark}},P={standard:m,subtle:y,none:y},A={standard:f,subtle:f,none:y},I={standard:b,subtle:b,none:y},M={standard:{light:"#DFE1E6",dark:"#202B3D"},subtle:y,none:y},D={standard:g,subtle:g,none:y},N={xsmall:80,small:160,medium:240,large:320,xlarge:480},R=e=>e?e in N?N[e]:+e:"100%",L=(e,t,n)=>E(E({alignItems:"center"},((e,t)=>({backgroundColor:P[e][t],borderColor:M[e][t],color:v[t],cursor:"text","&:hover":{backgroundColor:I[e][t]},"&:focus-within":{backgroundColor:A[e][t],borderColor:D[e][t]},"&[data-disabled]":{backgroundColor:x[t].backgroundColor,borderColor:x[t].borderColor,color:x[t].textColor,cursor:"not-allowed"},"&[data-disabled]:focus-within":{backgroundColor:x[t].backgroundColorFocus,borderColor:x[t].borderColorFocus},"&[data-disabled]:hover":{backgroundColor:x[t].backgroundColorHover},"&[data-invalid]":{backgroundColor:T[t].backgroundColor,borderColor:T[t].borderColor},"&[data-invalid]:focus-within":{backgroundColor:T[t].backgroundColorFocus,
borderColor:T[t].borderColorFocus},"&[data-invalid]:hover":{backgroundColor:T[t].backgroundColorHover}}))(e,t)),{},{borderRadius:3,borderWidth:2,borderStyle:"none"===e?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:_,justifyContent:"space-between",maxWidth:R(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"});var B=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/textfield/dist/es2019/version.json");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){U(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const $={componentName:"textField",packageName:B.a,packageVersion:B.b},W=Object(i.forwardRef)(((e,t)=>{
const n=Object(i.useRef)(null),{appearance:o="standard",isCompact:l=!1,isDisabled:d=!1,isInvalid:u=!1,isRequired:p=!1,isReadOnly:h=!1,isMonospaced:m=!1,width:f,mode:b,elemAfterInput:g,elemBeforeInput:y,testId:v,onFocus:O,onBlur:j,onMouseDown:k,className:E}=e,S=H(e,["appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","width","mode","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className"]),T=Object(a.a)(z({fn:e=>{O&&O(e)},action:"focused"},$)),P=Object(a.a)(z({fn:e=>{j&&j(e)},action:"blurred"},$)),A=Object(i.useCallback)((e=>{"INPUT"!==e.target.tagName&&e.preventDefault(),n&&n.current&&!d&&document.activeElement!==n.current&&n.current.focus(),k&&k(e)}),[k,n,d]),I=Object(i.useCallback)((e=>{n.current=e;const o=t;o&&("object"==typeof o&&(o.current=e),"function"==typeof o&&o(e))}),[t]),M={"data-compact":l||void 0,"data-monospaced":m||void 0,"aria-invalid":u||void 0},D={"data-disabled":d||void 0,"data-invalid":u||void 0
},N=Object(i.useMemo)((()=>L(o,b,f)),[o,b,f]),R=Object(i.useMemo)((()=>(e=>({backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:_,minWidth:"0",outline:"none",width:"100%",lineHeight:2.5*C/_,fontFamily:Object(c.fontFamily)(),"&[data-monospaced]":{fontFamily:Object(c.codeFontFamily)()},"&[data-compact]":{padding:`${C/2}px ${C-2}px`,height:`${(3.5*C/_).toFixed(2)}em`},"&:not([data-compact])":{padding:`${C}px ${C-2}px`,height:`${(4.5*C/_).toFixed(2)}em`},"&[disabled]":{WebkitTextFillColor:"unset",WebkitOpacity:1},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&::placeholder":{color:w[e],"&:disabled":{color:x[e].textColor}}}))(b)),[b]);return Object(s.b)("div",r()({},D,{onMouseDown:A,"data-ds--text-field--container":!0,"data-testid":v&&`${v}-container`,css:N,className:E}),y,Object(s.b)("input",r()({},S,M,{disabled:d,readOnly:h,required:p,onBlur:P,onFocus:T,ref:I,"data-ds--text-field--input":!0,"data-testid":v,css:R})),g)
})),V=Object(i.forwardRef)((function(e,t){return Object(s.b)(l.a.Consumer,null,(({mode:n})=>Object(s.b)(W,r()({},e,{mode:n,ref:t}))))}));V.displayName="Textfield";t.a=Object(i.memo)(V)},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/textfield/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/textfield","b":"5.0.0"}')},"./node_modules/@atlaskit/editor-core/node_modules/@emotion/core/dist/core.browser.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return y}));var o=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),i=n("./node_modules/react/index.js"),s=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),a=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),
n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),l=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),c=Object.prototype.hasOwnProperty,d=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(s.a)():null),u=Object(i.createContext)({}),p=(d.Provider,function(e){var t=function(t,n){return Object(i.createElement)(d.Consumer,null,(function(o){return e(t,o,n)}))};return Object(i.forwardRef)(t)}),h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=function(e,t){var n={};for(var o in t)c.call(t,o)&&(n[o]=t[o]);return n[h]=e,n},f=function(e,t,n,o){var r=null===n?t.css:t.css(n);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[h],d=[r],u="";"string"==typeof t.className?u=Object(a.a)(e.registered,d,t.className):null!=t.className&&(u=t.className+" ");var p=Object(l.a)(d);Object(a.b)(e,p,"string"==typeof s);u+=e.key+"-"+p.name;var m={};for(var f in t)c.call(t,f)&&"css"!==f&&f!==h&&(m[f]=t[f]);return m.ref=o,m.className=u,
Object(i.createElement)(s,m)},b=p((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(u.Consumer,null,(function(o){return f(t,e,o,n)})):f(t,e,null,n)}));var g=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),y=function(e,t){var n=arguments;if(null==t||!c.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=b,r[1]=m(e,t);for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},v=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r});function O(e,t,n){var o=[],r=Object(a.a)(e,o,n);return o.length<2?n:r+t(o)}p((function(e,t){return Object(i.createElement)(u.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o]
;var r=Object(l.a)(n,t.registered);return Object(a.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return O(t.registered,o,v(n))},theme:n},i=e.children(r);return!0,i}))}))},"./node_modules/@atlaskit/editor-core/node_modules/memoize-one/dist/memoize-one.esm.js":function(e,t,n){"use strict";function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=o);var r,i=[],s=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return s&&n===this&&t(o,i)||(r=e.apply(this,o),s=!0,n=this,i=o),r}}},"./node_modules/@atlaskit/editor-core/node_modules/react-transition-group/esm/Transition.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),i=(n("./node_modules/prop-types/index.js"),
n("./node_modules/react/index.js")),s=n.n(i),a=n("./node_modules/react-dom/index.js"),l=n.n(a),c=!1,d=s.a.createContext(null),u="unmounted",p="exited",h="entering",m="entered",f="exiting",b=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var r,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(r=p,o.appearStatus=h):r=m:r=t.unmountOnExit||t.mountOnEnter?u:p,o.state={status:r},o.nextCallback=null,o}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==m&&(t=h):n!==h&&n!==m||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,
n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[l.a.findDOMNode(this),o],i=r[0],s=r[1],a=this.getTimeouts(),d=o?a.appear:a.enter;!e&&!n||c?this.safeSetState({status:m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:h},(function(){t.props.onEntering(i,s),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(i,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!c?(this.props.onExit(o),this.safeSetState({status:f},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){
e.safeSetState({status:p},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(o)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],s=r[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null
;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(o.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.a.createElement(d.Provider,{value:null},"function"==typeof n?n(e,r):s.a.cloneElement(s.a.Children.only(n),r))},t}(s.a.Component);function g(){}b.contextType=d,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},b.UNMOUNTED=u,b.EXITED=p,b.ENTERING=h,b.ENTERED=m,b.EXITING=f;t.a=b},"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/manifest.js":function(t,n,o){"use strict";var r=o("./node_modules/react/index.js"),i=o.n(r),s=o("./node_modules/react-dom/index.js"),a=o.n(s)
;async function l(t,n){let r,s,l;if(await(async e=>window.Dropbox?(window.Dropbox.appKey=e,Promise.resolve()):o.e("e1c4cca18f").then(o.bind(null,"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/dropboxscript.js")).then((()=>{window.Dropbox.appKey=e})))(t),n){let e=await o.e("7d9e47c9b111").then(o.bind(null,"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/modal.js"));r=document.getElementById("twp-dropbox-popup-mount-point"),r||(r=document.createElement("div"),r.id="twp-dropbox-popup-mount-point",document.body.appendChild(r)),a.a.render(i.a.createElement(e.default,{onClose:()=>{}}),r)}try{s=await new Promise(((e,t)=>{window.Dropbox.choose({iframe:n,windowName:n?"twp-dropboxjs-iframe":void 0,success:e,cancel:t})}))}catch(e){return void(r&&a.a.unmountComponentAtNode(r))}if(!s.length)return void(r&&a.a.unmountComponentAtNode(r));const c=s.map((e=>(e=>({type:"inlineCard",attrs:e}))({url:e.link})));return l=1===c.length?c[0]:{type:"paragraph",content:c},
r&&a.a.unmountComponentAtNode(r),l}n.a=({appKey:t,canMountinIframe:n})=>({title:"Dropbox",type:"com.dropbox.fabric",key:"dropbox",description:"Embed Dropbox file to collaborate with your team",icons:{16:()=>o.e("7d9e47c9b1").then(o.bind(null,"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/icons/DropboxIcon.js")),24:()=>o.e("7d9e47c9b1").then(o.bind(null,"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/icons/DropboxIcon.js")),48:()=>o.e("7d9e47c9b1").then(o.bind(null,"./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/icons/DropboxIcon.js"))},modules:{quickInsert:[{key:"item",action:()=>new Promise((async(o,r)=>{try{let e=await l(t,n);e?o(e):r()}catch(e){r(e)}}))}]}})},"./node_modules/@atlaskit/editor-markdown-transformer/dist/es2019/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}))
;var o=n("./node_modules/@atlaskit/adf-schema/dist/es2019/schema/default-schema.js"),r=n("./node_modules/markdown-it/index.js"),i=n.n(r),s=n("./node_modules/markdown-it-table/dist/es/table.js"),a=n.n(s),l=function(e,t){e.block.ruler.before("paragraph","table",a.a,{alt:["paragraph","reference"]})},c=n("./node_modules/prosemirror-markdown/dist/index.es.js");const d=e=>{e.core.ruler.before("inline","media",function(){const e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){const o=e=>{const t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){const e=n.md.normalizeLink(t.str);if(n.md.validateLink(e))return e}return""},r=e=>{const t=new n.Token("media_single_open","",1),r=new n.Token("media","",0);return r.attrs=[["url",o(e)],["type","external"]],[t,r,new n.Token("media_single_close","",-1)]},i=(e,t,o)=>{if(!e||0===e.length)return[];const r=new n.Token("inline","",1);return r.content=e,r.children=[],[...t,r,...o]};let s=[]
;const a=n.tokens.reduce(((o,a,l,c)=>{if("inline"===a.type&&e.test(a.content)){const d=[];let u=l-1,p=c[u],h=[];for(;p&&p.level>0&&-1===t.indexOf(p.type);)d.unshift(p),u--,p=c[u];-1===t.indexOf(p.type)?d.unshift(p):u++;const m=d.map((e=>new n.Token(e.type.replace("_open","_close"),e.tag,-1))).reverse(),f=a.content.match(e);let b=a.content;f.forEach((e=>{const t=b.indexOf(e),n=b.substr(0,t);b=b.substr(t+e.length),h=[...h,...i(n,d,m),...r(e)]})),b.length&&(h=[...h,...i(b,d,m)]),s=[...s,...m.map((e=>e.type))],o=[...o.slice(0,u),...h]}else-1!==s.indexOf(a.type)?s.splice(s.indexOf(a.type),1):o.push(a);return o}),[]);return n.tokens=a,!0}}())};const u={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},p={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{
mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},hr:{node:"rule"},heading:{block:"heading",attrs:e=>({level:+e.tag.slice(1)})},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:e=>({order:+e.attrGet("order")||1})},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:e=>({language:e.info&&e.info.trim()||null})},media_single:{block:"mediaSingle",attrs:()=>({})},media:{node:"media",attrs:e=>({url:e.attrGet("url"),type:"external"})},emoji:{node:"emoji",attrs:e=>({shortName:`:${e.markup}:`,text:e.content})},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},h=i()("zero",{html:!1,linkify:!0});h.enable(["entity","escape"]);class m{constructor(e=o.a,t=h){["nodes","marks"].forEach((n=>{
for(const o in u[n])e[n][o]&&t.enable(u[n][o])})),e.nodes.table&&t.use(l),e.nodes.media&&e.nodes.mediaSingle&&t.use(d),this.markdownParser=new c.a(e,t,function(e,t){return Object.keys(t).reduce(((n,o)=>{const r=t[o],i=r.block||r.node,s=r.mark;return(i&&e.nodes[i]||s&&e.marks[s])&&(n[o]=r),n}),{})}(e,p))}encode(e){throw new Error("This is not implemented yet")}parse(e){return this.markdownParser.parse(e)}}},"./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/prosemirror-state/dist/index.es.js"),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/tables.js");class s{constructor(e,t){this.anchor=e,this.head=t}map(e){return new s(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head)
;if("row"===t.parent.type.spec.tableRole&&"row"===n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Object(i.a)(t,n)){const o={type:"cell",anchor:t.pos,head:n.pos};return r.Selection.fromJSON(e,o)}return r.Selection.near(n,1)}}var a=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),l=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/cells.js"),c=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/colspan.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.Selection{constructor(e,t=e){const n=function(e,t){const n=e.node(-1),o=a.b.get(n),i=e.start(-1),s=o.rectBetween(e.pos-i,t.pos-i),l=e.node(0),c=o.cellsInRect(s).filter((e=>e!==t.pos-i));return c.unshift(t.pos-i),c.map((e=>{const t=n.nodeAt(e);if(null===t)throw new Error(`No cell at position ${e}`);const o=e+i+1;return new r.SelectionRange(l.resolve(o),l.resolve(o+t.content.size))}))}(e,t);super(n[0].$from,n[0].$to,n),this.$anchorCell=e,this.$headCell=t,this.visible=!1}map(e,t){const n=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(Object(l.d)(n)&&Object(l.d)(o)&&Object(i.a)(n,o)){const e=this.$anchorCell.node(-1)!==n.node(-1);return e&&this.isRowSelection()?h.rowSelection(n,o):e&&this.isColSelection()?h.colSelection(n,o):new h(n,o)}
return r.TextSelection.between(n,o)}content(){const e=this.$anchorCell.node(-1),t=a.b.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},s=[];for(let a=r.top;a<r.bottom;a++){const n=[];for(let o=a*t.width+r.left,s=r.left;s<r.right;s++,o++){const s=t.map[o];if(!i[s]){i[s]=!0;const o=t.findCell(s);let a=e.nodeAt(s);if(null==a)throw new Error(`No cell at position ${s}`);const l=r.left-o.left,d=o.right-r.right;if(l>0||d>0){let{attrs:e}=a;if(!e)throw new Error(`No cell at position ${s}`);l>0&&(e=Object(c.c)(e,0,l)),d>0&&(e=Object(c.c)(e,e.colspan-d,d)),a=o.left<r.left?a.type.createAndFill(e):a.type.create(e,a.content)}if(null==a)throw new Error("No cell at position after create/createAndFill");if(o.top<r.top||o.bottom>r.bottom){const e=u(u({},a.attrs),{},{rowspan:Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top)});a=o.top<r.top?a.type.createAndFill(e):a.type.create(e,a.content)}
if(null==a)throw new Error("No cell at position before rowContent.push");n.push(a)}}s.push(e.child(a).copy(o.Fragment.from(n)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new o.Slice(o.Fragment.from(l),1,1)}replace(e,t=o.Slice.empty){const n=e.steps.length,{ranges:i}=this;for(let r=0;r<i.length;r++){const{$from:s,$to:a}=i[r],l=e.mapping.slice(n);e.replace(l.map(s.pos),l.map(a.pos),r?o.Slice.empty:t)}const s=r.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new o.Slice(o.Fragment.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=a.b.get(t),o=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let i=0;i<r.length;i++){const n=t.nodeAt(r[i]);if(null==n)throw new Error(`undefined cell at pos ${r[i]}`);e(n,o+r[i])}}isColSelection(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell")
;const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,o)===this.$headCell.node(-1).childCount}static colSelection(e,t=e){let n=e,o=t;const r=a.b.get(n.node(-1)),i=n.start(-1),s=r.findCell(n.pos-i),l=r.findCell(o.pos-i),c=n.node(0);return s.top<=l.top?(s.top>0&&(n=c.resolve(i+r.map[s.left])),l.bottom<r.height&&(o=c.resolve(i+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(o=c.resolve(i+r.map[l.left])),s.bottom<r.height&&(n=c.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))),new h(n,o)}isRowSelection(){if(!this.$anchorCell||!this.$headCell)return!1;const e=a.b.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),o=e.colCount(this.$headCell.pos-t);if(Math.min(n,o)>0)return!1;const r=n+this.$anchorCell.nodeAfter.attrs.colspan,i=o+this.$headCell.nodeAfter.attrs.colspan
;return Math.max(r,i)===e.width}eq(e){return e instanceof h&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}static rowSelection(e,t=e){let n=e,o=t;const r=a.b.get(n.node(-1)),i=n.start(-1),s=r.findCell(n.pos-i),l=r.findCell(o.pos-i),c=n.node(0);return s.left<=l.left?(s.left>0&&(n=c.resolve(i+r.map[s.top*r.width])),l.right<r.width&&(o=c.resolve(i+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(o=c.resolve(i+r.map[l.top*r.width])),s.right<r.width&&(n=c.resolve(i+r.map[r.width*(s.top+1)-1]))),new h(n,o)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new h(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new h(e.resolve(t),e.resolve(n))}getBookmark(){return new s(this.$anchorCell.pos,this.$headCell.pos)}}r.Selection.jsonID("cell",h)},"./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js":function(e,t,n){"use strict";let o,r,i;if(n.d(t,"a",(function(){return s})),
n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),"undefined"!=typeof WeakMap){let e=new WeakMap;o=t=>e.get(t),r=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;o=t=>{for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]},r=(o,r)=>(n===t&&(n=0),e[n++]=o,e[n++]=r)}class s{constructor(e,t,n,o){this.left=e,this.top=t,this.right=n,this.bottom=o}}!function(e){e.COLLISION="collision",e.OVERLONG_ROWSPAN="overlong_rowspan",e.MISSING="missing",e.COLWIDTH_MISMATCH="colwidth mismatch"}(i||(i={}));class a{constructor(e,t,n,o){this.width=e,this.height=t,this.map=n,this.problems=o}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!==e)continue;let o=t%this.width,r=t/this.width|0,i=o+1,a=r+1;for(let e=1;i<this.width&&this.map[t+e]===n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]===n;e++)a++;return new s(o,r,i,a)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width
;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:o,right:r,top:i,bottom:s}=this.findCell(e);return"horiz"===t?(n<0?0===o:r===this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?0===i:s===this.height)?null:this.map[o+this.width*(n<0?i-1:s)]}rectBetween(e,t){let{left:n,right:o,top:r,bottom:i}=this.findCell(e),{left:a,right:l,top:c,bottom:d}=this.findCell(t);return new s(Math.min(n,a),Math.min(r,c),Math.max(o,l),Math.max(i,d))}cellsInRect(e){let t=[],n={};for(let o=e.top;o<e.bottom;o++)for(let r=e.left;r<e.right;r++){let i=o*this.width+r,s=this.map[i];n[s]||(n[s]=!0,r===e.left&&r&&this.map[i-1]===s||o===e.top&&o&&this.map[i-this.width]===s||t.push(s))}return t}positionAt(e,t,n){for(let o=0,r=0;;o++){let i=r+n.child(o).nodeSize;if(o===e){let n=t+e*this.width,o=(e+1)*this.width;for(;n<o&&this.map[n]<r;)n++;return n===o?i-1:this.map[n]}r=i}}static get(e){return o(e)||r(e,function(e){
if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let o=0;o<e.childCount;o++){let r=e.child(o),i=0;if(n)for(let t=0;t<o;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let r=n.child(e);t+r.attrs.rowspan>o&&(i+=r.attrs.colspan)}}for(let e=0;e<r.childCount;e++){let t=r.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,o=[],r=0,s=null,c=[];for(let i=0,a=t*n;i<a;i++)o[i]=0;for(let a=0,l=0;a<n;a++){let d=e.child(a);l++;for(let e=0;;e++){for(;r<o.length&&0!==o[r];)r++;if(e===d.childCount)break;let u=d.child(e),{colspan:p,rowspan:h,colwidth:m}=u.attrs;for(let e=0;e<h;e++){if(e+a>=n){(s||(s=[])).push({type:i.OVERLONG_ROWSPAN,pos:l,n:h-e});break}let d=r+e*t;for(let e=0;e<p;e++){0===o[d+e]?o[d+e]=l:(s||(s=[])).push({type:i.COLLISION,row:a,pos:l,n:p-e});let n=m&&m[e];if(n){let o=(d+e)%t*2,r=c[o];null==r||r!==n&&1===c[o+1]?(c[o]=n,
c[o+1]=1):r===n&&c[o+1]++}}}r+=p,l+=u.nodeSize}let u=(a+1)*t,p=0;for(;r<u;)0===o[r++]&&p++;p&&(s||(s=[])).push({type:i.MISSING,row:a,n:p}),l++}let d=new a(t,n,o,s),u=!1;for(let i=0;!u&&i<c.length;i+=2)null!=c[i]&&c[i+1]<n&&(u=!0);u&&function(e,t,n){e.problems||(e.problems=[]);let o={};for(let r=0;r<e.map.length;r++){let s=e.map[r];if(o[s])continue;o[s]=!0;let a=n.nodeAt(s),c=null;for(let n=0;n<a.attrs.colspan;n++){let o=t[2*((r+n)%e.width)];null==o||a.attrs.colwidth&&a.attrs.colwidth[n]===o||((c||(c=l(a.attrs)))[n]=o)}c&&e.problems.unshift({type:i.COLWIDTH_MISMATCH,pos:s,colwidth:c})}}(d,c,e);return d}(e))}}function l(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/add-column.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}))
;var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/colspan.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js");function i(e,t,n){const o=Object(r.a)(t.type.schema).header_cell;for(let r=0;r<e.height;r++){const i=t.nodeAt(e.map[n+r*e.width]);if(i&&i.type!==o)return!1}return!0}function s(e,{map:t,tableStart:n,table:s},a){let l=a>0?-1:0;i(t,s,a+l)&&(l=0===a||a===t.width?null:0);for(let i=0;i<t.height;i++){const c=i*t.width+a;if(a>0&&a<t.width&&t.map[c-1]===t.map[c]){const r=t.map[c],l=s.nodeAt(r);if(!l)throw new Error(`addColumn: invalid cell for pos ${r}`);const d=l.attrs;Object(o.b)(d),e.setNodeMarkup(e.mapping.map(n+r),void 0,Object(o.a)(d,a-t.colCount(r))),i+=d.rowspan-1}else{let o;if(null===l)o=Object(r.a)(s.type.schema).cell;else{const e=t.map[c+l],n=s.nodeAt(e);if(!n)throw new Error(`addColumn: invalid node at mapped pos ${e}`);o=n.type}const d=t.positionAt(i,a,s);e.insert(e.mapping.map(n+d),o.createAndFill())}}return e}},
"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/cells.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js");function r(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function i(e){for(let t=e.nodeAfter,{pos:n}=e;t;t=t.firstChild,n++){const o=t.type.spec.tableRole;if("cell"===o||"header_cell"===o)return e.doc.resolve(n)}for(let t=e.nodeBefore,{pos:n}=e;t;t=t.lastChild,n--){const o=t.type.spec.tableRole;if("cell"===o||"header_cell"===o)return e.doc.resolve(n-t.nodeSize)}return null}function s(e){for(let t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function a(e,t,n){const r=e.start(-1),i=o.b.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}},
"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/clone-tr.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>Object.assign(Object.create(e),e).setTime(Date.now())},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/colspan.js":function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
function s(e,t,n=1){if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");const o=r(r({},e),{},{colspan:e.colspan-n});return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(t,n),o.colwidth.some((e=>e>0))||(o.colwidth=void 0)),o}function a(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error(`addColSpan: attrs.colspan must be number >= 1, received: ${e.colspan}`)}function l(e,t,n=1){a(e);const o=r(r({},e),{},{colspan:e.colspan+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}))},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/create-table.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}))
;var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js");const r=(e,t)=>t?e.createChecked(null,t):e.createAndFill(),i=(e,t=3,n=3,i=!0,s)=>{const{cell:a,header_cell:l,row:c,table:d}=Object(o.a)(e),u=[],p=[];for(let o=0;o<n;o++){const e=r(a,s);if(e&&u.push(e),i){const e=r(l,s);e&&p.push(e)}}const h=[];for(let o=0;o<t;o++)h.push(c.createChecked(null,i&&0===o?p:u));return d.createChecked(null,h)}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("./node_modules/prosemirror-utils/dist/index.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js");const i=e=>Object(o.findParentNode)((e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole))(e),s=e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole))),a=e=>{const t=s(e);if(t){
const n=(e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole)))(e);if(n){const e=r.b.get(n.node),o=t.pos-n.start;return e.rectBetween(o,o)}}}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-cells-in-row.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/find.js");const i=e=>t=>{const n=Object(r.c)(t);if(!n)return;const i=o.b.get(n.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=i.height-1)).reduce(((e,t)=>{const o=i.cellsInRect({left:0,right:i.width,top:t,bottom:t+1});return e.concat(o.map((e=>{const t=n.node.nodeAt(e),o=e+n.start;return{pos:o,start:o+1,node:t,depth:n.depth+2}})))}),[])}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/get-selection-rect.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}))
;var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selection-type.js");const i=e=>{if(!Object(r.a)(e,"cell"))return;const t=e.$anchorCell.start(-1);return o.b.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selected.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selection-type.js");const i=e=>t=>{if(!Object(r.a)(t,"cell"))return!1;const n=o.b.get(t.$anchorCell.node(-1)),i=t.$anchorCell.start(-1),s=n.cellsInRect(e),a=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i));for(let e=0,o=s.length;e<o;e++)if(-1===a.indexOf(s[e]))return!1;return!0},s=e=>t=>{
if(Object(r.a)(t,"cell")){const n=o.b.get(t.$anchorCell.node(-1));return i({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1},a=e=>t=>{if(Object(r.a)(t,"cell")){const n=o.b.get(t.$anchorCell.node(-1));return i({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1},l=e=>{if(Object(r.a)(e,"cell")){const t=o.b.get(e.$anchorCell.node(-1));return i({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selection-type.js":function(e,t,n){"use strict";function o(e,t){if(!e)return!1;return e.toJSON().type===t}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-cell.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/cells.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/is-selection-type.js");function i(e){
return Object(r.a)(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:Object(r.a)(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:Object(o.a)(e.$head)||Object(o.b)(e.$head)}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-rect.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/cell-selection.js"),r=n("./node_modules/@atlaskit/editor-tables/dist/es2019/table-map.js"),i=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/selection-cell.js");function s(e){const t=e.selection,n=Object(i.a)(t);if(!n)throw new Error("selectedRect: invalid $pos for selection");const s=n.node(-1),a=n.start(-1),l=r.b.get(s);let c;return c=t instanceof o.a?l.rectBetween(t.$anchorCell.pos-a,t.$headCell.pos-a):l.findCell(n.pos-a),c.tableStart=a,c.map=l,c.table=s,c}},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/set-cell-attrs.js":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return r}));var o=n("./node_modules/@atlaskit/editor-tables/dist/es2019/utils/clone-tr.js");const r=(e,t)=>n=>e?(n.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),Object(o.a)(n)):n},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/table-node-types.js":function(e,t,n){"use strict";function o(e){let t=e.cached.tableNodeTypes;if(!t){t={},e.cached.tableNodeTypes=t;for(const n in e.nodes){const o=e.nodes[n],r=o.spec.tableRole;r&&(t[r]=o)}}return t}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/editor-tables/dist/es2019/utils/tables.js":function(e,t,n){"use strict";function o(e){const{$head:t}=e.selection;for(let n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0;return!1}function r(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},"./node_modules/@atlaskit/emoji/dist/es2019/components/common/CachingEmoji.js":function(e,t,n){
"use strict";var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/react/index.js"),d=n.n(c),u=n("./node_modules/@atlaskit/emoji/dist/es2019/api/EmojiUtils.js"),p=n("./node_modules/@atlaskit/emoji/dist/es2019/util/type-helpers.js"),h=n("./node_modules/@atlaskit/emoji/dist/es2019/util/logger.js"),m=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/Emoji.js"),f=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/EmojiPlaceholder.js");function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}
class g extends c.PureComponent{constructor(e,t){super(e,t),s()(this,"mounted",!1),s()(this,"handleLoadError",((e,t)=>{const{invalidImage:n}=this.state;!n&&t&&this.setState({cachedEmoji:this.loadEmoji(t,this.context,!0)})})),this.state={cachedEmoji:this.loadEmoji(e.emoji,t,!1)}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})}loadEmoji(e,t,n){if(!t.emoji)return;const{emojiProvider:o}=t.emoji;if(!o)return;const{fitToHeight:r}=this.props,i=Object(u.d)(e,r);if(o.optimisticMediaRendering(e,i)&&!n)return Object(h.a)("Optimistic rendering",e.shortName),e;Object(h.a)("Loading image via media cache",e.shortName);const s=o.loadMediaEmoji(e,i);if(!Object(p.n)(s))return Object(p.f)(s)?s:void 0;s.then((e=>{this.mounted&&this.setState({cachedEmoji:e,invalidImage:!e})})).catch((()=>{this.mounted&&this.setState({cachedEmoji:void 0,
invalidImage:!0})}))}render(){const{cachedEmoji:e}=this.state,t=this.props,{children:n,placeholderSize:o}=t,i=b(t,["children","placeholderSize"]);let s;if(e)s=d.a.createElement(m.a,r()({},i,{emoji:e,onLoadError:this.handleLoadError}));else{const{emoji:e,placeholderSize:t,showTooltip:n,fitToHeight:o}=this.props,{shortName:r,representation:i}=e;s=d.a.createElement(f.a,{size:o||t,shortName:r,showTooltip:n,representation:i})}return s}}g.displayName="CachingMediaEmoji",s()(g,"contextTypes",{emoji:l.a.object}),t.a=e=>{const{placeholderSize:t}=e,n=b(e,["placeholderSize"]);return Object(p.k)(e.emoji)?d.a.createElement(g,e):d.a.createElement(m.a,n)}},"./node_modules/@atlaskit/emoji/dist/es2019/components/common/Emoji.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),s=n("./node_modules/classnames/index.js"),a=n.n(s),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./node_modules/@atlaskit/emoji/dist/es2019/api/EmojiUtils.js"),u=n("./node_modules/@atlaskit/emoji/dist/es2019/util/type-helpers.js"),p=n("./node_modules/@atlaskit/emoji/dist/es2019/util/mouse.js"),h=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/styles.js"),m=n("./node_modules/@atlaskit/button/dist/es2019/custom-theme-button/custom-theme-button.js"),f=n("./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/glyph/cross-circle.js"),b=n.n(f);var g=e=>c.a.createElement("span",{className:h.f},c.a.createElement(m.a,{iconBefore:c.a.createElement(b.a,{label:"delete-emoji",primaryColor:"#42526E",size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none"}));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=(e,t)=>{if(t.target instanceof Element&&"delete-emoji"===t.target.getAttribute("aria-label"))return;const{emoji:n,onSelected:o}=e;t.preventDefault(),o&&Object(p.a)(t)&&o(Object(u.q)(n),n,t)},j=(e,t)=>{const{emoji:n,onMouseMove:o}=e;o&&o(Object(u.q)(n),n,t)},w=e=>{const{emoji:t,fitToHeight:n,selected:o,selectOnHover:r,className:s,showTooltip:l}=e,d=t.representation,u=d.sprite,p={[h.m]:!0,"emoji-common-node":!0,"emoji-common-selected":o,"emoji-common-select-on-hover":r};s&&(p[s]=!0);let m={};n&&(m={width:`${n}px`,height:`${n}px`});const f=100/(u.column-1)*(d.xIndex-0),b=100/(u.row-1)*(d.yIndex-0),g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundImage:`url(${u.url})`,backgroundPosition:`${f}% ${b}%`,backgroundSize:`${100*u.column}% ${100*u.row}%`},m),w=c.a.createElement("span",{className:"emoji-common-emoji-sprite",style:g},"\xa0");return c.a.createElement("span",{className:a()(p),onMouseDown:t=>{O(e,t)},onMouseMove:t=>{j(e,t)},"aria-label":t.shortName},l?c.a.createElement(i.a,{tag:"span",content:t.shortName},w):w)},k=e=>{const{emoji:t,fitToHeight:n,selected:o,selectOnHover:s,className:l,showTooltip:p,showDelete:m}=e,f={[h.j]:!0,"emoji-common-node":!0,"emoji-common-selected":o,"emoji-common-select-on-hover":s,"emoji-common-emoji-image":!0};let b,y,v;l&&(f[l]=!0);const w=Object(d.d)(t,n)?t.altRepresentation:t.representation;let k
;Object(u.i)(w)?(v=w.imagePath,b=w.width,y=w.height):Object(u.l)(w)&&(v=w.mediaPath,b=w.width,y=w.height),m&&(k=c.a.createElement(g,{onClick:t=>((e,t)=>{const{emoji:n,onDelete:o}=e;o&&o(Object(u.q)(n),n,t)})(e,t)}));let E={};n&&b&&y&&(E={width:n/y*b,height:n});const S=c.a.createElement("img",r()({src:v,key:v,alt:t.shortName,"data-emoji-short-name":t.shortName,"data-emoji-id":t.id,"data-emoji-text":t.fallback||t.shortName,className:"emoji",style:{visibility:"visible"},onError:t=>{((e,t)=>{const{emoji:n,onLoadError:o}=e;t.target&&(t.target.style.visibility="hidden");o&&o(Object(u.q)(n),n,t)})(e,t)}},E));return c.a.createElement("span",{className:a()(f),onMouseDown:t=>{O(e,t)},onMouseMove:t=>{j(e,t)},"aria-label":t.shortName},k,p?c.a.createElement(i.a,{tag:"span",content:t.shortName},S):S)};t.a=e=>{const{emoji:t}=e;return Object(u.o)(t.representation)?w(e):k(e)}},"./node_modules/@atlaskit/emoji/dist/es2019/components/common/EmojiPreview.js":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return k}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/@atlaskit/button/dist/es2019/button.js"),s=n("./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/glyph/add.js"),a=n.n(s),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./node_modules/react/index.js"),u=n.n(d),p=n("./node_modules/react-intl/lib/index.es.js"),h=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/CachingEmoji.js"),m=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/styles.js"),f=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/Emoji.js"),b=n("./node_modules/@atlaskit/emoji/dist/es2019/util/mouse.js");var g=e=>{const{emoji:t,selectOnHover:n}=e,o=[m.k];return u.a.createElement("button",{className:c()(o),onMouseDown:t=>{((e,t)=>{const{onSelected:n}=e;t.preventDefault(),n&&Object(b.a)(t)&&n()})(e,t)}},u.a.createElement(f.a,{emoji:t,selectOnHover:n}))
},y=n("./node_modules/@atlaskit/emoji/dist/es2019/components/i18n.js"),v=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),O=n("./node_modules/@atlaskit/emoji/dist/es2019/util/analytics.js");class j extends d.PureComponent{constructor(...e){super(...e),r()(this,"onToneSelectedHandler",(e=>{const{onToneSelected:t}=this.props;t(e);this.fireEvent(Object(O.o)({skinToneModifier:["default","light","mediumLight","medium","mediumDark","dark"][e]}))}))}fireEvent(e){const{createAnalyticsEvent:t}=this.props;t&&Object(O.c)(e)(t)}UNSAFE_componentWillMount(){this.fireEvent(Object(O.q)({}))}render(){const{emoji:e}=this.props,t=(e=>e.skinVariations?[e,...e.skinVariations]:[e])(e);return u.a.createElement("div",null,t.map(((e,t)=>u.a.createElement(g,{key:`${e.id}`,onSelected:()=>this.onToneSelectedHandler(t),emoji:e,selectOnHover:!0}))))}}j.displayName="ToneSelectorInternal";var w=Object(v.a)()(j);class k extends d.PureComponent{constructor(...e){super(...e),
r()(this,"state",{selectingTone:!1}),r()(this,"onToneButtonClick",(()=>{this.setState({selectingTone:!0})})),r()(this,"onToneSelected",(e=>{this.setState({selectingTone:!1}),this.props.onToneSelected&&this.props.onToneSelected(e)})),r()(this,"onMouseLeave",(()=>{const{selectingTone:e}=this.state,{onToneSelectorCancelled:t}=this.props;e&&t&&t(),this.setState({selectingTone:!1})}))}renderTones(){const{toneEmoji:e,selectedTone:t}=this.props;if(!e)return null;if(this.state.selectingTone)return u.a.createElement("div",{className:"emoji-common-tone-selector-container"},u.a.createElement(w,{emoji:e,onToneSelected:this.onToneSelected}));let n=e;return t&&n.skinVariations&&(n=n.skinVariations[(t||1)-1]),u.a.createElement("div",{className:"emoji-common-buttons"},u.a.createElement(g,{emoji:n,onSelected:()=>this.onToneButtonClick(),selectOnHover:!0}))}renderEmojiPreview(){const{selectingTone:e}=this.state,{emoji:t,uploadEnabled:n}=this.props;if(!t||e||n)return null;const o=c()({
"emoji-common-preview":!0,"emoji-common-with-tone-selector":!!this.props.toneEmoji}),r=c()({"emoji-common-preview-text":!0,"emoji-common-preview-single-line":!t.name});return u.a.createElement("div",{className:o},u.a.createElement("span",{className:"emoji-common-preview-image"},u.a.createElement(h.a,{emoji:t})),u.a.createElement("div",{className:r},u.a.createElement("span",{className:"emoji-common-name"},t.name),u.a.createElement("span",{className:"emoji-common-shortname"},t.shortName)))}renderAddOwnEmoji(){const{onOpenUpload:e,uploadEnabled:t}=this.props,{selectingTone:n}=this.state;return!t||n?null:u.a.createElement("div",{className:m.a},u.a.createElement(p.c,y.a.addCustomEmojiLabel,(t=>u.a.createElement(i.a,{onClick:e,iconBefore:u.a.createElement(a.a,{label:t,size:"small"}),appearance:"subtle",className:m.b+" emoji-picker-add-emoji"},t))))}render(){const e=c()([m.q,"emoji-preview-section"]);return u.a.createElement("div",{className:e,onMouseLeave:this.onMouseLeave
},this.renderAddOwnEmoji(),this.renderEmojiPreview(),this.renderTones())}}k.displayName="EmojiPreview"},"./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPicker.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/LoadingEmojiComponent.js"),u=n("./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPickerVirtualItems.js"),p=n("./node_modules/@atlaskit/emoji/dist/es2019/components/picker/styles.js");function h(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const m=()=>(()=>n.e("@atlaskit-internal_emojiPickerComponent").then(n.bind(null,"./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPickerComponent.js")))().then((e=>e.default));class f extends d.a{constructor(e){super(e,{}),s()(this,"state",{asyncLoadedComponent:f.AsyncLoadedComponent})}asyncLoadComponent(){m().then((e=>{f.AsyncLoadedComponent=e,this.setAsyncState(e)}))}renderLoading(){const e=new u.c;return c.a.createElement("div",{className:p.e,ref:e=>{this.props.onPickerRef&&this.props.onPickerRef(e)}},e.renderItem())}renderLoaded(e,t){const n=this.props,{emojiProvider:o}=n,i=h(n,["emojiProvider"]);return c.a.createElement(t,r()({emojiProvider:e},i))}}const b=Object(a.a)()(f);t.a=b},"./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPickerSizes.js":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return o}));const o={listHeight:208,listWidth:350,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},"./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPickerVirtualItems.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return w}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js"),s=n("./node_modules/react/index.js"),a=n.n(s),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./node_modules/react-intl/lib/index.es.js"),u=n("./node_modules/@atlaskit/emoji/dist/es2019/util/type-helpers.js"),p=n("./node_modules/@atlaskit/emoji/dist/es2019/components/i18n.js"),h=n("./node_modules/@atlaskit/emoji/dist/es2019/components/picker/styles.js");class m extends s.PureComponent{
render(){const{id:e,title:t,className:n}=this.props;return a.a.createElement("div",{id:e,"data-category-id":e,className:c()(n)},a.a.createElement("div",{className:h.c},Object(u.m)(t)?a.a.createElement(d.c,p.a[t]):t))}}m.displayName="EmojiPickerCategoryHeading";var f=n("./node_modules/@atlaskit/emoji/dist/es2019/components/common/CachingEmoji.js");class b extends s.PureComponent{render(){const{emojis:e,onSelected:t,onMouseMove:n,title:o,showDelete:r,onDelete:i}=this.props;return a.a.createElement("div",{className:h.i},e.map((e=>{const{shortName:s,id:l}=e,c=l?`${l}-${o}`:`${s}-${o}`;return a.a.createElement("span",{className:h.d,key:c},a.a.createElement(f.a,{emoji:e,selectOnHover:!0,onSelected:t,onMouseMove:n,showDelete:r,onDelete:i,placeholderSize:24}))})))}}b.displayName="EmojiPickerEmojiRow";var g=n("./node_modules/@atlaskit/emoji/dist/es2019/components/picker/EmojiPickerSizes.js");class y{constructor(e,t){this.props=e,this.height=t}}class v extends y{constructor(e){
super(e,g.a.emojiRowHeight),r()(this,"renderItem",(()=>a.a.createElement(b,this.props)))}}class O extends y{constructor(){super({},g.a.loadingRowHeight),r()(this,"renderItem",(()=>a.a.createElement("div",{className:h.j},a.a.createElement("div",null,a.a.createElement(i.a,{size:"medium"})))))}}class j extends y{constructor(e){super(e,g.a.categoryHeadingHeight),r()(this,"renderItem",(()=>a.a.createElement(m,this.props)))}}const w=(e,t)=>{const{index:n,key:o,style:r}=t,i=e[n];return a.a.createElement("div",{style:r,key:o},i.renderItem(t))}},"./node_modules/@atlaskit/emoji/dist/es2019/components/picker/styles.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),
n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return g}));var o=n("./node_modules/typestyle/lib.es2015/index.js"),r=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),i=n("./node_modules/@atlaskit/emoji/dist/es2019/util/shared-styles.js");const s=Object(o.b)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:`${i.b} 1px solid`,borderRadius:`${Object(r.borderRadius)()}px`,boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)",height:"295px",width:"350px",marginBottom:"8px",minWidth:"350px"}),a=Object(o.b)({flex:"0 0 auto",backgroundColor:"#EBECF0",$nest:{ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{button:{verticalAlign:"middle"}}},".emoji-picker-add-button":{color:"#6B778C",margin:"0 0 0 5px",verticalAlign:"middle"}}}),l=Object(o.b)({backgroundColor:"transparent",border:0,color:"rgba(9, 30, 66, 0.54)",
cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:{"&::-moz-focus-inner":{border:"0 none",padding:0},"&.emoji-picker-active":{color:"#0065FF",$nest:{"&:hover":{color:"#0065FF"}}},"&:hover":{color:"#4C9AFF"},"&.emoji-picker-disable":{color:"#C1C7D0",cursor:"default",$nest:{"&:hover":{color:"#C1C7D0"}}},"&:focus":{outline:"0"}}}),c=Object(o.b)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),d=Object(o.b)({$nest:{"&:focus":{outline:"none"}}}),u=Object(o.b)({boxSizing:"border-box",padding:"10px 10px 9px 10px",flex:"0 0 auto",$nest:{".search-icon":{opacity:.5},".input":{background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:{"&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}}}}),p=Object(o.b)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}
}),h=Object(o.b)({marginLeft:"8px"}),m=Object(o.b)({boxSizing:"border-box",color:"#091E42",fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),f=Object(o.b)({display:"inline-block",textAlign:"center",width:"40px",$nest:{"&>.emoji-common-node":{cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:{"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"},"&>.emoji-common-emoji-sprite":{height:"24px",width:"24px"}}},"&>.emoji-common-placeholder":{padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"}}}),b=(Object(o.b)({border:"2px dashed #ccc",borderRadius:`${Object(r.borderRadius)()}px`,backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:i.a},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),Object(o.b)({
flex:"0 0 auto"})),g=Object(o.b)({borderTop:"2px solid rgba(9, 30, 66, 0.08)",boxShadow:"0px -1px 1px 0px rgba(0, 0, 0, 0.1)"})},"./node_modules/@atlaskit/emoji/dist/es2019/util/analytics.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"p",(function(){return k})),n.d(t,"r",(function(){return S})),n.d(t,"t",(function(){return _})),n.d(t,"s",(function(){return C})),n.d(t,"v",(function(){return x})),n.d(t,"u",(function(){return T})),n.d(t,"d",(function(){return P})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return I})),n.d(t,"n",(function(){return M})),n.d(t,"m",(function(){return D})),n.d(t,"l",(function(){return N}))
;var o=n("./node_modules/@atlaskit/analytics-next/dist/es2019/utils/createAndFireEvent.js"),r=n("./node_modules/@atlaskit/emoji/dist/es2019/version.json");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=Object(o.a)("fabric-elements"),c=(e,t,n,o,i={})=>({eventType:e,action:t,actionSubject:n,actionSubjectId:o,attributes:s({packageName:r.a,
packageVersion:r.b},i)}),d=e=>c("operational","succeeded","recordEmojiSelection",void 0,{source:e}),u=e=>c("operational","failed","recordEmojiSelection",void 0,{source:e}),p=(e,t={},n)=>c("ui",e,"emojiPicker",n,t),h=()=>p("opened"),m=e=>p("closed",e),f=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],b=e=>{if(!e)return{};for(const{id:t,skinToneModifier:n}of f)if(-1!==e.indexOf(t))return{skinToneModifier:n,baseEmojiId:e.replace(t,"")};return{}
},g=e=>p("clicked",s(s({},b(e.emojiId)),e),"emoji"),y=e=>p("clicked",e,"category"),v=e=>p("searched",e,"query"),O=(e,t={})=>c("ui",e,"emojiSkintoneSelector",void 0,t),j=e=>O("clicked",e),w=e=>O("opened",e),k=()=>O("cancelled"),E=(e,t,n)=>c("ui",e,"emojiUploader",t,n),S=()=>E("clicked","addButton"),_=e=>E("clicked","confirmButton",e),C=()=>E("clicked","cancelButton"),x=e=>c("operational","finished","emojiUploader",void 0,e),T=e=>c("operational","failed","emojiUploader",void 0,e),P=e=>c("ui","clicked","emojiPicker","deleteEmojiTrigger",e),A=e=>c("ui","clicked","emojiPicker","deleteEmojiConfirm",e),I=e=>c("ui","clicked","emojiPicker","deleteEmojiCancel",e),M=()=>c("ui","clicked","emojiUploader","selectFile"),D=e=>()=>{e&&e.createAnalyticsEvent&&Object(o.a)("editor")(d("typeahead"))(e.createAnalyticsEvent)},N=e=>t=>(e&&e.createAnalyticsEvent&&Object(o.a)("editor")(u("typeahead"))(e.createAnalyticsEvent),Promise.reject(t))},
"./node_modules/@atlaskit/emoji/dist/es2019/util/mouse.js":function(e,t,n){"use strict";function o(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return o}))},"./node_modules/@atlaskit/emoji/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"63.1.1"}')},"./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),l=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),c=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),
n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),d=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),u=Object.prototype.hasOwnProperty,p=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(l.a)():null),h=Object(i.createContext)({}),m=(p.Provider,function(e){var t=function(t,n){return Object(i.createElement)(p.Consumer,null,(function(o){return e(t,o,n)}))};return Object(i.forwardRef)(t)}),f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",b=function(e,t){var n={};for(var o in t)u.call(t,o)&&(n[o]=t[o]);return n[f]=e,n},g=function(e,t,n,o){var r=null===n?t.css:t.css(n);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[f],a=[r],l="";"string"==typeof t.className?l=Object(c.a)(e.registered,a,t.className):null!=t.className&&(l=t.className+" ");var p=Object(d.a)(a);Object(c.b)(e,p,"string"==typeof s);l+=e.key+"-"+p.name;var h={};for(var m in t)u.call(t,m)&&"css"!==m&&m!==f&&(h[m]=t[m]);return h.ref=o,h.className=l,
Object(i.createElement)(s,h)},y=m((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(h.Consumer,null,(function(o){return g(t,e,o,n)})):g(t,e,null,n)}));var v=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),O=function(e,t){var n=arguments;if(null==t||!u.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=y,r[1]=b(e,t);for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},j=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r});function w(e,t,n){var o=[],r=Object(c.a)(e,o,n);return o.length<2?n:r+t(o)}m((function(e,t){return Object(i.createElement)(h.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o]
;var r=Object(d.a)(n,t.registered);return Object(c.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(t.registered,o,j(n))},theme:n},i=e.children(r);return!0,i}))}));var k=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js");const E={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},S={light:"#FFFFFF",dark:"#1B2638"},_=(e="light")=>S[e];function C(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const x=Object(i.memo)((function(e){let{primaryColor:t,secondaryColor:n,size:o,mode:i}=e,a=C(e,["primaryColor","secondaryColor","size","mode"]);return O("span",r()({
css:Object(s.a)(o&&`height: ${E[o]}`,";",o&&`width: ${E[o]}`,";color:",t||"currentColor",";display:inline-block;fill:",n||_(i),";flex-shrink:0;line-height:1;> svg{",o&&`height: ${E[o]}`,";",o&&`width: ${E[o]}`,";max-height:100%;max-width:100%;overflow:hidden;pointer-events:none;vertical-align:bottom;}stop{stop-color:currentColor;}")},a))}));var T=Object(i.memo)((function(e){const{glyph:t,dangerouslySetGlyph:n,primaryColor:o,secondaryColor:i,size:s,testId:a,label:l}=e,c=n?{dangerouslySetInnerHTML:{__html:n}}:{children:t?O(t,{role:"presentation"}):null};return O(k.a.Consumer,null,(({mode:e})=>O(x,r()({mode:e,primaryColor:o,secondaryColor:i,size:s,"data-testid":a,role:l?"img":"presentation","aria-label":l||void 0},c))))}))},"./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/glyph/add.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V3.993A.997.997 0 0012 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 003 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0021 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="AddIcon";var a=s;t.default=a},"./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/glyph/cross-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/emoji/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){
return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M13.477 9.113l-4.36 4.386a1 1 0 101.418 1.41l4.36-4.386a1 1 0 00-1.418-1.41z" fill="inherit"/><path d="M9.084 10.501l4.358 4.377a1 1 0 101.418-1.411L10.5 9.09a1 1 0 00-1.417 1.411z" fill="inherit"/></g></svg>'},e));s.displayName="CrossCircleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/icon-object/glyph/bug/16.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/icon-object/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=function(e){return o.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" focusable="false" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm6 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/></svg>'},e,{size:"small"}))};a.displayName="Bug16Icon";var l=a;t.default=l},"./node_modules/@atlaskit/icon-object/glyph/issue/16.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/icon-object/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e
}).apply(this,arguments)}var a=function(e){return o.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" focusable="false" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3zm1 2v4h8V6H4z"/></svg>'},e,{size:"small"}))};a.displayName="Issue16Icon";var l=a;t.default=l},"./node_modules/@atlaskit/icon-object/glyph/story/16.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/icon-object/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}
var a=function(e){return o.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" focusable="false" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm6 11l-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426L8 11zm0-2.371l2 1.274V5H6v4.902L8 8.63z"/></svg>'},e,{size:"small"}))};a.displayName="Story16Icon";var l=a;t.default=l},"./node_modules/@atlaskit/icon-object/glyph/task/16.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/icon-object/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=function(e){return o.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" focusable="false" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0 1 14.006 16H1.994A1.995 1.995 0 0 1 0 14.006V1.994zM4.667 3C3.747 3 3 3.746 3 4.667v6.666C3 12.253 3.746 13 4.667 13h6.666c.92 0 1.667-.746 1.667-1.667V4.667C13 3.747 12.254 3 11.333 3H4.667zM5 5v6h6V5H5z"/></svg>'},e,{size:"small"}))};a.displayName="Task16Icon";var l=a;t.default=l},"./node_modules/@atlaskit/locale/dist/es2019/internal/localization-provider/localization-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));const o=e=>e.replace(/_/g,"-"),r=e=>new Date(e.year,e.month-1,e.day),i=new Date(NaN),s={year:1993,month:2,day:18
},a=r(s),l=/(\d+)[^\d]+(\d+)[^\d]+(\d+)\.?/,c=/(\d+)[^\d]*(\d+)?[^\d]*(\d+)?\.?/,d=e=>e.replace(/\u200E/g,""),u=e=>e.splice(1,4).map((e=>parseInt(e,10))),p=e=>{const t=o(e),n=Intl.DateTimeFormat(t).format(a),p=d(n).match(l);if(!p)throw new Error("Unable to create DateParser");const h=u(p),m=h.indexOf(s.year),f=h.indexOf(s.month),b=h.indexOf(s.day);return e=>{const t=d(e).match(c);if(!t)return i;const n=u(t),o=(e=>{const t=(e=>({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}))(new Date),{year:n,month:o,day:r}=e,i=n<100?2e3+n:n;return{year:isNaN(i)?t.year:i,month:isNaN(o)||0===o?t.month:o,day:isNaN(r)||0===r?t.day:r}})({year:n[m],month:n[f],day:n[b]});return(e=>{const{year:t,month:n,day:o}=e,r=((e,t)=>2===t&&(e=>e%4==0&&e%100!=0||e%400==0)(e)?29:[31,28,31,30,31,30,31,31,30,31,30,31][t-1])(t,n);return 1<=n&&n<=12&&1<=o&&o<=r})(o)?r(o):i}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>e.reduce(((e,t)=>m(m({},e),{},{[t.type]:t.value})),{}),g=(e,t)=>{const n=o(e);return{getDaysShort:(e=0)=>{const t=Intl.DateTimeFormat(n,{weekday:"short"}),o=[0,1,2,3,4,5,6];return(e>0?[...o.slice(e),...o.slice(0,e)]:o).map((e=>t.format(new Date(2e3,9,e+1,12)).replace(/[\s\u200E]/g,"").substring(0,3)))},getMonthsLong:()=>{const e=Intl.DateTimeFormat(n,{month:"long"})
;return[0,1,2,3,4,5,6,7,8,9,10,11].map((t=>e.format(new Date(2020,t,1))))},formatDate:e=>Intl.DateTimeFormat(n).format(e),formatTime:e=>Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric"}).format(e),parseDate:e=>p(n)(e),formatToParts:(e=new Date)=>{const o=new Intl.DateTimeFormat(n,t),r=new Date(e);r.setFullYear(2020);const i=b(o.formatToParts(r)),s=b(o.formatToParts(e));return i.year&&(i.year=s.year),"00"===i.hour&&12===r.getHours()&&(i.hour="12"),i}}}},"./node_modules/@atlaskit/media-card/dist/es2019/utils/cardDimensions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const o={width:156,height:125},r={width:435,height:125},i={width:300,height:300},s=e=>"image"===e?o:"square"===e?i:"horizontal"===e?r:o},"./node_modules/@atlaskit/media-client/dist/es2019/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m}))
;var o=n("./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js"),r=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l="media-blob-url",c=e=>e.indexOf("media-blob-url=true")>-1,d=(e,t)=>{const n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},u=(e,t)=>{
const n=e.get(t);if(n)return decodeURIComponent(n)},p=e=>{const t=new URL(e).hash.replace("#",""),n=new r.a(t),o=n.get("id"),i=n.get("contextId");if(o&&i)return{id:o,contextId:i,collection:u(n,"collection"),alt:u(n,"alt"),height:d(n,"height"),width:d(n,"width"),size:d(n,"size"),name:u(n,"name"),mimeType:u(n,"mimeType")}},h=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const n=e[t];if(null!=n)return`${encodeURIComponent(t)}=${encodeURIComponent(n.toString())}`})).join("&"),m=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const n=s(s({},{[l]:"true"}),t);return`${e}#${h(n)}`}},"./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,i,s,a,l=Object.create(null);if(this[c]=l,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),s=0,a=(i=e.split("&")).length;s<a;s++)-1<(t=(r=i[s]).indexOf("="))?d(l,u(r.slice(0,t)),u(r.slice(t+1))):r.length&&d(l,u(r),"");else if(o(e))for(s=0,a=e.length;s<a;s++)d(l,(r=e[s])[0],r[1]);else for(n in e)d(l,n,e[n])}var o=Array.isArray,r=n.prototype,i=/[!'\(\)~]|%20|%00/g,s=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l=function(e){return a[e]},c="__URLSearchParams__:"+Math.random();function d(e,t,n){t in e?e[t].push(""+n):e[t]=o(n)?n:[""+n]}function u(e){return decodeURIComponent(e.replace(s," "))}function p(e){return encodeURIComponent(e).replace(i,l)}r.append=function(e,t){d(this[c],e,t)},r.delete=function(e){delete this[c][e]},r.get=function(e){var t=this[c];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[c];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[c]},r.set=function(e,t){
this[c][e]=[""+t]},r.forEach=function(e,t){var n=this[c];Object.getOwnPropertyNames(n).forEach((function(o){n[o].forEach((function(n){e.call(t,n,o,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,o,r=this[c],i=[];for(t in r)for(n=p(t),e=0,o=r[t];e<o.length;e++)i.push(n+"="+p(o[e]));return i.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(o){o.length&&!(o in n)&&(n[o]=this.getAll(o)).forEach((function(n){e.call(t,n,o,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift()
;return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,o=this.entries(),r=o.next(),i=r.done,s=[],a=Object.create(null);!i;)t=(n=r.value)[0],s.push(t),t in a||(a[t]=[]),a[t].push(n[1]),i=(r=o.next()).done;for(s.sort(),e=0;e<s.length;e++)this.delete(s[e]);for(e=0;e<s.length;e++)t=s[e],this.append(t,a[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlaskit/media-editor/node_modules/@atlaskit/media-ui/dist/es2019/modalSpinner.js":function(e,t,n){"use strict"
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/theme/dist/es2019/constants.js"),s=n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");const l=i.layers.modal()+10,c=a.default.div(["position:fixed;top:0;left:0;bottom:0;right:0;z-index:",";"],l);c.displayName="Blanket";const d=a.default.div(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]);d.displayName="SpinnerWrapper";const u="none",p=!1;t.a=({blankedColor:e,invertSpinnerColor:t})=>r.a.createElement(c,{style:{backgroundColor:e||u}},r.a.createElement(d,null,r.a.createElement(s.a,{size:"large",appearance:t||p?"invert":"inherit"})))},"./node_modules/@atlaskit/mention/dist/es2019/components/Mention/ResourcedMention.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}))
;var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/mention/dist/es2019/api/MentionResource.js"),l=n("./node_modules/@atlaskit/mention/dist/es2019/types.js"),c=n("./node_modules/@babel/runtime/helpers/extends.js"),d=n.n(c),u=n("./node_modules/react-intl/lib/index.es.js"),p=n("./node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),h=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");const m={[l.b.SELF]:{background:Object(p.a)({light:"#0052CC",dark:"#2684FF"}),border:"transparent",text:Object(p.a)({light:"#F4F5F7",dark:"#1B2638"})},[l.b.RESTRICTED]:{background:"transparent",border:Object(p.a)({light:"#42526E",dark:"#455166"}),text:Object(p.a)({light:"#42526E",dark:"#67758F"})},[l.b.DEFAULT]:{background:Object(p.a)({light:"rgba(9, 30, 66, 0.08)",dark:"#455166"}),border:"transparent",text:Object(p.a)({light:"#42526E",dark:"#DCE5F5"})}},f=(e,t)=>{
const n=m[e.mentionType][t];return"string"==typeof n?n:n(e)},b=h.default.span(["",";"],(e=>`\n  display: inline;\n  background: ${f(e,"background")};\n  border: 1px solid ${f(e,"border")};\n  border-radius: 20px;\n  color: ${f(e,"text")};\n  cursor: pointer;\n  padding: 0 0.3em 2px 0.23em;\n  line-height: 1.714;\n  font-size: 1em;\n  font-weight: normal;\n  word-break: break-word;\n`));var g=n("./node_modules/@atlaskit/mention/dist/es2019/components/NoAccessTooltip.js"),y=n("./node_modules/@atlaskit/mention/dist/es2019/util/analytics.js"),v=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),O=n("./node_modules/@atlaskit/mention/dist/es2019/components/i18n.js");class j extends s.a.PureComponent{constructor(...e){super(...e),r()(this,"handleOnClick",(e=>{const{id:t,text:n,onClick:o}=this.props;o&&o(t,n,e)})),r()(this,"handleOnMouseEnter",(e=>{const{id:t,text:n,onMouseEnter:o,onHover:r}=this.props;o&&o(t,n,e),this.hoverTimeout=window.setTimeout((()=>{
r&&r(),this.hoverTimeout=void 0}),1e3)})),r()(this,"handleOnMouseLeave",(e=>{const{id:t,text:n,onMouseLeave:o}=this.props;o&&o(t,n,e),this.hoverTimeout&&clearTimeout(this.hoverTimeout)})),r()(this,"getMentionType",(()=>{const{accessLevel:e,isHighlighted:t}=this.props;return t?l.b.SELF:Object(l.g)(e)?l.b.RESTRICTED:l.b.DEFAULT}))}componentWillUnmount(){this.hoverTimeout&&clearTimeout(this.hoverTimeout)}renderUnknownUserError(e){return s.a.createElement(u.c,d()({},O.a.unknownUserError,{values:{userId:e.slice(-5)}}),(e=>`@${e}`))}render(){const{handleOnClick:e,handleOnMouseEnter:t,handleOnMouseLeave:n,props:o}=this,{text:r,id:i,accessLevel:a}=o,c=this.getMentionType(),d="@_|unknown|_"===r,u=s.a.createElement(b,{mentionType:c,onClick:e,onMouseEnter:t,onMouseLeave:n},d?this.renderUnknownUserError(i):r||"@...");return s.a.createElement("span",{"data-mention-id":i,"data-access-level":a,spellCheck:!1},c===l.b.RESTRICTED?s.a.createElement(g.a,{name:r},u):u)}}j.displayName="MentionInternal"
;var w=Object(v.a)({onClick:(e,t)=>{const{id:n,text:o,accessLevel:r}=t;return Object(y.f)(e)("mention","selected",o,n,r)},onHover:(e,t)=>{const{id:n,text:o,accessLevel:r}=t;return Object(y.f)(e)("mention","hovered",o,n,r)}})(j),k=n("./node_modules/@atlaskit/mention/dist/es2019/util/logger.js");class E extends s.a.PureComponent{constructor(e){super(e),r()(this,"handleMentionProvider",(e=>{const{id:t,mentionProvider:n,text:o}=e;n?n.then((e=>{const n={isHighlighted:e.shouldHighlightMention({id:t})};if(!o&&Object(a.d)(e)){const o=e.resolveMentionName(t);Object(l.f)(o)?o.then((e=>{this.setStateSafely({resolvedMentionName:this.processName(e)})})):n.resolvedMentionName=this.processName(o)}this.setStateSafely(n)})).catch((()=>{this.setStateSafely({isHighlighted:!1})})):this.setStateSafely({isHighlighted:!1})})),this._isMounted=!1,this.state={isHighlighted:!1}}componentDidMount(){this.handleMentionProvider(this.props),this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}
UNSAFE_componentWillReceiveProps(e){const{props:t}=this;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}setStateSafely(e){this._isMounted?this.setState(e):Object(k.a)("[ResourcedMention]: cannot setState when component is unmounted.")}processName(e){let t;switch(e.status){case l.a.OK:t=e.name||"";break;case l.a.SERVICE_ERROR:case l.a.UNKNOWN:default:t="_|unknown|_"}return`@${t}`}render(){const{props:e,state:t}=this;return s.a.createElement(w,{id:e.id,text:t.resolvedMentionName||e.text,isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}}E.displayName="ResourcedMention"},"./node_modules/@atlaskit/mention/dist/es2019/components/NoAccessTooltip.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}))
;var o=n("./node_modules/@atlaskit/tooltip/dist/es2019/Tooltip.js"),r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/@atlaskit/mention/dist/es2019/util/i18n.js");const a=({name:e,children:t})=>i.a.createElement(s.b,{name:e},(e=>i.a.createElement(o.a,{content:e,position:"right"},t)))},"./node_modules/@atlaskit/mention/dist/es2019/components/i18n.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react-intl/lib/index.es.js");const r=Object(o.h)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},
defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"{0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{
id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"{0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"},TeamMentionHighlightTitle:{id:"fabric.elements.mentions.team.mention.highlight.title",defaultMessage:"Mention your team",description:"Title of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescription:{
id:"fabric.elements.mentions.team.mention.highlight.description",defaultMessage:"Get everyone on the page with one click. No team?",description:"Description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescriptionLink:{id:"fabric.elements.mentions.team.mention.highlight.description.link",defaultMessage:"Start one.",description:"Team creation link in the description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightCloseButtonToolTip:{id:"fabric.elements.mentions.team.meantion.highlight.close.button.tooltip",defaultMessage:"Dismiss",description:"Closes the highlight component when this button is clicked. This text for the tooltip of that button"}})},"./node_modules/@atlaskit/mention/dist/es2019/util/i18n.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return m})),
n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return b}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/react-intl/lib/index.es.js"),l=n("./node_modules/@atlaskit/mention/dist/es2019/components/i18n.js");function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const d=e=>t=>s.a.createElement(a.c,r()({},t,e)),u=e=>{let{name:t}=e,n=c(e,["name"]);return s.a.createElement(a.c,r()({},n,{values:{name:t}},l.a.noAccessWarning))},p=d(l.a.noAccessLabel),h=(d(l.a.defaultHeadline),d(l.a.defaultAdvisedAction),d(l.a.loginAgain),d(l.a.differentText),
d(l.a.TeamMentionHighlightTitle)),m=d(l.a.TeamMentionHighlightCloseButtonToolTip),f=d(l.a.TeamMentionHighlightDescription),b=d(l.a.TeamMentionHighlightDescriptionLink)},"./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),l=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),c=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),d=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),u=Object.prototype.hasOwnProperty,p=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(l.a)():null),h=Object(i.createContext)({}),m=(p.Provider,function(e){
var t=function(t,n){return Object(i.createElement)(p.Consumer,null,(function(o){return e(t,o,n)}))};return Object(i.forwardRef)(t)}),f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",b=function(e,t){var n={};for(var o in t)u.call(t,o)&&(n[o]=t[o]);return n[f]=e,n},g=function(e,t,n,o){var r=null===n?t.css:t.css(n);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[f],a=[r],l="";"string"==typeof t.className?l=Object(c.a)(e.registered,a,t.className):null!=t.className&&(l=t.className+" ");var p=Object(d.a)(a);Object(c.b)(e,p,"string"==typeof s);l+=e.key+"-"+p.name;var h={};for(var m in t)u.call(t,m)&&"css"!==m&&m!==f&&(h[m]=t[m]);return h.ref=o,h.className=l,Object(i.createElement)(s,h)},y=m((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(h.Consumer,null,(function(o){return g(t,e,o,n)})):g(t,e,null,n)}));var v=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),O=function(e,t){var n=arguments
;if(null==t||!u.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=y,r[1]=b(e,t);for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},j=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r});function w(e,t,n){var o=[],r=Object(c.a)(e,o,n);return o.length<2?n:r+t(o)}m((function(e,t){return Object(i.createElement)(h.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=Object(d.a)(n,t.registered);return Object(c.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(t.registered,o,j(n))},theme:n},i=e.children(r);return!0,i}))}))
;var k=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js");const E={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},S={light:"#FFFFFF",dark:"#1B2638"},_=(e="light")=>S[e];function C(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const x=Object(i.memo)((function(e){let{primaryColor:t,secondaryColor:n,size:o,mode:i}=e,a=C(e,["primaryColor","secondaryColor","size","mode"]);return O("span",r()({
css:Object(s.a)(o&&`height: ${E[o]}`,";",o&&`width: ${E[o]}`,";color:",t||"currentColor",";display:inline-block;fill:",n||_(i),";flex-shrink:0;line-height:1;> svg{",o&&`height: ${E[o]}`,";",o&&`width: ${E[o]}`,";max-height:100%;max-width:100%;overflow:hidden;pointer-events:none;vertical-align:bottom;}stop{stop-color:currentColor;}")},a))}));var T=Object(i.memo)((function(e){const{glyph:t,dangerouslySetGlyph:n,primaryColor:o,secondaryColor:i,size:s,testId:a,label:l}=e,c=n?{dangerouslySetInnerHTML:{__html:n}}:{children:t?O(t,{role:"presentation"}):null};return O(k.a.Consumer,null,(({mode:e})=>O(x,r()({mode:e,primaryColor:o,secondaryColor:i,size:s,"data-testid":a,role:l?"img":"presentation","aria-label":l||void 0},c))))}))},"./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/glyph/editor/close.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 00-.712.003l-.7.701a.496.496 0 00-.004.712l3.185 3.184L7.4 15.185a.507.507 0 00.004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 00.712-.004l.701-.7a.496.496 0 00.003-.712l-3.186-3.186 3.186-3.184a.507.507 0 00-.003-.712l-.7-.7a.508.508 0 00-.36-.153.5.5 0 00-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorCloseIcon";var a=s;t.default=a},"./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/glyph/lock-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/mention/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M12.02 8h-.04A1.98 1.98 0 0010 9.98V11h1V9.99a.99.99 0 01.99-.99h.02a.99.99 0 01.99.99V11h1V9.98A1.98 1.98 0 0012.02 8M10 11h1v1h-1zm3 0h1v1h-1zm0 1h-3a1 1 0 00-1 1v2.001a1 1 0 00.991.999h4.018a.992.992 0 00.991-.999V13a1 1 0 00-1-1h-1z" fill="inherit"/></g></svg>'},e));s.displayName="LockCircleIcon";var a=s;t.default=a},"./node_modules/@atlaskit/menu/dist/es2019/components/item/base-item.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@atlaskit/menu/node_modules/@emotion/core/dist/core.browser.esm.js"),r=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/styles.js");const i=(e,t)=>Object(o.b)(e,t);t.a=({children:e,description:t,iconAfter:n,iconBefore:s,overrides:a})=>{const l=a&&a.Title&&a.Title.render||i;return Object(o.b)("div",{css:r.c},s&&Object(o.b)("span",{"data-item-elem-before":!0,css:r.g},s),e&&Object(o.b)("span",{css:r.b},Object(o.b)(o.a,null,(({css:t})=>l("span",{children:e,className:t(r.l),"data-item-title":!0}))),t&&Object(o.b)("span",{"data-item-description":!0,css:r.e},t)),n&&Object(o.b)("span",{"data-item-elem-after":!0,css:r.f},n))}},"./node_modules/@atlaskit/menu/dist/es2019/components/item/button-item.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/menu/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/menu/dist/es2019/components/utils/use-blur-on-mouse-down.js"),l=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/base-item.js"),c=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/styles.js");function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const u=Object(i.forwardRef)(((e,t)=>{
const{children:n,cssFn:o=(()=>({})),description:i,iconAfter:u,iconBefore:p,isDisabled:h=!1,isSelected:m=!1,onClick:f,testId:b,overrides:g,onMouseDown:y}=e,v=d(e,["children","cssFn","description","iconAfter","iconBefore","isDisabled","isSelected","onClick","testId","overrides","onMouseDown"]),O=Object(a.a)(y);if(!n)return null;const j=h?"span":"button";return Object(s.b)(j,r()({type:h?void 0:"button",css:[Object(c.a)(h,m),o({isSelected:m,isDisabled:h})],"data-testid":b,onClick:h?void 0:f,onMouseDown:O,ref:t},v),Object(s.b)(l.a,{overrides:g,iconBefore:p,iconAfter:u,description:i},n))}));t.a=u},"./node_modules/@atlaskit/menu/dist/es2019/components/item/custom-item.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/menu/node_modules/@emotion/core/dist/core.browser.esm.js"),l=n("./node_modules/@atlaskit/menu/dist/es2019/components/utils/use-blur-on-mouse-down.js"),c=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/base-item.js"),d=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/styles.js");function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p=e=>{e.preventDefault()},h=Object(i.forwardRef)(((e,t)=>{
let{component:n,cssFn:o=(()=>({})),isDisabled:i=!1,isSelected:h=!1,onClick:m,testId:f,children:b,description:g,iconAfter:y,iconBefore:v,overrides:O,onMouseDown:j}=e,w=u(e,["component","cssFn","isDisabled","isSelected","onClick","testId","children","description","iconAfter","iconBefore","overrides","onMouseDown"]);const k=Object(l.a)(j);return n?s.a.createElement(a.a,null,(({css:e})=>s.a.createElement(n,r()({ref:t,"data-testid":f,onDragStart:p,draggable:!1,className:e([Object(d.d)(i,h),o({isDisabled:i,isSelected:h})]),onMouseDown:k,onClick:i?void 0:m,tabIndex:i?-1:void 0,disabled:i},w),s.a.createElement(c.a,{overrides:O,children:b,description:g,iconAfter:y,iconBefore:v})))):null}));t.a=h},"./node_modules/@atlaskit/menu/dist/es2019/components/item/link-item.js":function(e,t,n){"use strict"
;var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/menu/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/menu/dist/es2019/components/utils/use-blur-on-mouse-down.js"),l=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/base-item.js"),c=n("./node_modules/@atlaskit/menu/dist/es2019/components/item/styles.js");function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const u=e=>{e.preventDefault()},p=Object(i.forwardRef)(((e,t)=>{let{href:n}=e,o=d(e,["href"])
;const{children:i,cssFn:p=(()=>({})),description:h,iconAfter:m,iconBefore:f,isDisabled:b=!1,isSelected:g=!1,onClick:y,testId:v,overrides:O,onMouseDown:j}=o,w=d(o,["children","cssFn","description","iconAfter","iconBefore","isDisabled","isSelected","onClick","testId","overrides","onMouseDown"]),k=Object(a.a)(j);if(!i)return null;const E=b?"span":"a";return Object(s.b)(E,r()({ref:t,css:[Object(c.j)(b,g),p({isSelected:g,isDisabled:b})],onDragStart:u,draggable:!1,href:b?void 0:n,"data-testid":v,onMouseDown:k,onClick:b?void 0:y,"aria-current":g?"page":void 0},w),Object(s.b)(l.a,{overrides:O,iconBefore:f,iconAfter:m,description:h},i))}));t.a=p},"./node_modules/@atlaskit/menu/dist/es2019/components/utils/use-blur-on-mouse-down.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/react/index.js");const r=e=>Object(o.useCallback)((t=>{const n=t.currentTarget,o=n===document.activeElement;e&&e(t),requestAnimationFrame((()=>{
o&&n!==document.activeElement&&document.body.contains(n)?n.focus():!o&&document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}))}),[e])},"./node_modules/@atlaskit/status/dist/es2019/element.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@atlaskit/lozenge/dist/es2019/Lozenge/index.js"),l=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),c=n("./node_modules/@atlaskit/status/dist/es2019/version.json");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){
p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=e=>t=>{const n=u(u({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=c.a,n.attributes.packageVersion=c.b,n.attributes.componentName="status";const o=e(n);return o.fire("fabric-elements"),o},m={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"};class f extends i.PureComponent{constructor(...e){super(...e),r()(this,"hoverStartTime",0),r()(this,"handleMouseEnter",(e=>{this.hoverStartTime=Date.now()})),r()(this,"handleMouseLeave",(e=>{const{onHover:t}=this.props;Date.now()-this.hoverStartTime>=1e3&&t&&t(),this.hoverStartTime=0}))}componentWillUnmount(){
this.hoverStartTime=0}render(){const{text:e,color:t,style:n,onClick:o}=this.props;if(0===e.trim().length)return null;const r=m[t]||"default";return s.a.createElement("span",{className:"status-lozenge-span",title:e,onClick:o,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":t,"data-style":n},s.a.createElement(a.a,{appearance:r,maxWidth:200},e))}}f.displayName="StatusInternal",r()(f,"displayName","StatusInternal");const b=Object(l.a)({onClick:(e,t)=>{const{localId:n}=t;return h(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:(e,t)=>{const{localId:n}=t;return h(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(f)},"./node_modules/@atlaskit/status/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/status","b":"0.11.0"}')},"./node_modules/@atlaskit/status/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js":function(e,t,n){
"use strict";n.r(t),n.d(t,"default",(function(){return h}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/status/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/theme/dist/es2019/components/Theme.js");const l={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},c={light:"#FFFFFF",dark:"#1B2638"},d=(e="light")=>c[e];function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p=Object(i.memo)((function(e){let{primaryColor:t,secondaryColor:n,size:o,mode:i}=e,a=u(e,["primaryColor","secondaryColor","size","mode"]);return Object(s.b)("span",r()({
css:Object(s.a)(o&&`height: ${l[o]}`,";",o&&`width: ${l[o]}`,";color:",t||"currentColor",";display:inline-block;fill:",n||d(i),";flex-shrink:0;line-height:1;> svg{",o&&`height: ${l[o]}`,";",o&&`width: ${l[o]}`,";max-height:100%;max-width:100%;overflow:hidden;pointer-events:none;vertical-align:bottom;}stop{stop-color:currentColor;}")},a))}));var h=Object(i.memo)((function(e){const{glyph:t,dangerouslySetGlyph:n,primaryColor:o,secondaryColor:i,size:l,testId:c,label:d}=e,u=n?{dangerouslySetInnerHTML:{__html:n}}:{children:t?Object(s.b)(t,{role:"presentation"}):null};return Object(s.b)(a.a.Consumer,null,(({mode:e})=>Object(s.b)(p,r()({mode:e,primaryColor:o,secondaryColor:i,size:l,"data-testid":c,role:d?"img":"presentation","aria-label":d||void 0},u))))}))},"./node_modules/@atlaskit/status/node_modules/@atlaskit/icon/glyph/editor/done.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/status/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.356 10.942a.497.497 0 00-.713 0l-.7.701a.501.501 0 00-.003.71l3.706 3.707a.501.501 0 00.705.003l7.712-7.712a.493.493 0 00-.006-.708l-.7-.7a.504.504 0 00-.714 0l-6.286 6.286a.506.506 0 01-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e));s.displayName="EditorDoneIcon";var a=s;t.default=a},"./node_modules/@atlaskit/status/node_modules/@atlaskit/textfield/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/textfield","b":"5.0.0"}')},"./node_modules/@atlaskit/status/node_modules/@emotion/core/dist/core.browser.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){
return y}));var o=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),i=n("./node_modules/react/index.js"),s=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),a=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),l=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),c=Object.prototype.hasOwnProperty,d=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(s.a)():null),u=Object(i.createContext)({}),p=(d.Provider,function(e){var t=function(t,n){return Object(i.createElement)(d.Consumer,null,(function(o){return e(t,o,n)}))};return Object(i.forwardRef)(t)}),h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=function(e,t){var n={};for(var o in t)c.call(t,o)&&(n[o]=t[o]);return n[h]=e,n},f=function(e,t,n,o){var r=null===n?t.css:t.css(n);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[h],d=[r],u=""
;"string"==typeof t.className?u=Object(a.a)(e.registered,d,t.className):null!=t.className&&(u=t.className+" ");var p=Object(l.a)(d);Object(a.b)(e,p,"string"==typeof s);u+=e.key+"-"+p.name;var m={};for(var f in t)c.call(t,f)&&"css"!==f&&f!==h&&(m[f]=t[f]);return m.ref=o,m.className=u,Object(i.createElement)(s,m)},b=p((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(u.Consumer,null,(function(o){return f(t,e,o,n)})):f(t,e,null,n)}));var g=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),y=function(e,t){var n=arguments;if(null==t||!c.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=b,r[1]=m(e,t);for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},v=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}
s&&(r&&(r+=" "),r+=s)}}return r});function O(e,t,n){var o=[],r=Object(a.a)(e,o,n);return o.length<2?n:r+t(o)}p((function(e,t){return Object(i.createElement)(u.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=Object(l.a)(n,t.registered);return Object(a.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return O(t.registered,o,v(n))},theme:n},i=e.children(r);return!0,i}))}))},"./node_modules/@atlaskit/task-decision/dist/es2019/components/DecisionItem.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}))
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/icon/glyph/editor/decision.js"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),c=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/constants.js");const d=a.default.span(["flex:0 0 16px;height:16px;width:16px;color:",";margin:4px ","px 0 0;> span{margin:-8px;}"],(e=>e.showPlaceholder?"#7A869A":Object(l.a)({light:"#36B37E",dark:"#57D9A3"})),1.5*Object(c.b)());var u=n("./node_modules/@atlaskit/task-decision/dist/es2019/components/Item.js");class p extends o.PureComponent{render(){const{appearance:e,children:t,contentRef:n,placeholder:o,showPlaceholder:i,dataAttributes:a}=this.props,l=r.a.createElement(d,{showPlaceholder:i},r.a.createElement(s.a,{label:"Decision",size:"large"}))
;return r.a.createElement(u.a,{appearance:e,contentRef:n,icon:l,placeholder:o,showPlaceholder:i,itemType:"DECISION",dataAttributes:a},t)}}p.displayName="DecisionItem",p.defaultProps={appearance:"inline"}},"./node_modules/@atlaskit/task-decision/dist/es2019/components/Item.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/constants.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/utils/themed.js")
;const l=s.default.div(["margin:0;word-wrap:break-word;min-width:0;flex:1 1 auto;"]),c=s.default.div(["display:flex;flex-direction:row;padding:6px 3px;"]),d=s.default.div(["display:flex;flex-direction:row;margin:","px 0 0 0;padding:","px;padding-left:","px;border-radius:","px;background-color:",";.decision-item{cursor:initial;}"],Object(i.b)(),Object(i.b)(),1.5*Object(i.b)(),Object(i.a)(),Object(a.a)({light:"rgba(9, 30, 66, 0.04)",dark:"#283447"})),u=s.default.span(["margin:"," position:absolute;color:",";pointer-events:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:calc(100% - 50px);"],(e=>`0 0 0 ${e.offset}px;`),"#97A0AF");class p extends o.PureComponent{renderPlaceholder(){const{children:e,placeholder:t,showPlaceholder:n,itemType:o}=this.props;if(!n||!t||e)return null;const s=Object(i.b)()*("TASK"===o?3:3.5);return r.a.createElement(u,{contentEditable:!1,offset:s},t)}renderMessageAppearance(){
const{contentRef:e,children:t,icon:n,itemType:o,dataAttributes:i}=this.props;return"TASK"===o?r.a.createElement(c,null,n,this.renderPlaceholder(),r.a.createElement(l,Object.assign({},i,{innerRef:e}),t)):"DECISION"===o?r.a.createElement(d,{"data-decision-wrapper":"true"},n,this.renderPlaceholder(),r.a.createElement(l,Object.assign({},i,{innerRef:e}),t)):null}render(){return this.renderMessageAppearance()}}p.displayName="Item",p.defaultProps={appearance:"inline"}},"./node_modules/@atlaskit/task-decision/dist/es2019/components/ResourcedTaskItem.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/utils/themed.js"),a=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/constants.js")
;const l=i.default.span(["flex:0 0 16px;width:16px;height:16px;position:relative;align-self:start;margin:4px ","px 0 0;& > input[type='checkbox']{position:absolute;outline:none;margin:0;opacity:0;left:0;top:50%;transform:translateY(-50%);+ label{box-sizing:border-box;display:block;position:relative;width:100%;cursor:pointer;&::after{background:"," background-size:16px;border-radius:3px;border-style:solid;border-width:1px;border-color:"," box-sizing:border-box;content:'';height:16px;left:50%;position:absolute;transition:border-color 0.2s ease-in-out;top:8px;width:16px;transform:translate(-50%,-50%);}}&:not([disabled]) + label:hover::after{background:"," transition:border 0.2s ease-in-out;}&[disabled] + label{opacity:0.5;cursor:default;}&:checked{+ label::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;border:0;border-color:transparent;border-radius:0;}&:not([disabled]) + label:hover::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;}}}"],Object(a.b)(),Object(s.a)({
light:"#FFFFFF",dark:"#455166"}),Object(s.a)({light:"#C1C7D0",dark:"#56637A"}),Object(s.a)({light:"#EBECF0",dark:"#B3D4FF"}));var c=n("./node_modules/@atlaskit/task-decision/dist/es2019/components/Item.js"),d=n("./node_modules/use-memo-one/dist/use-memo-one.esm.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{constructor(e){
this.clone=()=>{const e=p({},this.payload);return new m({payload:e})},this.payload=e.payload}update(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=p(p({},this.payload),e)),this}}class f extends m{constructor(e){super(e),this.clone=()=>{if(this.hasFired)return null;const e=[...this.context],t=[...this.handlers],n=JSON.parse(JSON.stringify(this.payload));return new f({context:e,handlers:t,payload:n})},this.fire=e=>{this.hasFired||(this.handlers.forEach((t=>t(this,e))),this.hasFired=!0)},this.context=e.context||[],this.handlers=e.handlers||[],this.hasFired=!1}update(e){return this.hasFired?this:super.update(e)}}var b=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js");function g(){const e=(()=>Object(o.useContext)(b.a))();return{createAnalyticsEvent:Object(d.b)((t=>new f({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})),[e])}}function y(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(e={})=>t=>{const n=Object(o.forwardRef)(((n,i)=>{const{patchedEventProps:s}=function(e={},t){const{createAnalyticsEvent:n}=g();return{patchedEventProps:Object(o.useMemo)((()=>Object.keys(e).reduce(((o,r)=>{const i=e[r];if(!["object","function"].includes(typeof i))return o;const s=t[r],a=(...e)=>{
const o="function"==typeof i?i(n,t):n(i);s&&"function"==typeof s&&s(...e,o)};return a?v(v({},o),{},{[r]:a}):o}),{})),[e,t,n])}}(e,n),{createAnalyticsEvent:a}=g();return r.a.createElement(t,Object.assign({},n,s,{createAnalyticsEvent:a,ref:i}))}));return n.displayName=`WithAnalyticsEvents(${t.displayName||t.name})`,n};const w=(e=>t=>n=>{const o=n(t),r=o.clone();return r&&r.fire(e),o})("fabric-elements");let k=0;const E=e=>`${e}-${k++}`;class S extends o.PureComponent{constructor(e){super(e),this.handleOnChange=e=>{const{onChange:t,taskId:n,isDone:o,createAnalyticsEvent:r}=this.props,i=!o;t&&t(n,i);r&&w({action:i?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:n}})(r)},this.checkBoxId=E(e.taskId)}UNSAFE_componentWillReceiveProps(e){e.taskId!==this.props.taskId&&(this.checkBoxId=E(e.taskId))}render(){const{appearance:e,isDone:t,contentRef:n,children:o,placeholder:i,showPlaceholder:s,disabled:a,dataAttributes:d}=this.props,u=r.a.createElement(l,{
contentEditable:!1},r.a.createElement("input",{id:this.checkBoxId,name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!t,disabled:!!a,suppressHydrationWarning:!0}),r.a.createElement("label",{htmlFor:this.checkBoxId,suppressHydrationWarning:!0}));return r.a.createElement(c.a,{appearance:e,contentRef:n,icon:u,placeholder:i,showPlaceholder:s,itemType:"TASK",dataAttributes:d},o)}}S.displayName="TaskItem",S.defaultProps={appearance:"inline"};var _=j()(S),C=n("./node_modules/@atlaskit/analytics-namespaced-context/dist/es2019/index.js");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){P(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends o.PureComponent{constructor(e){super(e),this.mounted=!1,this.onUpdate=e=>{this.setState({isDone:"DONE"===e})},this.handleOnChange=(e,t)=>{const{taskDecisionProvider:n,objectAri:o,onChange:r}=this.props;this.setState({isDone:t}),n&&o?n.then((n=>{this.mounted&&(n.toggleTask({localId:e,objectAri:o},t?"DONE":"TODO"),r&&r(e,t))})):r&&r(e,t)},this.state={isDone:e.isDone}}componentDidMount(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}UNSAFE_componentWillReceiveProps(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),
e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}componentWillUnmount(){this.unsubscribe(),this.mounted=!1}subscribe(e,t,n){e&&t&&e.then((e=>{if(!this.mounted)return;const{taskId:o}=this.props,r=T(T({},{localId:o,objectAri:t}),{},{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:o,objectAri:t},this.onUpdate,r)}))}unsubscribe(){const{taskDecisionProvider:e,taskId:t,objectAri:n}=this.props;e&&n&&e.then((e=>{e.unsubscribe({localId:t,objectAri:n},this.onUpdate)}))}render(){const{isDone:e}=this.state,{appearance:t,children:n,contentRef:o,objectAri:i,showPlaceholder:s,placeholder:a,taskId:l,disabled:c,dataAttributes:d}=this.props;return r.a.createElement(C.e,{data:{objectAri:i}},r.a.createElement(_,{isDone:e,taskId:l,onChange:this.handleOnChange,appearance:t,contentRef:o,showPlaceholder:s,placeholder:a,disabled:c,dataAttributes:d},n))}}
A.displayName="ResourcedTaskItem",A.defaultProps={appearance:"inline"}},"./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/@emotion/css/dist/css.browser.esm.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),c=n("./node_modules/@emotion/cache/dist/cache.browser.esm.js"),d=(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),n("./node_modules/@emotion/utils/dist/utils.browser.esm.js")),u=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),p=Object.prototype.hasOwnProperty,h=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(c.a)():null),m=Object(i.createContext)({}),f=(h.Provider,function(e){var t=function(t,n){return Object(i.createElement)(h.Consumer,null,(function(o){
return e(t,o,n)}))};return Object(i.forwardRef)(t)}),b="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g=function(e,t){var n={};for(var o in t)p.call(t,o)&&(n[o]=t[o]);return n[b]=e,n},y=function(e,t,n,o){var r=null===n?t.css:t.css(n);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[b],a=[r],l="";"string"==typeof t.className?l=Object(d.a)(e.registered,a,t.className):null!=t.className&&(l=t.className+" ");var c=Object(u.a)(a);Object(d.b)(e,c,"string"==typeof s);l+=e.key+"-"+c.name;var h={};for(var m in t)p.call(t,m)&&"css"!==m&&m!==b&&(h[m]=t[m]);return h.ref=o,h.className=l,Object(i.createElement)(s,h)},v=f((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(m.Consumer,null,(function(o){return y(t,e,o,n)})):y(t,e,null,n)}));var O=n("./node_modules/@emotion/sheet/dist/sheet.browser.esm.js"),j=function(e,t){var n=arguments;if(null==t||!p.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=v,r[1]=g(e,t)
;for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)},w=(i.Component,function e(t){for(var n=t.length,o=0,r="";o<n;o++){var i=t[o];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r});function k(e,t,n){var o=[],r=Object(d.a)(e,o,n);return o.length<2?n:r+t(o)}f((function(e,t){return Object(i.createElement)(m.Consumer,null,(function(n){var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=Object(u.a)(n,t.registered);return Object(d.b)(t,r,!1),t.key+"-"+r.name},r={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return k(t.registered,o,w(n))},theme:n},i=e.children(r);return!0,i}))}));function E(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],
t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var S=function(e){const t=(e,t)=>e(t),n=Object(i.createContext)(e);return{Consumer:function(e){const{children:o}=e,r=E(e,["children"]),a=(Object(i.useContext)(n)||t)(r);return s.a.createElement(s.a.Fragment,null,o(a))},Provider:function(e){const o=Object(i.useContext)(n),r=e.value||t,a=Object(i.useCallback)((e=>r(o,e)),[o,r]);return s.a.createElement(n.Provider,{value:a},e.children)}}}((()=>({mode:"light"})));const _={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},C={light:"#FFFFFF",dark:"#1B2638"},x=(e="light")=>C[e];function T(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const P=Object(i.memo)((function(e){let{primaryColor:t,secondaryColor:n,size:o,mode:i}=e,s=T(e,["primaryColor","secondaryColor","size","mode"]);return j("span",r()({css:Object(a.a)(o&&`height: ${_[o]}`,";",o&&`width: ${_[o]}`,";color:",t||"currentColor",";display:inline-block;fill:",n||x(i),";flex-shrink:0;line-height:1;> svg{",o&&`height: ${_[o]}`,";",o&&`width: ${_[o]}`,";max-height:100%;max-width:100%;overflow:hidden;pointer-events:none;vertical-align:bottom;}stop{stop-color:currentColor;}")},s))}));var A=Object(i.memo)((function(e){const{glyph:t,dangerouslySetGlyph:n,primaryColor:o,secondaryColor:i,size:s,testId:a,label:l}=e,c=n?{dangerouslySetInnerHTML:{__html:n}}:{children:t?j(t,{role:"presentation"}):null};return j(S.Consumer,null,(({mode:e})=>j(P,r()({mode:e,primaryColor:o,secondaryColor:i,size:s,"data-testid":a,
role:l?"img":"presentation","aria-label":l||void 0},c))))}))},"./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/icon/glyph/editor/decision.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("./node_modules/react/index.js")),r=i(n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/icon/dist/es2019/entry-points/base.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>o.default.createElement(r.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorDecisionIcon";var a=s;t.default=a},
"./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g}));n("./node_modules/styled-components/dist/styled-components.browser.esm.js");var o=n("./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/utils/themed.js");const r="#FF5630",i="#FFAB00",s="#36B37E",a="#4C9AFF",l="#2684FF",c="#0052CC",d="#FFFFFF",u="#6B778C",p="#172B4D",h="#B8C7E0",m="#8C9CB8",f="#283447",b=(Object(o.a)({light:d,dark:"#1B2638"}),Object(o.a)({light:"#DEEBFF",dark:"#B3D4FF"}),Object(o.a)({light:"#EBECF0",dark:"#3B475C"}),Object(o.a)({light:d,dark:f}),Object(o.a)({light:"#091E42",dark:h}),Object(o.a)({light:p,dark:h}),Object(o.a)({light:c,dark:c}),Object(o.a)({light:u,dark:m}),Object(o.a)({light:"#7A869A",dark:"#7988A3"}),Object(o.a)({light:p,dark:h}),Object(o.a)({light:u,dark:m}),Object(o.a)({light:"#F4F5F7",dark:f}),Object(o.a)({light:c,dark:a}),
Object(o.a)({light:"#0065FF",dark:l}),Object(o.a)({light:"#0747A6",dark:a}),Object(o.a)({light:a,dark:l}),Object(o.a)({light:c,dark:a}),Object(o.a)({light:c,dark:a}),Object(o.a)({light:"#00B8D9",dark:"#00C7E6"}),Object(o.a)({light:"#6554C0",dark:"#998DD9"}),Object(o.a)({light:r,dark:r}),Object(o.a)({light:i,dark:i}),Object(o.a)({light:s,dark:s}),()=>3),g=()=>8},"./node_modules/@atlaskit/task-decision/node_modules/@atlaskit/theme/dist/es2019/utils/themed.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o=["light","dark"];function r(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&o.includes(e.theme.mode))return e.theme}return{mode:"light"}}function i(e,t){if("string"==typeof e)return function(e,t){return n=>{const o=r(n);if(n&&n[e]&&t){const r=t[n[e]];if(r&&r[o.mode]){const e=r[o.mode];if(e)return e}}return""}}(e,t);const n=e;return e=>{const t=r(e);if(t.mode in n){const e=n[t.mode];if(e)return e}return""}
}},"./node_modules/@atlassian/cs-ari/dist/AppAriImpls.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@atlassian/cs-ari/dist/AppAris.js"),r=n("./node_modules/@atlassian/cs-ari/dist/Index.js"),i=";v=",s=function(){function e(e){this.json=e}return Object.defineProperty(e.prototype,"appId",{get:function(){return this.json.appId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"environmentId",{get:function(){return this.json.environmentId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this.json.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensionGroupId",{get:function(){return this.json.extensionGroupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensionKey",{get:function(){return this.json.extensionKey},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this.json},e.parse=function(t){
var n=t.resourceOwner,r=t.resourceType,s=t.resourceId;if(n!==o.AppFamilyAri.resourceOwner)throw new o.NotAppFamilyAriError(t,"resourceOwner ("+n+") must be "+o.AppFamilyAri.resourceOwner);if(!r||o.AppFamilyAri.appFamilyResourceTypes.indexOf(r)<0)throw new o.NotAppFamilyAriError(t,"resourceType must be one of "+o.AppFamilyAri.appFamilyResourceTypes);if(!s)throw new o.NotAppFamilyAriError(t,"resourceId is must be provided");var l=s.indexOf(i);if(l>0&&s.lastIndexOf(i)>l)throw new o.NotAppFamilyAriError(t,"can only include one version suffix");var c=s.split(i),d=c[0],u=c[1],p=d.split("/").map(a);if(p.length>4)throw new o.NotAppFamilyAriError(t,"no path segments can be added after extensionKey "+p.slice(4));var h=p[0],m=void 0===h?void 0:h,f=p[1],b=void 0===f?void 0:f,g=p[2],y=void 0===g?void 0:g,v=p[3],O=void 0===v?void 0:v;if(!m)throw new o.NotAppFamilyAriError(t,"appId must be included")
;var j=y||(r===o.AppFamilyAri.extensionGroupResourceType||r===o.AppFamilyAri.extensionResourceType?"static":void 0);if(!(r!==o.AppFamilyAri.extensionResourceType||b&&y&&O))throw new o.NotAppFamilyAriError(t,"environmentId, extensionGroupId, extensionKey must all be provided for resourceType "+o.AppFamilyAri.extensionResourceType);if(!(r!==o.AppFamilyAri.extensionGroupResourceType||b&&j&&!O))throw new o.NotAppFamilyAriError(t,"environmentId, extensionGroupId must all be provided for resourceType "+o.AppFamilyAri.extensionGroupResourceType);if(r===o.AppFamilyAri.environmentResourceType&&(!b||y||O))throw new o.NotAppFamilyAriError(t,"environmentId must be provided for resourceType "+o.AppFamilyAri.environmentResourceType);if(r===o.AppFamilyAri.appResourceType&&(b||y||O))throw new o.NotAppFamilyAriError(t,"environmentId must be provided for resourceType "+o.AppFamilyAri.environmentResourceType);return new e({appId:m,environmentId:b,extensionGroupId:j,extensionKey:O,version:u})},
e.prototype.asAppAri=function(){var e=this;return this.returnIf((function(){return e.isAppAri()}),"app")},e.prototype.asAppEnvironmentAri=function(){var e=this;return this.returnIf((function(){return e.isAppEnvironmentAri()}),"environment")},e.prototype.asExtensionGroupAri=function(){var e=this;return this.returnIf((function(){return e.isExtensionGroupAri()}),"extension-group")},e.prototype.asExtensionAri=function(){var e=this;return this.returnIf((function(){return e.isExtensionAri()}),"extension")},e.prototype.isAppAri=function(){return!this.isAtLeastAppEnvironmentAri},e.prototype.isAppEnvironmentAri=function(){return this.isAtLeastAppEnvironmentAri&&!this.isAtLeastExtensionGroupAri},e.prototype.isExtensionGroupAri=function(){return this.isAtLeastExtensionGroupAri&&!this.isExtensionAri()},e.prototype.isExtensionAri=function(){return this.isAtLeastExtensionGroupAri&&void 0!==this.extensionKey},e.prototype.returnIf=function(e,t){
if(!e())throw new o.NotExpectedAppFamilyAriTypeError(t,this);return this},Object.defineProperty(e.prototype,"isAtLeastAppEnvironmentAri",{get:function(){return void 0!==this.environmentId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLeastExtensionGroupAri",{get:function(){return this.isAtLeastAppEnvironmentAri&&void 0!==this.extensionGroupId},enumerable:!0,configurable:!0}),e.prototype.toAri=function(){var e=o.AppFamilyAri.resourceOwner,t=this.toJSON(),n=t.appId,s=t.environmentId,a=t.extensionGroupId,l=t.extensionKey,c=t.version;function d(e){var t=e.join("/");return c?""+t+i+c:t}return this.isExtensionAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionResourceType,resourceId:d([n,s,a,l])}):this.isExtensionGroupAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionGroupResourceType,resourceId:d([n,s,a])}):this.isAppEnvironmentAri()?new r.ResourceIdentifier({resourceOwner:e,
resourceType:o.AppFamilyAri.environmentResourceType,resourceId:d([n,s])}):new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.appResourceType,resourceId:n})},e.prototype.toString=function(){return this.toAri().toString()},e}();function a(e){if(e){var t=e.trim();if(0!==t.length)return t}}t.AppFamilyAriImpl=s},"./node_modules/@atlassian/cs-ari/dist/AppAris.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@atlassian/cs-ari/dist/AppAriImpls.js");!function(e){e.resourceOwner="ecosystem",e.appResourceType="app",e.environmentResourceType="environment",
e.extensionGroupResourceType="extension-group",e.extensionResourceType="extension",e.appFamilyResourceTypes=[e.appResourceType,e.environmentResourceType,e.extensionGroupResourceType,e.extensionResourceType]}(t.AppFamilyAri||(t.AppFamilyAri={}));var i=function(e){function t(t,n){var o=e.call(this,t)||this;return o.cause=n,o}return o(t,e),t}(Error);t.AppFamilyAriError=i;var s=function(e){function t(t,n){var o=e.call(this,"ari is not a valid App family ari: "+t.toString()+" as "+n)||this;return o.reason=n,o}return o(t,e),t}(i);t.NotAppFamilyAriError=s;var a=function(e){function t(t,n,o){var r=e.call(this,"App family ari ("+n.toString()+") is not of expected type: "+t,o)||this;return r.cause=o,r}return o(t,e),t}(i);t.NotExpectedAppFamilyAriTypeError=a,t.parseAppAri=function(e){return r.AppFamilyAriImpl.parse(e)},t.createAppAri=function(e){return new r.AppFamilyAriImpl(e)}},"./node_modules/@atlassian/cs-ari/dist/Constraints.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.min=e,this.max=t}return Object.defineProperty(e.prototype,"description",{get:function(){return"length must be between "+this.min+" and "+this.max},enumerable:!0,configurable:!0}),e.prototype.isValid=function(e){return!e||e.length>=this.min&&e.length<=this.max},e}();t.LengthConstraint=o;var r=function(){function e(e){this.regex=e}return Object.defineProperty(e.prototype,"description",{get:function(){return"value must match regex "+this.regex.source},enumerable:!0,configurable:!0}),e.prototype.isValid=function(e){return!e||this.regex.test(e)},e}();t.RegexConstraint=r;var i=function(){function e(e){this.error=e}return e.prototype.toString=function(){return this.error},e}();t.GeneralValidationError=i;var s=function(){function e(e,t,n){this.fieldName=e,this.value=t,this.constraints=n}return e.prototype.toString=function(){var e=this.constraints.map((function(e){return"  - "+e.description})).join("\n")
;return"'"+this.value+"' is not a valid value for "+this.fieldName+" as it violates the following constraints:\n"+e},e}();t.ConstraintViolation=s,t.lengthBetween=function(e,t){return new o(e,t)},t.pattern=function(e){return new r(e)},t.validateField=function(e,t,n){var o=e[t],r=n.map((function(e){return e.isValid(o)?void 0:e})).filter((function(e){return e}));return r.length>0?new s(t,o,r):void 0}},"./node_modules/@atlassian/cs-ari/dist/Index.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@atlassian/cs-ari/dist/Constraints.js");!function(e){
for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@atlassian/cs-ari/dist/AppAris.js"));var i=function(e){function t(n,o){var r=e.call(this,"Invalid ari string: "+n+(o?". "+o:""))||this;return r.ariString=n,Object.setPrototypeOf(r,t.prototype),r}return o(t,e),t.withConstraintViolations=function(e,n){return new t(e,n.map((function(e){return e.toString()})).join("\n"))},t}(Error);function s(e,t){return e===t||void 0===e}t.InvalidAriError=i;var a=r.pattern(/^[a-z][a-z.-]*$/),l=[r.lengthBetween(3,255),a],c=[r.lengthBetween(3,255),a],d=[r.lengthBetween(36,255)],u="site",p=/[\w-._~:@#]/.source,h=[r.pattern(new RegExp("^"+p+"+(/"+p+"*)*(;v="+p+"*)*$"))];var m=function(){function e(e){var t=function(e){var t=e.resourceId,n=e.resourceOwner,o=e.cloudId;return!t&&o?{resourceOwner:n,resourceType:u,resourceId:o}:e}(e),n=t.resourceId,o=t.resourceOwner,r=t.resourceType,i=t.cloudId;this.resourceOwner=o,this.internalCloudId=i,this.resourceType=r,this.resourceId=n,this.validate()}
return Object.defineProperty(e.prototype,"cloudId",{get:function(){return this.resourceType===u?this.internalCloudId?this.internalCloudId:this.resourceId:this.internalCloudId},enumerable:!0,configurable:!0}),e.parse=function(t){if(!t)throw new i(t);var n=t.match(/^ari:cloud:([^:/]+):([^:/]*):([^:/]*)\/(.*)$/);if(!n||5!==n.length)throw new i(t);var o=n.map((function(e){return e&&e.length>0?e:void 0})),r=o[1];if(!r)throw new i(t);return new e({resourceOwner:r,cloudId:o[2],resourceType:o[3],resourceId:o[4]})},e.parseEncoded=function(e){return f(decodeURIComponent(e))},e.prototype.toString=function(){if(!this.ariString){var e=this.resourceType===u&&this.internalCloudId?this.internalCloudId:this.resourceId||"",t=this.resourceType||"",n=this.resourceType===u?"":this.internalCloudId||"";this.ariString="ari:cloud:"+this.resourceOwner+":"+n+":"+t+"/"+e}return this.ariString},e.prototype.toJSON=function(){return this.toString()},e.prototype.equals=function(t){
return t instanceof e&&this.resourceOwner===t.resourceOwner&&this.cloudId===t.cloudId&&this.resourceType===t.resourceType&&this.resourceId===t.resourceId},e.prototype.contains=function(t){return this.matches(new e(t))},e.prototype.matches=function(e){return s(this.resourceOwner,e.resourceOwner)&&s(this.cloudId,e.cloudId)&&(this.resourceType===u&&!!e.resourceType||s(this.resourceType,e.resourceType))&&(this.resourceType===u&&!!e.resourceType||s(this.resourceId,e.resourceId))},e.prototype.validateSiteWide=function(){var e=this.resourceType,t=this.cloudId;if(e===u&&!t)return new r.GeneralValidationError("site wide ARIs must have a cloudId")},e.prototype.validate=function(){var e=[r.validateField(this,"resourceOwner",l),r.validateField(this,"resourceType",c),r.validateField(this,"resourceId",h),r.validateField(this,"cloudId",d),this.validateSiteWide()].filter((function(e){return e}));if(e.length>0)throw i.withConstraintViolations(this.toString(),e)
;if(void 0!==this.resourceId&&void 0===this.resourceType)throw new i(this.toString(),"The resource type must be specified if the resource id is defined.")},e.prototype.urlEncode=function(){return encodeURIComponent(this.toString())},e.prototype.urlDecode=function(){return decodeURIComponent(this.toString())},e}();function f(e){return m.parse(e)}t.ResourceIdentifier=m,t.parse=f,t.parseEncoded=function(e){return m.parseEncoded(e)}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/base-search-client.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return p}));var r=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=o.n(r),s=o("./node_modules/@atlaskit/util-service-support/dist/es2019/index.js"),a=o("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js"),l=o("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js");function c(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p{constructor({url:e,cloudId:t,siteMasterList:n}){this.serviceConfig={url:e},this.cloudId=t,this.siteMasterList=n}async getAbTestData(e,t){const n={cloudId:this.cloudId,scopes:[e],experience:t},o=(await this.makeRequest(p.EXPERIMENT_URL_PATH,n)).scopes.find((t=>t.id===e));return o?Promise.resolve(o.abTest):Promise.resolve(null)}
async getProductPermissions(t,n){if(0===t.length)return Promise.resolve(t);try{const e=await this.makeRequest(p.SCOPES_API_URL,{cloudId:this.cloudId,productIds:t.map((e=>e.toLowerCase())),experience:n}),o=Object.keys(e.products);return Promise.resolve(o.filter((t=>e.products[t].length>0)).map((e=>e.toUpperCase())))}catch(e){return Promise.resolve([])}}async search({query:e,context:t,scopes:n,modelParams:o,resultLimit:r,filters:i=[],experience:s,sites:c=[]}){const u=this.cloudId,h=c.length>0?c:Object(l.d)(this.siteMasterList).map((e=>e.cloudId)),m=d(d({query:e,cloudId:u,limit:r,scopes:n,filters:i,searchSession:t},o.length>0?{modelParams:o}:{}),{},{experience:s,cloudIds:h}),{result:f,durationMs:b}=await Object(a.a)(this.makeRequest(p.QUICKSEARCH_API_URL,m));return{response:{rawData:f,retrieveScope:e=>f.scopes.find((t=>t.id===e))||null},requestDurationMs:b}}async makeRequest(e,t){const n={path:e,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}
};return await s.b.requestService(this.serviceConfig,n)}}i()(p,"EXPERIMENT_URL_PATH","experiment/v1"),i()(p,"QUICKSEARCH_API_URL","quicksearch/v1"),i()(p,"SCOPES_API_URL","scopes/v1")},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/multi-site-utils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a}));const o=({siteUrl:e,sites:t})=>e||(t&&t.length>0?t[0].siteUrl:""),r=(e,t)=>{const n=t.find((t=>t.cloudId===e));return n?n.siteUrl:""},i=(e,t=[])=>{const n=e.match(/^(http(s)?:\/\/[^\/]+)/);if(!n)return"";const o=n[0],r=t.find((e=>e.siteUrl===o));return r?r.cloudId:""},s=(e,t="",n,o="")=>e&&t?t:o?`/${o}/people/${n}`:`/people/${n}`,a=(e=[])=>e.slice(0,3)},"./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/timing.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}))
;const o=async e=>{const t=Date.now();return{result:await e,durationMs:Date.now()-t}}},"./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/response-types.js":function(e,t,n){"use strict";let o;n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceSpace="confluence.space",e.People="cpus.user",e.UserConfluence="urs.user-confluence"}(o||(o={}));const r="confluence-page",i="confluence-blogpost",s="confluence-attachment"},"./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/response-types.js":function(e,t,n){"use strict";let o,r,i;function s(e){return Object.prototype.hasOwnProperty.call(e,"url")}n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){
return i})),function(e){e.JiraIssue="jira.issue",e.JiraPlan="jira.plan",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(o||(o={})),function(e){e.JiraIssue="jira-issue",e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",e.JiraPeople="jira-people"}(r||(r={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(i||(i={}))},"./node_modules/@atlassian/product-search-dialog/dist/es2019/search-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}))
;var o=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/confluence/clients/response-types.js"),r=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/jira/clients/response-types.js"),i=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/common/clients/base-search-client.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n,e}const c=a(a({},o.d),r.c),d=({cloudId:e,aggregatorUrl:t})=>{const n=new i.a({cloudId:e,url:t||"/gateway/api/xpsearch-aggregator",siteMasterList:[]});return{search:async function({query:e,scopes:t,resultLimit:o,analytics:r}){return n.search({query:e,context:{sessionId:r.sessionId?r.sessionId:"not-applicable",referrerId:null},scopes:t,modelParams:[],resultLimit:o,filters:[],experience:`external-${r.identifier}`})}}}},"./node_modules/@atlassian/search-provider/dist/es2019/index.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return a}));var r=o("./node_modules/@atlassian/product-search-dialog/dist/es2019/search-client.js"),i=o("./node_modules/@atlassian/cs-ari/dist/Index.js");class s{constructor(e,t,n){switch(t){case r.a.ConfluencePageBlog:case r.a.JiraIssue:break;default:throw new Error(`Unsupported scope - ${t}`)}this.scope=t,this.cloudId=e;const o={cloudId:e,aggregatorUrl:n};this.client=Object(r.b)(o)}getAriString(t){try{return new i.ResourceIdentifier(t).toString()
}catch(e){return""}}confluencePageBlogResponseTransformer(e){return e?e.results.map((e=>({title:e.title,url:e.baseUrl+e.url,container:e.container.title,contentType:this.mapToContentType(e.content&&e.content.type),updatedTimestamp:e.lastModified,objectId:this.getAriString({resourceOwner:"confluence",cloudId:this.cloudId,resourceType:"content",resourceId:e.content&&e.content.id})}))):[]}jiraIssueResponseTransformer(e){return e?e.results.map((e=>({title:e.name,url:e.url,container:e.attributes.container&&e.attributes.container.title||"",contentType:this.mapToContentType(e.attributes["@type"],e.attributes.issueTypeName),updatedTimestamp:e.attributes.updated,objectId:this.getAriString({resourceOwner:"jira",cloudId:this.cloudId,resourceType:"issue",resourceId:e.id})}))):[]}mapToContentType(e,t){switch(e){case"issue":switch(t){case"Bug":return"jira.issue.bug";case"Story":return"jira.issue.story";case"Task":return"jira.issue.task";default:return"jira.issue"}case"page":return"confluence.page"
;case"blogpost":return"confluence.blogpost";default:return"default"}}async quickSearch(e,t){const n=await this.client.search({query:e,scopes:[this.scope],analytics:{identifier:"editor-quick-search"},resultLimit:t});switch(this.scope){case r.a.ConfluencePageBlog:{const e=n.response.retrieveScope(this.scope);return this.confluencePageBlogResponseTransformer(e)}case r.a.JiraIssue:{const e=n.response.retrieveScope(this.scope);return this.jiraIssueResponseTransformer(e)}default:throw new Error(`Unsupported scope - ${this.scope}`)}}}const a=(e,t,n)=>new s(e,t,n)},"./node_modules/assert/assert.js":function(t,n,o){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=o("./node_modules/util/util.js"),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c=function(){return"foo"===function(){}.name}();function d(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=t.exports=y,h=/\s*function\s+([^\(\s]*)\s*/;function m(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(c||!s.isFunction(e))return s.inspect(e);var t=m(e);return"[Function"+(t?": "+t:"")+"]"}
function g(e,t,n,o,r){throw new p.AssertionError({message:n,actual:e,expected:t,operator:o,stackStartFunction:r})}function y(e,t){e||g(e,!0,t,"==",p.ok)}function v(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var a=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,o){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=O(e),i=O(t)
;if(r&&!i||!r&&i)return!1;if(r)return v(e=l.call(e),t=l.call(t),n);var a,c,d=k(e),u=k(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),c=d.length-1;c>=0;c--)if(d[c]!==u[c])return!1;for(c=d.length-1;c>=0;c--)if(!v(e[a=d[c]],t[a],n,o))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function O(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function j(t,n){if(!t||!n)return!1;if("[object RegExp]"==Object.prototype.toString.call(n))return n.test(t);try{if(t instanceof n)return!0}catch(e){}return!Error.isPrototypeOf(n)&&!0===n.call({},t)}function w(t,n,o,r){var i;if("function"!=typeof n)throw new TypeError('"block" argument must be a function');"string"==typeof o&&(r=o,o=null),i=function(t){var n;try{t()}catch(e){n=e}return n}(n),r=(o&&o.name?" ("+o.name+").":".")+(r?" "+r:"."),t&&!i&&g(i,o,"Missing expected exception"+r);var a="string"==typeof r,l=!t&&i&&!o;if((!t&&s.isError(i)&&a&&j(i,o)||l)&&g(i,o,"Got unwanted exception"+r),t&&i&&o&&!j(i,o)||!t&&i)throw i}
p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return f(b(e.actual),128)+" "+e.operator+" "+f(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var o=n.stack,r=m(t),i=o.indexOf("\n"+r);if(i>=0){var s=o.indexOf("\n",i+1);o=o.substring(s+1)}this.stack=o}}},s.inherits(p.AssertionError,Error),p.fail=g,p.ok=y,p.equal=function(e,t,n){e!=t&&g(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){v(e,t,!1)||g(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){v(e,t,!0)||g(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){v(e,t,!1)&&g(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,o){
v(t,n,!0)&&g(t,n,o,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){w(!0,e,t,n)},p.doesNotThrow=function(e,t,n){w(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/chromatism/dist/chromatism.esm.js":function(e,t,n){"use strict";function o(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}var r=function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var s=0;s<n.length;s++)n[s]=parseInt(n[s],16);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e
}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},l={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:r},rgb:{test:function(e){return o(e,["r","g","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"hex":return 1==(v=Math.round(n.r).toString(16)).length&&(v="0"+v),1==(O=Math.round(n.g).toString(16)).length&&(O="0"+O),
1==(j=Math.round(n.b).toString(16)).length&&(j="0"+j),"#"+v+O+j;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var a=[v=n.r/255,O=n.g/255,j=n.b/255].sort(),l=(a[0]+a[2])/2*100;return a[0]==a[2]?(y=0,g=0):(y=l>=50?(a[2]-a[0])/(2-a[2]-a[0])*100:(a[2]-a[0])/(a[2]+a[0])*100,(g=a[2]==v?(O-j)/(a[2]-a[0])*60:a[2]==O?60*(2+(j-v)/(a[2]-a[0])):60*(4+(v-O)/(a[2]-a[0])))<0?g+=360:g>360&&(g%=360)),{h:g,s:y,l};case"csshsl":var c=r.convert({conversions:o,helpers:i},"hsl",n);return"hsl("+Math.round(c.h)+","+Math.round(c.s)+"%,"+Math.round(c.l)+"%)";case"cmyk":var d=n.r/255,u=n.g/255,p=n.b/255,h=1-Math.max(d,u,p);if(1!=h)var m=(1-d-h)/(1-h),f=(1-u-h)/(1-h),b=(1-p-h)/(1-h);else m=0,f=0,b=0;return{c:m,m:f,y:b,k:h};case"hsv":var g,y,v=n.r/255,O=n.g/255,j=n.b/255,w=Math.min(v,O,j),k=Math.max(v,O,j),E=k-w;if(0==E)g=0,y=0;else{y=E/k;var S=((k-v)/6+E/2)/E,_=((k-O)/6+E/2)/E,C=((k-j)/6+E/2)/E;v==k?g=C-_:O==k?g=1/3+S-C:j==k&&(g=2/3+_-S),g<0&&(g+=1),g>1&&(g-=1)}
return{h:360*g,s:100*y,v:100*k};case"yiq":b=n.r/255*.299+n.g/255*.587+n.b/255*.114;var x=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,T=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:b,i:x=i.bounded(x,[-.5957,.5957]),q:T=i.bounded(T,[-.5226,.5226])};case"XYZ":var P=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),A=i.getTransform("SRGB_XYZ").map((function(e){return P.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return 100*e})),I=s(A,3);return{X:I[0],Y:I[1],Z:I[2]};case"lms":case"cielab":case"cieluv":case"xyY":var M=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,M);case"cielch":var D=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,D);case"hsluv":var N=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,
helpers:i},t,N)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var s=0;s<n.length;s++)n[s]=parseInt(n[s]);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}}},hsl:{test:function(e){return o(e,["h","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":if(0==n.s){var s=n.l/100*255;return{r:s,g:s,b:s}}var a,l,c;a=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),l=n.l/100*2-a;var d,u,p,h=(.333+(c=n.h/360))%1,m=c,f=i.negMod(c-.333,1);return(d=6*h<1?l+6*(a-l)*h:2*h<1?a:3*h<2?l+6*(.666-h)*(a-l):l)<0&&(d=0),(u=6*m<1?l+6*(a-l)*m:2*m<1?a:3*m<2?l+6*(.666-m)*(a-l):l)<0&&(u=0),(p=6*f<1?l+6*(a-l)*f:2*f<1?a:3*f<2?l+6*(.666-f)*(a-l):l)<0&&(p=0),{r:255*d,g:255*u,b:255*p};case"csshsl":
return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var b=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*b/(n.l+b)*100,v:100*(n.l+b)};default:var g=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,g)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var s=0;s<n.length;s++)n[s]=parseInt(n[s]);switch(t){case"hsl":return{h:n[0],s:n[1],l:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}}},hsv:{test:function(e){return o(e,["h","s","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var s=6*n.h;6==s&&(s=0);var a,l,c,d=Math.round(s),u=n.v*(1-n.s),p=n.v*(1-n.s*(s-d)),h=n.v*(1-n.s*(1-(s-d)))
;return 0==d?(a=n.v,l=h,c=u):1==d?(a=p,l=n.v,c=u):2==d?(a=u,l=n.v,c=h):3==d?(a=u,l=p,c=n.v):4==d?(a=h,l=u,c=n.v):(a=n.v,l=u,c=p),{r:255*a,g:255*l,b:255*c};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var m=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,m)}}},cmyk:{test:function(e){return o(e,["c","m","y","k"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":return{r:s=255*(1-n.c)*(1-n.k),g:a=255*(1-n.m)*(1-n.k),b:l=255*(1-n.y)*(1-n.k)};case"cssrgb":var s=255*(1-n.c)*(1-n.k),a=255*(1-n.m)*(1-n.k),l=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(s)+","+Math.round(a)+","+Math.round(l)+")";default:var c=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,c)}}},yiq:{test:function(e){
return o(e,["y","i","q"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t){case"rgb":var s=255*(n.y+.956*n.i+.621*n.q),a=255*(n.y+-.272*n.i+-.647*n.q),l=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:s=i.bounded(s,[0,255]),g:a=i.bounded(a,[0,255]),b:l=i.bounded(l,[0,255])};default:var c=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,c)}}},XYZ:{test:function(e){return o(e,["X","Y","Z"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers,a=i.getIlluminant("D65");switch(t){case"rgb":var l=[n.X,n.Y,n.Z].map((function(e){return e/100})),c=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return l.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),d=s(c,3),u=d[0],p=d[1],h=d[2];return i.boundedRgb({r:u,
g:p,b:h});case"lms":var m=[n.X,n.Y,n.Z].map((function(e){return e/100})),f=i.getTransform("BRADFORD").map((function(e){return m.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{rho:f[0],gamma:f[1],beta:f[2]};case"cielab":var b=n.X/a.X,g=n.Y/a.Y,y=n.Z/a.Z,v=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},O=v(b),j=v(g);return{L:116*j-16,a:500*(O-j),b:200*(j-v(y))};case"cieluv":var w=n.Y/a.Y,k=w>.008856?116*i.cbrt(w)-16:903.3*w,E=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},S=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:k,u:13*k*(E(n)-E(a)),v:13*k*(S(n)-S(a))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var _=i.boundedRgb(r.convert({conversions:o,operations:r,helpers:i},"rgb",n));return r.convert({conversions:o,operations:r,helpers:i},t,_)}}},xyY:{test:function(e){return o(e,["x","y","Y"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var s=n.Y/n.y*n.x,a=n.Y/n.y*(1-n.x-n.y);return{X:s,Y:n.Y,
Z:a};default:var l=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}}},lms:{test:function(e){return o(e,["rho","gamma","beta"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var s=[n.rho,n.gamma,n.beta],a=i.getTransform("INVERSE_BRADFORD").map((function(e){return s.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{X:100*a[0],Y:100*a[1],Z:100*a[2]};default:var l=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}}},cielab:{test:function(e){return o(e,["L","a","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var s=i.getIlluminant("D65"),a=(n.L+16)/116,l=n.a/500+a,c=a-n.b/200,d=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},u=d(l),p=d(c),h=n.L>903.3*.008856?Math.pow(a,3):n.L/903.3;return{X:u*s.X,Y:h*s.Y,Z:p*s.Z};default:
var m=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,m)}}},cieluv:{test:function(e){return o(e,["L","u","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var s=i.getIlluminant("D65"),a=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(s),l=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(s),c=1/3*(52*n.L/(n.u+13*n.L*a)-1),d=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,u=-5*d,p=(d*(39*n.L/(n.v+13*n.L*l)-5)-u)/(c- -1/3);return{X:100*p,Y:100*d,Z:100*(p*c+u)};case"cielch":var h=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),m=Math.atan2(n.v,n.u);return m<0&&(m+=2*Math.PI),m=i.toDeg(m),{L:n.L,C:h,h:m};default:var f=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,f)}}},cielch:{test:function(e){return o(e,["L","C","h"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"cieluv":
var s=i.toRad(n.h),a=n.C*Math.cos(s),l=n.C*Math.sin(s);return{L:n.L,u:a,v:l};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var c=(n.L+16)/1560896,d=c>.008856?c:n.L/903.3,u=i.getTransform("INVERSE_SRGB_XYZ"),p=[],h=0;h<3;h++)for(var m=u[h][0],f=u[h][1],b=u[h][2],g=0;g<2;g++){var y=(284517*m-94839*b)*d,v=(838422*b+769860*f+731718*m)*n.L*d-769860*g*n.L,O=(632260*b-126452*f)*d+126452*g;p.push({m:y/O,b:v/O})}var j=Number.MAX_VALUE,w=i.toRad(n.h);p.forEach((function(e){var t=e.b/(Math.sin(w)-e.m*Math.cos(w));t>=0&&(j=Math.min(j,t))}));var k=j;return{hu:n.h,s:n.C/k*100,l:n.L};default:var E=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,E)}}},hsluv:{test:function(e){return o(e,["hu","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"cielch":if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu}
;for(var s=(n.l+16)/1560896,a=s>.008856?s:n.l/903.3,l=i.getTransform("INVERSE_SRGB_XYZ"),c=[],d=0;d<3;d++)for(var u=l[d][0],p=l[d][1],h=l[d][2],m=0;m<2;m++){var f=(284517*u-94839*h)*a,b=(838422*h+769860*p+731718*u)*n.l*a-769860*m*n.l,g=(632260*h-126452*p)*a+126452*m;c.push({m:f/g,b:b/g})}var y=Number.MAX_VALUE,v=i.toRad(n.hu);c.forEach((function(e){var t=e.b/(Math.sin(v)-e.m*Math.cos(v));t>=0&&(y=Math.min(y,t))}));var O=y;return{L:n.l,C:O/100*n.s,h:n.hu};default:var j=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,helpers:i},t,j)}}}},c={adapt:function(e,t,n,o){var r=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(o)s=e.operations.convert(e,"lms",o);else var s=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"))
;var a=e.helpers.getTransform("BRADFORD"),l=e.helpers.getTransform("INVERSE_BRADFORD"),c=[[i.rho/s.rho,0,0],[0,i.gamma/s.gamma,0],[0,0,i.beta/s.beta]],d=e.helpers.matrixMultiply(l,c),u=e.helpers.matrixMultiply(d,a),p=[[r.X],[r.Y],[r.Z]],h=e.helpers.matrixMultiply(u,p),m={X:h[0][0],Y:h[1][0],Z:h[2][0]};return e.helpers.ready(e,m)},adjacent:function(e,t,n,o){for(var r=e.operations.convert(e,"hsl",o),i=[{h:r.h,s:r.s,l:r.l}],s=0;s<n-1;s++)r.h=e.helpers.negMod(r.h+t,360),i.push({h:r.h,s:r.s,l:r.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.l+=t,o.l<0?o.l=0:o.l>100&&(o.l=100),e.helpers.ready(e,o)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},contrast:function(e,t,n){var o=e.operations.convert(e,"rgb",n);return o.r=255*((o.r/255-.5)*t+.5),o.r<0?o.r=0:o.r>255&&(o.r=255),o.g=255*((o.g/255-.5)*t+.5),o.g<0?o.g=0:o.g>255&&(o.g=255),o.b=255*((o.b/255-.5)*t+.5),
o.b<0?o.b=0:o.b>255&&(o.b=255),e.helpers.ready(e,o)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var o=e.helpers.determineMode(n);return o!=t?e.conversions[o].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,o,r){o=o||1,r=r||1
;var i=e.operations.convert(e,"cielab",t),s=e.operations.convert(e,"cielab",n),a=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),l=a-Math.sqrt(Math.pow(s.a,2)+Math.pow(s.b,2)),c=i.L-s.L,d=i.a-s.a,u=i.b-s.b,p=Math.sqrt(Math.pow(d,2)+Math.pow(u,2)-Math.pow(l,2)),h=i.L<16?.511:.040975*i.L/(1.01765*i.L),m=.0638*a/(1.0131*a),f=Math.atan2(i.b,i.a),b=f>=0?f:f+360,g=164<=b&&b<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(b+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(b+35))),y=Math.pow(a,4)/(Math.pow(a,4)+1900),v=m*(y*g+1-y),O=Math.pow(c/(o*h),2);return Math.pow(l/(r*m),2),Math.pow(p/v,2),Math.sqrt(O+O+O)},fade:function(e,t,n,o){var r=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",o),s=[r];t-=1;for(var a=(i.r-r.r)/t,l=(i.g-r.g)/t,c=(i.b-r.b)/t,d={r:r.r,g:r.g,b:r.b},u=0;u<t-1;u++)d.r=e.helpers.slopeMod(d.r+a,255),d.g=e.helpers.slopeMod(d.g+l,255),d.b=e.helpers.slopeMod(d.b+c,255),s.push({r:d.r,g:d.g,b:d.b});return s.push(i),e.helpers.ready(e,s)},greyscale:function(e,t){
var n=e.operations.convert(e,"rgb",t),o=(n.r+n.g+n.b)/3;return n={r:o,g:o,b:o},e.helpers.ready(e,n)},hue:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.h=e.helpers.negMod(o.h+t,360),e.helpers.ready(e,o)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:(o.h+r.h)/2,s:(o.s+r.s)/2,l:(o.l+r.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:o.h,s:o.s,l:o.l/100*(r.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.s+=t,o.s<0?o.s=0:o.s>100&&(o.s=100),
e.helpers.ready(e,o)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),o={};return o.r=.393*n.r+.769*n.g+.189*n.b,o.g=.349*n.r+.686*n.g+.168*n.b,o.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,o)},shade:function(e,t,n){var o=e.operations.convert(e,"hsv",n);return o.v+=t,o.v<0?o.v=0:o.v>100&&(o.v=100),e.helpers.ready(e,o)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),o=(n.x-.332)/(n.y-.1858);return-449*Math.pow(o,3)+3525*Math.pow(o,2)-6823.3*o+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<3;r++)n.h=(n.h+90)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<2;r++)n.h=(n.h+120)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)}},d={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},
D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},u=function(e,t,n){var o=Object.keys(e.operations).reduce((function(t,o){var r=e.operations[o];return t[o]=function(){for(var t=arguments.length,o=Array(t),s=0;s<t;s++)o[s]=arguments[s];var l=o.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var o=n.map((function(n){if(Array.isArray(n)){var o=t(n);return o.colours||o.colour}var s=r.apply(void 0,[e].concat(a(l),[n]))
;return"object"===(void 0===s?"undefined":i(s))?s.colours||s.colour:s}));return"number"!=typeof o[0]?e.helpers.ready(e,o):o}(n.colours):r.apply(void 0,[e].concat(a(l),[n?n.colour:void 0]))},t}),{});return n||(o=Object.assign(o,t)),o},p={getIlluminant:function(e){return d.ILLUMINANTS[e]},getTransform:function(e){return d.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],o=0;o<e.length;o++){n[o]=[];for(var r=0;r<t[0].length;r++){for(var i=0,s=0;s<e[0].length;s++)i+=e[o][s]*t[s][r];n[o][r]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},
boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,o=e.operations,r=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var s in i.colour=t,n)n.hasOwnProperty(s)&&function(e){Object.defineProperty(i,e,{get:function(){return r.determineMode(t),o.convert({conversions:n,operations:o,helpers:r},e,t)},enumerable:!0})}(s);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i));case"[object Array]":for(var a in i.colours=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):o.convert({conversions:n,operations:o,helpers:r},e,i)}))}(t)},enumerable:!0})}(a);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i))
;default:return null}}},h=u({conversions:l,operations:c,helpers:p},d);t.a=h},"./node_modules/fast-memoize/src/index.js":function(e,t){function n(e,t,n,o){var r=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(o)?o:n(o),i=t.get(r);return void 0===i&&(i=e.call(this,o),t.set(r,i)),i}function o(e,t,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),i=t.get(r);return void 0===i&&(i=e.apply(this,o),t.set(r,i)),i}function r(e,t,n,o,r){return n.bind(t,e,o,r)}function i(e,t){return r(e,this,1===e.length?n:o,t.cache.create(),t.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:l,o=t&&t.serializer?t.serializer:s;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:o})},
e.exports.strategies={variadic:function(e,t){return r(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)}}},"./node_modules/fuse.js/dist/fuse.js":function(e,t,n){
/*!
 * Fuse.js v3.4.6 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(t,n){e.exports=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){
return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(2),s=n(8),a=n(0),l=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,i=n.distance,a=void 0===i?100:i,l=n.threshold,c=void 0===l?.6:l,d=n.maxPatternLength,u=void 0===d?32:d,p=n.caseSensitive,h=void 0!==p&&p,m=n.tokenSeparator,f=void 0===m?/ +/g:m,b=n.findAllMatches,g=void 0!==b&&b,y=n.minMatchCharLength,v=void 0===y?1:y,O=n.id,j=void 0===O?null:O,w=n.keys,k=void 0===w?[]:w,E=n.shouldSort,S=void 0===E||E,_=n.getFn,C=void 0===_?s:_,x=n.sortFn,T=void 0===x?function(e,t){
return e.score-t.score}:x,P=n.tokenize,A=void 0!==P&&P,I=n.matchAllTokens,M=void 0!==I&&I,D=n.includeMatches,N=void 0!==D&&D,R=n.includeScore,L=void 0!==R&&R,B=n.verbose,F=void 0!==B&&B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:c,maxPatternLength:u,isCaseSensitive:h,tokenSeparator:f,findAllMatches:g,minMatchCharLength:v,id:j,keys:k,includeMatches:N,includeScore:L,shouldSort:S,getFn:C,sortFn:T,verbose:F,tokenize:A,matchAllTokens:M},this.setCollection(t)}var t,n,l;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),o=n.tokenSearchers,r=n.fullSearcher,i=this._search(o,r),s=i.weights,a=i.results;return this._computeScore(s,a),this.options.shouldSort&&this._sort(a),
t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),o=0,r=n.length;o<r;o+=1)t.push(new i(n[o],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,o={},r=[];if("string"==typeof n[0]){for(var i=0,s=n.length;i<s;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var a={},l=0,c=n.length;l<c;l+=1)for(var d=n[l],u=0,p=this.options.keys.length;u<p;u+=1){var h=this.options.keys[u];if("string"!=typeof h){if(a[h.name]={weight:1-h.weight||1},h.weight<=0||h.weight>1)throw new Error("Key weight has to be > 0 and <= 1");h=h.name
}else a[h]={weight:1};this._analyze({key:h,value:this.options.getFn(d,h),record:d,index:l},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:a,results:r}}},{key:"_analyze",value:function(e,t){var n=e.key,o=e.arrayIndex,r=void 0===o?-1:o,i=e.value,s=e.record,l=e.index,c=t.tokenSearchers,d=void 0===c?[]:c,u=t.fullSearcher,p=void 0===u?[]:u,h=t.resultMap,m=void 0===h?{}:h,f=t.results,b=void 0===f?[]:f;if(null!=i){var g=!1,y=-1,v=0;if("string"==typeof i){this._log("\nKey: ".concat(""===n?"-":n));var O=p.search(i);if(this._log('Full text: "'.concat(i,'", score: ').concat(O.score)),this.options.tokenize){for(var j=i.split(this.options.tokenSeparator),w=[],k=0;k<d.length;k+=1){var E=d[k];this._log('\nPattern: "'.concat(E.pattern,'"'));for(var S=!1,_=0;_<j.length;_+=1){var C=j[_],x=E.search(C),T={};x.isMatch?(T[C]=x.score,g=!0,S=!0,w.push(x.score)):(T[C]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(C,'", score: ').concat(T[C]))}S&&(v+=1)}y=w[0]
;for(var P=w.length,A=1;A<P;A+=1)y+=w[A];y/=P,this._log("Token score average:",y)}var I=O.score;y>-1&&(I=(I+y)/2),this._log("Score average:",I);var M=!this.options.tokenize||!this.options.matchAllTokens||v>=d.length;if(this._log("\nCheck Matches: ".concat(M)),(g||O.isMatch)&&M){var D=m[l];D?D.output.push({key:n,arrayIndex:r,value:i,score:I,matchedIndices:O.matchedIndices}):(m[l]={item:s,output:[{key:n,arrayIndex:r,value:i,score:I,matchedIndices:O.matchedIndices}]},b.push(m[l]))}}else if(a(i))for(var N=0,R=i.length;N<R;N+=1)this._analyze({key:n,arrayIndex:N,value:i[N],record:s,index:l},{resultMap:m,results:b,tokenSearchers:d,fullSearcher:p})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,o=t.length;n<o;n+=1){for(var r=t[n].output,i=r.length,s=1,a=1,l=0;l<i;l+=1){var c=e?e[r[l].key].weight:1,d=(1===c?r[l].score:r[l].score||.001)*c;1!==c?a=Math.min(a,d):(r[l].nScore=d,s*=d)}t[n].score=1===a?s:a,this._log(t[n])}}},{key:"_sort",value:function(e){
this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===o(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}))),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var o=0,r=n.length;o<r;o+=1){var i=n[o];if(0!==i.matchedIndices.length){var s={indices:i.matchedIndices,value:i.value};i.key&&(s.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(s.arrayIndex=i.arrayIndex),t.matches.push(s)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var i=0,s=e.length;i<s;i+=1){var a=e[i];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),r.length){for(var l={item:a.item},c=0,d=r.length;c<d;c+=1)r[c](a,l);t.push(l)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e
;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),l&&r(t,l),e}();e.exports=l},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(3),i=n(4),s=n(7),a=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,i=n.distance,a=void 0===i?100:i,l=n.threshold,c=void 0===l?.6:l,d=n.maxPatternLength,u=void 0===d?32:d,p=n.isCaseSensitive,h=void 0!==p&&p,m=n.tokenSeparator,f=void 0===m?/ +/g:m,b=n.findAllMatches,g=void 0!==b&&b,y=n.minMatchCharLength,v=void 0===y?1:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:c,maxPatternLength:u,isCaseSensitive:h,tokenSeparator:f,findAllMatches:g,minMatchCharLength:v},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=s(this.pattern))}
var t,n,a;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,o=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,o);var s=this.options,a=s.location,l=s.distance,c=s.threshold,d=s.findAllMatches,u=s.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:a,distance:l,threshold:c,findAllMatches:d,minMatchCharLength:u})}}])&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(o,"|")),i=e.match(r),s=!!i,a=[];if(s)for(var l=0,c=i.length;l<c;l+=1){var d=i[l];a.push([e.indexOf(d),d.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,n){var o=n(5),r=n(6);e.exports=function(e,t,n,i){
for(var s=i.location,a=void 0===s?0:s,l=i.distance,c=void 0===l?100:l,d=i.threshold,u=void 0===d?.6:d,p=i.findAllMatches,h=void 0!==p&&p,m=i.minMatchCharLength,f=void 0===m?1:m,b=a,g=e.length,y=u,v=e.indexOf(t,b),O=t.length,j=[],w=0;w<g;w+=1)j[w]=0;if(-1!==v){var k=o(t,{errors:0,currentLocation:v,expectedLocation:b,distance:c});if(y=Math.min(k,y),-1!==(v=e.lastIndexOf(t,b+O))){var E=o(t,{errors:0,currentLocation:v,expectedLocation:b,distance:c});y=Math.min(E,y)}}v=-1;for(var S=[],_=1,C=O+g,x=1<<(O<=31?O-1:30),T=0;T<O;T+=1){for(var P=0,A=C;P<A;)o(t,{errors:T,currentLocation:b+A,expectedLocation:b,distance:c})<=y?P=A:C=A,A=Math.floor((C-P)/2+P);C=A;var I=Math.max(1,b-A+1),M=h?g:Math.min(b+A,g)+O,D=Array(M+2);D[M+1]=(1<<T)-1;for(var N=M;N>=I;N-=1){var R=N-1,L=n[e.charAt(R)];if(L&&(j[R]=1),D[N]=(D[N+1]<<1|1)&L,0!==T&&(D[N]|=(S[N+1]|S[N])<<1|1|S[N+1]),D[N]&x&&(_=o(t,{errors:T,currentLocation:R,expectedLocation:b,distance:c}))<=y){if(y=_,(v=R)<=b)break;I=Math.max(1,2*b-v)}}if(o(t,{
errors:T+1,currentLocation:b,expectedLocation:b,distance:c})>y)break;S=D}return{isMatch:v>=0,score:0===_?.001:_,matchedIndices:r(j,f)}}},function(e,t){e.exports=function(e,t){var n=t.errors,o=void 0===n?0:n,r=t.currentLocation,i=void 0===r?0:r,s=t.expectedLocation,a=void 0===s?0:s,l=t.distance,c=void 0===l?100:l,d=o/e.length,u=Math.abs(a-i);return c?d+u/c:u?1:d}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],o=-1,r=-1,i=0,s=e.length;i<s;i+=1){var a=e[i];a&&-1===o?o=i:a||-1===o||((r=i-1)-o+1>=t&&n.push([o,r]),o=-1)}return e[i-1]&&i-o>=t&&n.push([o,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,o=0;o<n;o+=1)t[e.charAt(o)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t,n){var o=n(0);e.exports=function(e,t){return function e(t,n,r){if(n){var i=n.indexOf("."),s=n,a=null;-1!==i&&(s=n.slice(0,i),a=n.slice(i+1));var l=t[s]
;if(null!=l)if(a||"string"!=typeof l&&"number"!=typeof l)if(o(l))for(var c=0,d=l.length;c<d;c+=1)e(l[c],a,r);else a&&e(l,a,r);else r.push(l.toString())}else r.push(t);return r}(e,t,[])}}])}()}()},"./node_modules/markdown-it-table/dist/es/table.js":function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function o(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function r(e){var t,n=[],o=0,r=e.length,i=0,s=0,a=!1,l=0;for(t=e.charCodeAt(o);o<r;)96===t?a?(a=!1,l=o):i%2==0&&(a=!0,l=o):124!==t||i%2!=0||a||(n.push(e.substring(s,o)),s=o+1),92===t?i++:i=0,++o===r&&a&&(a=!1,o=l+1),t=e.charCodeAt(o);return n.push(e.substring(s)),n}e.exports=function(e,t,i,s){var a,l,c,d,u,p,h,m,f,b,g;if(t+2>i)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((c=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(a=e.src.charCodeAt(c++))&&45!==a&&58!==a)return!1;for(;c<e.eMarks[u];){
if(124!==(a=e.src.charCodeAt(c))&&45!==a&&58!==a&&!n(a))return!1;c++}for(p=(l=o(e,t+1)).split("|"),m=[],d=0;d<p.length;d++){if(!(f=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;58===f.charCodeAt(f.length-1)?m.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(l=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=r(l.replace(/^\||\|$/g,""))).length>m.length)return!1;if(s)return!0;for((h=e.push("table_open","table",1)).map=b=[t,0],(h=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)(h=e.push("th_open","th",1)).map=[t,t+1],m[d]&&(h.attrs=[["style","text-align:"+m[d]]]),h=e.push("paragraph_open","p",1),(h=e.push("inline","",0)).content=p[d].trim(),h.map=[t,t+1],h.children=[],h=e.push("paragraph_close","p",-1),h=e.push("th_close","th",-1);for((h=e.push("tr_close","tr",-1)).map=g=[t+2,0],
u=t+2;u<i&&!(e.sCount[u]<e.blkIndent)&&-1!==(l=o(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){p=r(l.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1);for(var y=0,v=1;y<p.length;y++){h=e.push("td_open","td",1),m[y]&&(h.attrs=[["style","text-align:"+m[y]]]);var O=" "===p[y][0]||/^(\d+\.|\*|-)$/.test(p[y].trim())?1:0;e.bMarks[u]+=v+O,v=(p[y]||"").length+(O?0:1),e.eMarks[u]=e.bMarks[u]+v-1,e.lineMax=1,e.md.block.tokenize(e,u,u+1),h=e.push("td_close","td",-1)}h=e.push("tr_close","tr",-1)}return h=e.push("table_close","table",-1),b[1]=g[1]=u,e.line=u,!0}},"./node_modules/markdown-it/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/markdown-it/lib/index.js")},"./node_modules/markdown-it/lib/common/entities.js":function(e,t,n){"use strict";e.exports=n("./node_modules/markdown-it/node_modules/entities/lib/maps/entities.json")},"./node_modules/markdown-it/lib/common/html_blocks.js":function(e,t,n){"use strict"
;e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},"./node_modules/markdown-it/lib/common/html_re.js":function(e,t,n){"use strict";var o="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+o+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+o+"|"+r+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=s},
"./node_modules/markdown-it/lib/common/utils.js":function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function r(e,t){return o.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function s(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,d=n("./node_modules/markdown-it/lib/common/entities.js");var u=/[&<>"]/,p=/[&<>"]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function m(e){return h[e]}var f=/[.?*+^$[\]\\(){}|-]/g;var b=n("./node_modules/uc.micro/categories/P/regex.js");t.lib={},t.lib.mdurl=n("./node_modules/mdurl/index.js"),t.lib.ucmicro=n("./node_modules/uc.micro/index.js"),
t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=r,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(a,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(l,(function(e,t,n){return t||function(e,t){var n=0;return r(d,t)?d[t]:35===t.charCodeAt(0)&&c.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?s(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=s,t.escapeHtml=function(e){return u.test(e)?e.replace(p,m):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){
case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return b.test(e)},t.escapeRE=function(e){return e.replace(f,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(e=e.replace(/\u1e9e/g,"\xdf")),e.toLowerCase().toUpperCase()}},"./node_modules/markdown-it/lib/helpers/index.js":function(e,t,n){"use strict";t.parseLinkLabel=n("./node_modules/markdown-it/lib/helpers/parse_link_label.js"),t.parseLinkDestination=n("./node_modules/markdown-it/lib/helpers/parse_link_destination.js"),
t.parseLinkTitle=n("./node_modules/markdown-it/lib/helpers/parse_link_title.js")},"./node_modules/markdown-it/lib/helpers/parse_link_destination.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").unescapeAll;e.exports=function(e,t,n){var r,i,s=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(r=e.charCodeAt(t)))return a;if(62===r)return a.pos=t+1,a.str=o(e.slice(s+1,t)),a.ok=!0,a;92===r&&t+1<n?t+=2:t++}return a}for(i=0;t<n&&32!==(r=e.charCodeAt(t))&&!(r<32||127===r);)if(92===r&&t+1<n)t+=2;else{if(40===r&&i++,41===r){if(0===i)break;i--}t++}return s===t||0!==i||(a.str=o(e.slice(s,t)),a.lines=0,a.pos=t,a.ok=!0),a}},"./node_modules/markdown-it/lib/helpers/parse_link_label.js":function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,s,a=-1,l=e.posMax,c=e.pos;for(e.pos=t+1,o=1;e.pos<l;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--o){r=!0;break}if(s=e.pos,e.md.inline.skipToken(e),
91===i)if(s===e.pos-1)o++;else if(n)return e.pos=c,-1}return r&&(a=e.pos),e.pos=c,a}},"./node_modules/markdown-it/lib/helpers/parse_link_title.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").unescapeAll;e.exports=function(e,t,n){var r,i,s=0,a=t,l={ok:!1,pos:0,lines:0,str:""};if(t>=n)return l;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return l;for(t++,40===i&&(i=41);t<n;){if((r=e.charCodeAt(t))===i)return l.pos=t+1,l.lines=s,l.str=o(e.slice(a+1,t)),l.ok=!0,l;10===r?s++:92===r&&t+1<n&&(t++,10===e.charCodeAt(t)&&s++),t++}return l}},"./node_modules/markdown-it/lib/index.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/common/utils.js"),r=n("./node_modules/markdown-it/lib/helpers/index.js"),i=n("./node_modules/markdown-it/lib/renderer.js"),s=n("./node_modules/markdown-it/lib/parser_core.js"),a=n("./node_modules/markdown-it/lib/parser_block.js"),l=n("./node_modules/markdown-it/lib/parser_inline.js"),c=n("./node_modules/linkify-it/index.js"),d=n("./node_modules/mdurl/index.js"),u=n("./node_modules/node-libs-browser/node_modules/punycode/punycode.js"),p={default:n("./node_modules/markdown-it/lib/presets/default.js"),zero:n("./node_modules/markdown-it/lib/presets/zero.js"),commonmark:n("./node_modules/markdown-it/lib/presets/commonmark.js")},h=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function f(e){var t=e.trim().toLowerCase();return!h.test(t)||!!m.test(t)}var b=["http:","https:","mailto:"];function g(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=u.toASCII(t.hostname)}catch(n){}
return d.encode(d.format(t))}function y(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=u.toUnicode(t.hostname)}catch(n){}return d.decode(d.format(t))}function v(e,t){if(!(this instanceof v))return new v(e,t);t||o.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new a,this.core=new s,this.renderer=new i,this.linkify=new c,this.validateLink=f,this.normalizeLink=g,this.normalizeLinkText=y,this.utils=o,this.helpers=o.assign({},r),this.options={},this.configure(e),t&&this.set(t)}v.prototype.set=function(e){return o.assign(this.options,e),this},v.prototype.configure=function(e){var t,n=this;if(o.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),
e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},v.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this},v.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this},v.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},v.prototype.parse=function(e,t){
if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},v.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},v.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},v.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=v},"./node_modules/markdown-it/lib/parser_block.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/ruler.js"),r=[["table",n("./node_modules/markdown-it/lib/rules_block/table.js"),["paragraph","reference"]],["code",n("./node_modules/markdown-it/lib/rules_block/code.js")],["fence",n("./node_modules/markdown-it/lib/rules_block/fence.js"),["paragraph","reference","blockquote","list"]],["blockquote",n("./node_modules/markdown-it/lib/rules_block/blockquote.js"),["paragraph","reference","blockquote","list"]],["hr",n("./node_modules/markdown-it/lib/rules_block/hr.js"),["paragraph","reference","blockquote","list"]],["list",n("./node_modules/markdown-it/lib/rules_block/list.js"),["paragraph","reference","blockquote"]],["reference",n("./node_modules/markdown-it/lib/rules_block/reference.js")],["heading",n("./node_modules/markdown-it/lib/rules_block/heading.js"),["paragraph","reference","blockquote"]],["lheading",n("./node_modules/markdown-it/lib/rules_block/lheading.js")],["html_block",n("./node_modules/markdown-it/lib/rules_block/html_block.js"),["paragraph","reference","blockquote"]],["paragraph",n("./node_modules/markdown-it/lib/rules_block/paragraph.js")]]
;function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1],{alt:(r[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var o,r=this.ruler.getRules(""),i=r.length,s=t,a=!1,l=e.md.options.maxNesting;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=l){e.line=n;break}for(o=0;o<i&&!r[o](e,s,n,!1);o++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<n&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},i.prototype.parse=function(e,t,n,o){var r;e&&(r=new this.State(e,t,n,o),this.tokenize(r,r.line,r.lineMax))},i.prototype.State=n("./node_modules/markdown-it/lib/rules_block/state_block.js"),e.exports=i},"./node_modules/markdown-it/lib/parser_core.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/ruler.js"),r=[["normalize",n("./node_modules/markdown-it/lib/rules_core/normalize.js")],["block",n("./node_modules/markdown-it/lib/rules_core/block.js")],["inline",n("./node_modules/markdown-it/lib/rules_core/inline.js")],["linkify",n("./node_modules/markdown-it/lib/rules_core/linkify.js")],["replacements",n("./node_modules/markdown-it/lib/rules_core/replacements.js")],["smartquotes",n("./node_modules/markdown-it/lib/rules_core/smartquotes.js")]];function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1])}i.prototype.process=function(e){var t,n,o;for(t=0,n=(o=this.ruler.getRules("")).length;t<n;t++)o[t](e)},i.prototype.State=n("./node_modules/markdown-it/lib/rules_core/state_core.js"),e.exports=i},"./node_modules/markdown-it/lib/parser_inline.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/ruler.js"),r=[["text",n("./node_modules/markdown-it/lib/rules_inline/text.js")],["newline",n("./node_modules/markdown-it/lib/rules_inline/newline.js")],["escape",n("./node_modules/markdown-it/lib/rules_inline/escape.js")],["backticks",n("./node_modules/markdown-it/lib/rules_inline/backticks.js")],["strikethrough",n("./node_modules/markdown-it/lib/rules_inline/strikethrough.js").tokenize],["emphasis",n("./node_modules/markdown-it/lib/rules_inline/emphasis.js").tokenize],["link",n("./node_modules/markdown-it/lib/rules_inline/link.js")],["image",n("./node_modules/markdown-it/lib/rules_inline/image.js")],["autolink",n("./node_modules/markdown-it/lib/rules_inline/autolink.js")],["html_inline",n("./node_modules/markdown-it/lib/rules_inline/html_inline.js")],["entity",n("./node_modules/markdown-it/lib/rules_inline/entity.js")]],i=[["balance_pairs",n("./node_modules/markdown-it/lib/rules_inline/balance_pairs.js")],["strikethrough",n("./node_modules/markdown-it/lib/rules_inline/strikethrough.js").postProcess],["emphasis",n("./node_modules/markdown-it/lib/rules_inline/emphasis.js").postProcess],["text_collapse",n("./node_modules/markdown-it/lib/rules_inline/text_collapse.js")]]
;function s(){var e;for(this.ruler=new o,e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1]);for(this.ruler2=new o,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}s.prototype.skipToken=function(e){var t,n,o=e.pos,r=this.ruler.getRules(""),i=r.length,s=e.md.options.maxNesting,a=e.cache;if(void 0===a[o]){if(e.level<s)for(n=0;n<i&&(e.level++,t=r[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,a[o]=e.pos}else e.pos=a[o]},s.prototype.tokenize=function(e){for(var t,n,o=this.ruler.getRules(""),r=o.length,i=e.posMax,s=e.md.options.maxNesting;e.pos<i;){if(e.level<s)for(n=0;n<r&&!(t=o[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,n,o){var r,i,s,a=new this.State(e,t,n,o);for(this.tokenize(a),s=(i=this.ruler2.getRules("")).length,r=0;r<s;r++)i[r](a)},s.prototype.State=n("./node_modules/markdown-it/lib/rules_inline/state_inline.js"),e.exports=s},
"./node_modules/markdown-it/lib/presets/commonmark.js":function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},"./node_modules/markdown-it/lib/presets/default.js":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},"./node_modules/markdown-it/lib/presets/zero.js":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,
breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},"./node_modules/markdown-it/lib/renderer.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").assign,r=n("./node_modules/markdown-it/lib/common/utils.js").unescapeAll,i=n("./node_modules/markdown-it/lib/common/utils.js").escapeHtml,s={};function a(){this.rules=o({},s)}s.code_inline=function(e,t,n,o,r){var s=e[t];return"<code"+r.renderAttrs(s)+">"+i(e[t].content)+"</code>"},s.code_block=function(e,t,n,o,r){var s=e[t];return"<pre"+r.renderAttrs(s)+"><code>"+i(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,o,s){var a,l,c,d,u=e[t],p=u.info?r(u.info).trim():"",h="";return p&&(h=p.split(/\s+/g)[0]),
0===(a=n.highlight&&n.highlight(u.content,h)||i(u.content)).indexOf("<pre")?a+"\n":p?(l=u.attrIndex("class"),c=u.attrs?u.attrs.slice():[],l<0?c.push(["class",n.langPrefix+h]):c[l][1]+=" "+n.langPrefix+h,d={attrs:c},"<pre><code"+s.renderAttrs(d)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(u)+">"+a+"</code></pre>\n"},s.image=function(e,t,n,o,r){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=r.renderInlineAsText(i.children,n,o),r.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return i(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,n,o;if(!e.attrs)return"";for(o="",t=0,n=e.attrs.length;t<n;t++)o+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return o},a.prototype.renderToken=function(e,t,n){var o,r="",i=!1,s=e[t]
;return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===s.nesting?"</":"<")+s.tag,r+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(r+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&("inline"===(o=e[t+1]).type||o.hidden||-1===o.nesting&&o.tag===s.tag)&&(i=!1)),r+=i?">\n":">")},a.prototype.renderInline=function(e,t,n){for(var o,r="",i=this.rules,s=0,a=e.length;s<a;s++)void 0!==i[o=e[s].type]?r+=i[o](e,s,t,n,this):r+=this.renderToken(e,s,t);return r},a.prototype.renderInlineAsText=function(e,t,n){for(var o="",r=0,i=e.length;r<i;r++)"text"===e[r].type?o+=e[r].content:"image"===e[r].type&&(o+=this.renderInlineAsText(e[r].children,t,n));return o},a.prototype.render=function(e,t,n){var o,r,i,s="",a=this.rules;for(o=0,r=e.length;o<r;o++)"inline"===(i=e[o].type)?s+=this.renderInline(e[o].children,t,n):void 0!==a[i]?s+=a[e[o].type](e,o,t,n,this):s+=this.renderToken(e,o,t,n);return s},e.exports=a},"./node_modules/markdown-it/lib/ruler.js":function(e,t,n){
"use strict";function o(){this.__rules__=[],this.__cache__=null}o.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},o.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},o.prototype.at=function(e,t,n){var o=this.__find__(e),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=r.alt||[],this.__cache__=null},o.prototype.before=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},o.prototype.after=function(e,t,n,o){var r=this.__find__(e),i=o||{}
;if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},o.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},o.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!0,n.push(e)}),this),this.__cache__=null,n},o.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},o.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!1,n.push(e)}),this),this.__cache__=null,n},o.prototype.getRules=function(e){
return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=o},"./node_modules/markdown-it/lib/rules_block/blockquote.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t,n,r){var i,s,a,l,c,d,u,p,h,m,f,b,g,y,v,O,j,w,k,E,S=e.lineMax,_=e.bMarks[t]+e.tShift[t],C=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(_++))return!1;if(r)return!0;for(l=h=e.sCount[t]+_-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(_)?(_++,l++,h++,i=!1,O=!0):9===e.src.charCodeAt(_)?(O=!0,(e.bsCount[t]+h)%4==3?(_++,l++,h++,i=!1):i=!0):O=!1,m=[e.bMarks[t]],e.bMarks[t]=_;_<C&&(s=e.src.charCodeAt(_),o(s));)9===s?h+=4-(h+e.bsCount[t]+(i?1:0))%4:h++,_++;for(f=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(O?1:0),d=_>=C,y=[e.sCount[t]],e.sCount[t]=h-l,v=[e.tShift[t]],e.tShift[t]=_-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",E=!1,
p=t+1;p<n&&(e.sCount[p]<e.blkIndent&&(E=!0),!((_=e.bMarks[p]+e.tShift[p])>=(C=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(_++)||E){if(d)break;for(j=!1,a=0,c=w.length;a<c;a++)if(w[a](e,p,n,!0)){j=!0;break}if(j){e.lineMax=p,0!==e.blkIndent&&(m.push(e.bMarks[p]),f.push(e.bsCount[p]),v.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}m.push(e.bMarks[p]),f.push(e.bsCount[p]),v.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]=-1}else{for(l=h=e.sCount[p]+_-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(_)?(_++,l++,h++,i=!1,O=!0):9===e.src.charCodeAt(_)?(O=!0,(e.bsCount[p]+h)%4==3?(_++,l++,h++,i=!1):i=!0):O=!1,m.push(e.bMarks[p]),e.bMarks[p]=_;_<C&&(s=e.src.charCodeAt(_),o(s));)9===s?h+=4-(h+e.bsCount[p]+(i?1:0))%4:h++,_++;d=_>=C,f.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(O?1:0),y.push(e.sCount[p]),e.sCount[p]=h-l,v.push(e.tShift[p]),e.tShift[p]=_-e.bMarks[p]}for(b=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=u=[t,0],
e.md.block.tokenize(e,t,p),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=g,u[1]=e.line,a=0;a<v.length;a++)e.bMarks[a+t]=m[a],e.tShift[a+t]=v[a],e.sCount[a+t]=y[a],e.bsCount[a+t]=f[a];return e.blkIndent=b,!0}},"./node_modules/markdown-it/lib/rules_block/code.js":function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(r=o=t+1;o<n;)if(e.isEmpty(o))o++;else{if(!(e.sCount[o]-e.blkIndent>=4))break;r=++o}return e.line=r,(i=e.push("code_block","code",0)).content=e.getLines(t,r,4+e.blkIndent,!0),i.map=[t,e.line],!0}},"./node_modules/markdown-it/lib/rules_block/fence.js":function(e,t,n){"use strict";e.exports=function(e,t,n,o){var r,i,s,a,l,c,d,u=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(r=e.src.charCodeAt(p))&&96!==r)return!1;if(l=p,(i=(p=e.skipChars(p,r))-l)<3)return!1;if(d=e.src.slice(l,p),s=e.src.slice(p,h),
96===r&&s.indexOf(String.fromCharCode(r))>=0)return!1;if(o)return!0;for(a=t;!(++a>=n)&&!((p=l=e.bMarks[a]+e.tShift[a])<(h=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(p)===r&&!(e.sCount[a]-e.blkIndent>=4||(p=e.skipChars(p,r))-l<i||(p=e.skipSpaces(p))<h)){u=!0;break}return i=e.sCount[t],e.line=a+(u?1:0),(c=e.push("fence","code",0)).info=s,c.content=e.getLines(t+1,a,i,!0),c.markup=d,c.map=[t,e.line],!0}},"./node_modules/markdown-it/lib/rules_block/heading.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t,n,r){var i,s,a,l,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(c))||c>=d)return!1;for(s=1,i=e.src.charCodeAt(++c);35===i&&c<d&&s<=6;)s++,i=e.src.charCodeAt(++c);return!(s>6||c<d&&!o(i))&&(r||(d=e.skipSpacesBack(d,c),(a=e.skipCharsBack(d,35,c))>c&&o(e.src.charCodeAt(a-1))&&(d=a),e.line=t+1,
(l=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),l.map=[t,e.line],(l=e.push("inline","",0)).content=e.src.slice(c,d).trim(),l.map=[t,e.line],l.children=[],(l=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),!0)}},"./node_modules/markdown-it/lib/rules_block/hr.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t,n,r){var i,s,a,l,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(c++))&&45!==i&&95!==i)return!1;for(s=1;c<d;){if((a=e.src.charCodeAt(c++))!==i&&!o(a))return!1;a===i&&s++}return!(s<3)&&(r||(e.line=t+1,(l=e.push("hr","hr",0)).map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(i))),!0)}},"./node_modules/markdown-it/lib/rules_block/html_block.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/common/html_blocks.js"),r=n("./node_modules/markdown-it/lib/common/html_re.js").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,o){var r,s,a,l,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(l=e.src.slice(c,d),r=0;r<i.length&&!i[r][0].test(l);r++);if(r===i.length)return!1;if(o)return i[r][2];if(s=t+1,!i[r][1].test(l))for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(c=e.bMarks[s]+e.tShift[s],d=e.eMarks[s],l=e.src.slice(c,d),i[r][1].test(l)){0!==l.length&&s++;break}return e.line=s,(a=e.push("html_block","",0)).map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},
"./node_modules/markdown-it/lib/rules_block/lheading.js":function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,s,a,l,c,d,u,p,h=t+1,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";h<n&&!e.isEmpty(h);h++)if(!(e.sCount[h]-e.blkIndent>3)){if(e.sCount[h]>=e.blkIndent&&(l=e.bMarks[h]+e.tShift[h])<(c=e.eMarks[h])&&(45===(u=e.src.charCodeAt(l))||61===u)&&(l=e.skipChars(l,u),(l=e.skipSpaces(l))>=c)){d=61===u?1:2;break}if(!(e.sCount[h]<0)){for(r=!1,i=0,s=m.length;i<s;i++)if(m[i](e,h,n,!0)){r=!0;break}if(r)break}}return!!d&&(o=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(a=e.push("heading_open","h"+String(d),1)).markup=String.fromCharCode(u),a.map=[t,e.line],(a=e.push("inline","",0)).content=o,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(d),-1)).markup=String.fromCharCode(u),e.parentType=p,!0)}},"./node_modules/markdown-it/lib/rules_block/list.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;function r(e,t){var n,r,i,s;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&(s=e.src.charCodeAt(r),!o(s))?-1:r}function i(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=r,s=e.eMarks[t];if(i+1>=s)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=s)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-r>=10)return-1}return i<s&&(n=e.src.charCodeAt(i),!o(n))?-1:i}e.exports=function(e,t,n,o){var s,a,l,c,d,u,p,h,m,f,b,g,y,v,O,j,w,k,E,S,_,C,x,T,P,A,I,M,D=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(o&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(D=!0),(x=i(e,t))>=0){if(p=!0,P=e.bMarks[t]+e.tShift[t],y=Number(e.src.substr(P,x-P-1)),D&&1!==y)return!1}else{if(!((x=r(e,t))>=0))return!1;p=!1}if(D&&e.skipSpaces(x)>=e.eMarks[t])return!1
;if(g=e.src.charCodeAt(x-1),o)return!0;for(b=e.tokens.length,p?(M=e.push("ordered_list_open","ol",1),1!==y&&(M.attrs=[["start",y]])):M=e.push("bullet_list_open","ul",1),M.map=f=[t,0],M.markup=String.fromCharCode(g),O=t,T=!1,I=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";O<n;){for(C=x,v=e.eMarks[O],u=j=e.sCount[O]+x-(e.bMarks[t]+e.tShift[t]);C<v;){if(9===(s=e.src.charCodeAt(C)))j+=4-(j+e.bsCount[O])%4;else{if(32!==s)break;j++}C++}if((d=(a=C)>=v?1:j-u)>4&&(d=1),c=u+d,(M=e.push("list_item_open","li",1)).markup=String.fromCharCode(g),M.map=h=[t,0],_=e.tight,S=e.tShift[t],E=e.sCount[t],w=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=j,a>=v&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!T||(N=!1),T=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[t]=S,e.sCount[t]=E,e.tight=_,(M=e.push("list_item_close","li",-1)).markup=String.fromCharCode(g),
O=t=e.line,h[1]=O,a=e.bMarks[t],O>=n)break;if(e.sCount[O]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(A=!1,l=0,m=I.length;l<m;l++)if(I[l](e,O,n,!0)){A=!0;break}if(A)break;if(p){if((x=i(e,O))<0)break}else if((x=r(e,O))<0)break;if(g!==e.src.charCodeAt(x-1))break}return(M=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),f[1]=O,e.line=O,e.parentType=k,N&&function(e,t){var n,o,r=e.level+2;for(n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,b),!0}},"./node_modules/markdown-it/lib/rules_block/paragraph.js":function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,s,a,l=t+1,c=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(a=e.parentType,e.parentType="paragraph";l<d&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3||e.sCount[l]<0)){for(o=!1,r=0,i=c.length;r<i;r++)if(c[r](e,l,d,!0)){o=!0;break}if(o)break}
return n=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},"./node_modules/markdown-it/lib/rules_block/reference.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").normalizeReference,r=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t,n,i){var s,a,l,c,d,u,p,h,m,f,b,g,y,v,O,j,w=0,k=e.bMarks[t]+e.tShift[t],E=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<E;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===E)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(c=e.lineMax,O=e.md.block.ruler.getRules("reference"),f=e.parentType,e.parentType="reference";S<c&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(v=!1,u=0,p=O.length;u<p;u++)if(O[u](e,S,c,!0)){
v=!0;break}if(v)break}for(E=(y=e.getLines(t,S,e.blkIndent,!1).trim()).length,k=1;k<E;k++){if(91===(s=y.charCodeAt(k)))return!1;if(93===s){m=k;break}(10===s||92===s&&++k<E&&10===y.charCodeAt(k))&&w++}if(m<0||58!==y.charCodeAt(m+1))return!1;for(k=m+2;k<E;k++)if(10===(s=y.charCodeAt(k)))w++;else if(!r(s))break;if(!(b=e.md.helpers.parseLinkDestination(y,k,E)).ok)return!1;if(d=e.md.normalizeLink(b.str),!e.md.validateLink(d))return!1;for(a=k=b.pos,l=w+=b.lines,g=k;k<E;k++)if(10===(s=y.charCodeAt(k)))w++;else if(!r(s))break;for(b=e.md.helpers.parseLinkTitle(y,k,E),k<E&&g!==k&&b.ok?(j=b.str,k=b.pos,w+=b.lines):(j="",k=a,w=l);k<E&&(s=y.charCodeAt(k),r(s));)k++;if(k<E&&10!==y.charCodeAt(k)&&j)for(j="",k=a,w=l;k<E&&(s=y.charCodeAt(k),r(s));)k++;return!(k<E&&10!==y.charCodeAt(k))&&(!!(h=o(y.slice(1,m)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[h]&&(e.env.references[h]={title:j,href:d}),e.parentType=f,e.line=t+w+1),!0))}},
"./node_modules/markdown-it/lib/rules_block/state_block.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/token.js"),r=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;function i(e,t,n,o){var i,s,a,l,c,d,u,p;for(this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,a=l=d=u=0,c=(s=this.src).length;l<c;l++){if(i=s.charCodeAt(l),!p){if(r(i)){d++,9===i?u+=4-u%4:u++;continue}p=!0}10!==i&&l!==c-1||(10!==i&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(d),this.sCount.push(u),this.bsCount.push(0),p=!1,d=0,u=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,
n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),r(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!r(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,o){var i,s,a,l,c,d,u,p=e;if(e>=t)return"";for(d=new Array(t-e),i=0;p<t;p++,i++){for(s=0,u=l=this.bMarks[p],c=p+1<t||o?this.eMarks[p]+1:this.eMarks[p];l<c&&s<n;){if(a=this.src.charCodeAt(l),
r(a))9===a?s+=4-(s+this.bsCount[p])%4:s++;else{if(!(l-u<this.tShift[p]))break;s++}l++}d[i]=s>n?new Array(s-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return d.join("")},i.prototype.Token=o,e.exports=i},"./node_modules/markdown-it/lib/rules_block/table.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;function r(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function i(e){var t,n=[],o=0,r=e.length,i=0,s=0,a=!1,l=0;for(t=e.charCodeAt(o);o<r;)96===t?a?(a=!1,l=o):i%2==0&&(a=!0,l=o):124!==t||i%2!=0||a||(n.push(e.substring(s,o)),s=o+1),92===t?i++:i=0,++o===r&&a&&(a=!1,o=l+1),t=e.charCodeAt(o);return n.push(e.substring(s)),n}e.exports=function(e,t,n,s){var a,l,c,d,u,p,h,m,f,b,g,y;if(t+2>n)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((c=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(a=e.src.charCodeAt(c++))&&45!==a&&58!==a)return!1
;for(;c<e.eMarks[u];){if(124!==(a=e.src.charCodeAt(c))&&45!==a&&58!==a&&!o(a))return!1;c++}for(p=(l=r(e,t+1)).split("|"),f=[],d=0;d<p.length;d++){if(!(b=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?f.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?f.push("left"):f.push("")}if(-1===(l=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((h=(p=i(l.replace(/^\||\|$/g,""))).length)>f.length)return!1;if(s)return!0;for((m=e.push("table_open","table",1)).map=g=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)(m=e.push("th_open","th",1)).map=[t,t+1],f[d]&&(m.attrs=[["style","text-align:"+f[d]]]),(m=e.push("inline","",0)).content=p[d].trim(),m.map=[t,t+1],m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),(m=e.push("tbody_open","tbody",1)).map=y=[t+2,0],
u=t+2;u<n&&!(e.sCount[u]<e.blkIndent)&&-1!==(l=r(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){for(p=i(l.replace(/^\||\|$/g,"")),m=e.push("tr_open","tr",1),d=0;d<h;d++)m=e.push("td_open","td",1),f[d]&&(m.attrs=[["style","text-align:"+f[d]]]),(m=e.push("inline","",0)).content=p[d]?p[d].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return m=e.push("tbody_close","tbody",-1),m=e.push("table_close","table",-1),g[1]=y[1]=u,e.line=u,!0}},"./node_modules/markdown-it/lib/rules_core/block.js":function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},"./node_modules/markdown-it/lib/rules_core/inline.js":function(e,t,n){"use strict";e.exports=function(e){var t,n,o,r=e.tokens;for(n=0,o=r.length;n<o;n++)"inline"===(t=r[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},
"./node_modules/markdown-it/lib/rules_core/linkify.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").arrayReplaceAt;function r(e){return/^<a[>\s]/i.test(e)}function i(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,s,a,l,c,d,u,p,h,m,f,b,g,y,v,O,j=e.tokens;if(e.md.options.linkify)for(n=0,s=j.length;n<s;n++)if("inline"===j[n].type&&e.md.linkify.pretest(j[n].content))for(b=0,t=(a=j[n].children).length-1;t>=0;t--)if("link_close"!==(c=a[t]).type){if("html_inline"===c.type&&(r(c.content)&&b>0&&b--,i(c.content)&&b++),!(b>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(p=c.content,O=e.md.linkify.match(p),d=[],f=c.level,m=0,u=0;u<O.length;u++)g=O[u].url,y=e.md.normalizeLink(g),e.md.validateLink(y)&&(v=O[u].text,v=O[u].schema?"mailto:"!==O[u].schema||/^mailto:/i.test(v)?e.md.normalizeLinkText(v):e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),
(h=O[u].index)>m&&((l=new e.Token("text","",0)).content=p.slice(m,h),l.level=f,d.push(l)),(l=new e.Token("link_open","a",1)).attrs=[["href",y]],l.level=f++,l.markup="linkify",l.info="auto",d.push(l),(l=new e.Token("text","",0)).content=v,l.level=f,d.push(l),(l=new e.Token("link_close","a",-1)).level=--f,l.markup="linkify",l.info="auto",d.push(l),m=O[u].lastIndex);m<p.length&&((l=new e.Token("text","",0)).content=p.slice(m),l.level=f,d.push(l)),j[n].children=a=o(a,t,d)}}else for(t--;a[t].level!==c.level&&"link_open"!==a[t].type;)t--}},"./node_modules/markdown-it/lib/rules_core/normalize.js":function(e,t,n){"use strict";var o=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(o,"\n")).replace(r,"\ufffd"),e.src=t}},"./node_modules/markdown-it/lib/rules_core/replacements.js":function(e,t,n){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,s={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function a(e,t){return s[t.toLowerCase()]}
function l(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(i,a)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function c(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||o.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&l(e.tokens[t].children),o.test(e.tokens[t].content)&&c(e.tokens[t].children))}},"./node_modules/markdown-it/lib/rules_core/smartquotes.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/common/utils.js").isWhiteSpace,r=n("./node_modules/markdown-it/lib/common/utils.js").isPunctChar,i=n("./node_modules/markdown-it/lib/common/utils.js").isMdAsciiPunct,s=/['"]/,a=/['"]/g;function l(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function c(e,t){var n,s,c,d,u,p,h,m,f,b,g,y,v,O,j,w,k,E,S,_,C;for(S=[],n=0;n<e.length;n++){for(s=e[n],h=e[n].level,k=S.length-1;k>=0&&!(S[k].level<=h);k--);if(S.length=k+1,"text"===s.type){u=0,p=(c=s.content).length;e:for(;u<p&&(a.lastIndex=u,d=a.exec(c));){if(j=w=!0,u=d.index+1,E="'"===d[0],f=32,d.index-1>=0)f=c.charCodeAt(d.index-1);else for(k=n-1;k>=0&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k--)if("text"===e[k].type){f=e[k].content.charCodeAt(e[k].content.length-1);break}if(b=32,u<p)b=c.charCodeAt(u);else for(k=n+1;k<e.length&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k++)if("text"===e[k].type){b=e[k].content.charCodeAt(0);break}if(g=i(f)||r(String.fromCharCode(f)),
y=i(b)||r(String.fromCharCode(b)),v=o(f),(O=o(b))?j=!1:y&&(v||g||(j=!1)),v?w=!1:g&&(O||y||(w=!1)),34===b&&'"'===d[0]&&f>=48&&f<=57&&(w=j=!1),j&&w&&(j=!1,w=y),j||w){if(w)for(k=S.length-1;k>=0&&(m=S[k],!(S[k].level<h));k--)if(m.single===E&&S[k].level===h){m=S[k],E?(_=t.md.options.quotes[2],C=t.md.options.quotes[3]):(_=t.md.options.quotes[0],C=t.md.options.quotes[1]),s.content=l(s.content,d.index,C),e[m.token].content=l(e[m.token].content,m.pos,_),u+=C.length-1,m.token===n&&(u+=_.length-1),p=(c=s.content).length,S.length=k;continue e}j?S.push({token:n,pos:d.index,single:E,level:h}):w&&E&&(s.content=l(s.content,d.index,"\u2019"))}else E&&(s.content=l(s.content,d.index,"\u2019"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},"./node_modules/markdown-it/lib/rules_core/state_core.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/token.js")
;function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}r.prototype.Token=o,e.exports=r},"./node_modules/markdown-it/lib/rules_inline/autolink.js":function(e,t,n){"use strict";var o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,r=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,i,s,a,l,c,d=e.pos;return 60===e.src.charCodeAt(d)&&(!((n=e.src.slice(d)).indexOf(">")<0)&&(r.test(n)?(a=(i=n.match(r))[0].slice(1,-1),l=e.md.normalizeLink(a),!!e.md.validateLink(l)&&(t||((c=e.push("link_open","a",1)).attrs=[["href",l]],c.markup="autolink",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(a),(c=e.push("link_close","a",-1)).markup="autolink",c.info="auto"),e.pos+=i[0].length,!0)):!!o.test(n)&&(a=(s=n.match(o))[0].slice(1,-1),l=e.md.normalizeLink("mailto:"+a),
!!e.md.validateLink(l)&&(t||((c=e.push("link_open","a",1)).attrs=[["href",l]],c.markup="autolink",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(a),(c=e.push("link_close","a",-1)).markup="autolink",c.info="auto"),e.pos+=s[0].length,!0))))}},"./node_modules/markdown-it/lib/rules_inline/backticks.js":function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,s,a,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,o=e.posMax;l<o&&96===e.src.charCodeAt(l);)l++;for(r=e.src.slice(n,l),i=s=l;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;s<o&&96===e.src.charCodeAt(s);)s++;if(s-i===r.length)return t||((a=e.push("code_inline","code",0)).markup=r,a.content=e.src.slice(l,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=s,!0}return t||(e.pending+=r),e.pos+=r.length,!0}},"./node_modules/markdown-it/lib/rules_inline/balance_pairs.js":function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a,l,c,d={},u=t.length;for(n=0;n<u;n++)if((r=t[n]).length=r.length||0,
r.close){for(d.hasOwnProperty(r.marker)||(d[r.marker]=[-1,-1,-1]),s=d[r.marker][r.length%3],a=-1,o=n-r.jump-1;o>s;o-=i.jump+1)if((i=t[o]).marker===r.marker&&(-1===a&&(a=o),i.open&&i.end<0&&i.level===r.level&&(l=!1,(i.close||r.open)&&(i.length+r.length)%3==0&&(i.length%3==0&&r.length%3==0||(l=!0)),!l))){c=o>0&&!t[o-1].open?t[o-1].jump+1:0,r.jump=n-o+c,r.open=!1,i.end=n,i.jump=c,i.close=!1,a=-1;break}-1!==a&&(d[r.marker][(r.length||0)%3]=a)}}e.exports=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(0,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(0,n[t].delimiters)}},"./node_modules/markdown-it/lib/rules_inline/emphasis.js":function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a;for(n=t.length-1;n>=0;n--)95!==(o=t[n]).marker&&42!==o.marker||-1!==o.end&&(r=t[o.end],a=n>0&&t[n-1].end===o.end+1&&t[n-1].token===o.token-1&&t[o.end+1].token===r.token+1&&t[n-1].marker===o.marker,s=String.fromCharCode(o.marker),(i=e.tokens[o.token]).type=a?"strong_open":"em_open",
i.tag=a?"strong":"em",i.nesting=1,i.markup=a?s+s:s,i.content="",(i=e.tokens[r.token]).type=a?"strong_close":"em_close",i.tag=a?"strong":"em",i.nesting=-1,i.markup=a?s+s:s,i.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,o,r=e.pos,i=e.src.charCodeAt(r);if(t)return!1;if(95!==i&&42!==i)return!1;for(o=e.scanDelims(e.pos,42===i),n=0;n<o.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:o.length,jump:n,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},"./node_modules/markdown-it/lib/rules_inline/entity.js":function(e,t,n){"use strict"
;var o=n("./node_modules/markdown-it/lib/common/entities.js"),r=n("./node_modules/markdown-it/lib/common/utils.js").has,i=n("./node_modules/markdown-it/lib/common/utils.js").isValidEntityCode,s=n("./node_modules/markdown-it/lib/common/utils.js").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,c,d=e.pos,u=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1<u)if(35===e.src.charCodeAt(d+1)){if(c=e.src.slice(d).match(a))return t||(n="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=i(n)?s(n):s(65533)),e.pos+=c[0].length,!0}else if((c=e.src.slice(d).match(l))&&r(o,c[1]))return t||(e.pending+=o[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},"./node_modules/markdown-it/lib/rules_inline/escape.js":function(e,t,n){"use strict";for(var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace,r=[],i=0;i<256;i++)r.push(0)
;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){r[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<s){if((n=e.src.charCodeAt(i))<256&&0!==r[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<s&&(n=e.src.charCodeAt(i),o(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},"./node_modules/markdown-it/lib/rules_inline/html_inline.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/html_re.js").HTML_TAG_RE;e.exports=function(e,t){var n,r,i,s=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(s).match(o))&&(t||(e.push("html_inline","",0).content=e.src.slice(s,s+r[0].length)),e.pos+=r[0].length,!0))))}},
"./node_modules/markdown-it/lib/rules_inline/image.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").normalizeReference,r=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t){var n,i,s,a,l,c,d,u,p,h,m,f,b,g="",y=e.pos,v=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((d=l+1)<v&&40===e.src.charCodeAt(d)){for(d++;d<v&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);if(d>=v)return!1;for(b=d,(p=e.md.helpers.parseLinkDestination(e.src,d,e.posMax)).ok&&(g=e.md.normalizeLink(p.str),e.md.validateLink(g)?d=p.pos:g=""),b=d;d<v&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);if(p=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<v&&b!==d&&p.ok)for(h=p.str,d=p.pos;d<v&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);else h="";if(d>=v||41!==e.src.charCodeAt(d))return e.pos=y,!1;d++}else{if(void 0===e.env.references)return!1
;if(d<v&&91===e.src.charCodeAt(d)?(b=d+1,(d=e.md.helpers.parseLinkLabel(e,d))>=0?a=e.src.slice(b,d++):d=l+1):d=l+1,a||(a=e.src.slice(c,l)),!(u=e.env.references[o(a)]))return e.pos=y,!1;g=u.href,h=u.title}return t||(s=e.src.slice(c,l),e.md.inline.parse(s,e.md,e.env,f=[]),(m=e.push("image","img",0)).attrs=n=[["src",g],["alt",""]],m.children=f,m.content=s,h&&n.push(["title",h])),e.pos=d,e.posMax=v,!0}},"./node_modules/markdown-it/lib/rules_inline/link.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").normalizeReference,r=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t){var n,i,s,a,l,c,d,u,p,h="",m=e.pos,f=e.posMax,b=e.pos,g=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=a+1)<f&&40===e.src.charCodeAt(c)){for(g=!1,c++;c<f&&(i=e.src.charCodeAt(c),r(i)||10===i);c++);if(c>=f)return!1;for(b=c,
(d=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok&&(h=e.md.normalizeLink(d.str),e.md.validateLink(h)?c=d.pos:h=""),b=c;c<f&&(i=e.src.charCodeAt(c),r(i)||10===i);c++);if(d=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<f&&b!==c&&d.ok)for(p=d.str,c=d.pos;c<f&&(i=e.src.charCodeAt(c),r(i)||10===i);c++);else p="";(c>=f||41!==e.src.charCodeAt(c))&&(g=!0),c++}if(g){if(void 0===e.env.references)return!1;if(c<f&&91===e.src.charCodeAt(c)?(b=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?s=e.src.slice(b,c++):c=a+1):c=a+1,s||(s=e.src.slice(l,a)),!(u=e.env.references[o(s)]))return e.pos=m,!1;h=u.href,p=u.title}return t||(e.pos=l,e.posMax=a,e.push("link_open","a",1).attrs=n=[["href",h]],p&&n.push(["title",p]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=c,e.posMax=f,!0}},"./node_modules/markdown-it/lib/rules_inline/newline.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/common/utils.js").isSpace;e.exports=function(e,t){var n,r,i=e.pos
;if(10!==e.src.charCodeAt(i))return!1;for(n=e.pending.length-1,r=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<r&&o(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},"./node_modules/markdown-it/lib/rules_inline/state_inline.js":function(e,t,n){"use strict";var o=n("./node_modules/markdown-it/lib/token.js"),r=n("./node_modules/markdown-it/lib/common/utils.js").isWhiteSpace,i=n("./node_modules/markdown-it/lib/common/utils.js").isPunctChar,s=n("./node_modules/markdown-it/lib/common/utils.js").isMdAsciiPunct;function a(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}a.prototype.pushPending=function(){
var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},a.prototype.scanDelims=function(e,t){var n,o,a,l,c,d,u,p,h,m=e,f=!0,b=!0,g=this.posMax,y=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;m<g&&this.src.charCodeAt(m)===y;)m++;return a=m-e,o=m<g?this.src.charCodeAt(m):32,u=s(n)||i(String.fromCharCode(n)),h=s(o)||i(String.fromCharCode(o)),d=r(n),(p=r(o))?f=!1:h&&(d||u||(f=!1)),d?b=!1:u&&(p||h||(b=!1)),t?(l=f,c=b):(l=f&&(!b||u),c=b&&(!f||h)),{can_open:l,can_close:c,length:a}},a.prototype.Token=o,e.exports=a},
"./node_modules/markdown-it/lib/rules_inline/strikethrough.js":function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a=[],l=t.length;for(n=0;n<l;n++)126===(r=t[n]).marker&&-1!==r.end&&(i=t[r.end],(s=e.tokens[r.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=e.tokens[i.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&a.push(i.token-1));for(;a.length;){for(o=(n=a.pop())+1;o<e.tokens.length&&"s_close"===e.tokens[o].type;)o++;n!==--o&&(s=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=s)}}e.exports.tokenize=function(e,t){var n,o,r,i,s=e.pos,a=e.src.charCodeAt(s);if(t)return!1;if(126!==a)return!1;if(r=(o=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(a),r<2)return!1;for(r%2&&(e.push("text","",0).content=i,r--),n=0;n<r;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:a,length:0,jump:n,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close
});return e.pos+=o.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},"./node_modules/markdown-it/lib/rules_inline/text.js":function(e,t,n){"use strict";function o(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!o(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},"./node_modules/markdown-it/lib/rules_inline/text_collapse.js":function(e,t,n){"use strict";e.exports=function(e){var t,n,o=0,r=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r[t].nesting<0&&o--,r[t].level=o,r[t].nesting>0&&o++,"text"===r[t].type&&t+1<i&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),
n++);t!==n&&(r.length=n)}},"./node_modules/markdown-it/lib/token.js":function(e,t,n){"use strict";function o(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o.prototype.attrIndex=function(e){var t,n,o;if(!this.attrs)return-1;for(n=0,o=(t=this.attrs).length;n<o;n++)if(t[n][0]===e)return n;return-1},o.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},o.prototype.attrSet=function(e,t){var n=this.attrIndex(e),o=[e,t];n<0?this.attrPush(o):this.attrs[n]=o},o.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},o.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=o},"./node_modules/markdown-it/node_modules/entities/lib/maps/entities.json":function(e){
e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')
},"./node_modules/mdurl/decode.js":function(e,t,n){"use strict";var o={};function r(e,t){var n;return"string"!=typeof t&&(t=r.defaultChars),n=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)r[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,o,r,i,s,a,l,c="";for(t=0,o=e.length;t<o;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?c+=n[r]:192==(224&r)&&t+3<o&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(c+=(l=r<<6&1984|63&i)<128?"\ufffd\ufffd":String.fromCharCode(l),t+=3):224==(240&r)&&t+6<o&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&s))?(c+=(l=r<<12&61440|i<<6&4032|63&s)<2048||l>=55296&&l<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(l),t+=6):240==(248&r)&&t+9<o&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),
128==(192&i)&&128==(192&s)&&128==(192&a))?((l=r<<18&1835008|i<<12&258048|s<<6&4032|63&a)<65536||l>1114111?c+="\ufffd\ufffd\ufffd\ufffd":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):c+="\ufffd";return c}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},"./node_modules/mdurl/encode.js":function(e,t,n){"use strict";var o={};function r(e,t,n){var i,s,a,l,c,d="";for("string"!=typeof t&&(n=t,t=r.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),i=0,s=e.length;i<s;i++)if(a=e.charCodeAt(i),n&&37===a&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))d+=e.slice(i,i+3),i+=2;else if(a<128)d+=c[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&i+1<s&&(l=e.charCodeAt(i+1))>=56320&&l<=57343){d+=encodeURIComponent(e[i]+e[i+1]),i++
;continue}d+="%EF%BF%BD"}else d+=encodeURIComponent(e[i]);return d}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},"./node_modules/mdurl/format.js":function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},"./node_modules/mdurl/index.js":function(e,t,n){"use strict";e.exports.encode=n("./node_modules/mdurl/encode.js"),e.exports.decode=n("./node_modules/mdurl/decode.js"),e.exports.format=n("./node_modules/mdurl/format.js"),e.exports.parse=n("./node_modules/mdurl/parse.js")},"./node_modules/mdurl/parse.js":function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}
var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(a),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};o.prototype.parse=function(e,t){var n,o,i,a,l,f=e;if(f=f.trim(),!t&&1===e.split("#").length){var b=s.exec(f);if(b)return this.pathname=b[1],b[2]&&(this.search=b[2]),this}var g=r.exec(f);if(g&&(i=(g=g[0]).toLowerCase(),this.protocol=g,f=f.substr(g.length)),(t||g||f.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(l="//"===f.substr(0,2))||g&&h[g]||(f=f.substr(2),this.slashes=!0)),!h[g]&&(l||g&&!m[g])){var y,v,O=-1;for(n=0;n<d.length;n++)-1!==(a=f.indexOf(d[n]))&&(-1===O||a<O)&&(O=a);for(-1!==(v=-1===O?f.lastIndexOf("@"):f.lastIndexOf("@",O))&&(y=f.slice(0,v),f=f.slice(v+1),this.auth=y),O=-1,
n=0;n<c.length;n++)-1!==(a=f.indexOf(c[n]))&&(-1===O||a<O)&&(O=a);-1===O&&(O=f.length),":"===f[O-1]&&O--;var j=f.slice(0,O);f=f.slice(O),this.parseHost(j),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var k=this.hostname.split(/\./);for(n=0,o=k.length;n<o;n++){var E=k[n];if(E&&!E.match(u)){for(var S="",_=0,C=E.length;_<C;_++)E.charCodeAt(_)>127?S+="x":S+=E[_];if(!S.match(u)){var x=k.slice(0,n),T=k.slice(n+1),P=E.match(p);P&&(x.push(P[1]),T.unshift(P[2])),T.length&&(f=T.join(".")+f),this.hostname=x.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var A=f.indexOf("#");-1!==A&&(this.hash=f.substr(A),f=f.slice(0,A));var I=f.indexOf("?");return-1!==I&&(this.search=f.substr(I),f=f.slice(0,I)),f&&(this.pathname=f),m[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},o.prototype.parseHost=function(e){var t=i.exec(e)
;t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof o)return e;var n=new o;return n.parse(e,t),n}},"./node_modules/prosemirror-collab/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};var i=function(e,t){this.version=e,this.unconfirmed=t};var s=new o.PluginKey("collab");function a(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new o.Plugin({key:s,state:{init:function(){return new i(e.version,[])},apply:function(e,t){var n=e.getMeta(s);return n||(e.docChanged?new i(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new r(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,
historyPreserveItems:!0})}function l(e,t,n,a){for(var l=s.getState(e),c=l.version+t.length,d=s.get(e).spec.config.clientID,u=0;u<n.length&&n[u]==d;)++u;var p=l.unconfirmed.slice(u);if(!(t=u?t.slice(u):t).length)return e.tr.setMeta(s,new i(c,p));var h=p.length,m=e.tr;if(h)p=function(e,t,n){for(var o=e.length-1;o>=0;o--)n.step(e[o].inverted);for(var i=0;i<t.length;i++)n.step(t[i]);for(var s=[],a=0,l=e.length;a<e.length;a++){var c=e[a].step.map(n.mapping.slice(l));l--,c&&!n.maybeStep(c).failed&&(n.mapping.setMirror(l,n.steps.length-1),s.push(new r(c,c.invert(n.docs[n.docs.length-1]),e[a].origin)))}return s}(p,t,m);else{for(var f=0;f<t.length;f++)m.step(t[f]);p=[]}var b=new i(c,p);return a&&a.mapSelectionBackward&&e.selection instanceof o.TextSelection&&(m.setSelection(o.TextSelection.between(m.doc.resolve(m.mapping.map(e.selection.anchor,-1)),m.doc.resolve(m.mapping.map(e.selection.head,-1)),-1)),m.updated&=-2),m.setMeta("rebased",h).setMeta("addToHistory",!1).setMeta(s,b)}},
"./node_modules/prosemirror-commands/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f}));var o=n("./node_modules/prosemirror-transform/dist/index.es.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js"),i=n("./node_modules/prosemirror-state/dist/index.es.js");function s(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function a(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function l(e,t,n){var o=e.selection,r=o.$head,s=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=c(r)}var a=s&&s.nodeBefore
;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function c(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function u(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function p(e,t){var n=e.selection,o=n.$from,r=n.$to;if(o.parent.inlineContent||r.parent.inlineContent)return!1;var s=u(o.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){var a=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=e.tr.insert(a,s.createAndFill());l.setSelection(i.TextSelection.create(l.doc,a+1)),
t(l.scrollIntoView())}return!0}function h(e,t){var n=e.selection,s=n.$from,a=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!s.parentOffset||!Object(o.k)(e.doc,s.pos))&&(t&&t(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(t){var l=a.parentOffset==a.parent.content.size,c=e.tr;e.selection instanceof i.TextSelection&&c.deleteSelection();var d=0==s.depth?null:u(s.node(-1).contentMatchAt(s.indexAfter(-1))),p=l&&d?[{type:d}]:null,h=Object(o.k)(c.doc,c.mapping.map(s.pos),1,p);p||h||!Object(o.k)(c.doc,c.mapping.map(s.pos),1,d&&[{type:d}])||(p=[{type:d}],h=!0),h&&(c.split(c.mapping.map(s.pos),1,p),l||s.parentOffset||s.parent.type==d||!s.node(-1).canReplace(s.index(-1),s.indexAfter(-1),r.Fragment.from(d.create(),s.parent))||c.setNodeMarkup(c.mapping.map(s.before()),d)),t(c.scrollIntoView())}return!0}function m(e,t,n){var s,a,l=t.nodeBefore,c=t.nodeAfter;if(l.type.spec.isolating||c.type.spec.isolating)return!1;if(function(e,t,n){
var r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!Object(o.j)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(s=(a=l.contentMatchAt(l.childCount)).findWrapping(c.type))&&a.matchType(s[0]||c.type).validEnd){if(n){for(var d=t.pos+c.nodeSize,u=r.Fragment.empty,p=s.length-1;p>=0;p--)u=r.Fragment.from(s[p].create(null,u));u=r.Fragment.from(l.copy(u));var h=e.tr.step(new o.d(t.pos-1,d,t.pos,d,new r.Slice(u,1,0),s.length,!0)),m=d+2*s.length;Object(o.j)(h.doc,m)&&h.join(m),n(h.scrollIntoView())}return!0}var f=i.Selection.findFrom(t,1),b=f&&f.$from.blockRange(f.$to),g=b&&Object(o.p)(b);return null!=g&&g>=t.depth&&(n&&n(e.tr.lift(b,g).scrollIntoView()),!0)}
function f(e,t){return function(n,o){var r=n.selection,i=r.empty,s=r.$cursor,a=r.ranges;if(i&&!s||!function(e,t,n){for(var o=function(o){var r=t[o],i=r.$from,s=r.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},r=0;r<t.length;r++){var i=o(r);if(i)return i.v}return!1}(n.doc,a,e))return!1;if(o)if(s)e.isInSet(n.storedMarks||s.marks())?o(n.tr.removeStoredMark(e)):o(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,d=0;!l&&d<a.length;d++){var u=a[d],p=u.$from,h=u.$to;l=n.doc.rangeHasMark(p.pos,h.pos,e)}for(var m=0;m<a.length;m++){var f=a[m],b=f.$from,g=f.$to;l?c.removeMark(b.pos,g.pos,e):c.addMark(b.pos,g.pos,e.create(t))}o(c.scrollIntoView())}return!0}}function b(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n)
;for(var r=[],i=0;i<n.mapping.maps.length;i++){for(var s=n.mapping.maps[i],a=0;a<r.length;a++)r[a]=s.map(r[a]);s.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var l=[],c=0;c<r.length;c+=2)for(var d=r[c],u=r[c+1],p=n.doc.resolve(d),h=p.sharedDepth(u),m=p.node(h),f=p.indexAfter(h),b=p.after(h+1);b<=u;++f){var g=m.maybeChild(f);if(!g)break;if(f&&-1==l.indexOf(b)){var y=m.child(f-1);y.type==g.type&&t(y,g)&&l.push(b)}b+=g.nodeSize}l.sort((function(e,t){return e-t}));for(var v=l.length-1;v>=0;v--)Object(o.j)(n.doc,l[v])&&n.join(l[v]);e(n)}}(r,t))}}function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,o){for(var r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}var y=g(s,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var s=c(r);if(!s){var l=r.blockRange(),d=l&&Object(o.p)(l);return null!=d&&(t&&t(e.tr.lift(l,d).scrollIntoView()),!0)}var u=s.nodeBefore
;if(!u.type.spec.isolating&&m(e,s,t))return!0;if(0==r.parent.content.size&&(a(u,"end")||i.NodeSelection.isSelectable(u))){if(t){var p=e.tr.deleteRange(r.before(),r.after());p.setSelection(a(u,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(s.pos,-1)),-1):i.NodeSelection.create(p.doc,s.pos-u.nodeSize)),t(p.scrollIntoView())}return!0}return!(!u.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos-u.nodeSize,s.pos).scrollIntoView()),!0)}),l),v=g(s,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;var r=d(o);if(!r)return!1;var s=r.nodeAfter;if(m(e,r,t))return!0;if(0==o.parent.content.size&&(a(s,"start")||i.NodeSelection.isSelectable(s))){if(t){var l=e.tr.deleteRange(o.before(),o.after());l.setSelection(a(s,"start")?i.Selection.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):i.NodeSelection.create(l.doc,l.mapping.map(r.pos))),t(l.scrollIntoView())}return!0}
return!(!s.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var o=e.selection,r=o.$head,s=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=d(r)}var a=s&&s.nodeAfter;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,s.pos)).scrollIntoView()),!0)})),O={Enter:g((function(e,t){var n=e.selection,o=n.$head,r=n.$anchor;return!(!o.parent.type.spec.code||!o.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),p,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(o.k)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),s=i&&Object(o.p)(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)}),h),"Mod-Enter":function(e,t){var n=e.selection,o=n.$head,r=n.$anchor
;if(!o.parent.type.spec.code||!o.sameParent(r))return!1;var s=o.node(-1),a=o.indexAfter(-1),l=u(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,l))return!1;if(t){var c=o.after(),d=e.tr.replaceWith(c,c,l.createAndFill());d.setSelection(i.Selection.near(d.doc.resolve(c),1)),t(d.scrollIntoView())}return!0},Backspace:y,"Mod-Backspace":y,Delete:v,"Mod-Delete":v,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}},j={"Ctrl-h":O.Backspace,"Alt-Backspace":O["Mod-Backspace"],"Ctrl-d":O.Delete,"Ctrl-Alt-Backspace":O["Mod-Delete"],"Alt-Delete":O["Mod-Delete"],"Alt-d":O["Mod-Delete"]};for(var w in O)j[w]=O[w];var k=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?j:O},"./node_modules/prosemirror-history/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return E}));var o=200,r=function(){}
;r.prototype.append=function(e){return e.length?(e=r.from(e),!this.length&&e||e.length<o&&this.leafAppend(e)||this.length<o&&e.leafPrepend(this)||this.appendInner(e)):this},r.prototype.prepend=function(e){return e.length?r.from(e).append(this):this},r.prototype.appendInner=function(e){return new s(this,e)},r.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?r.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},r.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},r.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},r.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},r.from=function(e){return e instanceof r?e:e&&e.length?new i(e):r.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),
t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=o)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=o)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(r);r.empty=new i([]);var s=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,
this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length
;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(r),a=r,l=n("./node_modules/prosemirror-transform/dist/index.es.js"),c=n("./node_modules/prosemirror-state/dist/index.es.js"),d=function(e,t){this.items=e,this.eventCount=t};d.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var o,r,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(o=this.remapping(i,this.items.length),r=o.maps.length);var s,a,l=e.tr,c=[],p=[];return this.items.forEach((function(e,t){if(!e.step)return o||(o=n.remapping(i,t+1),r=o.maps.length),r--,
void p.push(e);if(o){p.push(new u(e.map));var h,m=e.step.map(o.slice(r));m&&l.maybeStep(m).doc&&(h=l.mapping.maps[l.mapping.maps.length-1],c.push(new u(h,null,null,c.length+p.length))),r--,h&&o.appendMap(h,r)}else l.maybeStep(e.step);return e.selection?(s=o?e.selection.map(o.slice(r)):e.selection,a=new d(n.items.slice(0,i).append(p.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},d.prototype.addTransform=function(e,t,n,o){for(var r=[],i=this.eventCount,s=this.items,a=!o&&s.length?s.get(s.length-1):null,l=0;l<e.steps.length;l++){var c,p=e.steps[l].invert(e.docs[l]),m=new u(e.mapping.maps[l],p,t);(c=a&&a.merge(m))&&(m=c,l?r.pop():s=s.slice(0,s.length-1)),r.push(m),t&&(i++,t=null),o||(a=m)}var f=i-n.depth;return f>h&&(s=function(e,t){var n;return e.forEach((function(e,o){if(e.selection&&0==t--)return n=o,!1})),e.slice(n)}(s,f),i-=f),new d(s.append(r),i)},d.prototype.remapping=function(e,t){var n=new l.b
;return this.items.forEach((function(t,o){var r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},d.prototype.addMaps=function(e){return 0==this.eventCount?this:new d(this.items.append(e.map((function(e){return new u(e)}))),this.eventCount)},d.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),o);var a=t;this.items.forEach((function(t){var o=r.getMirror(--a);if(null!=o){i=Math.min(i,o);var l=r.maps[o];if(t.step){var c=e.steps[o].invert(e.docs[o]),d=t.selection&&t.selection.map(r.slice(a+1,o));d&&s++,n.push(new u(l,c,d))}else n.push(new u(l))}}),o);for(var l=[],c=t;c<i;c++)l.push(new u(r.maps[c]));var p=this.items.slice(0,o).append(l).append(n),h=new d(p,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},d.prototype.emptyItemCount=function(){var e=0
;return this.items.forEach((function(t){t.step||e++})),e},d.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach((function(i,s){if(s>=e)o.push(i),i.selection&&r++;else if(i.step){var a=i.step.map(t.slice(n)),l=a&&a.getMap();if(n--,l&&t.appendMap(l,n),a){var c=i.selection&&i.selection.map(t.slice(n));c&&r++;var d,p=new u(l.invert(),a,c),h=o.length-1;(d=o.length&&o[h].merge(p))?o[h]=d:o.push(p)}}else i.map&&n--}),this.items.length,0),new d(a.from(o.reverse()),r)},d.empty=new d(a.empty,0);var u=function(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o};u.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}};var p=function(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o},h=20;function m(e){var t=[];return e.forEach((function(e,n,o,r){return t.push(o,r)})),t}
function f(e,t){if(!e)return null;for(var n=[],o=0;o<e.length;o+=2){var r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function b(e,t,n,o){var r=v(t),i=j.get(t).spec.config,s=(o?e.undone:e.done).popEvent(t,r);if(s){var a=s.selection.resolve(s.transform.doc),l=(o?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),c=new p(o?l:s.remaining,o?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(j,{redo:o,historyState:c}).scrollIntoView())}}var g=!1,y=null;function v(e){var t=e.plugins;if(y!=t){g=!1,y=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){g=!0;break}}return g}function O(e){return e.setMeta(w,!0)}var j=new c.PluginKey("history"),w=new c.PluginKey("closeHistory");function k(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new c.Plugin({key:j,state:{init:function(){return new p(d.empty,d.empty,null,0)},apply:function(t,n,o){return function(e,t,n,o){var r,i=n.getMeta(j);if(i)return i.historyState
;n.getMeta(w)&&(e=new p(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(j))return s.getMeta(j).redo?new p(e.done.addTransform(n,null,o,v(t)),e.undone,m(n.mapping.maps[n.steps.length-1]),e.prevTime):new p(e.done,e.undone.addTransform(n,null,o,v(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new p(e.done.rebased(n,r),e.undone.rebased(n,r),f(e.prevRanges,n.mapping),e.prevTime):new p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),f(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,o){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),l=s?f(e.prevRanges,n.mapping):m(n.mapping.maps[n.steps.length-1])
;return new p(e.done.addTransform(n,a?t.selection.getBookmark():null,o,v(t)),d.empty,l,n.time)}(n,o,t,e)}},config:e})}function E(e,t){var n=j.getState(e);return!(!n||0==n.done.eventCount)&&(t&&b(n,e,t,!1),!0)}function S(e,t){var n=j.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&b(n,e,t,!0),!0)}},"./node_modules/prosemirror-inputrules/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c}));var o=n("./node_modules/prosemirror-state/dist/index.es.js"),r=n("./node_modules/prosemirror-transform/dist/index.es.js"),i=function(e,t){this.match=e,this.handler="string"==typeof t?function(e){return function(t,n,o,r){var i=e;if(n[1]){var s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length);var a=(o+=s)-r;a>0&&(i=n[0].slice(s-a,s)+i,o=r)}return t.tr.insertText(i,o,r)}}(t):t};function s(e){var t=e.rules,n=new o.Plugin({state:{
init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,o,r,i){return a(e,o,r,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var o=e.state.selection.$cursor;o&&a(e,o.pos,o.pos,"",t,n)}))}}},isInputRules:!0});return n}function a(e,t,n,o,r,i){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+o,c=0;c<r.length;c++){var d=r[c].match.exec(l),u=d&&r[c].handler(s,d,t-(d[0].length-o.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:o})),!0}return!1}function l(e,t){for(var n=e.plugins,o=0;o<n.length;o++){var r=n[o],i=void 0;if(r.spec.isInputRules&&(i=r.getState(e))){if(t){for(var s=e.tr,a=i.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(i.text){var c=s.doc.resolve(i.from).marks()
;s.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else s.delete(i.from,i.to);t(s)}return!0}}return!1}new i(/--$/,"\u2014"),new i(/\.\.\.$/,"\u2026"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new i(/"$/,"\u201d"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new i(/'$/,"\u2019");function c(e,t,n,o){return new i(e,(function(e,i,s,a){var l=n instanceof Function?n(i):n,c=e.tr.delete(s,a),d=c.doc.resolve(s).blockRange(),u=d&&Object(r.m)(d,t,l);if(!u)return null;c.wrap(d,u);var p=c.doc.resolve(s-1).nodeBefore;return p&&p.type==t&&Object(r.j)(c.doc,s-1)&&(!o||o(i,p))&&c.join(s-1),c}))}function d(e,t,n){return new i(e,(function(e,o,r,i){var s=e.doc.resolve(r),a=n instanceof Function?n(o):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(r,i).setBlockType(r,r,t,a):null}))}},"./node_modules/prosemirror-keymap/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g}));for(var o={
8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"
},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=i&&(l||+i[1]<57)||a&&l,u=0;u<10;u++)o[48+u]=o[96+u]=String(u);for(u=1;u<=24;u++)o[u+111]="F"+u;for(u=65;u<=90;u++)o[u]=String.fromCharCode(u+32),r[u]=String.fromCharCode(u);for(var p in o)r.hasOwnProperty(p)||(r[p]=o[p]);var h=n("./node_modules/prosemirror-state/dist/index.es.js"),m="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function f(e){var t,n,o,r,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var l=i[a]
;if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);m?r=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function b(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function g(e){return new h.Plugin({props:{handleKeyDown:y(e)}})}function y(e){var t=function(e){var t=Object.create(null);for(var n in e)t[f(n)]=e[n];return t}(e);return function(e,n){var i,a=function(e){var t=!(d&&(e.ctrlKey||e.altKey||e.metaKey)||(s||c)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:o)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),l=1==a.length&&" "!=a,u=t[b(a,n,!l)]
;if(u&&u(e.state,e.dispatch,e))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(i=o[n.keyCode])&&i!=a){var p=t[b(i,n,!0)];if(p&&p(e.state,e.dispatch,e))return!0}else if(l&&n.shiftKey){var h=t[b(a,n,!0)];if(h&&h(e.state,e.dispatch,e))return!0}return!1}}},"./node_modules/prosemirror-markdown/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b}));var o=n("./node_modules/prosemirror-model/dist/index.es.js"),r=n("./node_modules/markdown-it/index.js"),i=n.n(r),s=new o.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",
defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{params:e.getAttribute("data-params")||""}}}],toDOM:function(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",
getAttrs:function(e){return{tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(e){return"italic"==e&&null}}],toDOM:function(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong"]}},link:{attrs:{href:{},
title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){return["a",e.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}});var a=function(e,t){this.schema=e,this.stack=[{type:e.topNodeType,content:[]}],this.marks=o.Mark.none,this.tokenHandlers=t};function l(e,t){return e.getAttrs?e.getAttrs(t):e.attrs instanceof Function?e.attrs(t):e.attrs}function c(e){return"code_inline"==e||"code_block"==e||"fence"==e}function d(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function u(){}a.prototype.top=function(){return this.stack[this.stack.length-1]},a.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},a.prototype.addText=function(e){if(e){var t,n=this.top().content,r=n[n.length-1],i=this.schema.text(e,this.marks);r&&(t=function(e,t){if(e.isText&&t.isText&&o.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)
}(r,i))?n[n.length-1]=t:n.push(i)}},a.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},a.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},a.prototype.parseTokens=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.tokenHandlers[n.type];if(!o)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");o(this,n)}},a.prototype.addNode=function(e,t,n){var o=e.createAndFill(t,n,this.marks);return o?(this.push(o),o):null},a.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},a.prototype.closeNode=function(){this.marks.length&&(this.marks=o.Mark.none);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)};var p=function(e,t,n){this.tokens=n,this.schema=e,this.tokenizer=t,this.tokenHandlers=function(e,t){var n=Object.create(null),o=function(o){var r=t[o];if(r.block){var i=e.nodeType(r.block);c(o)?n[o]=function(e,t){e.openNode(i,l(r,t)),e.addText(d(t.content)),e.closeNode()
}:(n[o+"_open"]=function(e,t){return e.openNode(i,l(r,t))},n[o+"_close"]=function(e){return e.closeNode()})}else if(r.node){var s=e.nodeType(r.node);n[o]=function(e,t){return e.addNode(s,l(r,t))}}else if(r.mark){var a=e.marks[r.mark];c(o)?n[o]=function(e,t){e.openMark(a.create(l(r,t))),e.addText(d(t.content)),e.closeMark(a)}:(n[o+"_open"]=function(e,t){return e.openMark(a.create(l(r,t)))},n[o+"_close"]=function(e){return e.closeMark(a)})}else{if(!r.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(r));c(o)?n[o]=u:(n[o+"_open"]=u,n[o+"_close"]=u)}};for(var r in t)o(r);return n.text=function(e,t){return e.addText(t.content)},n.inline=function(e,t){return e.parseTokens(t.children)},n.softbreak=n.softbreak||function(e){return e.addText("\n")},n}(e,n)};p.prototype.parse=function(e){var t,n=new a(this.schema,this.tokenHandlers);n.parseTokens(this.tokenizer.parse(e,{}));do{t=n.closeNode()}while(n.stack.length);return t};new p(s,i()("commonmark",{html:!1}),{blockquote:{
block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(e){return{order:+e.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function(e){return{level:+e.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},code_inline:{mark:"code"}});var h=function(e,t){this.nodes=e,this.marks=t};h.prototype.serialize=function(e,t){var n=new b(this.nodes,this.marks,t);return n.renderContent(e),n.out};new h({blockquote:function(e,t){e.wrapBlock("> ",null,t,(function(){
return e.renderContent(t)}))},code_block:function(e,t){e.write("```"+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},heading:function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule:function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list:function(e,t){e.renderList(t,"  ",(function(){return(t.attrs.bullet||"*")+" "}))},ordered_list:function(e,t){var n=t.attrs.order||1,o=String(n+t.childCount-1).length,r=e.repeat(" ",o+2);e.renderList(t,r,(function(t){var r=String(n+t);return e.repeat(" ",o-r.length)+r+". "}))},list_item:function(e,t){e.renderContent(t)},paragraph:function(e,t){e.renderInline(t),e.closeBlock(t)},image:function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")")},hard_break:function(e,t,n,o){for(var r=o+1;r<n.childCount;r++)if(n.child(r).type!=t.type)return void e.write("\\\n")},
text:function(e,t){e.text(t.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function(e,t,n,o){return f(t,n,o,1)?"<":"["},close:function(e,t,n,o){return f(t,n,o,-1)?">":"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}},code:{open:function(e,t,n,o){return m(n.child(o),-1)},close:function(e,t,n,o){return m(n.child(o-1),1)},escape:!1}});function m(e,t){var n,o=/`+/g,r=0;if(e.isText)for(;n=o.exec(e.text);)r=Math.max(r,n[0].length);for(var i=r>0&&t>0?" `":"`",s=0;s<r;s++)i+="`";return r>0&&t<0&&(i+=" "),i}function f(e,t,n,o){if(e.attrs.title)return!1;var r=t.child(n+(o<0?-1:0));if(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)return!1;if(n==(o<0?1:t.childCount-1))return!0;var i=t.child(n+(o<0?-2:1));return!e.isInSet(i.marks)}var b=function(e,t,n){this.nodes=e,this.marks=t,this.delim=this.out="",this.closed=!1,this.inTightList=!1,
this.options=n||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)};b.prototype.flushClose=function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var o=1;o<e;o++)this.out+=t+"\n"}this.closed=!1}},b.prototype.wrapBlock=function(e,t,n,o){var r=this.delim;this.write(t||e),this.delim+=e,o(),this.delim=r,this.closeBlock(n)},b.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},b.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},b.prototype.write=function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)},b.prototype.closeBlock=function(e){this.closed=e},b.prototype.text=function(e,t){for(var n=e.split("\n"),o=0;o<n.length;o++){var r=this.atBlank()||this.closed;this.write(),this.out+=!1!==t?this.esc(n[o],r):n[o],o!=n.length-1&&(this.out+="\n")}},b.prototype.render=function(e,t,n){
if("number"==typeof t)throw new Error("!");this.nodes[e.type.name](this,e,t,n)},b.prototype.renderContent=function(e){var t=this;e.forEach((function(n,o,r){return t.render(n,e,r)}))},b.prototype.renderInline=function(e){var t=this,n=[],o="",r=function(r,i,s){var a=r?r.marks:[];r&&"hard_break"===r.type.name&&(a=a.filter((function(t){if(s+1==e.childCount)return!1;var n=e.child(s+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));var l=o;if(o="",r&&r.isText&&a.some((function(e){var n=t.marks[e.type.name];return n&&n.expelEnclosingWhitespace}))){var c=/^(\s*)(.*?)(\s*)$/m.exec(r.text),d=(c[0],c[1]),u=c[2],p=c[3];l+=d,o=p,(d||p)&&((r=u?r.withText(u):null)||(a=n))}var h=a.length&&a[a.length-1],m=h&&!1===t.marks[h.type.name].escape,f=a.length-(m?1:0);e:for(var b=0;b<f;b++){var g=a[b];if(!t.marks[g.type.name].mixable)break;for(var y=0;y<n.length;y++){var v=n[y];if(!t.marks[v.type.name].mixable)break;if(g.eq(v)){
b>y?a=a.slice(0,y).concat(g).concat(a.slice(y,b)).concat(a.slice(b+1,f)):y>b&&(a=a.slice(0,b).concat(a.slice(b+1,y)).concat(g).concat(a.slice(y,f)));continue e}}}for(var O=0;O<Math.min(n.length,f)&&a[O].eq(n[O]);)++O;for(;O<n.length;)t.text(t.markString(n.pop(),!1,e,s),!1);if(l&&t.text(l),r){for(;n.length<f;){var j=a[n.length];n.push(j),t.text(t.markString(j,!0,e,s),!1)}m&&r.isText?t.text(t.markString(h,!0,e,s)+r.text+t.markString(h,!1,e,s+1),!1):t.render(r,e,s)}};e.forEach(r),r(null,0,e.childCount)},b.prototype.renderList=function(e,t,n){var o=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=r,e.forEach((function(i,s,a){a&&r&&o.flushClose(1),o.wrapBlock(t,n(a),e,(function(){return o.render(i,e,a)}))})),this.inTightList=i},b.prototype.esc=function(e,t){return e=e.replace(/[`*\\~\[\]]/g,"\\$&"),
t&&(e=e.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),e},b.prototype.quote=function(e){var t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]},b.prototype.repeat=function(e,t){for(var n="",o=0;o<t;o++)n+=e;return n},b.prototype.markString=function(e,t,n,o){var r=this.marks[e.type.name],i=t?r.open:r.close;return"string"==typeof i?i:i(this,e,n,o)},b.prototype.getEnclosingWhitespace=function(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}}},"./node_modules/prosemirror-schema-list/dist/index.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));var o=n("./node_modules/prosemirror-transform/dist/index.es.js"),r=n("./node_modules/prosemirror-model/dist/index.es.js");function i(e,t){return function(n,i){var s=n.selection,a=s.$from,l=s.$to,c=a.blockRange(l),d=!1,u=c;if(!c)return!1
;if(c.depth>=2&&a.node(c.depth-1).type.compatibleContent(e)&&0==c.startIndex){if(0==a.index(c.depth-1))return!1;var p=n.doc.resolve(c.start-2);u=new r.NodeRange(p,p,c.depth),c.endIndex<c.parent.childCount&&(c=new r.NodeRange(a,n.doc.resolve(l.end(c.depth)),c.depth)),d=!0}var h=Object(o.m)(u,e,t,c);return!!h&&(i&&i(function(e,t,n,i,s){for(var a=r.Fragment.empty,l=n.length-1;l>=0;l--)a=r.Fragment.from(n[l].type.create(n[l].attrs,a));e.step(new o.d(t.start-(i?2:0),t.end,t.start,t.end,new r.Slice(a,0,0),n.length,!0));for(var c=0,d=0;d<n.length;d++)n[d].type==s&&(c=d+1);for(var u=n.length-c,p=t.start+n.length-(i?2:0),h=t.parent,m=t.startIndex,f=t.endIndex,b=!0;m<f;m++,b=!1)!b&&Object(o.k)(e.doc,p,u)&&(e.split(p,u),p+=2*u),p+=h.child(m).nodeSize;return e}(n.tr,c,h,d,e).scrollIntoView()),!0)}}function s(e){return function(t,n){var i=t.selection,s=i.$from,a=i.$to,l=s.blockRange(a,(function(t){return t.childCount&&t.firstChild.type==e}))
;return!!l&&(!n||(s.node(l.depth-1).type==e?function(e,t,n,i){var s=e.tr,a=i.end,l=i.$to.end(i.depth);a<l&&(s.step(new o.d(a-1,l,a,l,new r.Slice(r.Fragment.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new r.NodeRange(s.doc.resolve(i.$from.pos),s.doc.resolve(l),i.depth));return t(s.lift(i,Object(o.p)(i)).scrollIntoView()),!0}(t,n,e,l):function(e,t,n){for(var i=e.tr,s=n.parent,a=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)a-=s.child(l).nodeSize,i.delete(a-1,a+1);var d=i.doc.resolve(n.start),u=d.nodeAfter,p=0==n.startIndex,h=n.endIndex==s.childCount,m=d.node(-1),f=d.index(-1);if(!m.canReplace(f+(p?0:1),f+1,u.content.append(h?r.Fragment.empty:r.Fragment.from(s))))return!1;var b=d.pos,g=b+u.nodeSize;return i.step(new o.d(b-(p?1:0),g+(h?1:0),b+1,g-1,new r.Slice((p?r.Fragment.empty:r.Fragment.from(s.copy(r.Fragment.empty))).append(h?r.Fragment.empty:r.Fragment.from(s.copy(r.Fragment.empty))),p?0:1,h?0:1),p?0:1)),t(i.scrollIntoView()),!0}(t,n,l)))}}function a(e){return function(t,n){
var i=t.selection,s=i.$from,a=i.$to,l=s.blockRange(a,(function(t){return t.childCount&&t.firstChild.type==e}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var d=l.parent,u=d.child(c-1);if(u.type!=e)return!1;if(n){var p=u.lastChild&&u.lastChild.type==d.type,h=r.Fragment.from(p?e.create():null),m=new r.Slice(r.Fragment.from(e.create(null,r.Fragment.from(d.type.create(null,h)))),p?3:1,0),f=l.start,b=l.end;n(t.tr.step(new o.d(f-(p?3:1),b,f,b,m,1,!0)).scrollIntoView())}return!0}}},"./node_modules/prosemirror-view/dist/index.es.js":function(t,n,o){"use strict";o.d(n,"a",(function(){return Ct})),o.d(n,"b",(function(){return At})),o.d(n,"c",(function(){return Ht}));var r=o("./node_modules/prosemirror-state/dist/index.es.js"),i=o("./node_modules/prosemirror-model/dist/index.es.js"),s=o("./node_modules/prosemirror-transform/dist/index.es.js"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){
var l=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),d=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(c||d||l);a.ie_version=c?document.documentMode||6:d?+d[1]:l?+l[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var p=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!p,a.chrome_version=p&&+p[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var h=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},m=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},f=function(e,t,n){
var o=document.createRange();return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},b=function(e,t,n,o){return n&&(y(e,t,n,o,-1)||y(e,t,n,o,1))},g=/^(img|br|input|textarea|hr)$/i;function y(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:v(e))){var i=e.parentNode;if(1!=i.nodeType||O(e)||g.test(e.nodeName)||"false"==e.contentEditable)return!1;t=h(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?v(e):0}}}function v(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function O(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var j=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function w(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function k(e){return{left:0,right:e.documentElement.clientWidth,top:0,
bottom:e.documentElement.clientHeight}}function E(e,t){return"number"==typeof e?e:e[t]}function S(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function _(e,t,n){for(var o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,s=n||e.dom;s;s=m(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,l=a?k(i):S(s),c=0,d=0;if(t.top<l.top+E(o,"top")?d=-(l.top-t.top+E(r,"top")):t.bottom>l.bottom-E(o,"bottom")&&(d=t.bottom-l.bottom+E(r,"bottom")),t.left<l.left+E(o,"left")?c=-(l.left-t.left+E(r,"left")):t.right>l.right-E(o,"right")&&(c=t.right-l.right+E(r,"right")),c||d)if(a)i.defaultView.scrollBy(c,d);else{var u=s.scrollLeft,p=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);var h=s.scrollLeft-u,f=s.scrollTop-p;t={left:t.left-h,top:t.top-f,right:t.right-h,bottom:t.bottom-f}}if(a)break}}function C(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),
e!=n);e=m(e));return t}function x(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.dom,i=o.top,s=o.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}var T=null;function P(e,t){for(var n,o,r=2e8,i=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var d=void 0;if(1==l.nodeType)d=l.getClientRects();else{if(3!=l.nodeType)continue;d=f(l).getClientRects()}for(var u=0;u<d.length;u++){var p=d[u];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<r){n=l,r=h,o=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&h&&(i=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);var i=D(o,1);if(i.top!=i.bottom&&A(t,i))return{node:e,
offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:P(n,o)}function A(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function I(e,t,n){var o=e.childNodes.length;if(o&&n.top<n.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){var s=e.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(A(t,c))return I(s,t,c)}if((i=(i+1)%o)==r)break}return e}function M(e,t){var n,o,r,i,s=e.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(t.left,t.top);l&&(r=(n=l).offsetNode,i=n.offset)}catch(b){}if(!r&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(t.left,t.top);c&&(r=(o=c).startContainer,i=o.startOffset)}var d,u=s.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=e.dom.getBoundingClientRect();if(!A(t,p))return null;if(!(u=I(e.dom,t,p)))return null}
if(a.safari&&u.draggable&&(r=i=null),u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),r){if(a.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var h,m=r.childNodes[i];"IMG"==m.nodeName&&(h=m.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?d=e.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(d=function(e,t,n,o){for(var r=-1,i=t;i!=e.dom;){var s=e.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>o.left||a.top>o.top)r=s.posBefore;else{if(!(a.right<o.left||a.bottom<o.top))break;r=s.posAfter}}i=s.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,i,t))}null==d&&(d=function(e,t,n){var o=P(t,n),r=o.node,i=o.offset,s=-1;if(1==r.nodeType&&!r.firstChild){
var a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}(e,u,t));var f=e.docView.nearestDesc(u,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function D(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function N(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset;if(3==o.nodeType&&(a.webkit||a.gecko)){var i=D(f(o,r,r),0);if(a.gecko&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){var s=D(f(o,r-1,r-1),-1);if(s.top==i.top){var l=D(f(o,r,r+1),-1);if(l.top!=i.top)return R(l,l.left<s.left)}}return i}if(1==o.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var c,d=!0;if(r<o.childNodes.length){var u=o.childNodes[r];1==u.nodeType&&(c=u.getBoundingClientRect())}if(!c&&r){var p=o.childNodes[r-1];1==p.nodeType&&(c=p.getBoundingClientRect(),d=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}
}(c||o.getBoundingClientRect(),d)}for(var h=-1;h<2;h+=2)if(h<0&&r){var m=void 0,b=3==o.nodeType?f(o,r-1,r):3==(m=o.childNodes[r-1]).nodeType?f(m):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(b){var g=D(b,1);if(g.top<g.bottom)return R(g,!1)}}else if(h>0&&r<v(o)){var y=void 0,O=3==o.nodeType?f(o,r,r+1):3==(y=o.childNodes[r]).nodeType?f(y):1==y.nodeType?y:null;if(O){var j=D(O,-1);if(j.top<j.bottom)return R(j,!0)}}return R(D(3==o.nodeType?f(o):o,0),!1)}function R(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function L(e,t,n){var o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}var B=/[\u0590-\u08ac]/;var F=null,z=null,U=!1;function H(e,t,n){return F==t&&z==n?U:(F=t,z=n,U="up"==n||"down"==n?function(e,t,n){var o=t.selection,r="up"==n?o.$anchor.min(o.$head):o.$anchor.max(o.$head);return L(e,t,(function(){
for(var t=e.docView.domFromPos(r.pos).node;;){var o=e.docView.nearestDesc(t,!0);if(!o)break;if(o.node.isBlock){t=o.dom;break}t=o.dom.parentNode}for(var i=N(e,r.pos),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=f(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top&&("up"==n?c.bottom<i.top+1:c.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var o=t.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,s=r==o.parent.content.size,a=getSelection();return B.test(o.parent.textContent)&&a.modify?L(e,t,(function(){var t=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var l=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l
})):"left"==n||"backward"==n?i:s}(e,t,n))}var $=function(e,t,n,o){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},W={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};$.prototype.matchesWidget=function(){return!1},$.prototype.matchesMark=function(){return!1},$.prototype.matchesNode=function(){return!1},$.prototype.matchesHack=function(){return!1},W.beforePosition.get=function(){return!1},$.prototype.parseRule=function(){return null},$.prototype.stopEvent=function(){return!1},W.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},W.border.get=function(){return 0},$.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},
$.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var o=this.children[t];if(o==e)return n;n+=o.size}},W.posBefore.get=function(){return this.parent.posBeforeChild(this)},W.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},W.posAfter.get=function(){return this.posBefore+this.size},W.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},$.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,r;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,s;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling
;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},$.prototype.nearestDesc=function(e,t){for(var n=!0,o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},$.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},$.prototype.posFromDOM=function(e,t,n){for(var o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1},$.prototype.descAt=function(e){
for(var t=0,n=0;t<this.children.length;t++){var o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}},$.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:h(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var o=this.children[n],r=t+o.size;if(e<r)return o.domFromPos(e-t-o.border);t=r}},$.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,s=0;;s++){var a=this.children[s],l=i+a.size;if(-1==o&&e<=l){var c=i+a.border
;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=i;for(var d=s;d>0;d--){var u=this.children[d-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){o=h(u.dom)+1;break}e-=u.size}-1==o&&(o=0)}if(o>-1&&(l>t||s==this.children.length-1)){t=l;for(var p=s+1;p<this.children.length;p++){var m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){r=h(m.dom);break}t+=m.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}},$.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},$.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,o=t.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]},
$.prototype.setSelection=function(e,t,n,o){for(var r=Math.min(e,t),i=Math.max(e,t),s=0,l=0;s<this.children.length;s++){var c=this.children[s],d=l+c.size;if(r>l&&i<d)return c.setSelection(e-l-c.border,t-l-c.border,n,o);l=d}var u=this.domFromPos(e),p=this.domFromPos(t),h=n.getSelection();if(o||!b(u.node,u.offset,h.anchorNode,h.anchorOffset)||!b(p.node,p.offset,h.focusNode,h.focusOffset)){var m=!1;if(a.gecko&&e==t){var f=u.node.childNodes[u.offset-1];f&&"BR"==f.nodeName&&(m=!0)}var g=!1;if((h.extend||e==t)&&!m){h.collapse(u.node,u.offset);try{e!=t&&h.extend(p.node,p.offset),g=!0}catch(O){if(!(O instanceof DOMException))throw O}}if(!g){if(e>t){var y=u;u=p,p=y}var v=document.createRange();v.setEnd(p.node,p.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}},$.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},W.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},
$.prototype.markDirty=function(e,t){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var s=n+r.border,a=i-r.border;if(e>=s&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=s||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-s,t-s):r.dirty=3);r.dirty=3}n=i}this.dirty=2},$.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties($.prototype,W);var V=[],K=function(e){function t(t,n,o,r){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(o,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}e.call(this,t,V,s,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}
};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}($),q=function(e){function t(t,n,o,r){e.call(this,t,V,n,null),this.textDOM=o,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},
Object.defineProperties(t.prototype,n),t}($),G=function(e){function t(t,n,o,r){e.call(this,t,[],o,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,r){var s=r.nodeViews[n.type.name],a=s&&s(n,r,o);return a&&a.dom||(a=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,o){var r=t.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=ue(i,n,s,o)),e>0&&(i=ue(i,0,e,o));for(var a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r},t
}($),Y=function(e){function t(t,n,o,r,i,s,a,l,c){e.call(this,t,n.isLeaf?V:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=o,this.innerDeco=r,s&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,o,r,s,a){var l,c,d=s.nodeViews[n.type.name],u=d&&d(n,s,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a}),o),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(l=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,h=l.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var m=p;return p=se(p,o,n),u?c=new Q(e,n,o,r,p,h,m,u,s,a+1):n.isText?new J(e,n,o,r,p,m,s):new t(e,n,o,r,p,h,m,s,a+1)},
t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ae(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,r=t,s=o&&e.composing&&this.localCompositionNode(e,t),l=new ce(this,s&&s.node);!function(e,t,n,o){var r=t.locals(e),i=0;if(0==r.length){for(var s=0;s<e.childCount;s++){var a=e.child(s);o(a,r,t.forChild(i,a),s),i+=a.nodeSize}return}for(var l=0,c=[],d=null,u=0;;){if(l<r.length&&r[l].to==i){
for(var p=r[l++],h=void 0;l<r.length&&r[l].to==i;)(h||(h=[p])).push(r[l++]);if(h){h.sort(de);for(var m=0;m<h.length;m++)n(h[m],u,!!d)}else n(p,u,!!d)}var f=void 0,b=void 0;if(d)b=-1,f=d,d=null;else{if(!(u<e.childCount))break;b=u,f=e.child(u++)}for(var g=0;g<c.length;g++)c[g].to<=i&&c.splice(g--,1);for(;l<r.length&&r[l].from<=i&&r[l].to>i;)c.push(r[l++]);var y=i+f.nodeSize;if(f.isText){var v=y;l<r.length&&r[l].from<v&&(v=r[l].from);for(var O=0;O<c.length;O++)c[O].to<v&&(v=c[O].to);v<y&&(d=f.cut(v-i),f=f.cut(0,v-i),y=v,b=-1)}o(f,c.length?f.isInline&&!f.isLeaf?c.filter((function(e){return!e.inline})):c.slice():V,t.forChild(i,f),b),i=y}}(this.node,this.innerDeco,(function(t,s,a){t.spec.marks?l.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&!a&&l.syncToMarks(s==n.node.childCount?i.Mark.none:n.node.child(s).marks,o,e),l.placeWidget(t,e,r)}),(function(t,n,i,s){l.syncToMarks(t.marks,o,e),l.findNodeMatch(t,n,i,s)||l.updateNextNode(t,n,i,e,s)||l.addNode(t,n,i,e,r),r+=t.nodeSize})),
l.syncToMarks(V,o,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),ee(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,o=n.from,i=n.to;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var s=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=v(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var l=a.nodeValue,c=function(e,t,n,o){for(var r=0,i=0;r<e.childCount&&i<=o;){
var s=e.child(r++),a=i;if(i+=s.nodeSize,s.isText){for(var l=s.text;r<e.childCount;){var c=e.child(r++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var d=l.lastIndexOf(t,o-a);if(d>=0&&d+t.length+a>=n)return a+d}}}return-1}(this.node.content,l,o-t,i-t);return c<0?null:{node:a,pos:c,text:l}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,o=t.pos,r=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new q(this,i,n,r);e.compositionNodes.push(s),this.children=ue(this.children,o,o+r.length,e,s)}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)},t.prototype.updateInner=function(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),
this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ae(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=re(this.dom,this.nodeDOM,oe(this.outerDeco,this.node,t),oe(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}($);function X(e,t,n,o,r){return se(o,t,e),new Y(null,e,t,n,o,o,o,r,0)}var J=function(e){function t(t,n,o,r,i,s,a){e.call(this,t,n,o,r,i,null,s,a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){
for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,o){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,o)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,o){var r=this.node.cut(e,n),i=document.createTextNode(r.text)
;return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},t}(Y),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}($),Q=function(e){function t(t,n,o,r,i,s,a,l,c,d){e.call(this,t,n,o,r,i,s,a,c,d),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,o,r),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,o,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},
t.prototype.setSelection=function(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o):e.prototype.setSelection.call(this,t,n,o,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Y);function ee(e,t,n){for(var o=e.firstChild,r=!1,i=0;i<t.length;i++){var s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=o;)o=le(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(a,o);if(s instanceof G){var l=o?o.previousSibling:e.lastChild;ee(s.contentDOM,s.children,n),o=l?l.nextSibling:e.firstChild}}for(;o;)o=le(o),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var ne=[new te];function oe(e,t,n){if(0==e.length)return ne
;for(var o=n?ne[0]:new te,r=[o],i=0;i<e.length;i++){var s=e[i].type.attrs,a=o;if(s)for(var l in s.nodeName&&r.push(a=new te(s.nodeName)),s){var c=s[l];null!=c&&(n&&1==r.length&&r.push(a=o=new te(t.isInline?"span":"div")),"class"==l?a.class=(a.class?a.class+" ":"")+c:"style"==l?a.style=(a.style?a.style+";":"")+c:"nodeName"!=l&&(a[l]=c))}}return r}function re(e,t,n,o){if(n==ne&&o==ne)return t;for(var r=t,i=0;i<o.length;i++){var s=o[i],a=n[i];if(i){var l=void 0;a&&a.nodeName==s.nodeName&&r!=e&&(l=r.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(r),a=ne[0]),r=l}ie(r,a||ne[0],s)}return r}function ie(e,t,n){for(var o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){
for(var i=t.class?t.class.split(" "):V,s=n.class?n.class.split(" "):V,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&e.classList.remove(i[a]);for(var l=0;l<s.length;l++)-1==i.indexOf(s[l])&&e.classList.add(s[l])}if(t.style!=n.style){if(t.style)for(var c,d=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=d.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function se(e,t,n){return re(e,e,ne,oe(t,n,1!=e.nodeType))}function ae(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function le(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ce=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],o=e.childCount,r=t.length-1;o>0&&r>=0;r--){var i=t[r],s=i.node;if(s){if(s!=e.child(o-1))break;n.push(i),--o}}return{nodes:n.reverse(),offset:o}}(e.node.content,e.children);this.preMatched=n.nodes,
this.preMatchOffset=n.offset};function de(e,t){return e.type.side-t.type.side}function ue(e,t,n,o,r){for(var i=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,d=a+=l.size;c>=n||d<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,o)),r&&(i.push(r),r=null),d>n&&i.push(l.slice(n-c,l.size,o)))}return i}function pe(e,t){var n=e.selection,o=n.$anchor,i=n.$head,s=t>0?o.max(i):o.min(i),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&r.Selection.findFrom(a,t)}function he(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function me(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return he(e,new r.TextSelection(t>0?o.$to:o.$from));var i=pe(e.state,t);return!!i&&he(e,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=pe(e.state,t);return!!(s&&s instanceof r.NodeSelection)&&he(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){
var l,c=o.$head,d=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!d||d.isText)return!1;var u=t<0?c.pos-d.nodeSize:c.pos;return!!(d.isAtom||(l=e.docView.descAt(u))&&!l.contentDOM)&&(r.NodeSelection.isSelectable(d)?he(e,new r.NodeSelection(t<0?e.state.doc.resolve(c.pos-d.nodeSize):c)):!!a.webkit&&he(e,new r.TextSelection(e.state.doc.resolve(t<0?u:u+d.nodeSize))))}}function fe(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function be(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ge(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){var r,i,s=!1;for(a.gecko&&1==n.nodeType&&o<fe(n)&&be(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;var l=n.childNodes[o-1];if(be(l))r=n,i=--o;else{if(3!=l.nodeType)break;o=(n=l).nodeValue.length}}else{if(ve(n))break;for(var c=n.previousSibling;c&&be(c);)r=n.parentNode,i=h(c),c=c.previousSibling;if(c)o=fe(n=c);else{if((n=n.parentNode)==e.dom)break;o=0}}
s?Oe(e,t,n,o):r&&Oe(e,t,r,i)}}function ye(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){for(var r,i,s=fe(n);;)if(o<s){if(1!=n.nodeType)break;if(!be(n.childNodes[o]))break;r=n,i=++o}else{if(ve(n))break;for(var a=n.nextSibling;a&&be(a);)r=a.parentNode,i=h(a)+1,a=a.nextSibling;if(a)o=0,s=fe(n=a);else{if((n=n.parentNode)==e.dom)break;o=s=0}}r&&Oe(e,t,r,i)}}function ve(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Oe(e,t,n,o){if(j(t)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection()}function je(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,s=o.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var l=pe(e.state,t);if(l&&l instanceof r.NodeSelection)return he(e,l)}if(!i.parent.inlineContent){var c=r.Selection.findFrom(t<0?i:s,t)
;return!c||he(e,c)}return!1}function we(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,s=n.empty;if(!o.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(a&&!a.isText){var l=e.state.tr;return t<0?l.delete(o.pos-a.nodeSize,o.pos):l.delete(o.pos,o.pos+a.nodeSize),e.dispatch(l),!0}return!1}function ke(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ee(e,t){var n=t.keyCode,o=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==o?we(e,-1)||ge(e):46==n||a.mac&&68==n&&"c"==o?we(e,1)||ye(e):13==n||27==n||(37==n?me(e,-1,o)||ge(e):39==n?me(e,1,o)||ye(e):38==n?je(e,-1,o)||ge(e):40==n?function(e){if(a.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset
;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;ke(e,r,!0),setTimeout((function(){return ke(e,r,!1)}),20)}}}(e)||je(e,1,o)||ye(e):o==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Se(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),s=i&&0==i.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var l,c,d=o.resolve(a);if(j(n)){for(l=d;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var o=0==t,r=t==v(e);o||r;){if(e==n)return!0;var i=h(e);if(!(e=e.parentNode))return!1;o=o&&0==i,r=r&&i==v(e)}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;c=new r.NodeSelection(a==u?d:o.resolve(u))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;l=o.resolve(p)}c||(c=Me(e,l,d,"pointer"==t||e.state.selection.head<d.pos&&!s?1:-1));return c}
function _e(e,t){var n=e.state.selection;if(Ae(e,n),e.editable?e.hasFocus():De(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,h(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{var o,i,s=n.anchor,l=n.head;!Ce||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=xe(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=xe(e,n.to))),e.docView.setSelection(s,l,e.root,t),Ce&&(o&&Pe(o),i&&Pe(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard)
;var n=e.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ce.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ce.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ce.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ce.prototype.syncToMarks=function(e,t,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,e.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),
this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=G.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}},ce.prototype.findNodeMatch=function(e,t,n,o){var r=-1,i=o<0?void 0:this.getPreMatch(o),s=this.top.children;if(i&&i.matchesNode(e,t,n))r=s.indexOf(i);else for(var a=this.index,l=Math.min(s.length,a+5);a<l;a++){var c=s[a];if(c.matchesNode(e,t,n)&&this.preMatched.indexOf(c)<0){r=a;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},ce.prototype.updateNextNode=function(e,t,n,o,r){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof Y){var a=this.preMatched.indexOf(s)
;if(a>-1&&a+this.preMatchOffset!=r)return!1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&ae(t,s.outerDeco)))&&s.update(e,t,n,o))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},ce.prototype.addNode=function(e,t,n,o,r){this.top.children.splice(this.index++,0,Y.create(this.top,e,t,n,o,r)),this.changed=!0},ce.prototype.placeWidget=function(e,t,n){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){var r=new K(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},ce.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof G;)e=e.children[e.children.length-1]
;if(!e||!(e instanceof J)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new Z(this.top,V,t,null)),this.changed=!0}};var Ce=a.safari||a.chrome&&a.chrome_version<63;function xe(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,s=r?o.childNodes[r-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return Te(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return Te(i);if(s)return Te(s)}}function Te(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Pe(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ae(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Ie(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Ie(e)}
function Ie(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function Me(e,t,n,o){return e.someProp("createSelectionBetween",(function(o){return o(e,t,n)}))||r.TextSelection.between(t,n,o)}function De(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Ne(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Re(e,t,n,o,s){if(t<0){
var l=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,c=Se(e,l);if(c&&!e.state.selection.eq(c)){var d=e.state.tr.setSelection(c);"pointer"==l?d.setMeta("pointer",!0):"key"==l&&d.scrollIntoView(),e.dispatch(d)}}else{var u=e.state.doc.resolve(t),p=u.sharedDepth(n);t=u.before(p+1),n=e.state.doc.resolve(n).after(p+1);var h,m,f=e.state.selection,b=function(e,t,n){var o=e.docView.parseRange(t,n),r=o.node,s=o.fromOffset,l=o.toOffset,c=o.from,d=o.to,u=e.root.getSelection(),p=null,h=u.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(p=[{node:h,offset:u.anchorOffset}],j(u)||p.push({node:u.focusNode,offset:u.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var m=l;m>s;m--){var f=r.childNodes[m-1],b=f.pmViewDesc;if("BR"==f.nodeType&&!b){l=m;break}if(!b||b.size)break}var g=e.state.doc,y=e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema),v=g.resolve(c),O=null,w=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:l,
preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Ne,context:v});if(p&&null!=p[0].pos){var k=p[0].pos,E=p[1]&&p[1].pos;null==E&&(E=k),O={anchor:k+c,head:E+c}}return{doc:w,sel:O,from:c,to:d}}(e,t,n),g=e.state.doc,y=g.slice(b.from,b.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,m="end"):(h=e.state.selection.from,m="start"),e.lastKeyCode=null;var v=function(e,t,n,o,r){var i=e.findDiffStart(t,n);if(null==i)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;if("end"==r){o-=a+Math.max(0,i-Math.min(a,l))-i}if(a<i&&e.size<t.size){l=(i-=o<=i&&o>=a?i-o:0)+(l-a),a=i}else if(l<i){a=(i-=o<=i&&o>=l?i-o:0)+(a-l),l=i}return{start:i,endA:a,endB:l}}(y.content,b.doc.content,b.from,h,m);if(!v){if(!(o&&f instanceof r.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||e.composing||b.sel&&b.sel.anchor!=b.sel.head){if(b.sel){var O=Le(e,e.state.doc,b.sel)
;O&&!O.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(O))}return}v={start:f.from,endA:f.to,endB:f.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof r.TextSelection&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>b.from&&" \xa0"==b.doc.textBetween(v.start-b.from-1,v.start-b.from+1)&&(v.start--,v.endA--,v.endB--);var k,E=b.doc.resolveNoCache(v.start-b.from),S=b.doc.resolveNoCache(v.endB-b.from),_=E.sameParent(S)&&E.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!_||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName
})))||!_&&E.pos<b.doc.content.size&&(k=r.Selection.findFrom(b.doc.resolve(E.pos+1),1,!0))&&k.head==S.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>v.start&&function(e,t,n,o,r){if(!o.parent.isTextblock||n-t<=r.pos-o.pos||Be(o,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=e.resolve(Be(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||Be(s,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(g,v.start,v.endA,E,S)&&e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.android&&!_&&E.start()!=S.start()&&0==S.parentOffset&&E.depth==S.depth&&b.sel&&b.sel.anchor==b.sel.head&&b.sel.head==v.endA&&(v.endB-=2,S=b.doc.resolveNoCache(v.endB-b.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))}))
}),20));var C,x,T,P,A=v.start,I=v.endA;if(_)if(E.pos==S.pos)a.ie&&a.ie_version<=11&&0==E.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return _e(e)}),20)),C=e.state.tr.delete(A,I),x=g.resolve(v.start).marksAcross(g.resolve(v.endA));else if(v.endA==v.endB&&(P=g.resolve(v.start))&&(T=function(e,t){for(var n,o,r,s=e.firstChild.marks,a=t.firstChild.marks,l=s,c=a,d=0;d<a.length;d++)l=a[d].removeFromSet(l);for(var u=0;u<s.length;u++)c=s[u].removeFromSet(c);if(1==l.length&&0==c.length)o=l[0],n="add",r=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=l.length||1!=c.length)return null;o=c[0],n="remove",r=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var p=[],h=0;h<t.childCount;h++)p.push(r(t.child(h)));if(i.Fragment.from(p).eq(e))return{mark:o,type:n}}(E.parent.content.cut(E.parentOffset,S.parentOffset),P.parent.content.cut(P.parentOffset,v.endA-P.start()))))C=e.state.tr,
"add"==T.type?C.addMark(A,I,T.mark):C.removeMark(A,I,T.mark);else if(E.parent.child(E.index()).isText&&E.index()==S.index()-(S.textOffset?0:1)){var M=E.parent.textBetween(E.parentOffset,S.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,A,I,M)})))return;C=e.state.tr.insertText(M,A,I)}if(C||(C=e.state.tr.replace(A,I,b.doc.slice(v.start-b.from,v.endB-b.from))),b.sel){var D=Le(e,C.doc,b.sel);D&&!(a.chrome&&a.android&&e.composing&&D.empty&&(D.head==A||D.head==C.mapping.map(I)-1)||a.ie&&D.empty&&D.head==A)&&C.setSelection(D)}x&&C.ensureMarks(x),e.dispatch(C.scrollIntoView())}}}function Le(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Me(e,t.resolve(n.anchor),t.resolve(n.head))}function Be(e,t,n){for(var o=e.depth,r=t?e.end():e.pos;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n)for(var i=e.node(o).maybeChild(e.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function Fe(e,t){
for(var n=[],o=t.content,r=t.openStart,s=t.openEnd;r>1&&s>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,s--;var a=o.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),o=a.content}var l=e.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(e.state.schema),c=qe(),d=c.createElement("div");d.appendChild(l.serializeFragment(o,{document:c}));for(var u,p=d.firstChild;p&&1==p.nodeType&&(u=Ve[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var m=c.createElement(u[h]);d.firstChild;)m.appendChild(d.firstChild);d.appendChild(m)}p=d.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",r+" "+s+" "+JSON.stringify(n)),{dom:d,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function ze(t,n,o,r,s){var a,l,c=s.parent.type.spec.code;if(!o&&!n)return null;var d=n&&(r||c||!o);if(d){if(t.someProp("transformPastedText",(function(e){n=e(n,c||r)})),
c)return new i.Slice(i.Fragment.from(t.state.schema.text(n)),0,0);var u=t.someProp("clipboardTextParser",(function(e){return e(n,s,r)}));u?l=u:(a=document.createElement("div"),n.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else t.someProp("transformPastedHTML",(function(e){o=e(o)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,o=qe().createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=r&&Ve[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);o.innerHTML=e;for(var s=0;s<i;s++)o=o.firstChild;return o}(o);var p=a&&a.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!l){var m=t.someProp("clipboardParser")||t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema);l=m.parseSlice(a,{preserveWhitespace:!(!d&&!h),context:s})
}return l=h?function(t,n){if(!t.size)return t;var o,r=t.content.firstChild.type.schema;try{o=JSON.parse(n)}catch(e){return t}for(var s=t.content,a=t.openStart,l=t.openEnd,c=o.length-2;c>=0;c-=2){var d=r.nodes[o[c]];if(!d||d.hasRequiredAttrs())break;s=i.Fragment.from(d.create(o[c+1],s)),a++,l++}return new i.Slice(s,a,l)}(function(e,t,n){t<e.openStart&&(e=new i.Slice(We(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new i.Slice(We(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(l,+h[1],+h[2]),h[3]):i.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),r=void 0,s=[];if(e.forEach((function(e){if(s){var t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&He(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=$e(s[s.length-1],r.length));var i=Ue(e,n);s.push(i),o=o.matchType(i.type,i.attrs),r=n}}})),s)return{v:i.Fragment.from(s)}},o=t.depth;o>=0;o--){
var r=n(o);if(r)return r.v}return e}(l.content,s),!1),t.someProp("transformPasted",(function(e){l=e(l)})),l}function Ue(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,i.Fragment.from(e));return e}function He(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var s=He(e,t,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(i.Fragment.from(Ue(n,e,r+1))))}}function $e(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,$e(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.Fragment.empty,!0);return e.copy(n.append(o))}function We(e,t,n,o,r,s){var a=t<0?e.firstChild:e.lastChild,l=a.content;return r<o-1&&(l=We(l,t,n,o,r+1,s)),r>=n&&(l=t<0?a.contentMatchAt(0).fillBefore(l,e.childCount>1||s<=r).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(i.Fragment.empty,!0))),
e.replaceChild(t<0?0:e.childCount-1,a.copy(l))}var Ve={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ke=null;function qe(){return Ke||(Ke=document.implementation.createHTMLDocument("title"))}var Ge={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ye=a.ie&&a.ie_version<=11,Xe=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Xe.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Xe.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Je=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,
this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Xe,Ye&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Je.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Je.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Je.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ge),
Ye&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Je.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ye&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Je.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Je.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Je.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Je.prototype.onSelectionChange=function(){if(function(e){return(!e.editable||e.root.activeElement==e.dom)&&De(e)
}(this.view)){if(this.suppressingSelectionUpdates)return _e(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&b(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Je.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Je.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Je.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0)
;var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&De(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],s);c&&(o=o<0?c.from:Math.min(c.from,o),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&(i=!0))}if(a.gecko&&s.length>1){var d=s.filter((function(e){return"BR"==e.nodeName}));if(2==d.length){var u=d[0],p=d[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(Ze)return;Ze=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||_e(this.view))}},
Je.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var o=e.previousSibling,r=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var s=e.addedNodes[i],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(r=c)}for(var d=o&&o.parentNode==e.target?h(o)+1:0,u=n.localPosFromDOM(e.target,d,-1),p=r&&r.parentNode==e.target?h(r):e.target.childNodes.length,m=0;m<e.addedNodes.length;m++)t.push(e.addedNodes[m]);return{from:u,to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{
from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ze=!1;var Qe={},et={};function tt(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function nt(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return ot(e,t)})}))}function ot(e,t){return e.someProp("handleDOMEvents",(function(n){var o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function rt(e){return{left:e.clientX,top:e.clientY}}function it(e,t,n,o,r){if(-1==o)return!1;for(var i=e.state.doc.resolve(o),s=function(o){if(e.someProp(t,(function(t){return o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function st(e,t,n){e.focused||e.focus();var o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function at(e,t,n,o,i){
return it(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var s=e.state.doc.resolve(t),a=s.depth+1;a>0;a--){var l=a>s.depth?s.nodeAfter:s.node(a);if(r.NodeSelection.isSelectable(l)){o=n&&i.$from.depth>0&&a>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(a);break}}return null!=o&&(st(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(st(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function lt(e,t,n,o){return it(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(function(n){return n(e,t,o)}))}function ct(e,t,n,o){return it(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t){var n=e.state.doc
;if(-1==t)return!!n.inlineContent&&(st(e,r.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(t),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)st(e,r.TextSelection.create(n,a+1,a+1+s.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(s))continue;st(e,r.NodeSelection.create(n,a),"pointer")}return!0}}(e,n)}function dt(e){return gt(e)}et.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ht(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Ee(e,t)?t.preventDefault():tt(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},et.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},
et.keypress=function(e,t){if(!(ht(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var ut=a.mac?"metaKey":"ctrlKey";Qe.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=dt(e),o=Date.now(),r="singleClick";o-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(t,e.lastClick)&&!t[ut]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:o,x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(rt(t))
;i&&("singleClick"==r?e.mouseDown=new pt(e,i,t,n):("doubleClick"==r?lt:ct)(e,i.pos,i.inside,t)?t.preventDefault():tt(e,"pointer"))};var pt=function(e,t,n,o){var i,s,l=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[ut],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var c=e.state.doc.resolve(t.pos);i=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var d=o?null:n.target,u=d?e.docView.nearestDesc(d,!0):null;this.target=u?u.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof r.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),
this.mightDrag.setUneditable&&setTimeout((function(){return l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tt(e,"pointer")};function ht(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}pt.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},pt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos
;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(rt(e))),this.allowDefault||!t?tt(this.view,"pointer"):at(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(st(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):tt(this.view,"pointer")}},pt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),tt(this.view,"pointer")},Qe.touchdown=function(e){dt(e),tt(e,"pointer")},Qe.contextmenu=function(e){return dt(e)};var mt=a.android?5e3:-1;function ft(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return gt(e)}),t))}function bt(e){
for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function gt(e,t){if(e.domObserver.forceFlush(),bt(e),t||e.docView.dirty){var n=Se(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}et.compositionstart=et.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),gt(e,!0),e.markCursor=null;else if(gt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=e.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(3==s.nodeType){o.collapse(s,s.nodeValue.length);break}r=s,i=-1}e.composing=!0}ft(e,mt)},et.compositionend=function(e,t){
e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,ft(e,20))};var yt=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function vt(e,t,n,o){var r=ze(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,o,r||i.Slice.empty)}))&&r){var s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),a=s?e.state.tr.replaceSelectionWith(s,e.shiftKey):e.state.tr.replaceSelection(r);e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Qe.copy=et.cut=function(e,t){var n=e.state.selection,o="cut"==t.type;if(!n.empty){var r=yt?null:t.clipboardData,i=Fe(e,n.content()),s=i.dom,a=i.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px"
;var o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},et.paste=function(e,t){var n=yt?null:t.clipboardData,o=n&&n.getData("text/html"),r=n&&n.getData("text/plain");n&&(o||r||n.files.length)?(vt(e,r,o,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?vt(e,o.value,null,t):vt(e,o.textContent,o.innerHTML,t)}),50)}}(e,t)};var Ot=function(e,t){this.slice=e,this.move=t},jt=a.mac?"altKey":"ctrlKey";for(var wt in Qe.dragstart=function(e,t){
var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(rt(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var s=e.docView.nearestDesc(t.target,!0);if(!s||!s.node.type.spec.draggable||s==e.docView)return;e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,s.posBefore)))}var a=e.state.selection.content(),l=Fe(e,a),c=l.dom,d=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(yt?"Text":"text/html",c.innerHTML),yt||t.dataTransfer.setData("text/plain",d),e.dragging=new Ot(a,!t[jt])}},Qe.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},et.dragover=et.dragenter=function(e,t){return t.preventDefault()},et.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var o=e.posAtCoords(rt(t));if(o){
var a=e.state.doc.resolve(o.pos);if(a){var l=n&&n.slice||ze(e,t.dataTransfer.getData(yt?"Text":"text/plain"),yt?null:t.dataTransfer.getData("text/html"),!1,a);if(e.someProp("handleDrop",(function(o){return o(e,t,l||i.Slice.empty,n&&n.move)})))t.preventDefault();else if(l){t.preventDefault();var c=l?Object(s.l)(e.state.doc,a.pos,l):a.pos;null==c&&(c=a.pos);var d=e.state.tr;n&&n.move&&d.deleteSelection();var u=d.mapping.map(c),p=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,h=d.doc;if(p?d.replaceRangeWith(u,u,l.content.firstChild):d.replaceRange(u,u,l),!d.doc.eq(h)){var m=d.doc.resolve(u);p&&r.NodeSelection.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild)?d.setSelection(new r.NodeSelection(m)):d.setSelection(Me(e,m,d.doc.resolve(d.mapping.map(c)))),e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Qe.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,
setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&_e(e)}),20))},Qe.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Qe.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},et)Qe[wt]=et[wt];function kt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0}var Et=function(e,t){this.spec=t||Pt,this.side=this.spec.side||0,this.toDOM=e};Et.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,this.side<0?-1:1),i=r.pos
;return r.deleted?null:new Ct(i-n,i-n,this)},Et.prototype.valid=function(){return!0},Et.prototype.eq=function(e){return this==e||e instanceof Et&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&kt(this.spec,e.spec))};var St=function(e,t){this.spec=t||Pt,this.attrs=e};St.prototype.map=function(e,t,n,o){var r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new Ct(r,i,this)},St.prototype.valid=function(e,t){return t.from<t.to},St.prototype.eq=function(e){return this==e||e instanceof St&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)},St.is=function(e){return e.type instanceof St};var _t=function(e,t){this.spec=t||Pt,this.attrs=e};_t.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,1);if(r.deleted)return null;var i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new Ct(r.pos-n,i.pos-n,this)},_t.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),o=n.index,r=n.offset
;return r==t.from&&r+e.child(o).nodeSize==t.to},_t.prototype.eq=function(e){return this==e||e instanceof _t&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)};var Ct=function(e,t,n){this.from=e,this.to=t,this.type=n},xt={spec:{configurable:!0},inline:{configurable:!0}};Ct.prototype.copy=function(e,t){return new Ct(e,t,this.type)},Ct.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Ct.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Ct.widget=function(e,t,n){return new Ct(e,e,new Et(t,n))},Ct.inline=function(e,t,n,o){return new Ct(e,t,new St(n,o))},Ct.node=function(e,t,n,o){return new Ct(e,t,new _t(n,o))},xt.spec.get=function(){return this.type.spec},xt.inline.get=function(){return this.type instanceof St},Object.defineProperties(Ct.prototype,xt);var Tt=[],Pt={},At=function(e,t){this.local=e&&e.length?e:Tt,this.children=t&&t.length?t:Tt};At.create=function(e,t){return t.length?Lt(t,e,0,Pt):It},
At.prototype.find=function(e,t,n){var o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o},At.prototype.findInner=function(e,t,n,o,r){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,o+l,r)}},At.prototype.map=function(e,t,n){return this==It||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Pt)},At.prototype.mapInner=function(e,t,n,o,r){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,o);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,o,r,i,s){for(var a=e.slice(),l=function(e,t,n,o){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||e>l+i||(t>=a[s]+i?a[s+1]=-1:n>=r&&(c=o-n-(t-e))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l)
;for(var d=!1,u=0;u<a.length;u+=3)if(-1==a[u+1]){var p=n.map(a[u]+i),h=p-r;if(h<0||h>=o.content.size){d=!0;continue}var m=n.map(e[u+1]+i,-1)-r,f=o.content.findIndex(h),b=f.index,g=f.offset,y=o.maybeChild(b);if(y&&g==h&&g+y.nodeSize==m){var v=a[u+2].mapInner(n,y,p+1,a[u]+i+1,s);v!=It?(a[u]=h,a[u+1]=m,a[u+2]=v):(a[u+1]=-2,d=!0)}else d=!0}if(d){var O=Lt(function(e,t,n,o,r,i,s){function a(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(o,r,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+i+1);return n}(a,e,t||[],n,r,i,s),o,0,s);t=O.local;for(var j=0;j<a.length;j+=3)a[j+1]<0&&(a.splice(j,3),j-=3);for(var w=0,k=0;w<O.children.length;w+=3){for(var E=O.children[w];k<a.length&&a[k]<E;)k+=3;a.splice(k,0,O.children[w],O.children[w+1],O.children[w+2])}}return new At(t&&t.sort(Bt),a)}(this.children,i,e,t,n,o,r):i?new At(i.sort(Bt)):It},
At.prototype.add=function(e,t){return t.length?this==It?At.create(e,t):this.addInner(e,t,0):this},At.prototype.addInner=function(e,t,n){var o,r=this,i=0;e.forEach((function(e,s){var a,l=s+n;if(a=Nt(t,e,l)){for(o||(o=r.children.slice());i<o.length&&o[i]<s;)i+=3;o[i]==s?o[i+2]=o[i+2].addInner(e,a,l+1):o.splice(i,0,s,s+e.nodeSize,Lt(a,e,l+1,Pt)),i+=3}}));var s=Dt(i?Rt(t):t,-n);return new At(s.length?this.local.concat(s).sort(Bt):this.local,o||this.children)},At.prototype.remove=function(e){return 0==e.length||this==It?this:this.removeInner(e,0)},At.prototype.removeInner=function(e,t){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,s=n[r]+t,a=n[r+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>s&&c.to<a&&(e[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var d=n[r+2].removeInner(i,s+1);d!=It?n[r+2]=d:(n.splice(r,3),r-=3)}}
if(o.length)for(var u=0,p=void 0;u<e.length;u++)if(p=e[u])for(var h=0;h<o.length;h++)o[h].eq(p,t)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return n==this.children&&o==this.local?this:o.length||n.length?new At(o,n):It},At.prototype.forChild=function(e,t){if(this==It)return this;if(t.isLeaf)return At.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var i=e+1,s=i+t.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof St){var c=Math.max(i,l.from)-i,d=Math.min(s,l.to)-i;c<d&&(o||(o=[])).push(l.copy(c,d))}}if(o){var u=new At(o.sort(Bt));return n?new Mt([u,n]):u}return n||It},At.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof At)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1
;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},At.prototype.locals=function(e){return Ft(this.localsInner(e))},At.prototype.localsInner=function(e){if(this==It)return Tt;if(e.inlineContent||!this.local.some(St.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof St||t.push(this.local[n]);return t};var It=new At;At.empty=It,At.removeOverlap=Ft;var Mt=function(e){this.members=e};function Dt(e,t){if(!t||!e.length)return e;for(var n=[],o=0;o<e.length;o++){var r=e[o];n.push(new Ct(r.from+t,r.to+t,r.type))}return n}function Nt(e,t,n){if(t.isLeaf)return null;for(var o=n+t.nodeSize,r=null,i=0,s=void 0;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),e[i]=null);return r}function Rt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Lt(e,t,n,o){var r=[],i=!1;t.forEach((function(t,s){
var a=Nt(e,t,s+n);if(a){i=!0;var l=Lt(a,t,n+s+1,o);l!=It&&r.push(s,s+t.nodeSize,l)}}));for(var s=Dt(i?Rt(e):e,-n).sort(Bt),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(o.onRemove&&o.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new At(s,r):It}function Bt(e,t){return e.from-t.from||e.to-t.to}function Ft(e){for(var t=e,n=0;n<t.length-1;n++){var o=t[n];if(o.from!=o.to)for(var r=n+1;r<t.length;r++){var i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),zt(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),zt(t,r+1,i.copy(o.to,i.to)))}}return t}function zt(e,t,n){for(;t<e.length&&Bt(n,e[t])>0;)t++;e.splice(t,0,n)}function Ut(e){var t=[];return e.someProp("decorations",(function(n){var o=n(e.state);o&&o!=It&&t.push(o)})),e.cursorWrapper&&t.push(At.create(e.state.doc,[e.cursorWrapper.deco])),Mt.from(t)}Mt.prototype.forChild=function(e,t){if(t.isLeaf)return At.empty
;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(e,t);r!=It&&(r instanceof Mt?n=n.concat(r.members):n.push(r))}return Mt.from(n)},Mt.prototype.eq=function(e){if(!(e instanceof Mt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Mt.prototype.locals=function(e){for(var t,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?Ft(n?t:t.sort(Bt)):Tt},Mt.from=function(e){switch(e.length){case 0:return It;case 1:return e[0];default:return new Mt(e)}};var Ht=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Kt(this),
this.markCursor=null,this.cursorWrapper=null,Vt(this),this.nodeViews=qt(this),this.docView=X(this.state.doc,Wt(this),Ut(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Je(e,(function(t,n,o,r){return Re(e,t,n,o,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Qe[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||ot(e,t)||!e.editable&&t.type in et||n(e,t)})};for(var n in Qe)t(n)
;a.safari&&e.dom.addEventListener("input",(function(){return null})),nt(e)}(this),this.pluginViews=[],this.updatePluginViews()},$t={props:{configurable:!0},root:{configurable:!0}};function Wt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var o in n)"class"==o?t.class+=" "+n[o]:t[o]||"contenteditable"==o||"nodeName"==o||(t[o]=String(n[o]))})),[Ct.node(0,e.state.doc.content.size,t)]}function Vt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Ct.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Kt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function qt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}$t.props.get=function(){
if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Ht.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nt(this),this._props=e,this.updateStateInner(e.state,!0)},Ht.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var o in t.state=this.state,e)t[o]=e[o];this.update(t)},Ht.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Ht.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(bt(this),s=!0),this.state=e,t){var l=qt(this);(function(e,t){var n=0,o=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var i in t)o++;return n!=o})(l,this.nodeViews)&&(this.nodeViews=l,i=!0),nt(this)}this.editable=Kt(this),Vt(this)
;var c=Ut(this),d=Wt(this),u=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,d,c);!p&&e.selection.eq(o.selection)||(s=!0);var h="preserve"==u&&s&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,s=r+1;s<Math.min(innerHeight,o.bottom);s+=5){var a=e.root.elementFromPoint(i,s);if(a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=r-20){t=a,n=l.top;break}}}return{refDOM:t,refTop:n,stack:C(e.dom)}}(this);if(s){this.domObserver.stop();var m=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&function(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(o.selection,e.selection);if(p){var f=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null
;!i&&this.docView.update(e.doc,d,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=X(e.doc,d,c,this.dom,this)),f&&!this.trackWrites&&(m=!0)}m||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function(e){var t=e.docView.domFromPos(e.state.selection.anchor),n=e.root.getSelection();return b(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?_e(this,m):(Ae(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?_(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),g):_(this,this.coordsAtPos(e.selection.head),g))}else h&&function(e){var t=e.refDOM,n=e.refTop,o=e.stack,r=t?t.getBoundingClientRect().top:0;x(o,0==r?0:r-n)}(h)},
Ht.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Ht.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var o=0;o<this.state.plugins.length;o++){var r=this.state.plugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},Ht.prototype.someProp=function(e,t){var n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;var r=this.state.plugins;if(r)for(var i=0;i<r.length;i++){var s=r[i].props[e];if(null!=s&&(n=t?t(s):s))return n}},Ht.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ht.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(T)return e.focus(T);var t=C(e);e.focus(null==T?{get preventScroll(){return T={preventScroll:!0},!0}}:void 0),T||(T=!1,x(t,0))}(this.dom),_e(this),
this.domObserver.start()},$t.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Ht.prototype.posAtCoords=function(e){return M(this,e)},Ht.prototype.coordsAtPos=function(e){return N(this,e)},Ht.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Ht.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Ht.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},Ht.prototype.endOfTextblock=function(e,t){return H(this,t||this.state,e)},Ht.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t])
;clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ut(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Ht.prototype.dispatchEvent=function(e){return function(e,t){ot(e,t)||!Qe[t.type]||!e.editable&&t.type in et||Qe[t.type](e,t)}(this,e)},Ht.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Ht.prototype,$t)},"./node_modules/re-resizable/lib/index.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),
t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("./node_modules/react/index.js")),l=n("./node_modules/re-resizable/lib/resizer.js"),c=s(n("./node_modules/fast-memoize/src/index.js")),d={width:"auto",height:"auto"},u=c.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=c.default((function(e,t){return Math.round(e/t)*t})),h=c.default((function(e,t){return new RegExp(e,"i").test(t)})),m=c.default((function(e,t,n){
void 0===n&&(n=0);var o=t.reduce((function(n,o,r){return Math.abs(o-e)<Math.abs(t[n]-e)?r:n}),0),r=Math.abs(t[o]-e);return 0===n||r<n?t[o]:e})),f=c.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),b=c.default((function(e){return"auto"===(e=e.toString())||f(e,"px")||f(e,"%")||f(e,"vh")||f(e,"vw")||f(e,"vmax")||f(e,"vmin")?e:e+"px"})),g=function(e,t,n,o){if(e&&"string"==typeof e){if(f(e,"%"))return t*(Number(e.replace("%",""))/100);if(f(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(f(e,"vh"))return o*(Number(e.replace("vh",""))/100)}return e},y=c.default((function(e,t,n,o,r,i,s){return o=g(o,e.width,t,n),r=g(r,e.height,t,n),i=g(i,e.width,t,n),s=g(s,e.height,t,n),{maxWidth:void 0===o?void 0:Number(o),maxHeight:void 0===r?void 0:Number(r),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===s?void 0:Number(s)}
})),v=["as","style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],O="__resizable_base__",j=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",
zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var o=n[t];if(o.classList.contains(O))return o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){
var n=this.resizable.offsetWidth,o=this.resizable.offsetHeight,r=this.resizable.style.position;"relative"!==r&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:o,this.resizable.style.position=r}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&f(e.propsSize[t].toString(),"%")){if(f(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return b(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?b(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?b(t.height):n("height")}},enumerable:!0,configurable:!0}),
t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var o={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,o},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),
this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0});var t=this.parentNode;if(t&&!this.base){var n=this.window.document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.transform="scale(0, 0)",n.style.left="0",n.style.flex="0",n.classList?n.classList.add(O):n.className+=O,t.appendChild(n)}}},t.prototype.componentWillUnmount=function(){if(this.window){this.unbindEvents();var e=this.parentNode;if(!this.base||!e)return;if(!e||!this.base)return;e.removeChild(this.base)}},
t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n){var o=n.offsetWidth+(this.parentLeft-this.resizableLeft),r=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<r?t:r}}else if("window"===this.props.bounds){if(this.window){o=this.window.innerWidth-this.resizableLeft,r=this.window.innerHeight-this.resizableTop;e=e&&e<o?e:o,t=t&&t<r?t:r}}else if(this.props.bounds){o=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<r?t:r}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){
var n=this.props.scale||1,o=this.props.resizeRatio||1,r=this.state,i=r.direction,s=r.original,a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,d=a.lockAspectRatioExtraWidth,u=s.width,p=s.height,m=c||0,f=d||0;return h("right",i)&&(u=s.width+(e-s.x)*o/n,l&&(p=(u-f)/this.ratio+m)),h("left",i)&&(u=s.width-(e-s.x)*o/n,l&&(p=(u-f)/this.ratio+m)),h("bottom",i)&&(p=s.height+(t-s.y)*o/n,l&&(u=(p-m)*this.ratio+f)),h("top",i)&&(p=s.height-(t-s.y)*o/n,l&&(u=(p-m)*this.ratio+f)),{newWidth:u,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,o){var r=this.props,i=r.lockAspectRatio,s=r.lockAspectRatioExtraHeight,a=r.lockAspectRatioExtraWidth,l=void 0===o.width?10:o.width,c=void 0===n.width||n.width<0?e:n.width,d=void 0===o.height?10:o.height,p=void 0===n.height||n.height<0?t:n.height,h=s||0,m=a||0;if(i){var f=(d-h)*this.ratio+m,b=(p-h)*this.ratio+m,g=(l-m)/this.ratio+h,y=(c-m)/this.ratio+h,v=Math.max(l,f),O=Math.min(c,b),j=Math.max(d,g),w=Math.min(p,y);e=u(e,v,O),
t=u(t,j,w)}else e=u(e,l,c),t=u(t,d,p);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),r=o.left,i=o.top;this.resizableLeft=r,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,o=0,i=0;if(e.nativeEvent instanceof this.window.MouseEvent){if(o=e.nativeEvent.clientX,i=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof this.window.TouchEvent&&(o=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return
;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var s=this.window.getComputedStyle(this.resizable);if("auto"!==s.flexBasis){var a=this.parentNode;if(a){var l=this.window.getComputedStyle(a).flexDirection;this.flexDir=l.startsWith("row")?"row":"column",n=s.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:o,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:r(r({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(c)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){
var t=this.props,n=t.maxWidth,o=t.maxHeight,r=t.minWidth,i=t.minHeight,s=e instanceof this.window.MouseEvent?e.clientX:e.touches[0].clientX,a=e instanceof this.window.MouseEvent?e.clientY:e.touches[0].clientY,l=this.state,c=l.direction,d=l.original,u=l.width,h=l.height,b=this.getParentSize(),g=y(b,this.window.innerWidth,this.window.innerHeight,n,o,r,i);n=g.maxWidth,o=g.maxHeight,r=g.minWidth,i=g.minHeight;var v=this.calculateNewSizeFromDirection(s,a),O=v.newHeight,j=v.newWidth,w=this.calculateNewMaxFromBoundary(n,o),k=this.calculateNewSizeFromAspectRatio(j,O,{width:w.maxWidth,height:w.maxHeight},{width:r,height:i});if(j=k.newWidth,O=k.newHeight,this.props.grid){var E=p(j,this.props.grid[0]),S=p(O,this.props.grid[1]),_=this.props.snapGap||0;j=0===_||Math.abs(E-j)<=_?E:j,O=0===_||Math.abs(S-O)<=_?S:O}this.props.snap&&this.props.snap.x&&(j=m(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(O=m(O,this.props.snap.y,this.props.snapGap));var C={width:j-d.width,
height:O-d.height};if(u&&"string"==typeof u)if(f(u,"%"))j=j/b.width*100+"%";else if(f(u,"vw")){j=j/this.window.innerWidth*100+"vw"}else if(f(u,"vh")){j=j/this.window.innerHeight*100+"vh"}if(h&&"string"==typeof h)if(f(h,"%"))O=O/b.height*100+"%";else if(f(h,"vw")){O=O/this.window.innerWidth*100+"vw"}else if(f(h,"vh")){O=O/this.window.innerHeight*100+"vh"}var x={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(O,"height")};"row"===this.flexDir?x.flexBasis=x.width:"column"===this.flexDir&&(x.flexBasis=x.height),this.setState(x),this.props.onResize&&this.props.onResize(e,c,this.resizable,C)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,o=t.direction,i=t.original;if(n&&this.resizable){var s={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,s),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,
backgroundStyle:r(r({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,o=t.handleStyles,r=t.handleClasses,i=t.handleWrapperStyle,s=t.handleWrapperClass,c=t.handleComponent;if(!n)return null;var d=Object.keys(n).map((function(t){return!1!==n[t]?a.createElement(l.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:o&&o[t],className:r&&r[t]},c&&c[t]?c[t]:null):null}));return a.createElement("span",{className:s,style:i},d)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==v.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=r(r(r({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",
flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as;return a.createElement(o,r({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&a.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(a.PureComponent);t.Resizable=j},"./node_modules/re-resizable/lib/resizer.js":function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){
this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/react/index.js")),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",
cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return o(t,e),t.prototype.render=function(){return s.createElement("div",{className:this.props.className||"",style:r(r({position:"absolute",userSelect:"none"},a[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(s.PureComponent);t.Resizer=l},"./node_modules/react-uid/dist/es2015/Control.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s
})),n.d(t,"a",(function(){return a}));var o=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/context.js"),i=n("./node_modules/react-uid/dist/es2015/UIDComponent.js"),s=function(e){var t=e.children;return o.createElement(r.e.Provider,{value:Object(r.b)()},t)},a=function(e){var t=e.name,n=e.children;return o.createElement(r.e.Consumer,null,(function(e){return o.createElement(i.a,{name:t,idSource:e,children:n})}))}},"./node_modules/react-uid/dist/es2015/UIDComponent.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/context.js"),i=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(){
var t=null!==e&&e.apply(this,arguments)||this;return t.state={quartz:t.props.idSource||r.a,prefix:Object(r.d)(t.props.idSource),id:Object(r.c)(t.props.idSource||r.a)},t.uid=function(e){return t.prefixId(t.state.id+"-"+t.state.quartz.uid(e))},t}return i(t,e),t.prototype.prefixId=function(e){var t=this.state.prefix+e;return String(this.props.name?this.props.name(t):t)},t.prototype.render=function(){var e=this.props.children,t=this.state.id;return e(this.prefixId(t),this.uid)},t}(o.Component)},"./node_modules/react-uid/dist/es2015/context.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var o=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/uid.js"),i=function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:Object(r.a)()}},s=i(),a=o.createContext(i()),l=(o.createContext(""),function(e){return e.value++
}),c=function(e){return e?e.prefix:""}},"./node_modules/uc.micro/categories/Cf/regex.js":function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},"./node_modules/uc.micro/index.js":function(e,t,n){"use strict";t.Any=n("./node_modules/uc.micro/properties/Any/regex.js"),t.Cc=n("./node_modules/uc.micro/categories/Cc/regex.js"),t.Cf=n("./node_modules/uc.micro/categories/Cf/regex.js"),t.P=n("./node_modules/uc.micro/categories/P/regex.js"),t.Z=n("./node_modules/uc.micro/categories/Z/regex.js")},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,
e.prototype=new n,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,n){(function(e){var o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++)n[t[o]]=Object.getOwnPropertyDescriptor(e,t[o]);return n},r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}})),l=o[n];n<i;l=o[++n])f(l)||!O(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(n,o){if(void 0!==e&&!0===e.noDeprecation)return n
;if(void 0===e)return function(){return t.deprecate(n,o).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}};var i,s={};function a(e,n){var o={seen:[],stylize:c};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),m(n)?o.showHidden=n:n&&t._extend(o,n),y(o.showHidden)&&(o.showHidden=!1),y(o.depth)&&(o.depth=2),y(o.colors)&&(o.colors=!1),y(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=l),d(o,e,o.depth)}function l(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,o){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,e);return g(r)||(r=d(e,r,o)),r}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){
var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return u(n)}var c,O="",E=!1,S=["{","}"];(h(n)&&(E=!0,S=["[","]"]),k(n))&&(O=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(O=" "+RegExp.prototype.toString.call(n)),j(n)&&(O=" "+Date.prototype.toUTCString.call(n)),w(n)&&(O=" "+u(n)),
0!==s.length||E&&0!=n.length?o<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)x(t,String(s))?i.push(p(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(p(e,t,n,o,r,!0))})),i}(e,n,o,a,s):s.map((function(t){return p(e,n,o,a,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,O,S)):S[0]+O+S[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,o,r,i){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),x(o,r)||(s="["+r+"]"),
a||(e.seen.indexOf(l.value)<0?(a=f(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(i&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function b(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return O(e)&&"[object RegExp]"===E(e)}function O(e){return"object"==typeof e&&null!==e}function j(e){return O(e)&&"[object Date]"===E(e)}function w(e){return O(e)&&("[object Error]"===E(e)||e instanceof Error)}function k(e){
return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var o=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,o,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=m,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=O,t.isDate=j,t.isError=w,t.isFunction=k,t.isPrimitive=function(e){
return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("./node_modules/util/support/isBufferBrowser.js");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),_[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){
if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,o=new Promise((function(e,o){t=e,n=o})),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push((function(e,o){e?n(e):t(o)}));try{e.apply(this,r)}catch(s){n(s)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);var r=n.pop()
;if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return r.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(P,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,o(t)),n}}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/w3c-keyname/index.js":function(e,t){var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"}
;t.base=n;var o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};t.shift=o;for(var r="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l=r&&(a||+r[1]<57)||s&&a,c=0;c<10;c++)n[48+c]=n[96+c]=String(c);for(c=1;c<=24;c++)n[c+111]="F"+c;for(c=65;c<=90;c++)n[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var d in n)o.hasOwnProperty(d)||(o[d]=n[d]);t.keyName=function(e){var t=!(l&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),
"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},"./src/packages/common-legacy-do-not-add-anything-new/src/components/arrow-keys-handler/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/keycode/index.js"),s=n.n(i);class a extends o.Component{constructor(...e){super(...e),this.setRef=e=>{this.ref=e},this.ref=void 0,this.handleKeyDown=e=>{switch(e.keyCode){case s()("up"):this.props.onArrowUp&&(this.props.onArrowUp(e),e.stopPropagation());break;case s()("down"):this.props.onArrowDown&&(this.props.onArrowDown(e),e.stopPropagation());break;case s()("left"):this.props.onArrowLeft&&(this.props.onArrowLeft(e),e.stopPropagation());break;case s()("right"):this.props.onArrowRight&&(this.props.onArrowRight(e),e.stopPropagation())}}}componentDidMount(){this.ref&&this.ref.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){
this.ref&&this.ref.removeEventListener("keydown",this.handleKeyDown)}render(){return r.a.createElement("div",{ref:this.setRef},this.props.children)}}a.displayName="ArrowKeysHandler",a.defaultProps={onArrowUp:null,onArrowDown:null,onArrowLeft:null,onArrowRight:null}},"./src/packages/issue/base-components/editor/src/ui/style-overrides/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");let r=!1;const i=()=>{r||(r=!0,o.injectGlobal`
    /* temporary fix for code block issue with javascript syntax */
    .ak-renderer-document .code-block .module::before,
    .ak-renderer-document .code-block .module::after {
        display: initial;
        clear: initial;
        content: none;
    }
`)}},"./src/packages/issue/issue-actions/issue-comment-base/src/state/context.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var o=n("./node_modules/lodash/noop.js"),r=n.n(o),i=n("./node_modules/react-sweet-state/lib/esm/store/create.js"),s=n("./node_modules/react-sweet-state/lib/esm/components/hook.js"),a=n("./node_modules/react-sweet-state/lib/esm/components/container.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={setContextState:e=>({setState:t,getState:n})=>{t(c(c({},n()),{},{context:e}))},setEditorState:e=>({setState:t,getState:n})=>{t(c(c({},n()),{},{editor:e}))},setReactionsState:e=>({setState:t,getState:n})=>{t(c(c({},n()),{},{reactions:e}))}},p={context:{baseUrl:null,issueAri:null,commentAri:null,projectType:null},editor:{contextIdentifier:null,mentionProvider:null,getEncodedMention:()=>"",activityProvider:null,mediaContext:null,sharedAtTimestamp:null,sharedValue:void 0,onEditorExpandedFailure:r.a,onEditorSaveFailure:r.a,onEditorClearSharedValues:r.a},reactions:{isActive:!1}},h=Object(i.a)({name:"issue-comment",initialState:p,actions:u}),m=Object(s.a)(h,{
selector:e=>e.context}),f=Object(s.a)(h,{selector:e=>e.editor}),b=Object(s.a)(h,{selector:e=>e.reactions}),g=Object(s.a)(h,{selector:null}),y=Object(a.a)(h)},"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/comment-editor/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/react/index.js"),r=n.n(o),i=(n("./node_modules/react-magnetic-di/lib/esm/index.js"),n("./src/packages/issue/issue-view/src/common/component/editor/main.js")),s=n("./src/packages/issue/issue-actions/issue-comment-base/src/state/context.js");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const l=e=>{
const[{activityProvider:t,contextIdentifier:n,getEncodedMention:o,mediaContext:l,mentionProvider:c,sharedAtTimestamp:d,sharedValue:u,onEditorExpandedFailure:p,onEditorSaveFailure:h,onEditorClearSharedValues:m}]=Object(s.d)();return l?r.a.createElement(i.a,a({mediaContext:l,contextIdentifier:n||void 0,mentionProvider:c,activityProvider:t||void 0,mentionEncoder:o,sharedAtTimestamp:null!=d?d:void 0,sharedValue:u,onExpandedFailure:p,onSaveFailure:h,clearSharedValues:m},e)):null};l.displayName="ConnectedEditor",t.default=l},"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/react/index.js"),r=n.n(o),i=(n("./node_modules/react-magnetic-di/lib/esm/index.js"),
n("./src/packages/issue/issue-actions/issue-comment-base/src/state/context.js")),s=n("./node_modules/lodash/noop.js"),a=n.n(s),l=n("./node_modules/react-loosely-lazy/lib/esm/index.js"),c=n("./src/packages/issue/issue-view/src/activity/comment/servicedesk-comment-editor-container/index.js"),d=n("./src/packages/issue/issue-view/src/common/component/editor/async.js"),u=n("./src/packages/issue/issue-view/src/common/component/renderer/index.js");const p=({adf:e})=>{const[{baseUrl:t}]=Object(i.c)(),[{mentionProvider:n,contextIdentifier:o,mediaContext:s,getEncodedMention:a}]=Object(i.d)();return null!==t&&n&&o&&s?r.a.createElement(u.a,{adf:e,baseUrl:t,mentionProvider:n,contextIdentifier:o,mediaContext:s,mentionEncoder:a}):null};p.displayName="ConnectedRenderer";var h=p,m=n("./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/styled.js")
;const f=Object(l.f)((()=>n.e("async-editor-view").then(n.bind(null,"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/comment-editor/index.js"))),{moduleId:"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/comment-editor/index.js"});class b extends o.Component{constructor(...e){super(...e),this.getEditValue=()=>this.props.draftValue||this.props.bodyAdf,this.renderEditor=()=>{const e=r.a.createElement(h,{adf:this.props.bodyAdf}),t={isExpanded:!0,isExpandedByDefault:!0,shouldFocus:!0,defaultValue:this.getEditValue(),secondaryToolbarComponents:this.props.secondaryToolbarComponents,onBlur:this.props.onBlur,onSave:this.props.onSave,onCancel:this.props.onCancel,onChange:this.props.onChange,onPaste:this.props.onPaste},n=r.a.createElement(d.a,{packageName:"issue",fallback:e},r.a.createElement(f,t));return this.props.isServiceDesk?r.a.createElement(c.a,{isExpanded:!0,commentId:this.props.commentId},n):n}}render(){
return r.a.createElement(m.a,null,this.props.isEditing?this.renderEditor():r.a.createElement(h,{adf:this.props.bodyAdf}))}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}b.displayName="CommentContent",b.displayName="CommentContent",b.defaultProps={isServiceDesk:!1,onBlur:a.a,onSave:a.a,onCancel:a.a,onChange:a.a,onPaste:a.a};const y=e=>{const[{projectType:t}]=Object(i.c)();return i.c?r.a.createElement(b,g({},e,{isServiceDesk:"service_desk"===t})):null};y.displayName="ConnectedCommentContent";t.default=y},"./src/packages/issue/issue-view/src/activity/comment/comment-add-editor/index.js":function(e,t,n){"use strict"
;var o=n("./src/packages/issue/issue-view/src/common/component/editor/main.js"),r=n("./node_modules/react-intl/lib/index.es.js"),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/issue/issue-view/src/actions/editor-actions.js"),a=n("./src/packages/issue/issue-view/src/actions/share-as-comment-actions.js"),l=n("./src/packages/issue/issue-view/src/common/service/mentions/mention-provider-selector.js"),c=n("./src/packages/issue/issue-view/src/common/service/mentions/get-mention-encoder.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/activity-provider-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/comments-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),h=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),f=n("./src/packages/issue/issue-view/src/selectors/share-as-comment-selector.js")
;const b=Object(m.a)([r.i,Object(i.b)(((e,t)=>{const n=Object(p.f)(e);return{contextIdentifier:Object(u.a)(e,t),baseUrl:n,mentionProvider:Object(l.a)(e),mentionEncoder:Object(c.a)(n),activityProvider:Object(d.a)(e),mediaContext:Object(h.a)(e),sharedAtTimestamp:Object(f.a)(e),sharedValue:Object(f.b)(e)}}),(e=>({onExpandedFailure:()=>e(Object(s.b)()),onSaveFailure:()=>e(Object(s.c)()),clearSharedValues:()=>{e(Object(a.a)())}})))]);t.a=b(o.a)},"./src/packages/issue/issue-view/src/activity/comment/comment-add-old/add-comment-editor/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/packages/issue/issue-view/src/activity/comment/comment-add-editor/index.js");n.d(t,"default",(function(){return o.a}))},"./src/packages/issue/issue-view/src/activity/comment/comment-add/add-comment-editor/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/packages/issue/issue-view/src/activity/comment/comment-add-editor/index.js");n.d(t,"default",(function(){return o.a}))},
"./src/packages/issue/issue-view/src/common/component/editor/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/packages/issue/issue-view/src/common/component/editor/main.js");n.d(t,"default",(function(){return o.a}))},"./src/packages/issue/issue-view/src/common/component/editor/main.js":function(e,t,n){"use strict"
;var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/lodash/debounce.js"),d=n.n(c),u=n("./node_modules/lodash/isUndefined.js"),p=n.n(u),h=n("./node_modules/lodash/noop.js"),m=n.n(h),f=n("./node_modules/lodash/omitBy.js"),b=n.n(f),g=n("./node_modules/@atlaskit/editor-common/dist/es2019/extensions/default-extension-provider.js"),y=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/EditorContext/index.js"),v=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/WithEditorActions/index.js"),O=n("./node_modules/@atlaskit/editor-core/dist/es2019/ui/CollapsedEditor/index.js"),j=n("./node_modules/@atlaskit/editor-core/dist/es2019/editor.js"),w=n("./node_modules/@atlaskit/editor-extension-dropbox/dist/es2019/manifest.js"),k=n("./node_modules/@atlaskit/editor-json-transformer/dist/es2019/index.js"),E=(n("./node_modules/@atlaskit/smart-card/dist/es2019/index.js"),
n("./node_modules/@atlaskit/spinner/dist/es2019/spinner.js")),S=n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/analytics-provider.js"),_=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),C=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/arrow-keys-handler/index.js"),x=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),T=n("./src/packages/common-legacy-do-not-add-anything-new/src/services/emoji.js"),P=n("./src/packages/issue/base-components/editor/src/ui/style-overrides/index.js"),A=n("./src/packages/platform/utils/types/src/general.js"),I=n("./src/packages/issue/media-provider/src/controllers/with-media-provider/index.js"),M=e=>{const t=Object(o.useCallback)((t=>{const n=t.clipboardData;if(n){const t=n.getData("text");"string"==typeof t&&e.onPaste(t)}}),[e]),n=Object(o.useRef)(null);return Object(o.useEffect)((()=>{if(n.current){const e=n.current
;return e.addEventListener("paste",t),()=>{e.removeEventListener("paste",t)}}}),[n,t]),r.a.createElement("div",{ref:n},e.children)},D=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),N=n("./src/packages/platform/controllers/tenant-context/src/components/account-id/index.js"),R=n("./src/packages/issue/issue-view/src/feature-flags.js"),L=n("./src/packages/issue/issue-view/src/media-feature-flags.js");const B="issue.details.editor-content-placeholder.";var F=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),z=n("./src/packages/issue/issue-view/src/common/util/dom-util/get-scroll-parent/index.js"),U=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js");var H=n("./src/packages/issue/issue-view/src/common/component/smart-card/with-jira-card-provider.js"),$=n("./src/packages/issue/issue-view/src/common/component/smart-card/with-autoformatting-provider.js"),W=Object(i.h)({invalidAltText:{
id:"issue-view.common.component.editor.invalid-alt-text",defaultMessage:"The only accepted characters for alt text are letters, numbers, and these symbols: , ' . - _ ( )"}}),V=n("./node_modules/@atlaskit/adf-utils/dist/es2019/builders/nodes/doc.js");class K extends o.Component{constructor(...e){super(...e),this.jsonTransformer=void 0}componentDidMount(){this.props.sharedValue&&this.replaceSelection()}componentDidUpdate(e){this.props.sharedAtTimestamp!==e.sharedAtTimestamp&&this.props.sharedValue&&this.replaceSelection()}componentWillUnmount(){this.props.clearSharedValues()}replaceSelection(){const{actions:e,sharedValue:t}=this.props;if(t){const n=Object(D.k)(t).content;1===n.length?e.replaceSelection(n[0]):n.length>1&&(this.jsonTransformer||(this.jsonTransformer=new k.JSONTransformer),e.getValue().then((t=>{const o=Object(D.k)(this.jsonTransformer.encode(t)),r=Object(V.a)(...o.content,...n),i=this.jsonTransformer.parse(Object(D.k)(r));e.replaceDocument(i)})))}}render(){
return this.props.children}}K.displayName="ShareAsComment";var q=n("./src/packages/platform/controllers/tenant-context/src/components/cloud-id/index.js"),G=n("./node_modules/@atlassian/search-provider/dist/es2019/index.js"),Y=n("./node_modules/@atlassian/product-search-dialog/dist/es2019/search-client.js");function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var J=e=>t=>{const n=(()=>{const e=Object(q.a)();return Object(G.a)(e,Y.a.JiraIssue)})();return r.a.createElement(e,X({searchProvider:n},t))};function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const Q=/^([\p{L}\p{N},'\.\s\-_\(\)])*$/u,ee={provider:{getItems:e=>Promise.resolve(e)}};class te extends o.Component{constructor(...e){
super(...e),this.onCancel=()=>{const{onCancel:e}=this.props;"function"==typeof e&&e(this.akEditorRef)},this.onChange=e=>d()((()=>{e.getValue().then((e=>{this.props.isDisabled||this.props.onChange(Object(D.k)(this.jsonTransformer.encode(e)))}),m.a)}),50),this.onExpanded=()=>{this.props.isExpanded||this.props.onExpanded()},this.onSave=e=>()=>{const{onSave:t,onChange:n}=this.props;e.getValue().then((e=>{if("function"==typeof t){const o=Object(D.i)(Object(D.k)(this.jsonTransformer.encode(e)));n(o),t(o)}}),this.props.onSaveFailure)},this.altTextValidator=e=>{const{intl:t}=this.props;return Q.test(e)?[]:[t.formatMessage(W.invalidAltText)]},this.setEditorReactComponentRef=e=>{this.akEditorRef=e},this.getPlaceholder=()=>{const{placeholder:e,intl:t}=this.props;if(e)return e;const n=(()=>[{id:`${B}0`,defaultMessage:"Press {helpShortcut} + / to learn time-saving keyboard shortcuts.",description:"Placeholder showing users how to access the help menu"},{id:`${B}1`,
defaultMessage:"We support markdown! Try **bold**, `inline code`, or ``` for code blocks.",description:"Placeholder that indicates markdown support in the editor"},{id:`${B}2`,defaultMessage:"Pro tip: Type / to add tables, images, code blocks, and more.",description:"Placeholder to prompt use of slash insert command"},{id:`${B}3`,defaultMessage:"Type @ to mention a teammate and notify them about this issue.",description:"Placeholder to prompt use of mentions"},{id:`${B}4`,defaultMessage:"Words not enough? Type : to add emoji. \ud83d\ude0d",description:"Placeholder to prompt use of emoji"}])(),o=(e=>Math.floor(Math.random()*e))(n.length),r=window&&window.navigator&&(e=>/^Mac/.test(e))(window.navigator.platform);return t.formatMessage(n[o],{helpShortcut:r?"\u2318":"Ctrl"})},this.jsonTransformer=new k.JSONTransformer,this.contextIdentifierPromise=void 0,this.mentionProviderPromise=void 0,this.activityProviderPromise=void 0,this.searchProviderPromise=void 0,
this.emojiProviderPromise=void 0,this.extensionProviders=void 0,this.autoformattingProviderPromise=void 0,this.akEditorRef=void 0,this.placeholderText=void 0,this.portalElement=void 0,this.placeholderText=void 0,this.scrollableElement=void 0,this.handleAnalytics=(e,t)=>{Object(S.a)()(e,t)},this.contentTransformerProvider=()=>({encode:e=>e,parse:e=>e})}UNSAFE_componentWillMount(){this.placeholderText=this.getPlaceholder(),this.mentionProviderPromise=Promise.resolve(this.props.mentionProvider),this.activityProviderPromise=Promise.resolve(this.props.activityProvider),this.searchProviderPromise=this.props.searchProvider?Promise.resolve(this.props.searchProvider):void 0,this.autoformattingProviderPromise=this.props.autoformattingProvider?Promise.resolve(this.props.autoformattingProvider):null,this.emojiProviderPromise=Object(T.b)(this.props.cloudId&&Object(A.c)(this.props.cloudId),this.props.loggedInUserAccountId),
this.contextIdentifierPromise=this.props.contextIdentifier?Promise.resolve(this.props.contextIdentifier):null,this.extensionProviders=[new g.a([Object(w.a)({appKey:"l5albia6lf64r4n",canMountinIframe:!1})])],Object(P.a)()}UNSAFE_componentWillReceiveProps(e){e.mentionProvider!==this.props.mentionProvider&&(this.mentionProviderPromise=Promise.resolve(e.mentionProvider)),e.activityProvider!==this.props.activityProvider&&(this.activityProviderPromise=Promise.resolve(e.activityProvider)),e.searchProvider!==this.props.searchProvider&&(this.searchProviderPromise=e.searchProvider?Promise.resolve(e.searchProvider):void 0),e.contextIdentifier!==this.props.contextIdentifier&&(this.contextIdentifierPromise=Promise.resolve(e.contextIdentifier))}componentWillUnmount(){const e=document.body,t=this.portalElement;e&&t&&e.removeChild(t)}render(){return r.a.createElement(C.a,{onArrowLeft:m.a,onArrowRight:m.a,onArrowUp:m.a,onArrowDown:m.a},r.a.createElement(x.a,{onEscape:this.props.onBlur
},r.a.createElement(M,{onPaste:this.props.onPaste},Object(R.isSortableStickyAddCommentBoxEnabled)()&&Object(R.isActivitySortingEnabled)()&&r.a.createElement("div",{className:"issue-editor-start"}),r.a.createElement(y.a,null,r.a.createElement(v.a,{render:e=>r.a.createElement(K,{actions:e,sharedValue:this.props.sharedValue,sharedAtTimestamp:this.props.sharedAtTimestamp,clearSharedValues:this.props.clearSharedValues},r.a.createElement(O.a,{isExpanded:this.props.isExpanded,onExpand:this.onExpanded,onFocus:this.onExpanded,placeholder:this.props.placeholder},r.a.createElement(j.a,Z({contextIdentifierProvider:this.contextIdentifierPromise,analyticsHandler:this.handleAnalytics,appearance:"comment",defaultValue:this.props.defaultValue,shouldFocus:this.props.shouldFocus,disabled:this.props.isDisabled||this.props.isLoading,onCancel:this.props.onCancel?this.onCancel:void 0,onChange:this.onChange(e),onSave:this.props.onSave?this.onSave(e):void 0,
contentTransformerProvider:this.contentTransformerProvider,mentionProvider:this.mentionProviderPromise,activityProvider:this.activityProviderPromise,searchProvider:this.searchProviderPromise,emojiProvider:this.emojiProviderPromise,extensionProviders:this.extensionProviders?this.extensionProviders:void 0,quickInsert:this.extensionProviders?ee:void 0,autoformattingProvider:this.autoformattingProviderPromise,media:{provider:this.props.mediaProvider,allowMediaSingle:!0,allowResizing:!0,allowResizingInTables:!0,allowAltTextOnImages:!0,altTextValidator:this.altTextValidator,allowLinking:Object(R.isMediaLinkingEnabled)(),featureFlags:Object(L.a)(),useMediaPickerPopup:!1},popupsMountPoint:this.props.portalElement||this.portalElement,popupsScrollableElement:void 0,popupsBoundariesElement:this.props.scrollContainerElement,UNSAFE_cards:this.props.jiraCards,placeholder:this.placeholderText,allowHelpDialog:!0,ref:this.setEditorReactComponentRef,allowAnalyticsGASV3:!0},(()=>({allowRule:!0,
allowTextColor:!0,allowTables:{allowColumnResizing:!0,allowControls:!0,allowHeaderRow:!0,allowHeaderColumn:!0,allowNumberColumn:!0},allowPanel:!0,allowStatus:!0,allowDate:!0}))(),{secondaryToolbarComponents:this.props.isLoading?r.a.createElement(E.a,{size:"medium"}):this.props.secondaryToolbarComponents,performanceTracking:Object(R.getPerformanceTrackingConfiguration)()}))))})),r.a.createElement("div",{className:"issue-editor-end"}))))}}te.displayName="Editor",te.displayName="Editor",te.contextTypes={getEditorPopupsScrollableElement:l.a.func},te.defaultProps={isExpanded:!1,isExpandedByDefault:!1,isDisabled:!1,isLoading:!1,shouldFocus:!1,defaultValue:(e=>({version:1,type:"doc",content:[{type:"paragraph",content:e?[{type:"text",text:`${e}`}]:[]}]}))(""),mentionEncoder:m.a,clearSharedValues:m.a,mentionProvider:null,contextIdentifier:void 0,mediaProvider:void 0,activityProvider:null,searchProvider:void 0,placeholder:"",portalElement:void 0,onCancel:void 0,onExpanded:m.a,onSave:void 0,
onBlur:m.a,onChange:m.a,onExpandedFailure:m.a,onSaveFailure:m.a,onChangeFailure:m.a,onPaste:m.a};const ne=e=>{const[t,n]=Object(o.useState)(null),i=Object(N.a)(),s=Object(o.useCallback)((e=>{const o=Object(z.a)(e);o&&o!==t&&n(o)}),[t]);return r.a.createElement("div",{ref:s},r.a.createElement(te,Z({},e,{scrollContainerElement:t,loggedInUserAccountId:i})))};ne.displayName="EditorWithIssueContainerRef";t.a=Object(U.a)([i.i,Object(_.a)(((e,t)=>b()({onExpanded:()=>e("expand"),onSave:t.onSave?()=>e("save"):void 0,onCancel:t.onCancel?()=>e("cancel"):void 0},p.a))),Object(s.b)((e=>({baseUrl:Object(F.f)(e),cloudId:Object(F.i)(e)})),{}),I.a,H.a,$.a,J])(ne)},"./src/packages/issue/issue-view/src/common/component/smart-card/with-autoformatting-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./src/packages/platform/services/issue/src/components/context/consumer.js");function s(){return(s=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,t)=>({getRules:()=>Promise.resolve(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},((e,t)=>({"([A-Z][A-Z0-9_]+-\\d+)":n=>{const o=n[1]
;return t.getIssue$(o).toPromise().then((({issue:t})=>{if(t){const t=e?`/${e}`:"";return Promise.resolve({type:"inlineCard",attrs:{url:`${window.location.protocol}//${window.location.host}${t}/browse/${o}`}})}return null})).catch((()=>null))}}))(e,t)))}),d=e=>{var t,n;return n=t=class extends o.Component{render(){return r.a.createElement(e,s({autoformattingProvider:c(this.props.baseUrl,this.props.dataProvider)},this.props))}},t.displayName="WithAutoformattingProvider",n},u=e=>Object(i.a)(d(e))},"./src/packages/issue/issue-view/src/common/component/smart-card/with-jira-card-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("./node_modules/react/index.js"),r=n.n(o),i=n("./node_modules/@atlaskit/smart-card/dist/es2019/index.js");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class a extends i.d{
async resolve(e){return super.resolve(e,"inline")}}const l=e=>{var t,n;return n=t=class extends o.Component{constructor(){super(),this.jiraCards=void 0,this.jiraCards={provider:Promise.resolve(new a),allowBlockCards:!0,allowEmbeds:!0}}render(){return r.a.createElement(e,s({jiraCards:this.jiraCards},this.props))}},t.displayName=`WithJiraCardProvider(${e.displayName||e.name||"Component"})`,n}}}]);try{window.__jsEvalStop("async-editor-view.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-editor-view.9c3f50fc4d0035a62267.8.js.map