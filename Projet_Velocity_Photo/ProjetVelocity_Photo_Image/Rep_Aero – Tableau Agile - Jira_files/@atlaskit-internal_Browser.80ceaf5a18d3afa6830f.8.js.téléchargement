try{window.performance.mark("@atlaskit-internal_Browser.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_Browser"],{"./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./node_modules/@atlaskit/icon-file-type/node_modules/tslib/tslib.es6.js"),r=o.__importStar(n("./node_modules/react/index.js")),s=o.__importDefault(n("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=n("./node_modules/@atlaskit/theme/dist/es2019/colors.js"),c={small:{height:"16px",width:"16px"},medium:{height:"24px",width:"24px"},xlarge:{height:"64px",width:"48px"}},l=function(e){return e.size?"height: "+c[e.size].height+"; width: "+c[e.size].width+";":null
},d=s.default.span(i||(i=o.__makeTemplateObject(["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"])),l,(function(e){
return e.primaryColor||"currentColor"}),(function(e){return e.secondaryColor||a.background}),l),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.dangerouslySetGlyph,n=e.label,i=e.size;return r.default.createElement(d,{size:i,"aria-label":n||void 0,role:n?"img":"presentation",dangerouslySetInnerHTML:t?{__html:t}:void 0})},t}(r.Component);t.default=u,t.size=Object.keys(c).reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{})},"./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#007442" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM6.93 15.5l2.25-3.55-2.236-3.496h1.734l1.47 2.466h.087l1.485-2.466h1.65l-2.32 3.52 2.286 3.526h-1.68l-1.513-2.388h-.088L8.52 15.5H6.93z"/></svg>'},e,{size:"medium"}))};a.displayName="ExcelSpreadsheet24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 13v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5H5zm1.883-8a1 1 0 0 0-.992.876L5 13h14l-.89-7.124A1 1 0 0 0 17.116 5H6.883zM8 15h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z"/></svg>'},e,{size:"medium"}))};a.displayName="Executable24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.248 0A3.248 3.248 0 0 0 0 3.248v17.504A3.248 3.248 0 0 0 3.248 24h17.504A3.248 3.248 0 0 0 24 20.752V3.248A3.248 3.248 0 0 0 20.752 0H3.248zm8.755 17.012a2.506 2.506 0 0 1-2.505 2.507 2.506 2.506 0 0 1 0-5.013 2.506 2.506 0 0 1 0-5.012 2.506 2.506 0 0 1 0-5.013h5.009a2.506 2.506 0 0 1 0 5.013h-2.505v2.5a2.506 2.506 0 0 1 2.505-2.5 2.506 2.506 0 0 1 0 5.012 2.506 2.506 0 0 1-2.505-2.5v5.006z" fill="#5243AA"/></svg>'},e,{size:"medium"}))};a.displayName="Figma24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){
return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm10.564 16.636h-1.93a.243.243 0 0 1-.244-.243V8.384c0-.135.108-.243.243-.243h1.93c.135 0 .244.108.244.243v8.009a.243.243 0 0 1-.243.243m3.79 0h-1.931a.243.243 0 0 1-.243-.243V8.384c0-.135.109-.243.243-.243h5.334c.133 0 .243.108.243.243v1.573c0 .134-.11.243-.243.243h-3.16v1.42h2.848c.135 0 .244.11.244.244v1.518a.243.243 0 0 1-.244.244h-2.847v2.767c0 .134-.11.243-.244.243m-10.567.146C4.416 16.782 3 15.31 3 12.843v-.962C3 9.487 4.453 8 6.793 8c2.314 0 3.436 1.467 3.522 2.922a.241.241 0 0 1-.242.258H8.195a.243.243 0 0 1-.24-.2c-.1-.55-.552-.892-1.18-.892-1.108 0-1.34.985-1.34 1.81v.94c0 1.231.467 1.856 1.393 1.856.885 0 1.2-.538 1.2-1v-.092H6.874a.243.243 0 0 1-.243-.243v-1.373c0-.134.11-.243.243-.243h3.216c.134 0 .243.109.243.243v1.555c0 1.496-.929 3.241-3.546 3.241"/></svg>'
},e,{size:"medium"}))};a.displayName="Gif24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#2196F3" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};a.displayName="GoogleDoc24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}
var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#673AB7" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};a.displayName="GoogleForm24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#0A9D58" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};a.displayName="GoogleSheet24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){
return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFC107" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};a.displayName="GoogleSlide24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"))
;function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.846 12.17h.483c1.116 0 1.203-.322 1.203-.776 0-.518-.268-.771-.817-.771h-.869v1.546zm6.29 2.183h.664c.742 0 1.501-.22 1.501-1.855 0-1.65-.802-1.86-1.501-1.86h-.665v3.715zM4.462 15.99h-1.08A.384.384 0 0 1 3 15.606V9.383c0-.21.171-.383.383-.383h2.494c1.483 0 2.52.984 2.52 2.394 0 1.43-1.015 2.39-2.525 2.39H4.846v1.822a.384.384 0 0 1-.383.384zm7.45 0h-2.24a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h2.242c2.107 0 3.268 1.237 3.268 3.484 0 2.26-1.16 3.506-3.268 3.506zm5.776 0h-1.08a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h4.009c.21 0 .383.172.383.383v.88a.383.383 0 0 1-.383.383h-2.545v1.14h2.292c.212 0 .383.172.383.383v.867c0 .21-.171.383-.383.383h-2.292v2.187a.384.384 0 0 1-.383.384z"/></svg>'},e,{size:"medium"}))}
;a.displayName="PdfDocument24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#CA5010" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM7.854 8.454h2.94c1.45 0 2.441.972 2.441 2.437 0 1.45-1.03 2.421-2.514 2.421H9.329V15.5H7.854V8.454zM9.33 9.665v2.451h1.07c.844 0 1.337-.43 1.337-1.22 0-.801-.483-1.231-1.333-1.231H9.33z"/></svg>'},e,{size:"medium"}))};a.displayName="PowerpointPresentation24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){
return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm3 14a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0v-3a1 1 0 0 0-1-1zm8-6a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1zm-4 4a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1zm8-7a1 1 0 0 0-1 1v12a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1z"/></svg>'},e,{size:"medium"}))};a.displayName="Presentation24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF8B00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm9.03 20h.001c.29-.001.562-.126.752-.343l6.971-8a1 1 0 0 0 .095-1.185l-2.485-4a1.003 1.003 0 0 0-.85-.472h-8.84c-.334 0-.646.167-.832.444l-2.674 4a1 1 0 0 0 .081 1.216l7.03 8c.188.216.462.34.75.34z"/></svg>'},e,{size:"medium"}))};a.displayName="Sketch24Icon";var c=a;t.default=c},
"./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#00B8D9" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm5.017 12.265l-2.58-2.501L8.236 7.05a.999.999 0 1 0-1.392-1.436l-3.54 3.432a1 1 0 0 0 0 1.436l3.32 3.219a1 1 0 1 0 1.393-1.436zm6.638-8.21a1 1 0 0 0-1.271.62l-4.83 14.046a1 1 0 0 0 1.892.65l4.829-14.045a1 1 0 0 0-.62-1.271zm6.081 9.776l-3.32-3.219a.999.999 0 1 0-1.393 1.436l2.58 2.501-2.799 2.714a.999.999 0 1 0 1.392 1.436l3.54-3.432a1 1 0 0 0 0-1.436z"/></svg>'},e,{size:"medium"}))};a.displayName="SourceCode24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}
function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 5a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H5zm0 4a1 1 0 1 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm7-12a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7z"/></svg>'},e,{size:"medium"}))};a.displayName="Spreadsheet24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(o.default,s({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#004E8C" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zm5.629 5.324L8.687 16H7.295L5.43 8.954h1.533l1.099 4.966h.078l1.284-4.966h1.245l1.309 4.966h.078l1.089-4.966h1.523L12.798 16h-1.382l-1.333-4.663h-.078zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17z"/></svg>'},e,{size:"medium"}))};a.displayName="WordDocument24Icon";var c=a;t.default=c},"./node_modules/@atlaskit/icon-file-type/node_modules/tslib/tslib.es6.js":function(t,n,i){"use strict";i.r(n),i.d(n,"__extends",(function(){return r})),i.d(n,"__assign",(function(){return s})),i.d(n,"__rest",(function(){return a})),i.d(n,"__decorate",(function(){return c})),i.d(n,"__param",(function(){return l})),
i.d(n,"__metadata",(function(){return d})),i.d(n,"__awaiter",(function(){return u})),i.d(n,"__generator",(function(){return p})),i.d(n,"__createBinding",(function(){return m})),i.d(n,"__exportStar",(function(){return f})),i.d(n,"__values",(function(){return h})),i.d(n,"__read",(function(){return y})),i.d(n,"__spread",(function(){return b})),i.d(n,"__spreadArrays",(function(){return v})),i.d(n,"__await",(function(){return g})),i.d(n,"__asyncGenerator",(function(){return j})),i.d(n,"__asyncDelegator",(function(){return w})),i.d(n,"__asyncValues",(function(){return _})),i.d(n,"__makeTemplateObject",(function(){return O})),i.d(n,"__importStar",(function(){return k})),i.d(n,"__importDefault",(function(){return P})),i.d(n,"__classPrivateFieldGet",(function(){return S})),i.d(n,"__classPrivateFieldSet",(function(){return E}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function c(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i
;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(t,n,i,o){return new(i||(i=Promise))((function(r,s){function a(t){try{l(o.next(t))}catch(e){s(e)}}function c(t){try{l(o.throw(t))}catch(e){s(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(t,n||[])).next())}))}function p(t,n){var i,o,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){
if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(e){s=[6,e],o=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var m=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function f(e,t){
for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function g(e){return this instanceof g?(this.v=e,this):new g(e)}
function j(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=i.apply(t,n||[]),s=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||c(e,t)}))})}function c(t,n){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(l,d):u(s[0][2],e)}(r[t](n))}catch(e){u(s[0][3],e)}}function l(e){c("next",e)}function d(e){c("throw",e)}function u(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}function w(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:g(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),
i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return x(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},
"./node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class d{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new i.ReplaySubject(1),o=a({id:e},t),s=Object(r.h)({data:o});return n.next(s),n}populateCache(e){e.forEach((e=>{const t=this.createFileStateObserver(e.id,e.details);Object(o.b)().set(e.id,t)}))}removeFromCache(e,t){const n=l[t].items.findIndex((t=>t.id===e));-1!==n&&(Object(o.b)().remove(e),l[t].items.splice(n,1))}getItems(e,t){l[e]||(l[e]=(()=>({items:[],subject:new i.ReplaySubject(1),isLoadingNextPage:!1}))());const n=l[e],o=n.subject;return this.mediaStore.getCollectionItems(e,a(a({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:i}=e.data;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=i,o.next(n.items)})).catch((e=>o.error(e))),o}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const i=l[t];i.subject.next(i.items)}async loadNextPage(e,t){
const n=l[e],i=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||i)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:o,items:r,subject:s}=l[e],c=await this.mediaStore.getCollectionItems(e,a(a({},t),{},{inclusiveStartKey:o,details:"full"})),{contents:d,nextInclusiveStartKey:u}=c.data;this.populateCache(d);const p=[...r,...c.data.contents];s.next(p),l[e]={items:p,nextInclusiveStartKey:u,subject:s,isLoadingNextPage:!1}}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}))
;var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/observable/of.js"),a=n("./node_modules/rxjs/operators/map.js"),c=n("./node_modules/rxjs/operators/concatMap.js"),l=n("./node_modules/uuid/v4.js"),d=n.n(l),u=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),p=n("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js"),m=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),f=n("./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),h=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js"),y=n("./node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),b=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),v=n("./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),g=n("./node_modules/uuid-validate/index.js"),j=n.n(g),w=n("./node_modules/dataloader/index.js"),_=n.n(w)
;const O=(e,t)=>t?`${e}-${t}`:e,x=(e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:i}=t;return e[O(n,i)]=(e=>e.error instanceof Error)(t)?t.error:t.details,e}),{});return e.map((e=>{const{id:t,collectionName:i}=e,o=O(t,i);return n[o]||null}))};function k(e){return new _.a(function(e){return async t=>{const n="__media-single-file-collection__",i=t.reduce(((e,t)=>{const i=t.collectionName||n,o=e[i]||[];return-1===o.indexOf(t.id)&&o.push(t.id),e[i]=o,e}),{}),o=[];return await Promise.all(Object.keys(i).map((async t=>{const r=i[t],s=t===n?void 0:t;try{const t=await e.getItems(r,s);o.push(...t.data.items)}catch(a){r.forEach((e=>{o.push({id:e,collection:s,error:a})}))}}))),x(t,o)}}(e),{maxBatchSize:100})}var P=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js");const S=(e,t)=>Object(f.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}
;var E=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js"),F=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js"),C=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js"),A=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),T=n("./node_modules/rxjs/observable/from.js"),I=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js"),U=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js");async function M(e,t,n){if(("doc"===e||!Object(A.d)(t)||!n)&&Object(I.d)(t))return!0;if("video"===e&&n){const e=(await n).value;if(!(e instanceof Blob))return!1;const{width:t,height:i}=await Object(U.a)(e);return!t&&!i}return!1}var z=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/index.js"),L=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js")
;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{constructor(e){o()(this,"createDownloadFileStream",((e,t,n)=>{const i=Object(C.a)(),{featureFlags:o}=this.mediaStore,r={poll_intervalMs:Object(L.a)("poll_intervalMs",o),poll_maxAttempts:Object(L.a)("poll_maxAttempts",o),poll_backoffFactor:Object(L.a)("poll_backoffFactor",o),
poll_maxIntervalMs:Object(L.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:Object(L.a)("poll_maxGlobalFailures",o)},s=new z.a(r);return s.onError=e=>i.error(e),s.execute((async()=>{const o=await this.dataloader.load({id:e,collectionName:t});if(!o)throw new h.b("invalidFileId",e,{collectionName:t,occurrenceKey:n});const r=Object(f.i)(e,o);switch(i.next(r),r.status){case"processing":s.next();break;case"processed":i.complete()}})),i})),this.mediaStore=e,this.dataloader=k(e)}getFileState(e,t={}){const{collectionName:n,occurrenceKey:i}=t;if(!j()(e)){const t=Object(C.a)();return t.error(new h.b("invalidFileId",e,{collectionName:n,occurrenceKey:i})),t}return Object(b.b)().getOrInsert(e,(()=>this.createDownloadFileStream(e,n)))}getCurrentState(e,t){return Object(E.a)(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){return this.mediaStore.touchFiles({descriptors:e},{
collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){const t=d()(),n=d()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:i,occurrenceKey:o}=n,r=Object(C.a)(),s=fetch(e).then((e=>e.blob())).catch((()=>{})),a=new Promise((async(e,t)=>{const n=await s;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:i,occurrenceKey:o,preview:a};return r.next(l),Object(b.b)().set(i,r),new Promise((async(e,l)=>{const d=await s;if(!d)return l("Could not download remote file");const{type:u,size:p}=d,m={content:d,mimeType:u,collection:t,name:c},f=Object(P.a)(u);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:u,id:i,occurrenceKey:o,preview:a}),this.upload(m,void 0,n);e({
dimensions:await Object(F.a)(f,d),uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),i=[];for(let o=0;o<n.length;o+=512){const e=n.slice(o,o+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);i.push(r)}return new Blob(i,{type:"image/jpeg"})})(e.content));const{content:i,name:o="",collection:l}=e;n||(n=this.generateUploadableFileUpfrontIds(l));const d=n.id,u=n.occurrenceKey;let p,m="",f=0;const h=(e=>{if(e.content instanceof Blob){const t=e.content.type;return Object(P.a)(t)}return"unknown"})(e),v=Object(C.a)(),g=new r.Subscription;i instanceof Blob&&(f=i.size,m=i.type,Object(A.d)(i.type)&&(p={value:i,origin:"local"}));const j={id:d,occurrenceKey:u,name:o,size:f,mediaType:h,mimeType:m,preview:p},w=e=>{v.next(N(N({status:"uploading"},j),{},{progress:e}))},{cancel:_}=Object(y.a)(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;return v.next({
id:d,status:"error",message:t})}return v.error(e)}g.add(function(e,t,n){return Object(T.from)(M(e,t,n))}(h,m,p).pipe(Object(c.concatMap)((e=>e?this.createDownloadFileStream(d,l,u).pipe(Object(a.map)((e=>N(N(N({},j),e),S(e,h))))):Object(s.of)(N({status:"processing",representations:{}},j))))).subscribe(v))},onProgress:w});return Object(b.b)().set(d,v),setTimeout((()=>{w(0)}),0),t&&t.setAbort((()=>{_(),g.unsubscribe()})),v}async downloadBinary(e,t="download",n){const i=await this.mediaStore.getFileBinaryURL(e,n);Object(p.a)(i,{name:t}),v.a.emit("media-viewed",{fileId:e,isUserCollection:"recents"===n,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:i,collection:o,id:r}=e,{authProvider:s,collection:a,replaceFileId:c,occurrenceKey:l}=t,{preview:d,mimeType:p}=n,h=t.mediaStore||new m.a({authProvider:s}),y={sourceFile:{id:r,collection:o,owner:Object(u.authToOwner)(await i({collectionName:o}))}},v={collection:a,replaceFileId:c,occurrenceKey:l},g=Object(b.b)();let j;try{
const{data:e}=await h.copyFileWithToken(y,v),t=N(N({},e),p?{mimeType:p}:void 0),{id:n,mimeType:i}=t,o=i?Object(P.a)(i):"unknown",r=Object(f.h)({data:t}),s=g.get(n)||Object(C.a)(),c=!Object(f.a)(r)&&d?{preview:d}:{};return!Object(f.b)(r)&&i&&await M(o,i,d)?(s.next(N(N(N({},r),S(r,o)),c)),j=this.createDownloadFileStream(n,a,l).subscribe({next:e=>s.next(N(N(N({},e),S(e,o)),!Object(f.a)(e)&&c)),error:e=>s.error(e),complete:()=>s.complete()})):Object(f.f)(r)||s.next(N(N({},r),!Object(f.a)(r)&&c)),g.has(n)||Object(b.b)().set(n,s),e}catch(w){if(j&&j.unsubscribe(),c){const e={id:r,status:"error",message:`error copying file to ${a}`},t=g.get(c);t?t.next(e):g.set(r,Object(C.a)(e))}throw w}}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}))
;var i=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js");class c{constructor(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new o.a({authProvider:e.authProvider},t),this.config=e,this.collection=new r.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new i.EventEmitter2,this.stargate=new a.a(e.stargateBaseUrl)}getImage(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){
return this.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/constants.js"),o=n("./node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),r=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/index.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js"),a=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={"max-age":i.a,allowAnimated:!0,mode:"crop"},p={limit:30,sortDirection:"desc"},m=(e,t=!1)=>l(l(l({},u),e),t?{width:4096,height:4096}:{}),f={Accept:"application/json","Content-Type":"application/json"};class h{constructor(e,t){this.config=e,this.featureFlags=t}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:l(l({},p),t),headers:{Accept:"application/json"}}),{data:{contents:i,nextInclusiveStartKey:o}}=await Object(s.e)(n);return{data:{contents:i.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:o}}}async removeCollectionFile(e,t,n){const i={actions:[{action:"remove",
item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(i),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(s.e)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(s.f)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:f}).then(s.e)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:f}).then(s.e)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:f,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(s.e)}
getFile(e,t={}){return this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(s.e)}async getFileImageURL(e,t){const n=await this.config.authProvider();return Object(s.a)(`${n.baseUrl}/file/${e}/image`,{params:m(t),auth:n})}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return Object(s.a)(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":i.a},auth:n})}async getArtifactURL(e,t,n){const r=Object(o.a)(e,t);if(!r)throw new Error(`artifact ${t} not found`);const a=await this.config.authProvider({collectionName:n});return Object(s.a)(`${a.baseUrl}${r}`,{params:{collection:n,"max-age":i.a},auth:a})}async getImage(e,t,n,i){let o;return this.request(`/file/${e}/image`,{headers:o,params:m(t,i),authContext:{collectionName:t&&t.collection}},n).then(s.d)}async getItems(e,t){const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),
headers:f,authContext:{collectionName:t}}).then(s.e)}async getImageMetadata(e,t){return this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(s.e)}appendChunksToUpload(e,t,n){return this.request(`/upload/${e}/chunks`,{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:f}).then(s.f)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:f,params:t}).then(s.e)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:i}=this.config,{method:o,authContext:s,params:c,headers:l,body:d,clientOptions:u}=t;let p;try{p=await i(s)}catch(f){throw new a.c("failedAuthProvider",f)}const m=await Object(r.a)(`${p.baseUrl}${e}`,{method:o,auth:p,params:c,headers:l,body:d,clientOptions:u},n);return function(e){if(!e||!window||!window.sessionStorage)return
;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(m.headers.get("x-media-region")),m}}},"./node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}},"./node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const i="recents",o=2592e3,r=4096},"./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class i{constructor(e){
this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let o;const r=()=>{if(!o){const e=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;o=new i(e.streams)}return o}},"./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");const o={on(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){
return i}));const i=(e,t)=>{const n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a}));class i extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}class o extends i{constructor(e,t,n){super(e),this.reason=e,this.id=t,this.metadata=n}get attributes(){const{reason:e,id:t,metadata:{collectionName:n,occurrenceKey:i}={}}=this;return{reason:e,id:t,collectionName:n,occurrenceKey:i}}}function r(e){return e instanceof o}class s extends i{constructor(e,t){super(e),this.reason=e,this.innerError=t}get attributes(){const{reason:e,innerError:t}=this;return{reason:e,innerError:t}}}function a(e){return e instanceof s}},
"./node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js":function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u
})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f}));const s=e=>"uploading"===e.status,a=e=>"processing"===e.status,c=e=>"processed"===e.status,l=e=>"error"===e.status,d=e=>!l(e)&&!!e.preview,u=e=>["processed","failed-processing","error"].includes(e.status),p=e=>{switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},m=e=>{const{id:t,name:n,size:i,processingStatus:r,artifacts:s,mediaType:a,mimeType:c,representations:l,createdAt:d}=e.data,u={id:t,name:n,size:i,mediaType:a,mimeType:c,artifacts:s,representations:l,createdAt:d};switch(r){case"pending":case void 0:return o(o({},u),{},{status:"processing"});case"succeeded":return o(o({},u),{},{status:"processed"});case"failed":return o(o({},u),{},{status:"failed-processing"})}},f=(e,t)=>m({data:o({id:e},t)})},"./node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js":function(e,t,n){
"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}},"./node_modules/@atlaskit/media-client/dist/es2019/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("./node_modules/rxjs/operators/tap.js"),o=n("./node_modules/rxjs/operators/concatMap.js"),r=n("./node_modules/rxjs/observable/fromPromise.js"),s=n("./node_modules/rxjs/Subject.js"),a=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js");var l=n("./node_modules/rxjs-async-map/out/index.js");function d(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const u=e=>function(e){const t=new FileReader;return new Promise(((n,i)=>{t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(d)
;var p=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=(e,t,n)=>Object(r.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e}(e)).pipe(Object(o.concatMap)((e=>{
const{chunkSize:r}=t,{onProgress:s}=n,d=Math.ceil(e.size/r),f=function(e,{batchSize:t,prober:n}){return e.pipe(Object(p.bufferCount)(t),Object(o.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>h(h({},e),{},{exists:t[n]}))))))),Object(o.concatMap)((e=>Object(m.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object(l.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`}))))(t||u),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(a.range)(0,n).pipe(Object(c.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:r}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction});let y=0,b=((e,t)=>e.pipe(Object(l.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(f,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return s&&(b=b.pipe(Object(i.tap)((()=>{y+=1,s(y/d)})))),
((e,t)=>e.pipe(Object(p.bufferCount)(t.batchSize)).pipe(Object(o.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(b,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),v=(e,t,n)=>function(e){const t=new s.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(b(e,t,n));let g=null;const j=async e=>(await(async()=>{if(!g)try{const{WorkerHasher:e}=await n.e("3d11798d60").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));g=new e(3)}catch(e){const{SimpleHasher:t}=await n.e("cb7763cce7").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));g=new t}return g})()).hash(e),w=(e,t)=>async n=>{const i=(await e.probeChunks(k(n),t)).data.results;return Object.values(i).map((e=>e.exists))},_=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),O=(e,t,n)=>{let i=0;return async o=>{await e.appendChunksToUpload(await t,{
chunks:k(o),offset:i},n),i+=o.length}},x=(e,t,n,i)=>{const{content:o,collection:r,name:s,mimeType:a}=e,{id:c,occurrenceKey:l,deferredUploadId:d}=n,{response:u,cancel:p}=v(o,{hashingFunction:j,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:_(t,r),probingFunction:w(t,r),processingBatchSize:1e3,processingFunction:O(t,d,r)},{onProgress(e){i&&i.onProgress(e)}}),m=i&&i.onUploadFinish||(()=>{});return Promise.all([d,u]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:s,mimeType:a},{occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},k=e=>e.map((e=>e.hash))},"./node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/rxjs/ReplaySubject.js");const o=e=>{const t=new i.ReplaySubject(1);return e&&t.next(e),t}},
"./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js");const o=async(e,t)=>{switch(e){case"image":{const e=URL.createObjectURL(t);try{return await(e=>new Promise(((t,n)=>{const i=new Image;i.src=e,i.onload=()=>t({width:i.width,height:i.height}),i.onerror=n})))(e)}finally{URL.revokeObjectURL(e)}}case"video":return Object(i.a)(t);default:throw new Error(`Can't extract dimensions from ${e}`)}}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),o=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js")
;const r=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":Object(i.c)(e)||Object(o.c)(e)?"image":Object(i.b)(e)||Object(o.b)(e)?"doc":Object(i.a)(e)||Object(o.a)(e)?"audio":Object(i.e)(e)||Object(o.f)(e)?"video":"unknown"
},"./node_modules/@atlaskit/media-client/dist/es2019/utils/getVideoDimensionsFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/video-snapshot/dist/es2015/index.js");const o=async(e,t=new i.a(e))=>{try{return await t.getDimensions()}finally{t.end()}}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a}));const i=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,o=e=>"application/pdf"===e.toLowerCase(),r=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,s=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,a=e=>o(e)||i(e)||r(e)||s(e)},
"./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}))
;const i=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,o=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,r=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,s=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,a=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,c=e=>i(e)||o(e)||r(e)||s(e)||a(e)
},"./node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/rxjs/Subscription.js");const o=(e,t=new i.Subscription)=>new Promise(((n,i)=>t.add(e.subscribe({next:e=>{n(e),t.unsubscribe()},error:e=>{i(e),t.unsubscribe()}}))))},"./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");class o extends i.a{constructor(e,t){super(e),this.reason=e,this.attempts=t}get attributes(){const{reason:e,attempts:t}=this;return{reason:e,attempts:t}}}function r(e){return e instanceof o}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}))
;var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js"),s=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/polling/errors.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={poll_intervalMs:Object(r.a)("poll_intervalMs"),
poll_maxAttempts:Object(r.a)("poll_maxAttempts"),poll_backoffFactor:Object(r.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(r.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(r.a)("poll_maxGlobalFailures")};class u{constructor(e){o()(this,"poll_intervalMs",0),o()(this,"attempt",1),o()(this,"shouldIterate",!0),o()(this,"timeoutId",0),this.options=c(c({},d),e),this.poll_intervalMs=this.options.poll_intervalMs}async execute(e){const{poll_maxAttempts:t,poll_maxGlobalFailures:n}=this.options;if(u.failures>=n)return this.fail(new s.a("maxFailuresExceeded",this.attempt));if(0===t)return this.fail(new s.a("maxAttemptsExceeded",this.attempt));try{if(this.shouldIterate=!1,await e(),!this.shouldIterate)return;if(this.attempt>=t)return this.fail(new s.a("maxAttemptsExceeded",this.attempt));this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((()=>this.execute(e)),this.poll_intervalMs)}catch(i){this.fail(i)}}fail(e){
const{onError:t}=this;u.failures+=1,this.cancel(),t&&t(e)}getIntervalMsForIteration(e){let t=this.options.poll_intervalMs;if(1===e)return t;for(let n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}next(){this.shouldIterate=!0}cancel(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}o()(u,"failures",0)},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/models/errors.js");class o extends i.a{constructor(e,t){super(e),this.reason=e,this.metadata=t}get attributes(){const{reason:e,metadata:{attempts:t,statusCode:n,bodyAsText:i,innerError:o}={}}=this;return{reason:e,attempts:t,statusCode:n,bodyAsText:i,innerError:o}}}function r(e){return e instanceof o}function s(e){
return!!e&&r(e)&&429===e.attributes.statusCode||!!e&&!!e.message&&e.message.includes("429")}function a(e,t){return s(e)?"rateLimited":t}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return v}));var i=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),o=n("./node_modules/query-string/index.js");var r=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/errors.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return e instanceof Error&&"request_cancelled"===e.message||!!e&&"AbortError"===e.name}function d(e){return e instanceof TypeError}function u(e,{params:t,auth:n}){const{baseUrl:r,queryParams:s}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(o.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(i.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(o.stringify)(a(a(a({},s),t),c));return`${r}${l.length>0?`?${l}`:""}`}function p(e){
return t=>e?a(a({},t||{}),function(e){return Object(i.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,Authorization:`Bearer ${e.token}`}}(e)):t}async function m(e){try{return await e.json()}catch(t){throw new r.a("serverInvalidBody",{statusCode:e.status,innerError:t})}}async function f(e){try{return await e.blob()}catch(t){throw new r.a("serverInvalidBody",{statusCode:e.status,innerError:t})}}function h(){return Promise.resolve()}const y={startTimeoutInMs:1e3,maxAttempts:5,factor:2};async function b(e,t={}){const n=a(a({},y),t),{startTimeoutInMs:i,maxAttempts:o,factor:s}=n;let c,u=0,p=i;const m=async()=>{await function(e){return new Promise((t=>setTimeout(t,e)))}(p),p*=s,u+=1};for(;u<o;)try{return await e()}catch(f){if(c=f,l(f))throw new r.a("clientAbortedRequest");if(!d(f)&&!Object(r.d)(f)||Object(r.d)(f)&&(!f.metadata||!f.metadata.statusCode||f.metadata.statusCode<500))throw f;await m()}
throw new r.a("clientExhaustedRetries",{attempts:u,innerError:c})}async function v(e){if(e.ok||e.status<400)return e;const t=await e.text();throw new r.a("serverError",{statusCode:e.status,bodyAsText:t})}},"./node_modules/@atlaskit/media-client/dist/es2019/utils/request/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/request/helpers.js");async function o(e,t={},n){const{method:o="GET",auth:r,params:s,headers:a,body:c,clientOptions:l={}}=t,{retryOptions:d}=l;return Object(i.b)((()=>fetch(Object(i.a)(e,{params:s}),{method:o,body:c,headers:Object(i.h)(r)(a),signal:n&&n.signal}).then(i.g)),d)}},"./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(e,t)=>{
const n=!!window.MSInputMethodContext&&!!document.documentMode,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o="media-download-iframe",r=document.createElement("a");let s=document.getElementById(o);s||(s=document.createElement("iframe"),s.style.display="none",s.id=o,s.name=o,document.body.appendChild(s)),r.href=e,t&&t.name&&(r.download=t.name),r.target=n||i?"_blank":o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"./node_modules/@atlaskit/media-common/dist/es2019/mediaFeatureFlags.js":function(t,n,i){"use strict";i.d(n,"a",(function(){return s}));const o=e=>"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null,r={newCardExperience:!1,zipPreviews:!1,captions:!1,folderUploads:!1,codeViewer:!1,poll_intervalMs:3e3,poll_maxAttempts:30,poll_backoffFactor:1.25,poll_maxIntervalMs:2e5,poll_maxGlobalFailures:10};function s(t,n){const i=o(t);if(null!==i)try{return JSON.parse(i)}catch(e){}return n&&t in n?n[t]:r[t]}
Object.keys(r).forEach((e=>{const t=o(e);null!==t&&console.info(`%c* LOCAL * MediaFeatureFlag.${e} = ${t}`,"font-weight:bold;color:cyan")}))},"./node_modules/@atlaskit/media-core/dist/es2019/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return o})),n.d(t,"isClientBasedAuth",(function(){return r})),n.d(t,"isAsapBasedAuth",(function(){return s})),n.d(t,"authToOwner",(function(){return a}));var i=n("./node_modules/eventemitter2/lib/eventemitter2.js");const o={streams:new(n("./node_modules/lru-fast/lru.js").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function r(e){return!!e.clientId}function s(e){return!!e.asapIssuer}const a=e=>{if(s(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},"./node_modules/@atlaskit/media-picker/dist/es2019/components/browser/browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserBase",(function(){return u})),n.d(t,"Browser",(function(){return p}))
;var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/react/index.js"),s=n.n(r),a=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsContext.js"),c=n("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),l=n("./node_modules/@atlaskit/media-picker/dist/es2019/components/localUploadReact.js"),d=n("./node_modules/@atlaskit/media-picker/dist/es2019/version.json");class u extends l.a{constructor(...e){super(...e),o()(this,"browserRef",s.a.createRef()),o()(this,"onFilePicked",(e=>{if(!e.target)return;const t=[].slice.call(e.target.files);try{this.uploadService.addFiles(t)}finally{this.browserRef.current&&(this.browserRef.current.value="")}})),o()(this,"browse",(()=>{const{onClose:e}=this.props;this.browserRef.current&&(this.browserRef.current.click(),e&&e())}))}componentDidMount(){const{onBrowseFn:e,onCancelFn:t,isOpen:n}=this.props;e&&e(this.browse),t&&t(this.cancel),n&&this.browse()}
UNSAFE_componentWillReceiveProps(e){const{isOpen:t}=this.props,{isOpen:n}=e;n&&n!==t&&this.browse()}render(){const{config:e,children:t}=this.props,n=e.multiple,i=e.fileExtensions&&e.fileExtensions.join(",");return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{"data-testid":"media-picker-file-input",ref:this.browserRef,type:"file",style:{display:"none"},multiple:n,accept:i,onChange:this.onFilePicked}),t?t(this.browse):null)}}u.displayName="BrowserBase",o()(u,"defaultProps",{config:{uploadParams:{}}});const p=Object(a.a)({attributes:{componentName:"browser",packageName:d.a,packageVersion:d.b}})(Object(c.a)()(u))},"./node_modules/@atlaskit/media-picker/dist/es2019/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/eventemitter2/lib/eventemitter2.js");class s extends class{constructor(){o()(this,"emitter",new r.EventEmitter2({wildcard:!0}))}
once(e,t){this.emitter.once(e,t)}on(e,t){this.emitter.on(e,t)}onAny(e){this.emitter.onAny(e)}addListener(e,t){this.emitter.addListener(e,t)}off(e,t){this.emitter.off(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}removeAllListeners(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)}emit(e,t){return this.emitter.emit(e,t)}}{emitPluginItemsInserted(e){const t=e.map((e=>({pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}})));this.emit("plugin-items-inserted",t)}emitUploadsStart(e){this.emit("uploads-start",{files:e})}emitUploadPreviewUpdate(e,t){this.emit("upload-preview-update",{file:e,preview:t})}emitUploadEnd(e){this.emit("upload-end",{file:e})}emitUploadError(e,t){this.emit("upload-error",{fileId:e,error:t})}}},"./node_modules/@atlaskit/media-picker/dist/es2019/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}))
;var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/react/index.js"),s=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),a=n("./node_modules/@atlaskit/media-picker/dist/es2019/components/component.js"),c=n("./node_modules/@atlaskit/media-picker/dist/es2019/service/uploadServiceImpl.js"),l=n("./node_modules/@atlaskit/media-picker/dist/es2019/version.json");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t={})=>({actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:u(u({packageName:l.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)});class f extends r.Component{constructor(e){super(e),o()(this,"uploadComponent",new a.a),o()(this,"fireCommencedEvent",(e=>{e.files.forEach((({id:e,size:t,type:n})=>{Object(s.start)(`MediaPicker.fireUpload.${e}`),this.createAndFireAnalyticsEvent(u(u({},m({size:t,type:n})),{},{action:"commenced",eventType:"operational"}))}))})),o()(this,"fireUploadSucceeded",(e=>{const{size:t,type:n,id:i}=e.file,{duration:o=-1}=Object(s.end)(`MediaPicker.fireUpload.${i}`);this.createAndFireAnalyticsEvent(u(u({},m({size:t,type:n},{status:"success",uploadDurationMsec:o})),{},{action:"uploaded",eventType:"track"}))})),o()(this,"fireUploadFailed",(async e=>{
const{duration:t=-1}=Object(s.end)(`MediaPicker.fireUpload.${e.fileId}`);this.createAndFireAnalyticsEvent(u(u({},m(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:t})),{},{action:"uploaded",eventType:"track"}))})),o()(this,"createAndFireAnalyticsEvent",(e=>{const{createAnalyticsEvent:t}=this.props;t&&t(e).fire("media")})),o()(this,"cancel",(e=>{this.uploadService.cancel(e)})),o()(this,"onFilesAdded",(({files:e})=>{this.uploadComponent.emitUploadsStart(e)})),o()(this,"onFilePreviewUpdate",(({file:e,preview:t})=>{this.uploadComponent.emitUploadPreviewUpdate(e,t)})),o()(this,"onFileConverting",(({file:e})=>{this.uploadComponent.emitUploadEnd(e)})),o()(this,"onUploadError",(({fileId:e,error:t})=>{this.uploadComponent.emitUploadError(e,t)}));const{mediaClient:t,config:n,onUploadsStart:i,onPreviewUpdate:r,onEnd:l,onError:d}=this.props,p=n.uploadParams,{shouldCopyFileToRecents:f=!0}=n;this.uploadComponent.on("uploads-start",this.fireCommencedEvent),
this.uploadComponent.on("upload-end",this.fireUploadSucceeded),this.uploadComponent.on("upload-error",this.fireUploadFailed),i&&this.uploadComponent.on("uploads-start",i),r&&this.uploadComponent.on("upload-preview-update",r),l&&this.uploadComponent.on("upload-end",l),d&&this.uploadComponent.on("upload-error",d),this.uploadService=new c.a(t,p,f),this.uploadService.on("files-added",this.onFilesAdded),this.uploadService.on("file-preview-update",this.onFilePreviewUpdate),this.uploadService.on("file-converting",this.onFileConverting),this.uploadService.on("file-upload-error",this.onUploadError)}setUploadParams(e){this.uploadService.setUploadParams(e)}}},"./node_modules/@atlaskit/media-picker/dist/es2019/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},
"./node_modules/@atlaskit/media-picker/dist/es2019/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/uuid/v4.js"),s=n.n(r),a=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),c=n("./node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js"),l=n("./node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js"),d=n("./node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),u=n("./node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),p=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),m=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js"),f=n("./node_modules/eventemitter2/lib/eventemitter2.js"),h=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");function y(e){
return Object(h.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var b=n("./node_modules/@atlaskit/media-ui/dist/es2019/util.js"),v=n("./node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/index.js");var g=n("./node_modules/@atlaskit/media-picker/dist/es2019/service/types.js"),j=n("./node_modules/@atlaskit/media-picker/dist/es2019/util/getPreviewFromBlob.js");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x{constructor(e,t,n){o()(this,"emit",((e,t)=>{this.emitter.emit(e,t)})),o()(this,"onFileSuccess",(async(e,t)=>{const{mediaFile:n}=e;this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=()=>{this.releaseCancellableFile(n)}})),o()(this,"onFileError",((e,t,n)=>{if(this.releaseCancellableFile(e),"canceled"===n)return;const i=n instanceof Error?n.message:n;this.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})})),this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emitter=new f.EventEmitter2,this.cancellableFilesUploads={};const{userAuthProvider:i}=e.config;i&&(this.userMediaStore=new a.a({authProvider:i}),this.userMediaClient=new c.a({userAuthProvider:i,authProvider:i}))}setUploadParams(e){this.tenantUploadParams=e}createUploadController(){return new l.a}addFiles(e){
this.addFilesWithSource(e.map((e=>({file:e,source:g.a.LocalUpload}))))}addFilesWithSource(e){if(0===e.length)return;const t=Date.now(),{userMediaClient:n,tenantMediaClient:i,shouldCopyFileToRecents:o}=this,r=o?i:n,a=o?this.tenantUploadParams.collection:"recents";if(!r)return;const c=[];for(let d=0;d<e.length;d++)c.push({fileId:s()(),occurrenceKey:s()(),collection:a});const l=r.file.touchFiles(c,a),p=e.map(((e,n)=>{const{file:i,source:s}=e,{fileId:p,occurrenceKey:m}=c[n],f=l.then((e=>{const t=e.created.find((e=>e.fileId===p));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),h={collection:a,content:i,name:i.name,mimeType:i.type},y={id:p,occurrenceKey:m,deferredUploadId:f},b=this.createUploadController(),v=r.file.upload(h,b,y),g={id:p,name:i.name,size:i.size,creationDate:t,type:i.type,occurrenceKey:m},j={mediaFile:g,file:i,source:s,cancel:()=>{b.abort()}},w=this.onFileSuccess.bind(this);return v.subscribe({next(e){
"processing"===e.status&&(this.unsubscribe(),o&&(r.emit("file-added",e),d.a.emit("file-added",e)),w(j,p))},error:e=>{this.onFileError(g,"upload_fail",e)}}),this.cancellableFilesUploads[p]=j,Object(u.b)().set(p,v),j})),m=p.map((e=>e.mediaFile));this.emit("files-added",{files:m}),this.emitPreviews(p)}cancel(e){if(e){const t=this.cancellableFilesUploads[e];t&&t.cancel&&t.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((e=>{const t=this.cancellableFilesUploads[e];t.cancel&&t.cancel()}))}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}emitPreviews(e){e.forEach((e=>{const{file:t,mediaFile:n,source:i}=e,{type:o}=t,r=this.getMediaTypeFromFile(t);Object(p.d)(o)?"image"===r?async function(e,t){const n=await Object(b.e)(e),i=await Object(v.a)(n);if(null===i)return{file:e};{const{width:n,height:o,scaleFactor:r}=i;return{file:e,dimensions:{width:n,height:o},scaleFactor:t||r}}}(t,i===g.a.PastedScreenshot?window.devicePixelRatio:void 0).then((e=>{
this.emit("file-preview-update",{file:n,preview:e})})):Object(j.a)(r,t).then((e=>{this.emit("file-preview-update",{file:n,preview:e})})):this.emit("file-preview-update",{file:n,preview:{}})}))}getMediaTypeFromFile(e){const{type:t}=e;return Object(m.a)(t)}releaseCancellableFile(e){delete this.cancellableFilesUploads[e.id]}copyFileToUsersCollection(e){const{shouldCopyFileToRecents:t,userMediaStore:n,tenantUploadParams:i}=this;if(!t||!n)return Promise.resolve();const{collection:o}=i,{authProvider:r}=this.tenantMediaClient.config;return r({collectionName:o}).then((t=>{const i={sourceFile:{id:e,collection:o,owner:_({},y(t))}};return n.copyFileWithToken(i,{collection:"recents"})}))}}},"./node_modules/@atlaskit/media-picker/dist/es2019/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/es2019/utils/getDimensionsFromBlob.js");async function o(e,t){switch(e){case"image":case"video":{
const n=await Object(i.a)(e,t);return(e=>!e.width&&!e.height)(n)?{file:t,scaleFactor:1}:{file:t,dimensions:n,scaleFactor:1}}default:return{file:t}}}},"./node_modules/@atlaskit/media-picker/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"57.2.0"}')},"./node_modules/@atlaskit/media-ui/dist/es2019/codeViewer.js":function(e,t,n){"use strict";function i(e){return e.indexOf(".")>-1?e.split(".").pop():""}function o(e){return null!==r(e)}function r(e){const t=i(e);switch(t){case"abap":case"ada":case"c":case"css":case"d":case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return t;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp"
;case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl";case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":return"text";case"ts":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";default:return null}}n.d(t,"a",(function(){
return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}))},"./node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/imageOrientationUtil.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const i={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},o=e=>e>=5,r=e=>i[e]},"./node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/index.js":function(t,n,i){"use strict";let o,r;i.d(n,"a",(function(){return w})),i.d(n,"b",(function(){return O})),function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(o||(o={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(r||(r={}));const s={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},{XResolution:a,YResolution:c}=r;let l
;var d=i("./node_modules/@atlaskit/media-ui/dist/es2019/util.js");let u;async function p(e){if(!u){const e=await i.e("420d777950").then(i.t.bind(null,"./node_modules/png-chunks-extract/index.js",7));u=e.default||e}const t=await Object(d.b)(e),n=u(t);return await async function(e){let t="",n={};for(let i=0;i<e.length;++i){const o=e[i];if("IEND"===o.name)break;if("iTXt"===o.name&&(t=String.fromCharCode.apply(null,Array.from(o.data))),"pHYs"===o.name){const e=new DataView(o.data.buffer);if(1===e.getUint8(8)){n={PixelPerUnitX:e.getUint32(0),PixelPerUnitY:e.getUint32(4)}}}}return{iTXt:t,pHYs:n}}(n)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function y(t){const n=t.type;try{if(n===o.PNG){const{iTXt:e,pHYs:n}=await p(t);return f(f({},function(e){const t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((e=>{const n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){const e=n[2];t[e]=n[3]}})),t}(e)),n)}if(t.type===o.JPEG)return await function(t){return new Promise((async(n,o)=>{if(!l){const e=await i.e("cd45fd1be4").then(i.t.bind(null,"./node_modules/blueimp-load-image/js/index.js",7));l=e.default||e}l.parseMetaData(t,(t=>{try{const e=t&&t.exif?t.exif.getAll():{};Object.keys(e).forEach((t=>{const n=e[t];"object"!=typeof n||t!==a&&t!==c||!("numerator"in n)||(e[t]=n.numerator),
"number"==typeof e[t]&&(e[t]=`${e[t]}`)})),n(e)}catch(e){o(e)}}))}))}(t)}catch(e){}return null}var b=i("./node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/imageOrientationUtil.js");const{Orientation:v,XResolution:g}=r,j=72;async function w(t){const n=await async function(t){const{file:n,src:i}=t,o=n.type;let r=0,s=0;const a=await y(n);a&&a.PixelXDimension&&(r=x(a,"PixelXDimension",0));a&&a.PixelXDimension&&(s=x(a,"PixelYDimension",0));if(0===r&&0===s){let t;try{t=await Object(d.g)(i)}catch(e){return null}const{naturalWidth:n,naturalHeight:o}=t;r=n,s=o}const c=_(a),l=Object(b.b)(c);return{type:o,width:l?s:r,height:l?r:s,tags:a}}(t);if(!n)return null;const{width:i,height:o,tags:r}=n;return{scaleFactor:function(t,n){const i=function(t){try{const e=t.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(e)return parseFloat(e[1])}catch(e){}return null}(t);return null!==i?i:n?"number"==typeof n.PixelPerUnitX?Math.round(.0254*n.PixelPerUnitX)/j:x(n,g,j)/j:1}(t.file,r),width:i,height:o}}
const _=e=>{if(e&&e[v]){const t=e[v];if(t){const e=parseInt(t,10);return isNaN(e)?s[t]:e}}return 1};async function O(e){const t=await y(e);return _(t)}function x(t,n,i){try{const e=parseFloat(`${t[n]}`);if(!isNaN(e))return e}catch(e){}return i}},"./node_modules/@atlaskit/media-ui/dist/es2019/util.js":function(t,n,i){"use strict";i.d(n,"a",(function(){return M})),i.d(n,"c",(function(){return z})),i.d(n,"e",(function(){return L})),i.d(n,"b",(function(){return D})),i.d(n,"g",(function(){return N})),i.d(n,"d",(function(){return B})),i.d(n,"f",(function(){return $}))
;var o=i("./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js"),r=i.n(o),s=i("./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js"),a=i.n(s),c=i("./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js"),l=i.n(c),d=i("./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js"),u=i.n(d),p=i("./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js"),m=i.n(p),f=i("./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js"),h=i.n(f),y=i("./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js"),b=i.n(y),v=i("./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js"),g=i.n(v),j=i("./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js"),w=i.n(j),_=i("./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js"),O=i.n(_),x=i("./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js"),k=i.n(x),P=i("./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js"),S=i.n(P),E=i("./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js"),F=i.n(E),C=i("./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js"),A=i.n(C),T=i("./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js"),I=i.n(T),U=i("./node_modules/@atlaskit/media-ui/dist/es2019/codeViewer.js")
;function M(t,n="untitled"){if(0===t.length)throw new Error("dataURI not found");const i=t.split(","),o=i[0].indexOf("base64")>=0?atob(i[1]):decodeURIComponent(i[1]);let r;try{r=t.split(",")[0].split(":")[1].split(";")[0]}catch(e){r="application/octet-stream"}const s=new Uint8Array(o.length);for(let e=0;e<o.length;e++)s[e]=o.charCodeAt(e);const a=new Blob([s],{type:r});try{return new File([a],n,{type:r})}catch(e){const i=a,o=new Date;return i.lastModified=o.getTime(),i.lastModifiedDate=o,i.name=n,i.webkitRelativePath="",i}}function z(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>{const e=i.result;"string"==typeof e?t(e):null===e&&n()})),i.addEventListener("error",n),i.readAsDataURL(e)}))}async function L(e,t){return{file:e,src:t||await z(e)}}function D(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>{const e=new Uint8Array(i.result);t(e)})),i.addEventListener("error",n),i.readAsArrayBuffer(e)}))}function N(e){
return new Promise(((t,n)=>{const i=new Image;i.src=e,i.onload=()=>{t(i)},i.onerror=n}))}const B=(e,t,n=document.body)=>{if(e.classList.contains(t))return e;let i=e;for(;i.parentElement!==n;){if(!i.parentElement)return;if(i=i.parentElement,i.classList.contains(t))return i}},R=[{label:"pdf",mimeTypes:["application/pdf"],icon:r.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:w.a},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:k.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:w.a},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:O.a},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],icon:g.a},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:u.a},{label:"presentation",
mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:A.a},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:l.a},{label:"giphy",mimeTypes:["image/gif"],icon:a.a},{label:"spreadsheet",mimeTypes:["text/csv"],icon:F.a},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:S.a}];function $(e,t){const n=R.find((t=>t.mimeTypes.indexOf(e)>-1));return n||(Object(U.c)(t)?{label:"source-code",icon:I.a}:t.match(/.*\.sketch$/)?{label:"sketch",icon:m.a}:t.match(/.*\.fig$/)?{label:"figma",icon:h.a}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:b.a}:void 0)}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/AnalyticsContext.js":function(e,t,n){"use strict"
;(function(e){var i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/LegacyAnalyticsContext.js"),o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/ModernAnalyticsContext.js");let r;r=e.env.ANALYTICS_NEXT_MODERN_CONTEXT?o.a:i.a,t.a=r}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/LegacyAnalyticsContext.js":function(e,t,n){"use strict";var i=n("./node_modules/react/index.js"),o=n.n(i),r=n("./node_modules/prop-types/index.js"),s=n.n(r),a=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js");const c={getAtlaskitAnalyticsContext:s.a.func,getAtlaskitAnalyticsEventHandlers:s.a.func},l=()=>[];class d extends i.Component{constructor(e){super(e),this.getChildContext=()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext}),this.getAnalyticsContext=()=>{
const{data:e}=this.props,{getAtlaskitAnalyticsContext:t=l}=this.context;return[...t(),e]},this.getAnalyticsEventHandlers=()=>{const{getAtlaskitAnalyticsEventHandlers:e=l}=this.context;return e()},this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return o.a.createElement(a.a.Provider,{value:this.contextValue},e)}}d.displayName="AnalyticsContext",d.contextTypes=c,d.childContextTypes=c,t.a=d},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/ModernAnalyticsContext.js":function(e,t,n){"use strict";var i=n("./node_modules/react/index.js"),o=n.n(i),r=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/useAnalyticsContext.js");t.a=({data:e,children:t})=>{const n=(e=>{const t=Object(i.useRef)(e)
;return Object(i.useEffect)((()=>{t.current=e}),[e]),t})(e),a=Object(s.a)(),c=Object(i.useCallback)((()=>[...a.getAtlaskitAnalyticsContext(),n.current]),[a,n]),l=Object(i.useMemo)((()=>({getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers})),[a,c]);return o.a.createElement(r.a.Provider,{value:l},t)}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/UIAnalyticsEvent.js":function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class s{constructor(e){this.clone=()=>{const e=o({},this.payload);return new s({payload:e})},this.payload=e.payload}update(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=o(o({},this.payload),e)),this}}class a extends s{constructor(e){super(e),this.clone=()=>{if(this.hasFired)return null;const e=[...this.context],t=[...this.handlers],n=JSON.parse(JSON.stringify(this.payload));return new a({context:e,handlers:t,payload:n})},this.fire=e=>{this.hasFired||(this.handlers.forEach((t=>t(this,e))),this.hasFired=!0)},this.context=e.context||[],this.handlers=e.handlers||[],this.hasFired=!1}update(e){return this.hasFired?this:super.update(e)}}},
"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/useAnalyticsContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/react/index.js"),o=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js");const r=()=>Object(i.useContext)(o.a)},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/withAnalyticsContext.js":function(e,t,n){"use strict";var i=n("./node_modules/react/index.js"),o=n.n(i),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/AnalyticsContext.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=e=>t=>{const n=Object(i.forwardRef)(((n,s)=>{let{analyticsContext:c}=n,d=l(n,["analyticsContext"]);const u=Object(i.useMemo)((()=>a(a({},e),c)),[c]);return o.a.createElement(r.a,{data:u},o.a.createElement(t,Object.assign({},d,{ref:s})))}))
;return n.displayName=`WithAnalyticsContext(${t.displayName||t.name})`,n}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/withAnalyticsEvents.js":function(e,t,n){"use strict";var i=n("./node_modules/react/index.js"),o=n.n(i),r=n("./node_modules/use-memo-one/dist/use-memo-one.esm.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/UIAnalyticsEvent.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/useAnalyticsContext.js");function c(){const e=Object(a.a)();return{createAnalyticsEvent:Object(r.b)((t=>new s.a({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})),[e])}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=(e={})=>t=>{const n=Object(i.forwardRef)(((n,r)=>{const{patchedEventProps:s}=function(e={},t){const{createAnalyticsEvent:n}=c();return{patchedEventProps:Object(i.useMemo)((()=>Object.keys(e).reduce(((i,o)=>{const r=e[o];if(!["object","function"].includes(typeof r))return i;const s=t[o],a=(...e)=>{const i="function"==typeof r?r(n,t):n(r);s&&"function"==typeof s&&s(...e,i)};return a?d(d({},i),{},{[o]:a}):i}),{})),[e,t,n])}}(e,n),{createAnalyticsEvent:a}=c();return o.a.createElement(t,Object.assign({},n,s,{createAnalyticsEvent:a,ref:r
}))}));return n.displayName=`WithAnalyticsEvents(${t.displayName||t.name})`,n}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class d{constructor(e){this.mediaStore=e}createFileStateObserver(e,t){const n=new i.ReplaySubject(1),r=a({id:e},t),s=Object(o.h)({data:r});return n.next(s),n}populateCache(e){e.forEach((e=>{const t=this.createFileStateObserver(e.id,e.details);Object(r.b)().set(e.id,t)}))}removeFromCache(e,t){const n=l[t].items.findIndex((t=>t.id===e));-1!==n&&(Object(r.b)().remove(e),l[t].items.splice(n,1))}getItems(e,t){l[e]||(l[e]=(()=>({items:[],subject:new i.ReplaySubject(1),isLoadingNextPage:!1}))());const n=l[e],o=n.subject;return this.mediaStore.getCollectionItems(e,a(a({},t),{},{details:"full"})).then((e=>{const{contents:t,nextInclusiveStartKey:i}=e.data
;this.populateCache(t),n.items=e.data.contents,n.nextInclusiveStartKey=i,o.next(n.items)})).catch((e=>o.error(e))),o}async removeFile(e,t,n){await this.mediaStore.removeCollectionFile(e,t,n),this.removeFromCache(e,t);const i=l[t];i.subject.next(i.items)}async loadNextPage(e,t){const n=l[e],i=!!n&&n.isLoadingNextPage;if(!n||!n.nextInclusiveStartKey||i)return;n.isLoadingNextPage=!0;const{nextInclusiveStartKey:o,items:r,subject:s}=l[e],c=await this.mediaStore.getCollectionItems(e,a(a({},t),{},{inclusiveStartKey:o,details:"full"})),{contents:d,nextInclusiveStartKey:u}=c.data;this.populateCache(d);const p=[...r,...c.data.contents];s.next(p),l[e]={items:p,nextInclusiveStartKey:u,subject:s,isLoadingNextPage:!1}}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js":function(t,n,i){"use strict";i.d(n,"a",(function(){return C}))
;var o=i("./node_modules/uuid/v4.js"),r=i.n(o),s=i("./node_modules/dataloader/index.js"),a=i.n(s),c=i("./node_modules/@atlaskit/media-core/dist/es2019/index.js"),l=i("./node_modules/@atlaskit/media-common/dist/es2019/downloadUrl.js"),d=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js"),u=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),p=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/uploader.js"),m=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),f=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js"),h=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),y=i("./node_modules/uuid-validate/index.js"),b=i.n(y),v=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js")
;const g=(e,t)=>Object(d.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t};var j=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js");var w=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js"),_=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),O=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js");const x=(e,t,n)=>("doc"===e||!Object(_.d)(t)||!n)&&Object(O.d)(t);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=(e,t)=>t?`${e}-${t}`:e,F=e=>e.error instanceof Error;class C{constructor(t){this.mediaStore=t,this.batchLoadingFunc=async e=>{const t="__media-single-file-collection__",n=e.reduce(((e,n)=>{const i=n.collection||t,o=e[i]||[];return o.push(n.id),e[i]=o,e}),{}),i=[];return await Promise.all(Object.keys(n).map((async e=>{const o=n[e],r=e===t?void 0:e;try{const e=await this.mediaStore.getItems(o,r);i.push(...e.data.items)}catch(s){o.forEach((e=>{i.push({id:e,error:s||new Error("Failed to fetch"),collection:r})}))}}))),((e,t)=>{const n=t.reduce(((e,t)=>{const{id:n,collection:i}=t
;return e[E(n,i)]=F(t)?t:t.details,e}),{});return e.map((e=>{const{id:t,collection:i}=e,o=E(t,i);return n[o]}))})(e,i)},this.createDownloadFileStream=(t,n)=>{const i=Object(w.a)();let o;const r=async()=>{try{const e=await this.dataloader.load({id:t,collection:n});if(!e)return;if(F(e))return void i.error(e);const s=Object(d.i)(t,e);i.next(s),"processing"===s.status?o=window.setTimeout(r,6e3):i.complete()}catch(e){window.clearTimeout(o),i.error(e)}};return r(),i},this.dataloader=new a.a(this.batchLoadingFunc,{maxBatchSize:100})}getFileState(e,t){if(!b()(e)){const e=Object(w.a)();return e.error("invalid id was passed to getFileState"),e}return Object(u.b)().getOrInsert(e,(()=>{const n=t&&t.collectionName;return this.createDownloadFileStream(e,n)}))}getCurrentState(e,t){return Object(j.a)(this.getFileState(e,t))}getArtifactURL(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}getFileBinaryURL(e,t){return this.mediaStore.getFileBinaryURL(e,t)}touchFiles(e,t){
return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((({data:e})=>e))}generateUploadableFileUpfrontIds(e){const t=r()(),n=r()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((e=>e.created[0].uploadId))}}async uploadExternal(e,t){const n=this.generateUploadableFileUpfrontIds(t),{id:i,occurrenceKey:o}=n,r=Object(w.a)(),s=fetch(e).then((e=>e.blob())).catch((()=>{})),a=new Promise((async(e,t)=>{const n=await s;n||t("Could not fetch the blob"),e({value:n,origin:"remote"})})),c=e.split("/").pop()||"",l={status:"processing",name:c,size:0,mediaType:"unknown",mimeType:"",id:i,occurrenceKey:o,preview:a};return r.next(l),Object(u.b)().set(i,r),new Promise((async(e,l)=>{const d=await s;if(!d)return l("Could not download remote file");const{type:u,size:p}=d,m={content:d,mimeType:u,collection:t,name:c},f=Object(v.a)(u);r.next({status:"processing",name:c,size:p,mediaType:f,mimeType:u,id:i,occurrenceKey:o,preview:a
}),this.upload(m,void 0,n);const h=await(e=>new Promise(((t,n)=>{const i=URL.createObjectURL(e),o=new Image;o.src=i,o.onload=()=>{const e={width:o.width,height:o.height};URL.revokeObjectURL(i),t(e)},o.onerror=n})))(d);e({dimensions:h,uploadableFileUpfrontIds:n})}))}upload(e,t,n){"string"==typeof e.content&&(e.content=(e=>{const t=e.split(",")[1],n=atob(t),i=[];for(let o=0;o<n.length;o+=512){const e=n.slice(o,o+512),t=e.split("").map(((t,n)=>e.charCodeAt(n))),r=new Uint8Array(t);i.push(r)}return new Blob(i,{type:"image/jpeg"})})(e.content));const{content:i,name:o="",collection:r}=e;n||(n=this.generateUploadableFileUpfrontIds(r));const s=n.id,a=n.occurrenceKey;let c,l="",d=0;const m=(e=>{if(e.content instanceof Blob){const t=e.content.type;return Object(v.a)(t)}return"unknown"})(e),f=Object(w.a)();let h;i instanceof Blob&&(d=i.size,l=i.type,Object(_.d)(i.type)&&(c={value:i,origin:"local"}));const y={id:s,occurrenceKey:a,name:o,size:d,mediaType:m,mimeType:l,preview:c},b=e=>{f.next(P(P({
status:"uploading"},y),{},{progress:e}))},{cancel:j}=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:e=>{if(e){if("canceled"!==e){const t=e instanceof Error?e.message:e;f.next({id:s,status:"error",message:t})}return f.error(e)}x(m,l,c)?h=this.createDownloadFileStream(s,r).subscribe({next:e=>f.next(P(P(P({},y),e),g(e,m))),error:e=>f.error(e),complete:()=>f.complete()}):(f.next(P({status:"processing",representations:{}},y)),f.complete())},onProgress:b});return Object(u.b)().set(s,f),setTimeout((()=>{b(0)}),0),t&&t.setAbort((()=>{j(),h&&h.unsubscribe()})),f}async downloadBinary(e,t="download",n){const i=await this.mediaStore.getFileBinaryURL(e,n);Object(l.a)(i,{name:t}),m.a.emit("media-viewed",{fileId:e,isUserCollection:n===f.c,viewingLevel:"download"})}async copyFile(e,t,n={}){const{authProvider:i,collection:o,id:r}=e,{authProvider:s,collection:a,replaceFileId:l,occurrenceKey:p}=t,{preview:m,mimeType:f}=n,y=t.mediaStore||new h.a({authProvider:s}),b={sourceFile:{id:r,collection:o,
owner:Object(c.authToOwner)(await i({collectionName:o}))}},j={collection:a,replaceFileId:l,occurrenceKey:p},_=Object(u.b)();let O;try{const{data:e}=await y.copyFileWithToken(b,j),t=P(P({},e),f?{mimeType:f}:void 0),{id:n,mimeType:i}=t,o=i?Object(v.a)(i):"unknown",r=Object(d.h)({data:t}),s=_.get(n)||Object(w.a)(),c=!Object(d.a)(r)&&m?{preview:m}:{};return!Object(d.b)(r)&&i&&x(o,i,m)?(s.next(P(P(P({},r),g(r,o)),c)),O=this.createDownloadFileStream(n,a).subscribe({next:e=>s.next(P(P(P({},e),g(e,o)),!Object(d.a)(e)&&c)),error:e=>s.error(e),complete:()=>s.complete()})):Object(d.f)(r)||s.next(P(P({},r),!Object(d.a)(r)&&c)),_.has(n)||Object(u.b)().set(n,s),e}catch(k){if(O&&O.unsubscribe(),l){const e={id:r,status:"error",message:`error copying file to ${a}`},t=_.get(l);t?t.next(e):_.set(r,Object(w.a)(e))}throw k}}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}))
;var i=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/collection-fetcher.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/file-fetcher.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js");class c{constructor(e){this.mediaClientConfig=e,this.mediaStore=new o.a({authProvider:e.authProvider}),this.config=e,this.collection=new r.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new i.EventEmitter2,this.stargate=new a.a(e.stargateBaseUrl)}getImage(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)}getImageUrl(e,t){return this.mediaStore.getFileImageURL(e,t)}async getImageMetadata(e,t){
return(await this.mediaStore.getImageMetadata(e,t)).metadata}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}emit(e,t){return this.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js"),o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={"max-age":r.a,allowAnimated:!0,mode:"crop"},d={limit:30,sortDirection:"desc"},u=(e,t=!1)=>a(a(a({},l),e),t?{width:4096,height:4096}:{}),p={Accept:"application/json","Content-Type":"application/json"};class m{constructor(e){this.config=e,this.getFile=(e,t={})=>this.request(`/file/${e}`,{params:t,authContext:{collectionName:t.collection}}).then(i.d),this.getFileImageURL=async(e,t)=>{const n=await this.config.authProvider();return Object(i.a)(`${n.baseUrl}/file/${e}/image`,{params:u(t),auth:n})},this.getArtifactURL=async(e,t,n)=>{const s=Object(o.a)(e,t);if(!s)throw new Error(`artifact ${t} not found`)
;const a=await this.config.authProvider({collectionName:n});return Object(i.a)(`${a.baseUrl}${s}`,{params:{collection:n,"max-age":r.a},auth:a})},this.getImage=async(e,t,n,o)=>{let r;return this.request(`/file/${e}/image`,{headers:r,params:u(t,o),authContext:{collectionName:t&&t.collection}},n).then(i.c)},this.getItems=(e,t)=>{const n=e.map((e=>({type:"file",id:e,collection:t})));return this.request("/items",{method:"POST",body:JSON.stringify({descriptors:n}),headers:p,authContext:{collectionName:t}}).then(i.d)},this.getImageMetadata=(e,t)=>this.request(`/file/${e}/image/metadata`,{params:t,authContext:{collectionName:t&&t.collection}}).then(i.d)}async getCollectionItems(e,t){const n=await this.request(`/collection/${e}/items`,{authContext:{collectionName:e},params:a(a({},d),t),headers:{Accept:"application/json"}}),{data:{contents:o,nextInclusiveStartKey:r}}=await Object(i.d)(n);return{data:{contents:o.filter((e=>e.details.size&&e.details.size>0)),nextInclusiveStartKey:r}}}
async removeCollectionFile(e,t,n){const i={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]};await this.request(`/collection/${t}`,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(i),headers:{Accept:"application/json","Content-Type":"application/json"}})}createUpload(e=1,t){return this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(i.d)}uploadChunk(e,t,n){return this.request(`/chunk/${e}`,{method:"PUT",authContext:{collectionName:n},body:t}).then(i.e)}probeChunks(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:p}).then(i.d)}createFileFromUpload(e,t={}){return this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:p}).then(i.d)}touchFiles(e,t={}){return this.request("/upload/createWithFiles",{method:"POST",headers:p,
body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(i.d)}async getFileBinaryURL(e,t){const n=await this.config.authProvider({collectionName:t});return Object(i.a)(`${n.baseUrl}/file/${e}/binary`,{params:{dl:!0,collection:t,"max-age":r.a},auth:n})}appendChunksToUpload(e,t,n){return this.request(`/upload/${e}/chunks`,{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:p}).then(i.e)}copyFileWithToken(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:p,params:t}).then(i.d)}async request(e,t={method:"GET",authContext:{}},n){const{authProvider:o}=this.config,{method:r,authContext:s,params:a,headers:c,body:l}=t,d=await o(s),u=await Object(i.f)(`${d.baseUrl}${e}`,{method:r,auth:d,params:a,headers:c,body:l},n);return function(e){if(!e||!window||!window.sessionStorage)return
;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}(u.headers.get("x-media-region")),u}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.baseUrl=e||"/gateway/api"}async fetchToken(e){return(await fetch(`${this.baseUrl}/media/auth/smartedge`,{credentials:"include",headers:{"x-client-id":e}})).json()}isTokenExpired(e){const t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const i="recents",o=2592e3,r=4096},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js":function(e,t,n){
"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class i{constructor(e){this.streams=e}has(e){return!!this.streams.find(e)}set(e,t){this.streams.set(e,t)}get(e){return this.streams.get(e)}getOrInsert(e,t){return this.has(e)||this.set(e,t()),this.get(e)}removeAll(){this.streams.removeAll()}remove(e){this.streams.remove(e)}get size(){return this.streams.size}}let o;const r=()=>{if(!o){const e=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js").mediaState;o=new i(e.streams)}return o}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");const o={on(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit(e,t){
if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(e,t)=>{const n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/models/file-state.js":function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f}));const s=e=>"uploading"===e.status,a=e=>"processing"===e.status,c=e=>"processed"===e.status,l=e=>"error"===e.status,d=e=>!l(e)&&!!e.preview,u=e=>["processed","failed-processing","error"].includes(e.status),p=e=>{switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},m=e=>{const{id:t,name:n,size:i,processingStatus:r,artifacts:s,mediaType:a,mimeType:c,representations:l,createdAt:d}=e.data,u={id:t,name:n,size:i,mediaType:a,mimeType:c,artifacts:s,representations:l,
createdAt:d};switch(r){case"pending":case void 0:return o(o({},u),{},{status:"processing"});case"succeeded":return o(o({},u),{},{status:"processed"});case"failed":return o(o({},u),{},{status:"failed-processing"})}},f=(e,t)=>m({data:o({id:e},t)})},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("./node_modules/rxjs/operators/tap.js"),o=n("./node_modules/rxjs/operators/concatMap.js"),r=n("./node_modules/rxjs/observable/fromPromise.js"),s=n("./node_modules/rxjs/Subject.js"),a=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js")
;var l=n("./node_modules/rxjs-async-map/out/index.js");function d(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}const u=e=>function(e){const t=new FileReader;return new Promise(((n,i)=>{t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((e=>crypto.subtle.digest("SHA-1",e))).then(d);var p=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=(e,t,n)=>Object(r.fromPromise)(async function(e){return"string"==typeof e?await fetch(e).then((e=>e.blob())):e}(e)).pipe(Object(o.concatMap)((e=>{const{chunkSize:r}=t,{onProgress:s}=n,d=Math.ceil(e.size/r),f=function(e,{batchSize:t,prober:n}){return e.pipe(Object(p.bufferCount)(t),Object(o.concatMap)((e=>n(e).then((t=>e.map(((e,n)=>h(h({},e),{},{exists:t[n]}))))))),Object(o.concatMap)((e=>Object(m.from)(e))))}(((e,{hasher:t,concurrency:n})=>Object(l.asyncMap)((e=>t=>e(t).then((e=>({blob:t,hash:`${e}-${t.size}`}))))(t||u),n)(e))(((e,{size:t})=>{const n=Math.ceil(e.size/t);return Object(a.range)(0,n).pipe(Object(c.map)((n=>e.slice(n*t,(n+1)*t))))})(e,{size:r}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction})
;let y=0,b=((e,t)=>e.pipe(Object(l.asyncMap)((e=>e.exists?Promise.resolve(e):t.uploader(e).then((()=>e))),t.concurrency)))(f,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return s&&(b=b.pipe(Object(i.tap)((()=>{y+=1,s(y/d)})))),((e,t)=>e.pipe(Object(p.bufferCount)(t.batchSize)).pipe(Object(o.concatMap)((e=>t.processor?t.processor(e).then((()=>e)):Promise.resolve(e)))))(b,{batchSize:t.processingBatchSize,processor:t.processingFunction})}))),v=(e,t,n)=>function(e){const t=new s.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:()=>{n.unsubscribe(),t.error("canceled")}}}(b(e,t,n));let g=null;const j=async e=>(await(async()=>{if(!g)try{const{WorkerHasher:e}=await n.e("a4c3b24d51").then(n.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/workerHasher.js"));g=new e(3)}catch(e){
const{SimpleHasher:t}=await n.e("346053b98c").then(n.bind(null,"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/hashing/simpleHasher.js"));g=new t}return g})()).hash(e),w=(e,t)=>async n=>{const i=(await e.probeChunks(k(n),t)).data.results;return Object.values(i).map((e=>e.exists))},_=(e,t)=>n=>e.uploadChunk(n.hash,n.blob,t),O=(e,t,n)=>{let i=0;return async o=>{await e.appendChunksToUpload(await t,{chunks:k(o),offset:i},n),i+=o.length}},x=(e,t,n,i)=>{const{content:o,collection:r,name:s,mimeType:a}=e,{id:c,occurrenceKey:l,deferredUploadId:d}=n,{response:u,cancel:p}=v(o,{hashingFunction:j,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:_(t,r),probingFunction:w(t,r),processingBatchSize:1e3,processingFunction:O(t,d,r)},{onProgress(e){i&&i.onProgress(e)}}),m=i&&i.onUploadFinish||(()=>{});return Promise.all([d,u]).then((async([e])=>{await t.createFileFromUpload({uploadId:e,name:s,mimeType:a},{
occurrenceKey:l,collection:r,replaceFileId:c}),m()})).catch(m),{cancel:p}},k=e=>e.map((e=>e.hash))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/rxjs/ReplaySubject.js");const o=e=>{const t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),o=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js")
;const r=e=>(e=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1)(e)?"archive":Object(i.c)(e)||Object(o.c)(e)?"image":Object(i.b)(e)||Object(o.b)(e)?"doc":Object(i.a)(e)||Object(o.a)(e)?"audio":Object(i.e)(e)||Object(o.f)(e)?"video":"unknown"
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a}));const i=e=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1,o=e=>"application/pdf"===e.toLowerCase(),r=e=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1,s=e=>["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1,a=e=>o(e)||i(e)||r(e)||s(e)},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),
n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}))
;const i=e=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1,o=e=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1,r=e=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1,s=e=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1,a=e=>["binary/octet-stream"].indexOf(e.toLowerCase())>-1,c=e=>i(e)||o(e)||r(e)||s(e)||a(e)
},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>new Promise((t=>e.subscribe({next(e){t(e),this.unsubscribe()}})))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var i=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n
}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(e,t){super(e),this.message=e,this.statusCode=t}}const l=async e=>{if(e.ok||e.redirected)return e;{const t=await e.text();throw new c(`Got error code ${e.status}: ${t}`,e.status)}};function d(e,t={},n){const{method:i="GET",auth:o,params:r,headers:a,body:c,retryOptions:d={}}=t;return async function(e,t={}){const n=s(s({},y),t);let i=n.startTimeoutInMs;const o=async()=>{await(e=>new Promise((t=>{setTimeout(t,e)})))(i),i*=n.factor};for(let s=1;s<=n.attempts;s++)try{return await e()}catch(r){
if(v(r))return Promise.reject(r);const e=s===n.attempts;if(b(r)&&r.statusCode<500||e)return Promise.reject(new Error(`The call did not succeed after ${s} attempts. Last error is ${r.message}`));await o()}return Promise.reject(new Error("Exhaused all attempts"))}((()=>fetch(f(e,{params:r}),{method:i,body:c,headers:h(o)(a),signal:n&&n.signal}).then(l)),d)}function u(e){return e.json()}function p(e){return e.blob()}function m(){return Promise.resolve()}function f(e,{params:t,auth:n}){const{baseUrl:r,queryParams:a}=function(e){const t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(i.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=n&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(n),l=Object(i.stringify)(s(s(s({},a),t),c));return`${r}${l.length>0?`?${l}`:""}`}function h(e){return t=>e?s(s({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,
Authorization:`Bearer ${e.token}`}:{"X-Issuer":e.asapIssuer,Authorization:`Bearer ${e.token}`}}(e)):t}const y={attempts:5,startTimeoutInMs:1e3,factor:2},b=e=>!(e instanceof TypeError),v=e=>"request_cancelled"===e.message||"AbortError"===e.name},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/node_modules/query-string/index.js":function(e,t,n){"use strict";var i=n("./node_modules/strict-uri-encode/index.js"),o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/decode-uri-component/index.js");function s(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),
t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:r(s),n(r(o),s,i)})),Object.keys(i).sort().reduce((function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):i}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[s(t,e),"[",i,"]"].join(""):[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")};case"bracket":
return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(i){var o=e[i];if(void 0===o)return"";if(null===o)return s(i,t);if(Array.isArray(o)){var r=[];return o.slice().forEach((function(e){void 0!==e&&r.push(n(i,e,r.length))})),r.join("&")}return s(i,t)+"="+s(o,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/components/browser/browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserBase",(function(){return l})),n.d(t,"Browser",(function(){return d}))
;var i=n("./node_modules/react/index.js"),o=n.n(i),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/withAnalyticsContext.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/analytics-next/dist/es2019/withAnalyticsEvents.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/components/localUploadReact.js"),c=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/version.json");class l extends a.a{constructor(){super(...arguments),this.browserRef=o.a.createRef(),this.onFilePicked=e=>{if(!e.target)return;const t=[].slice.call(e.target.files);try{this.uploadService.addFiles(t)}finally{this.browserRef.current&&(this.browserRef.current.value="")}},this.browse=()=>{const{onClose:e}=this.props;this.browserRef.current&&(this.browserRef.current.click(),e&&e())}}componentDidMount(){const{onBrowseFn:e,onCancelFn:t,isOpen:n}=this.props;e&&e(this.browse),
t&&t(this.cancel),n&&this.browse()}UNSAFE_componentWillReceiveProps(e){const{isOpen:t}=this.props,{isOpen:n}=e;n&&n!==t&&this.browse()}render(){const{config:e}=this.props,t=e.multiple,n=e.fileExtensions&&e.fileExtensions.join(",");return o.a.createElement("input",{"data-testid":"media-picker-file-input",ref:this.browserRef,type:"file",style:{display:"none"},multiple:t,accept:n,onChange:this.onFilePicked})}}l.displayName="BrowserBase",l.defaultProps={config:{uploadParams:{}}};const d=Object(r.a)({attributes:{componentName:"browser",packageName:c.a,packageVersion:c.b}})(Object(s.a)()(l))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/eventemitter2/lib/eventemitter2.js");class o extends class{constructor(){this.emitter=new i.EventEmitter2({wildcard:!0})}once(e,t){this.emitter.once(e,t)}on(e,t){this.emitter.on(e,t)}onAny(e){
this.emitter.onAny(e)}addListener(e,t){this.emitter.addListener(e,t)}off(e,t){this.emitter.off(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}removeAllListeners(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)}emit(e,t){return this.emitter.emit(e,t)}}{emitPluginItemsInserted(e){const t=e.map((e=>({pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}})));this.emit("plugin-items-inserted",t)}emitUploadsStart(e){this.emit("uploads-start",{files:e})}emitUploadPreviewUpdate(e,t){this.emit("upload-preview-update",{file:e,preview:t})}emitUploadEnd(e){this.emit("upload-end",{file:e})}emitUploadError(e,t){this.emit("upload-error",{fileId:e,error:t})}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}))
;var i=n("./node_modules/react/index.js"),o=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/components/component.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/service/uploadServiceImpl.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/version.json");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=(e,t={})=>({actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:l(l({packageName:a.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)});class p extends i.Component{constructor(e){super(e),this.uploadComponent=new r.a,this.fireCommencedEvent=e=>{e.files.forEach((({id:e,size:t,type:n})=>{Object(o.start)(`MediaPicker.fireUpload.${e}`),this.createAndFireAnalyticsEvent(l(l({},u({size:t,type:n})),{},{action:"commenced",eventType:"operational"}))}))},this.fireUploadSucceeded=e=>{const{size:t,type:n,id:i}=e.file,{duration:r=-1}=Object(o.end)(`MediaPicker.fireUpload.${i}`);this.createAndFireAnalyticsEvent(l(l({},u({size:t,type:n},{status:"success",uploadDurationMsec:r})),{},{action:"uploaded",eventType:"track"}))},
this.fireUploadFailed=async e=>{const{duration:t=-1}=Object(o.end)(`MediaPicker.fireUpload.${e.fileId}`);this.createAndFireAnalyticsEvent(l(l({},u(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:t})),{},{action:"uploaded",eventType:"track"}))},this.createAndFireAnalyticsEvent=e=>{const{createAnalyticsEvent:t}=this.props;t&&t(e).fire("media")},this.cancel=e=>{this.uploadService.cancel(e)},this.onFilesAdded=({files:e})=>{this.uploadComponent.emitUploadsStart(e)},this.onFilePreviewUpdate=({file:e,preview:t})=>{this.uploadComponent.emitUploadPreviewUpdate(e,t)},this.onFileConverting=({file:e})=>{this.uploadComponent.emitUploadEnd(e)},this.onUploadError=({fileId:e,error:t})=>{this.uploadComponent.emitUploadError(e,t)};const{mediaClient:t,config:n,onUploadsStart:i,onPreviewUpdate:a,onEnd:c,onError:d}=this.props,p=n.uploadParams,{shouldCopyFileToRecents:m=!0}=n;this.uploadComponent.on("uploads-start",this.fireCommencedEvent),
this.uploadComponent.on("upload-end",this.fireUploadSucceeded),this.uploadComponent.on("upload-error",this.fireUploadFailed),i&&this.uploadComponent.on("uploads-start",i),a&&this.uploadComponent.on("upload-preview-update",a),c&&this.uploadComponent.on("upload-end",c),d&&this.uploadComponent.on("upload-error",d),this.uploadService=new s.a(t,p,m),this.uploadService.on("files-added",this.onFilesAdded),this.uploadService.on("file-preview-update",this.onFilePreviewUpdate),this.uploadService.on("file-converting",this.onFileConverting),this.uploadService.on("file-upload-error",this.onUploadError)}setUploadParams(e){this.uploadService.setUploadParams(e)}}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},
"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}))
;var i=n("./node_modules/uuid/v4.js"),o=n.n(i),r=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-store.js"),s=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/client/media-client.js"),a=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/upload-controller.js"),c=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/globalMediaEventEmitter.js"),l=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/file-streams-cache.js"),d=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/isMimeTypeSupportedByBrowser.js"),u=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-client/dist/es2019/utils/getMediaTypeFromMimeType.js"),p=n("./node_modules/eventemitter2/lib/eventemitter2.js"),m=n("./node_modules/@atlaskit/media-core/dist/es2019/index.js")
;function f(e){return Object(m.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var h=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/util.js"),y=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/index.js");var b=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/service/types.js"),v=n("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/util/getPreviewFromBlob.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _{constructor(e,t,n){this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emit=(e,t)=>{this.emitter.emit(e,t)},this.onFileSuccess=async(e,t)=>{const{mediaFile:n}=e;this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=()=>{this.releaseCancellableFile(n)}},this.onFileError=(e,t,n)=>{if(this.releaseCancellableFile(e),"canceled"===n)return;const i=n instanceof Error?n.message:n;this.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})},this.emitter=new p.EventEmitter2,this.cancellableFilesUploads={};const{userAuthProvider:i}=e.config
;i&&(this.userMediaStore=new r.a({authProvider:i}),this.userMediaClient=new s.a({userAuthProvider:i,authProvider:i}))}setUploadParams(e){this.tenantUploadParams=e}createUploadController(){return new a.a}addFiles(e){this.addFilesWithSource(e.map((e=>({file:e,source:b.a.LocalUpload}))))}addFilesWithSource(e){if(0===e.length)return;const t=Date.now(),{userMediaClient:n,tenantMediaClient:i,shouldCopyFileToRecents:r}=this,s=r?i:n,a=r?this.tenantUploadParams.collection:"recents";if(!s)return;const d=[];for(let c=0;c<e.length;c++)d.push({fileId:o()(),occurrenceKey:o()(),collection:a});const u=s.file.touchFiles(d,a),p=e.map(((e,n)=>{const{file:i,source:o}=e,{fileId:p,occurrenceKey:m}=d[n],f=u.then((e=>{const t=e.created.find((e=>e.fileId===p));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),h={collection:a,content:i,name:i.name,mimeType:i.type},y={id:p,occurrenceKey:m,deferredUploadId:f
},b=this.createUploadController(),v=s.file.upload(h,b,y),g={id:p,name:i.name,size:i.size,creationDate:t,type:i.type,occurrenceKey:m},j={mediaFile:g,file:i,source:o,cancel:()=>{b.abort()}},w=this.onFileSuccess.bind(this);return v.subscribe({next(e){"processing"===e.status&&(this.unsubscribe(),r&&(s.emit("file-added",e),c.a.emit("file-added",e)),w(j,p))},error:e=>{this.onFileError(g,"upload_fail",e)}}),this.cancellableFilesUploads[p]=j,Object(l.b)().set(p,v),j})),m=p.map((e=>e.mediaFile));this.emit("files-added",{files:m}),this.emitPreviews(p)}cancel(e){if(e){const t=this.cancellableFilesUploads[e];t&&t.cancel&&t.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((e=>{const t=this.cancellableFilesUploads[e];t.cancel&&t.cancel()}))}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}emitPreviews(e){e.forEach((e=>{const{file:t,mediaFile:n,source:i}=e,{type:o}=t,r=this.getMediaTypeFromFile(t);Object(d.d)(o)?"image"===r?async function(e,t){
const n=await Object(h.c)(e),i=await Object(y.a)(n);if(null===i)return{file:e};{const{width:n,height:o,scaleFactor:r}=i;return{file:e,dimensions:{width:n,height:o},scaleFactor:t||r}}}(t,i===b.a.PastedScreenshot?window.devicePixelRatio:void 0).then((e=>{this.emit("file-preview-update",{file:n,preview:e})})):Object(v.a)(t,r).then((e=>{this.emit("file-preview-update",{file:n,preview:e})})):this.emit("file-preview-update",{file:n,preview:{}})}))}getMediaTypeFromFile(e){const{type:t}=e;return Object(u.a)(t)}releaseCancellableFile(e){delete this.cancellableFilesUploads[e.id]}copyFileToUsersCollection(e){const{shouldCopyFileToRecents:t,userMediaStore:n,tenantUploadParams:i}=this;if(!t||!n)return Promise.resolve();const{collection:o}=i,{authProvider:r}=this.tenantMediaClient.config;return r({collectionName:o}).then((t=>{const i={sourceFile:{id:e,collection:o,owner:j({},f(t))}};return n.copyFileWithToken(i,{collection:"recents"})}))}}},
"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/video-snapshot/dist/es2015/index.js");const o=(e,t)=>new Promise((async(n,o)=>{const r=URL.createObjectURL(e);if("image"===t){const t=new Image;t.src=r,t.onload=()=>{const i={width:t.width,height:t.height},o={file:e,dimensions:i,scaleFactor:1};URL.revokeObjectURL(r),n(o)},t.onerror=o}else if("video"===t){const t=new i.a(e),o=await t.getDimensions(),r={file:e,dimensions:o,scaleFactor:1};t.end(),n(r)}else n({file:e})}))},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-picker/dist/es2019/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"55.1.1"}')},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/imageOrientationUtil.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),
n.d(t,"a",(function(){return r}));const i={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},o=e=>e>=5,r=e=>i[e]},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/index.js":function(t,n,i){"use strict";let o,r;i.d(n,"a",(function(){return w})),i.d(n,"b",(function(){return O})),function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(o||(o={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(r||(r={}));const s={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},{XResolution:a,YResolution:c}=r;let l;var d=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/util.js");let u;async function p(e){if(!u){
const e=await i.e("420d777950").then(i.t.bind(null,"./node_modules/png-chunks-extract/index.js",7));u=e.default||e}const t=await Object(d.a)(e),n=u(t);return await async function(e){let t="",n={};for(let i=0;i<e.length;++i){const o=e[i];if("IEND"===o.name)break;if("iTXt"===o.name&&(t=String.fromCharCode.apply(null,Array.from(o.data))),"pHYs"===o.name){const e=new DataView(o.data.buffer);if(1===e.getUint8(8)){n={PixelPerUnitX:e.getUint32(0),PixelPerUnitY:e.getUint32(4)}}}}return{iTXt:t,pHYs:n}}(n)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function y(t){const n=t.type;try{if(n===o.PNG){const{iTXt:e,pHYs:n}=await p(t);return f(f({},function(e){const t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((e=>{const n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){const e=n[2];t[e]=n[3]}})),t}(e)),n)}if(t.type===o.JPEG)return await function(t){return new Promise((async(n,o)=>{if(!l){const e=await i.e("cd45fd1be4").then(i.t.bind(null,"./node_modules/blueimp-load-image/js/index.js",7));l=e.default||e}l.parseMetaData(t,(t=>{try{const e=t&&t.exif?t.exif.getAll():{};Object.keys(e).forEach((t=>{const n=e[t];"object"!=typeof n||t!==a&&t!==c||!("numerator"in n)||(e[t]=n.numerator),
"number"==typeof e[t]&&(e[t]=`${e[t]}`)})),n(e)}catch(e){o(e)}}))}))}(t)}catch(e){}return null}var b=i("./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/imageMetaData/imageOrientationUtil.js");const{Orientation:v,XResolution:g}=r,j=72;async function w(t){const n=await async function(t){const{file:n,src:i}=t,o=n.type;let r=0,s=0;const a=await y(n);a&&a.PixelXDimension&&(r=x(a,"PixelXDimension",0));a&&a.PixelXDimension&&(s=x(a,"PixelYDimension",0));if(0===r&&0===s){let t;try{t=await Object(d.e)(i)}catch(e){return null}const{naturalWidth:n,naturalHeight:o}=t;r=n,s=o}const c=_(a),l=Object(b.b)(c);return{type:o,width:l?s:r,height:l?r:s,tags:a}}(t);if(!n)return null;const{width:i,height:o,tags:r}=n;return{scaleFactor:function(t,n){const i=function(t){try{const e=t.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(e)return parseFloat(e[1])}catch(e){}return null}(t)
;return null!==i?i:n?"number"==typeof n.PixelPerUnitX?Math.round(.0254*n.PixelPerUnitX)/j:x(n,g,j)/j:1}(t.file,r),width:i,height:o}}const _=e=>{if(e&&e[v]){const t=e[v];if(t){const e=parseInt(t,10);return isNaN(e)?s[t]:e}}return 1};async function O(e){const t=await y(e);return _(t)}function x(t,n,i){try{const e=parseFloat(`${t[n]}`);if(!isNaN(e))return e}catch(e){}return i}},"./node_modules/@atlassian/ptc-common/node_modules/@atlaskit/media-ui/dist/es2019/util.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return z})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return D})),n.d(t,"d",(function(){return B}))
;var i=n("./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js"),o=n.n(i),r=n("./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js"),s=n.n(r),a=n("./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js"),c=n.n(a),l=n("./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js"),d=n.n(l),u=n("./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js"),p=n.n(u),m=n("./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js"),f=n.n(m),h=n("./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js"),y=n.n(h),b=n("./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js"),v=n.n(b),g=n("./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js"),j=n.n(g),w=n("./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js"),_=n.n(w),O=n("./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js"),x=n.n(O),k=n("./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js"),P=n.n(k),S=n("./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js"),E=n.n(S),F=n("./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js"),C=n.n(F),A=n("./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js"),T=n.n(A)
;function I(e){return null!==function(e){const t=function(e){return e.indexOf(".")>-1?e.split(".").pop():""}(e);switch(t){case"abap":case"ada":case"c":case"css":case"d":case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return t;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp";case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":
case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl";case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":return"text";case"ts":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";default:return null}}(e)}function U(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>{const e=i.result;"string"==typeof e?t(e):null===e&&n()})),i.addEventListener("error",n),i.readAsDataURL(e)}))}async function M(e,t){return{file:e,src:t||await U(e)}}function z(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>{const e=new Uint8Array(i.result);t(e)})),
i.addEventListener("error",n),i.readAsArrayBuffer(e)}))}function L(e){return new Promise(((t,n)=>{const i=new Image;i.src=e,i.onload=()=>{t(i)},i.onerror=n}))}const D=(e,t,n=document.body)=>{if(e.classList.contains(t))return e;let i=e;for(;i.parentElement!==n;){if(!i.parentElement)return;if(i=i.parentElement,i.classList.contains(t))return i}},N=[{label:"pdf",mimeTypes:["application/pdf"],icon:o.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:x.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:_.a},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],icon:v.a},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:d.a},{label:"presentation",
mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:C.a},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:c.a},{label:"giphy",mimeTypes:["image/gif"],icon:s.a},{label:"spreadsheet",mimeTypes:["text/csv"],icon:E.a},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:P.a}];function B(e,t){const n=N.find((t=>t.mimeTypes.indexOf(e)>-1));return n||(I(t)?{label:"source-code",icon:T.a}:t.match(/.*\.sketch$/)?{label:"sketch",icon:p.a}:t.match(/.*\.fig$/)?{label:"figma",icon:f.a}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:y.a}:void 0)}},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var i,o=function(){function e(t,n){if(function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,i=!n||!1!==n.batch,o=!n||!1!==n.cache,a=n&&n.cacheKeyFn,c=a?a(e):e;if(o){var l=this._promiseCache.get(c);if(l)return l}var d=new Promise((function(n,o){t._queue.push({key:e,resolve:n,reject:o}),1===t._queue.length&&(i?r((function(){return s(t)
})):s(t))}));return o&&this._promiseCache.set(c,d),d},e.prototype.loadMany=function(e){var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,i=n?n(e):e;if(void 0===this._promiseCache.get(i)){var o=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(i,o)}return this},e}(),r="object"==typeof t&&"function"==typeof t.nextTick?function(e){i||(i=Promise.resolve()),i.then((function(){return t.nextTick(e)}))}:n||setTimeout;function s(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize
;if(n&&n>0&&n<t.length)for(var i=0;i<t.length/n;i++)a(e,t.slice(i*n,(i+1)*n));else a(e,t)}function a(e,t){var n=t.map((function(e){return e.key})),i=(0,e._batchLoadFn)(n);if(!i||"function"!=typeof i.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(i)+"."));i.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var i=t.resolve,o=t.reject,r=e[n]
;r instanceof Error?o(r):i(r)}))})).catch((function(n){return c(e,t,n)}))}function c(e,t,n){t.forEach((function(t){var i=t.key,o=t.reject;e.clear(i),o(n)}))}e.exports=o}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/eventemitter2/lib/eventemitter2.js":function(e,t,n){(function(i){var o;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(r){var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==r?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var o=new Error(n);o.name="MaxListenersExceededWarning",o.emitter=this,o.count=e,i.emitWarning(o)}else console.error(n),console.trace&&console.trace()}function d(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,
c.call(this,e)}function u(e,t,n,i){if(!n)return[];var o,r,s,a,c,l,d,p=[],m=t.length,f=t[i],h=t[i+1];if(i===m&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,r=n._listeners.length;o<r;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===f||"**"===f||n[f]){if("*"===f){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(p=p.concat(u(e,t,n[s],i+1)));return p}if("**"===f){for(s in(d=i+1===m||i+2===m&&"*"===h)&&n._listeners&&(p=p.concat(u(e,t,n,m))),n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!d&&(p=p.concat(u(e,t,n[s],m))),p=p.concat(u(e,t,n[s],i))):p=s===h?p.concat(u(e,t,n[s],i+2)):p.concat(u(e,t,n[s],i)));return p}p=p.concat(u(e,t,n[f],i+1))}if((a=n["*"])&&u(e,t,a,i+1),c=n["**"])if(i<m)for(s in c._listeners&&u(e,t,c,m),c)"_listeners"!==s&&c.hasOwnProperty(s)&&(s===h?u(e,t,c[s],i+2):s===f?u(e,t,c[s],i+1):((l={})[s]=c[s],u(e,t,{"**":l},i+1)));else c._listeners?u(e,t,c,m):c["*"]&&c["*"]._listeners&&u(e,t,c["*"],m)
;return p}function p(e,t){for(var n=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<i;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,s=e.shift();s!==r;){if(o[s]||(o[s]={}),o=o[s],0===e.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(t),!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners&&(o._listeners.warned=!0,l.call(this,o._listeners.length,s))):o._listeners=t,!0;s=e.shift()}return!0}d.EventEmitter2=d,d.prototype.delimiter=".",d.prototype.setMaxListeners=function(e){e!==r&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},d.prototype.event="",d.prototype.once=function(e,t){return this._once(e,t,!1)},d.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},d.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},d.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},
d.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},d.prototype._many=function(e,t,n,i){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&o.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,i),o},d.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,i,o,r,s=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),s>3)for(t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];for(i=0,n=r.length;i<n;i++)switch(this.event=e,s){case 1:r[i].call(this,e);break;case 2:r[i].call(this,e,arguments[1]);break;case 3:r[i].call(this,e,arguments[1],arguments[2]);break;default:r[i].apply(this,t)}}if(this.wildcard){r=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,r,c,this.listenerTree,0)}else{if("function"==typeof(r=this._events[e])){switch(this.event=e,s){case 1:
r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];r.apply(this,t)}return!0}r&&(r=r.slice())}if(r&&r.length){if(s>3)for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];for(i=0,n=r.length;i<n;i++)switch(this.event=e,s){case 1:r[i].call(this);break;case 2:r[i].call(this,arguments[1]);break;case 3:r[i].call(this,arguments[1],arguments[2]);break;default:r[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},d.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,o,r,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),o=1;o<c;o++)t[o]=arguments[o];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,c){case 1:
s.push(this._all[i].call(this,e));break;case 2:s.push(this._all[i].call(this,e,arguments[1]));break;case 3:s.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[i].apply(this,t))}}if(this.wildcard){r=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,r,l,this.listenerTree,0)}else r=this._events[e];if("function"==typeof r)switch(this.event=e,c){case 1:s.push(r.call(this));break;case 2:s.push(r.call(this,arguments[1]));break;case 3:s.push(r.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];s.push(r.apply(this,t))}else if(r&&r.length){if(r=r.slice(),c>3)for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];for(i=0,n=r.length;i<n;i++)switch(this.event=e,c){case 1:s.push(r[i].call(this));break;case 2:s.push(r[i].call(this,arguments[1]));break;case 3:s.push(r[i].call(this,arguments[1],arguments[2]));break;default:s.push(r[i].apply(this,t))}
}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},d.prototype.on=function(e,t){return this._on(e,t,!1)},d.prototype.prependListener=function(e,t){return this._on(e,t,!0)},d.prototype.onAny=function(e){return this._onAny(e,!1)},d.prototype.prependAny=function(e){return this._onAny(e,!0)},d.prototype.addListener=d.prototype.on,d.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},d.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),
this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},d.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var a=0;a<i.length;a++){var c=i[a];if(n=c._listeners,s(n)){for(var l=-1,d=0,p=n.length;d<p;d++)if(n[d]===t||n[d].listener&&n[d].listener===t||n[d]._origin&&n[d]._origin===t){l=d;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),
0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==r){var n=Object.keys(t);for(var i in n){var o=n[i],s=t[o];s instanceof Function||"object"!=typeof s||null===s||(Object.keys(s).length>0&&e(t[o]),0===Object.keys(s).length&&delete t[o])}}}(this.listenerTree),this},d.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,i=(t=this._all).length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this
;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),i=0;i<n.length;i++){var o=n[i];o._listeners=null}else this._events&&(this._events[e]=null);return this},d.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},d.prototype.eventNames=function(){return Object.keys(this._events)},d.prototype.listenerCount=function(e){return this.listeners(e).length},d.prototype.listenersAny=function(){return this._all?this._all:[]},(o=function(){return d}.call(t,n,t,e))===r||(e.exports=o)}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/lru-fast/lru.js":function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}
n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){
var n,i=this.get(e,!0);return i?(n=i.value,i.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var i;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(i=this.newest;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.oldest;i;)e.call(t,i.key,i.value,this),i=i.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,
value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},"./node_modules/perf-marks/dist/umd/perf-marks.js":function(t,n,i){!function(t,i){!function(t){"use strict";var n="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,i={},o=function(){return n?performance.now():Date.now?Date.now():+new Date},r=function(e){i[e]=void 0,n&&(performance.clearMeasures(e),performance.clearMarks(e))},s=function(e){n&&performance.mark(e),i[e]=o()},a=function(t,s){try{var a=i[t];if(!n)return a?{duration:o()-a,startTime:a}:{};performance.measure(t,t,s||void 0);var c=performance.getEntriesByName(t).pop();return c||{}}catch(e){return{}}finally{r(t)}},c=function(){i={},
n&&(performance.clearMeasures(),performance.clearMarks())},l=function(e){return n&&performance.getEntriesByType(e)||[]},d=function(){return l("navigation").pop()||{}};t.clear=r,t.clearAll=c,t.end=a,t.getEntriesByType=l,t.getNavigationMarker=d,t.isUserTimingAPISupported=n,t.start=s,Object.defineProperty(t,"__esModule",{value:!0})}(n)}()},"./node_modules/rxjs-async-map/out/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/rxjs/Observable.js");t.Observable=i.Observable;var o=n("./node_modules/rxjs/operators/mergeMap.js"),r=n("./node_modules/rxjs-async-map/out/notify.js");t.asyncMap=function(e,t){return o.mergeMap(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(o){return new i.Observable((function(i){t.push(r.notify(e(o),i,n))}))}}(e),t)}},"./node_modules/rxjs-async-map/out/notify.js":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.notify=function(e,t,n){var i={notifyIfReady:function(){return!1}};return e.then((function(e){i.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(i)}),(function(e){i.notifyIfReady=function(){return t.error(e),!0},n(i)})),i}},"./node_modules/rxjs/ReplaySubject.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=n("./node_modules/rxjs/Subject.js"),r=n("./node_modules/rxjs/scheduler/queue.js"),s=n("./node_modules/rxjs/Subscription.js"),a=n("./node_modules/rxjs/operators/observeOn.js"),c=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),l=n("./node_modules/rxjs/SubjectSubscription.js"),d=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=i,this._events=[],
this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return i(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new u(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=s.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),i&&e.add(e=new a.ObserveOnSubscriber(e,i));for(var o=n.length,r=0;r<o&&!e.closed;r++)e.next(n[r].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||r.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,o=i.length,r=0;r<o&&!(e-i[r].time<n);)r++;return o>t&&(r=Math.max(r,o-t)),r>0&&i.splice(0,r),i},t}(o.Subject);t.ReplaySubject=d;var u=function(){
return function(e,t){this.time=e,this.value=t}}()},"./node_modules/rxjs/observable/RangeObservable.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=function(e){function t(t,n,i){e.call(this),this.start=t,this._count=n,this.scheduler=i}return i(t,e),t.create=function(e,n,i){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,i)},t.dispatch=function(e){var t=e.start,n=e.index,i=e.count,o=e.subscriber;n>=i?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,i=this.start,o=this._count,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:n,count:o,start:i,subscriber:e});for(;;){if(n++>=o){e.complete();break}if(e.next(i++),e.closed)break}},t}(n("./node_modules/rxjs/Observable.js").Observable);t.RangeObservable=o},
"./node_modules/rxjs/observable/fromPromise.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/observable/PromiseObservable.js");t.fromPromise=i.PromiseObservable.create},"./node_modules/rxjs/observable/range.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/observable/RangeObservable.js");t.range=i.RangeObservable.create},"./node_modules/rxjs/operators/bufferCount.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=n("./node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new r(e,t))}};var r=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e
}(),s=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return i(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(o.Subscriber),a=function(e){function t(t,n,i){e.call(this,t),this.bufferSize=n,this.startBufferEvery=i,this.buffers=[],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,i=t.startBufferEvery,o=t.buffers,r=t.count;this.count++,r%i==0&&o.push([]);for(var s=o.length;s--;){var a=o[s];a.push(e),a.length===n&&(o.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(o.Subscriber)},"./node_modules/rxjs/operators/concatMap.js":function(e,t,n){"use strict"
;var i=n("./node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return i.mergeMap(e,t,1)}},"./node_modules/rxjs/operators/tap.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=n("./node_modules/rxjs/Subscriber.js");t.tap=function(e,t,n){return function(i){return i.lift(new r(e,t,n))}};var r=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))},e}(),s=function(e){function t(t,n,i,r){e.call(this,t);var s=new o.Subscriber(n,i,r);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return i(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},
t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(o.Subscriber)},"./node_modules/rxjs/scheduler/QueueAction.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return i(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},
t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n("./node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=o},"./node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(n("./node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=o},"./node_modules/rxjs/scheduler/queue.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/scheduler/QueueAction.js"),o=n("./node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new o.QueueScheduler(i.QueueAction)},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){
"use strict";if(!e.setImmediate){var i,o=1,r={},s=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?function(){i=function(e){t.nextTick((function(){d(e)}))}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&d(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){d(e.data)},i=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;i=function(t){var n=a.createElement("script");n.onreadystatechange=function(){d(t),
n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){i=function(e){setTimeout(d,0,e)}}(),c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return r[o]=s,i(o),o++},c.clearImmediate=l}function l(e){delete r[e]}function d(e){if(s)setTimeout(d,0,e);else{var t=r[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}
t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},
"./node_modules/uuid-validate/index.js":function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i=[],o=0;o<256;o++)i[o]=(o+256).toString(16).substr(1);e.exports=function(e,o){var s;if(t.isBuffer(e))s=function(e,t){var n=t||0,o=i;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;s=e}if(s=s.toLowerCase(),!n.test(s))return!1;if(void 0===o)o=r(s);else if(r(s)!==o)return!1;switch(o){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(s.charAt(19));default:throw new Error("Invalid version provided.")}};var r=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},
"./node_modules/video-snapshot/dist/es2015/index.js":function(e,t,n){"use strict";var i=n("./node_modules/tslib/tslib.es6.js"),o="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(n,i){var r=document.createElement("video");if(r.preload="metadata",r.src=t.videoUrl,r.muted=!0,0===e)r.play();else{if("number"==typeof e)r.currentTime=e;else if("string"==typeof e){var s=r.duration;r.currentTime=t.getSmartTime(e,s)}o&&r.play()}r.addEventListener("timeupdate",(function e(){r.removeEventListener("timeupdate",e),r.pause(),n(r)})),r.addEventListener("error",(function(){i(new Error("failed to load video"))}))}))},this.getDimensions=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,
height:e.videoHeight}]}}))}))};var n=URL.createObjectURL(e);this.videoUrl=n}return e.prototype.takeSnapshot=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=i.sent(),n=document.createElement("canvas"),!t.videoWidth&&!t.videoHeight)throw new Error("error retrieving video dimensions");if(n.width=t.videoWidth,n.height=t.videoHeight,!(o=n.getContext("2d")))throw new Error("error creating canvas context");return o.drawImage(t,0,0,n.width,n.height),[2,n.toDataURL()]}}))}))},e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();t.a=r}}]);try{window.__jsEvalStop("@atlaskit-internal_Browser.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_Browser.d4de6109c017f69ce6ab.8.js.map